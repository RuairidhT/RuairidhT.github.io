var Rx=Object.defineProperty;var fw=n=>{throw TypeError(n)};var Lx=(n,e,t)=>e in n?Rx(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ue=(n,e,t)=>Lx(n,typeof e!="symbol"?e+"":e,t),Ig=(n,e,t)=>e.has(n)||fw("Cannot "+t);var c=(n,e,t)=>(Ig(n,e,"read from private field"),t?t.call(n):e.get(n)),S=(n,e,t)=>e.has(n)?fw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),w=(n,e,t,r)=>(Ig(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),E=(n,e,t)=>(Ig(n,e,"access private method"),t);var bn=(n,e,t,r)=>({set _(i){w(n,e,i,t)},get _(){return c(n,e,r)}});function xE(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function Hy(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var CE={exports:{}},Jp={},TE={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sh=Symbol.for("react.element"),Mx=Symbol.for("react.portal"),Dx=Symbol.for("react.fragment"),Fx=Symbol.for("react.strict_mode"),Ix=Symbol.for("react.profiler"),Nx=Symbol.for("react.provider"),Ox=Symbol.for("react.context"),jx=Symbol.for("react.forward_ref"),zx=Symbol.for("react.suspense"),Hx=Symbol.for("react.memo"),Bx=Symbol.for("react.lazy"),pw=Symbol.iterator;function Ux(n){return n===null||typeof n!="object"?null:(n=pw&&n[pw]||n["@@iterator"],typeof n=="function"?n:null)}var kE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},PE=Object.assign,RE={};function _c(n,e,t){this.props=n,this.context=e,this.refs=RE,this.updater=t||kE}_c.prototype.isReactComponent={};_c.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};_c.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function LE(){}LE.prototype=_c.prototype;function By(n,e,t){this.props=n,this.context=e,this.refs=RE,this.updater=t||kE}var Uy=By.prototype=new LE;Uy.constructor=By;PE(Uy,_c.prototype);Uy.isPureReactComponent=!0;var gw=Array.isArray,ME=Object.prototype.hasOwnProperty,$y={current:null},DE={key:!0,ref:!0,__self:!0,__source:!0};function FE(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)ME.call(e,r)&&!DE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Sh,type:n,key:s,ref:o,props:i,_owner:$y.current}}function $x(n,e){return{$$typeof:Sh,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Vy(n){return typeof n=="object"&&n!==null&&n.$$typeof===Sh}function Vx(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var mw=/\/+/g;function Ng(n,e){return typeof n=="object"&&n!==null&&n.key!=null?Vx(""+n.key):e.toString(36)}function ff(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Sh:case Mx:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+Ng(o,0):r,gw(i)?(t="",n!=null&&(t=n.replace(mw,"$&/")+"/"),ff(i,e,t,"",function(u){return u})):i!=null&&(Vy(i)&&(i=$x(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(mw,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",gw(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+Ng(s,a);o+=ff(s,e,t,l,i)}else if(l=Ux(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+Ng(s,a++),o+=ff(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Bh(n,e,t){if(n==null)return n;var r=[],i=0;return ff(n,r,"","",function(s){return e.call(t,s,i++)}),r}function Wx(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var an={current:null},pf={transition:null},Gx={ReactCurrentDispatcher:an,ReactCurrentBatchConfig:pf,ReactCurrentOwner:$y};function IE(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:Bh,forEach:function(n,e,t){Bh(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Bh(n,function(){e++}),e},toArray:function(n){return Bh(n,function(e){return e})||[]},only:function(n){if(!Vy(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Ee.Component=_c;Ee.Fragment=Dx;Ee.Profiler=Ix;Ee.PureComponent=By;Ee.StrictMode=Fx;Ee.Suspense=zx;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gx;Ee.act=IE;Ee.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=PE({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=$y.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)ME.call(e,l)&&!DE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Sh,type:n.type,key:i,ref:s,props:r,_owner:o}};Ee.createContext=function(n){return n={$$typeof:Ox,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:Nx,_context:n},n.Consumer=n};Ee.createElement=FE;Ee.createFactory=function(n){var e=FE.bind(null,n);return e.type=n,e};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(n){return{$$typeof:jx,render:n}};Ee.isValidElement=Vy;Ee.lazy=function(n){return{$$typeof:Bx,_payload:{_status:-1,_result:n},_init:Wx}};Ee.memo=function(n,e){return{$$typeof:Hx,type:n,compare:e===void 0?null:e}};Ee.startTransition=function(n){var e=pf.transition;pf.transition={};try{n()}finally{pf.transition=e}};Ee.unstable_act=IE;Ee.useCallback=function(n,e){return an.current.useCallback(n,e)};Ee.useContext=function(n){return an.current.useContext(n)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(n){return an.current.useDeferredValue(n)};Ee.useEffect=function(n,e){return an.current.useEffect(n,e)};Ee.useId=function(){return an.current.useId()};Ee.useImperativeHandle=function(n,e,t){return an.current.useImperativeHandle(n,e,t)};Ee.useInsertionEffect=function(n,e){return an.current.useInsertionEffect(n,e)};Ee.useLayoutEffect=function(n,e){return an.current.useLayoutEffect(n,e)};Ee.useMemo=function(n,e){return an.current.useMemo(n,e)};Ee.useReducer=function(n,e,t){return an.current.useReducer(n,e,t)};Ee.useRef=function(n){return an.current.useRef(n)};Ee.useState=function(n){return an.current.useState(n)};Ee.useSyncExternalStore=function(n,e,t){return an.current.useSyncExternalStore(n,e,t)};Ee.useTransition=function(){return an.current.useTransition()};Ee.version="18.3.1";TE.exports=Ee;var T=TE.exports;const it=Hy(T),Am=xE({__proto__:null,default:it},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xx=T,Kx=Symbol.for("react.element"),qx=Symbol.for("react.fragment"),Yx=Object.prototype.hasOwnProperty,Qx=Xx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Jx={key:!0,ref:!0,__self:!0,__source:!0};function NE(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Yx.call(e,r)&&!Jx.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Kx,type:n,key:s,ref:o,props:i,_owner:Qx.current}}Jp.Fragment=qx;Jp.jsx=NE;Jp.jsxs=NE;CE.exports=Jp;var D=CE.exports,Sm={},OE={exports:{}},jn={},jE={exports:{}},zE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(M,W){var Q=M.length;M.push(W);e:for(;0<Q;){var ae=Q-1>>>1,ee=M[ae];if(0<i(ee,W))M[ae]=W,M[Q]=ee,Q=ae;else break e}}function t(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var W=M[0],Q=M.pop();if(Q!==W){M[0]=Q;e:for(var ae=0,ee=M.length,fe=ee>>>1;ae<fe;){var pe=2*(ae+1)-1,Ie=M[pe],ge=pe+1,Z=M[ge];if(0>i(Ie,Q))ge<ee&&0>i(Z,Ie)?(M[ae]=Z,M[ge]=Q,ae=ge):(M[ae]=Ie,M[pe]=Q,ae=pe);else if(ge<ee&&0>i(Z,Q))M[ae]=Z,M[ge]=Q,ae=ge;else break e}}return W}function i(M,W){var Q=M.sortIndex-W.sortIndex;return Q!==0?Q:M.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,p=!1,g=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(M){for(var W=t(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=M)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=t(u)}}function x(M){if(v=!1,A(M),!g)if(t(l)!==null)g=!0,ce(C);else{var W=t(u);W!==null&&B(x,W.startTime-M)}}function C(M,W){g=!1,v&&(v=!1,m(R),R=-1),p=!0;var Q=f;try{for(A(W),h=t(l);h!==null&&(!(h.expirationTime>W)||M&&!F());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,f=h.priorityLevel;var ee=ae(h.expirationTime<=W);W=n.unstable_now(),typeof ee=="function"?h.callback=ee:h===t(l)&&r(l),A(W)}else r(l);h=t(l)}if(h!==null)var fe=!0;else{var pe=t(u);pe!==null&&B(x,pe.startTime-W),fe=!1}return fe}finally{h=null,f=Q,p=!1}}var k=!1,b=null,R=-1,O=5,N=-1;function F(){return!(n.unstable_now()-N<O)}function K(){if(b!==null){var M=n.unstable_now();N=M;var W=!0;try{W=b(!0,M)}finally{W?H():(k=!1,b=null)}}else k=!1}var H;if(typeof y=="function")H=function(){y(K)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,te=V.port2;V.port1.onmessage=K,H=function(){te.postMessage(null)}}else H=function(){_(K,0)};function ce(M){b=M,k||(k=!0,H())}function B(M,W){R=_(function(){M(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(M){M.callback=null},n.unstable_continueExecution=function(){g||p||(g=!0,ce(C))},n.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<M?Math.floor(1e3/M):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(M){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var Q=f;f=W;try{return M()}finally{f=Q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(M,W){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var Q=f;f=M;try{return W()}finally{f=Q}},n.unstable_scheduleCallback=function(M,W,Q){var ae=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ae+Q:ae):Q=ae,M){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=Q+ee,M={id:d++,callback:W,priorityLevel:M,startTime:Q,expirationTime:ee,sortIndex:-1},Q>ae?(M.sortIndex=Q,e(u,M),t(l)===null&&M===t(u)&&(v?(m(R),R=-1):v=!0,B(x,Q-ae))):(M.sortIndex=ee,e(l,M),g||p||(g=!0,ce(C))),M},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(M){var W=f;return function(){var Q=f;f=W;try{return M.apply(this,arguments)}finally{f=Q}}}})(zE);jE.exports=zE;var Zx=jE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eC=T,On=Zx;function j(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var HE=new Set,_u={};function La(n,e){pc(n,e),pc(n+"Capture",e)}function pc(n,e){for(_u[n]=e,n=0;n<e.length;n++)HE.add(e[n])}var Gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_m=Object.prototype.hasOwnProperty,tC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vw={},yw={};function nC(n){return _m.call(yw,n)?!0:_m.call(vw,n)?!1:tC.test(n)?yw[n]=!0:(vw[n]=!0,!1)}function rC(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function iC(n,e,t,r){if(e===null||typeof e>"u"||rC(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ln(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Ht[n]=new ln(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Ht[e]=new ln(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Ht[n]=new ln(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Ht[n]=new ln(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Ht[n]=new ln(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Ht[n]=new ln(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Ht[n]=new ln(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Ht[n]=new ln(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Ht[n]=new ln(n,5,!1,n.toLowerCase(),null,!1,!1)});var Wy=/[\-:]([a-z])/g;function Gy(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Wy,Gy);Ht[e]=new ln(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Wy,Gy);Ht[e]=new ln(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Wy,Gy);Ht[e]=new ln(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Ht[n]=new ln(n,1,!1,n.toLowerCase(),null,!1,!1)});Ht.xlinkHref=new ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Ht[n]=new ln(n,1,!1,n.toLowerCase(),null,!0,!0)});function Xy(n,e,t,r){var i=Ht.hasOwnProperty(e)?Ht[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(iC(e,t,i,r)&&(t=null),r||i===null?nC(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Ji=eC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Uh=Symbol.for("react.element"),Qa=Symbol.for("react.portal"),Ja=Symbol.for("react.fragment"),Ky=Symbol.for("react.strict_mode"),bm=Symbol.for("react.profiler"),BE=Symbol.for("react.provider"),UE=Symbol.for("react.context"),qy=Symbol.for("react.forward_ref"),xm=Symbol.for("react.suspense"),Cm=Symbol.for("react.suspense_list"),Yy=Symbol.for("react.memo"),as=Symbol.for("react.lazy"),$E=Symbol.for("react.offscreen"),ww=Symbol.iterator;function Rc(n){return n===null||typeof n!="object"?null:(n=ww&&n[ww]||n["@@iterator"],typeof n=="function"?n:null)}var Je=Object.assign,Og;function Vc(n){if(Og===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Og=e&&e[1]||""}return`
`+Og+n}var jg=!1;function zg(n,e){if(!n||jg)return"";jg=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){r=u}n.call(e.prototype)}else{try{throw Error()}catch(u){r=u}n()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{jg=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Vc(n):""}function sC(n){switch(n.tag){case 5:return Vc(n.type);case 16:return Vc("Lazy");case 13:return Vc("Suspense");case 19:return Vc("SuspenseList");case 0:case 2:case 15:return n=zg(n.type,!1),n;case 11:return n=zg(n.type.render,!1),n;case 1:return n=zg(n.type,!0),n;default:return""}}function Tm(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Ja:return"Fragment";case Qa:return"Portal";case bm:return"Profiler";case Ky:return"StrictMode";case xm:return"Suspense";case Cm:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case UE:return(n.displayName||"Context")+".Consumer";case BE:return(n._context.displayName||"Context")+".Provider";case qy:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Yy:return e=n.displayName||null,e!==null?e:Tm(n.type)||"Memo";case as:e=n._payload,n=n._init;try{return Tm(n(e))}catch{}}return null}function oC(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tm(e);case 8:return e===Ky?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ws(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function VE(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function aC(n){var e=VE(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function $h(n){n._valueTracker||(n._valueTracker=aC(n))}function WE(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=VE(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Qf(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function km(n,e){var t=e.checked;return Je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function Ew(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Ws(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function GE(n,e){e=e.checked,e!=null&&Xy(n,"checked",e,!1)}function Pm(n,e){GE(n,e);var t=Ws(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Rm(n,e.type,t):e.hasOwnProperty("defaultValue")&&Rm(n,e.type,Ws(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function Aw(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Rm(n,e,t){(e!=="number"||Qf(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Wc=Array.isArray;function dl(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Ws(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function Lm(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return Je({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Sw(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(j(92));if(Wc(t)){if(1<t.length)throw Error(j(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Ws(t)}}function XE(n,e){var t=Ws(e.value),r=Ws(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function _w(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function KE(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mm(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?KE(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Vh,qE=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Vh=Vh||document.createElement("div"),Vh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Vh.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function bu(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var cu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lC=["Webkit","ms","Moz","O"];Object.keys(cu).forEach(function(n){lC.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),cu[e]=cu[n]})});function YE(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||cu.hasOwnProperty(n)&&cu[n]?(""+e).trim():e+"px"}function QE(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=YE(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var cC=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dm(n,e){if(e){if(cC[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function Fm(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Im=null;function Qy(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Nm=null,hl=null,fl=null;function bw(n){if(n=xh(n)){if(typeof Nm!="function")throw Error(j(280));var e=n.stateNode;e&&(e=rg(e),Nm(n.stateNode,n.type,e))}}function JE(n){hl?fl?fl.push(n):fl=[n]:hl=n}function ZE(){if(hl){var n=hl,e=fl;if(fl=hl=null,bw(n),e)for(n=0;n<e.length;n++)bw(e[n])}}function eA(n,e){return n(e)}function tA(){}var Hg=!1;function nA(n,e,t){if(Hg)return n(e,t);Hg=!0;try{return eA(n,e,t)}finally{Hg=!1,(hl!==null||fl!==null)&&(tA(),ZE())}}function xu(n,e){var t=n.stateNode;if(t===null)return null;var r=rg(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(j(231,e,typeof t));return t}var Om=!1;if(Gi)try{var Lc={};Object.defineProperty(Lc,"passive",{get:function(){Om=!0}}),window.addEventListener("test",Lc,Lc),window.removeEventListener("test",Lc,Lc)}catch{Om=!1}function uC(n,e,t,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(d){this.onError(d)}}var uu=!1,Jf=null,Zf=!1,jm=null,dC={onError:function(n){uu=!0,Jf=n}};function hC(n,e,t,r,i,s,o,a,l){uu=!1,Jf=null,uC.apply(dC,arguments)}function fC(n,e,t,r,i,s,o,a,l){if(hC.apply(this,arguments),uu){if(uu){var u=Jf;uu=!1,Jf=null}else throw Error(j(198));Zf||(Zf=!0,jm=u)}}function Ma(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function rA(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function xw(n){if(Ma(n)!==n)throw Error(j(188))}function pC(n){var e=n.alternate;if(!e){if(e=Ma(n),e===null)throw Error(j(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return xw(i),n;if(s===r)return xw(i),e;s=s.sibling}throw Error(j(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(j(189))}}if(t.alternate!==r)throw Error(j(190))}if(t.tag!==3)throw Error(j(188));return t.stateNode.current===t?n:e}function iA(n){return n=pC(n),n!==null?sA(n):null}function sA(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=sA(n);if(e!==null)return e;n=n.sibling}return null}var oA=On.unstable_scheduleCallback,Cw=On.unstable_cancelCallback,gC=On.unstable_shouldYield,mC=On.unstable_requestPaint,rt=On.unstable_now,vC=On.unstable_getCurrentPriorityLevel,Jy=On.unstable_ImmediatePriority,aA=On.unstable_UserBlockingPriority,ep=On.unstable_NormalPriority,yC=On.unstable_LowPriority,lA=On.unstable_IdlePriority,Zp=null,Qr=null;function wC(n){if(Qr&&typeof Qr.onCommitFiberRoot=="function")try{Qr.onCommitFiberRoot(Zp,n,void 0,(n.current.flags&128)===128)}catch{}}var _r=Math.clz32?Math.clz32:SC,EC=Math.log,AC=Math.LN2;function SC(n){return n>>>=0,n===0?32:31-(EC(n)/AC|0)|0}var Wh=64,Gh=4194304;function Gc(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function tp(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=Gc(a):(s&=o,s!==0&&(r=Gc(s)))}else o=t&~i,o!==0?r=Gc(o):s!==0&&(r=Gc(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-_r(e),i=1<<t,r|=n[t],e&=~i;return r}function _C(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bC(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-_r(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=_C(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function zm(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function cA(){var n=Wh;return Wh<<=1,!(Wh&4194240)&&(Wh=64),n}function Bg(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function _h(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-_r(e),n[e]=t}function xC(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-_r(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function Zy(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-_r(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var Le=0;function uA(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var dA,e0,hA,fA,pA,Hm=!1,Xh=[],Is=null,Ns=null,Os=null,Cu=new Map,Tu=new Map,cs=[],CC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tw(n,e){switch(n){case"focusin":case"focusout":Is=null;break;case"dragenter":case"dragleave":Ns=null;break;case"mouseover":case"mouseout":Os=null;break;case"pointerover":case"pointerout":Cu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tu.delete(e.pointerId)}}function Mc(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=xh(e),e!==null&&e0(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function TC(n,e,t,r,i){switch(e){case"focusin":return Is=Mc(Is,n,e,t,r,i),!0;case"dragenter":return Ns=Mc(Ns,n,e,t,r,i),!0;case"mouseover":return Os=Mc(Os,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return Cu.set(s,Mc(Cu.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Tu.set(s,Mc(Tu.get(s)||null,n,e,t,r,i)),!0}return!1}function gA(n){var e=mo(n.target);if(e!==null){var t=Ma(e);if(t!==null){if(e=t.tag,e===13){if(e=rA(t),e!==null){n.blockedOn=e,pA(n.priority,function(){hA(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function gf(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Bm(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);Im=r,t.target.dispatchEvent(r),Im=null}else return e=xh(t),e!==null&&e0(e),n.blockedOn=t,!1;e.shift()}return!0}function kw(n,e,t){gf(n)&&t.delete(e)}function kC(){Hm=!1,Is!==null&&gf(Is)&&(Is=null),Ns!==null&&gf(Ns)&&(Ns=null),Os!==null&&gf(Os)&&(Os=null),Cu.forEach(kw),Tu.forEach(kw)}function Dc(n,e){n.blockedOn===e&&(n.blockedOn=null,Hm||(Hm=!0,On.unstable_scheduleCallback(On.unstable_NormalPriority,kC)))}function ku(n){function e(i){return Dc(i,n)}if(0<Xh.length){Dc(Xh[0],n);for(var t=1;t<Xh.length;t++){var r=Xh[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Is!==null&&Dc(Is,n),Ns!==null&&Dc(Ns,n),Os!==null&&Dc(Os,n),Cu.forEach(e),Tu.forEach(e),t=0;t<cs.length;t++)r=cs[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<cs.length&&(t=cs[0],t.blockedOn===null);)gA(t),t.blockedOn===null&&cs.shift()}var pl=Ji.ReactCurrentBatchConfig,np=!0;function PC(n,e,t,r){var i=Le,s=pl.transition;pl.transition=null;try{Le=1,t0(n,e,t,r)}finally{Le=i,pl.transition=s}}function RC(n,e,t,r){var i=Le,s=pl.transition;pl.transition=null;try{Le=4,t0(n,e,t,r)}finally{Le=i,pl.transition=s}}function t0(n,e,t,r){if(np){var i=Bm(n,e,t,r);if(i===null)Qg(n,e,r,rp,t),Tw(n,r);else if(TC(i,n,e,t,r))r.stopPropagation();else if(Tw(n,r),e&4&&-1<CC.indexOf(n)){for(;i!==null;){var s=xh(i);if(s!==null&&dA(s),s=Bm(n,e,t,r),s===null&&Qg(n,e,r,rp,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else Qg(n,e,r,null,t)}}var rp=null;function Bm(n,e,t,r){if(rp=null,n=Qy(r),n=mo(n),n!==null)if(e=Ma(n),e===null)n=null;else if(t=e.tag,t===13){if(n=rA(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return rp=n,null}function mA(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vC()){case Jy:return 1;case aA:return 4;case ep:case yC:return 16;case lA:return 536870912;default:return 16}default:return 16}}var Ms=null,n0=null,mf=null;function vA(){if(mf)return mf;var n,e=n0,t=e.length,r,i="value"in Ms?Ms.value:Ms.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return mf=i.slice(n,1<r?1-r:void 0)}function vf(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Kh(){return!0}function Pw(){return!1}function zn(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Kh:Pw,this.isPropagationStopped=Pw,this}return Je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Kh)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Kh)},persist:function(){},isPersistent:Kh}),e}var bc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},r0=zn(bc),bh=Je({},bc,{view:0,detail:0}),LC=zn(bh),Ug,$g,Fc,eg=Je({},bh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:i0,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Fc&&(Fc&&n.type==="mousemove"?(Ug=n.screenX-Fc.screenX,$g=n.screenY-Fc.screenY):$g=Ug=0,Fc=n),Ug)},movementY:function(n){return"movementY"in n?n.movementY:$g}}),Rw=zn(eg),MC=Je({},eg,{dataTransfer:0}),DC=zn(MC),FC=Je({},bh,{relatedTarget:0}),Vg=zn(FC),IC=Je({},bc,{animationName:0,elapsedTime:0,pseudoElement:0}),NC=zn(IC),OC=Je({},bc,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),jC=zn(OC),zC=Je({},bc,{data:0}),Lw=zn(zC),HC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $C(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=UC[n])?!!e[n]:!1}function i0(){return $C}var VC=Je({},bh,{key:function(n){if(n.key){var e=HC[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=vf(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?BC[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:i0,charCode:function(n){return n.type==="keypress"?vf(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?vf(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),WC=zn(VC),GC=Je({},eg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mw=zn(GC),XC=Je({},bh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:i0}),KC=zn(XC),qC=Je({},bc,{propertyName:0,elapsedTime:0,pseudoElement:0}),YC=zn(qC),QC=Je({},eg,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),JC=zn(QC),ZC=[9,13,27,32],s0=Gi&&"CompositionEvent"in window,du=null;Gi&&"documentMode"in document&&(du=document.documentMode);var eT=Gi&&"TextEvent"in window&&!du,yA=Gi&&(!s0||du&&8<du&&11>=du),Dw=" ",Fw=!1;function wA(n,e){switch(n){case"keyup":return ZC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function EA(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Za=!1;function tT(n,e){switch(n){case"compositionend":return EA(e);case"keypress":return e.which!==32?null:(Fw=!0,Dw);case"textInput":return n=e.data,n===Dw&&Fw?null:n;default:return null}}function nT(n,e){if(Za)return n==="compositionend"||!s0&&wA(n,e)?(n=vA(),mf=n0=Ms=null,Za=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return yA&&e.locale!=="ko"?null:e.data;default:return null}}var rT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Iw(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!rT[n.type]:e==="textarea"}function AA(n,e,t,r){JE(r),e=ip(e,"onChange"),0<e.length&&(t=new r0("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var hu=null,Pu=null;function iT(n){MA(n,0)}function tg(n){var e=nl(n);if(WE(e))return n}function sT(n,e){if(n==="change")return e}var SA=!1;if(Gi){var Wg;if(Gi){var Gg="oninput"in document;if(!Gg){var Nw=document.createElement("div");Nw.setAttribute("oninput","return;"),Gg=typeof Nw.oninput=="function"}Wg=Gg}else Wg=!1;SA=Wg&&(!document.documentMode||9<document.documentMode)}function Ow(){hu&&(hu.detachEvent("onpropertychange",_A),Pu=hu=null)}function _A(n){if(n.propertyName==="value"&&tg(Pu)){var e=[];AA(e,Pu,n,Qy(n)),nA(iT,e)}}function oT(n,e,t){n==="focusin"?(Ow(),hu=e,Pu=t,hu.attachEvent("onpropertychange",_A)):n==="focusout"&&Ow()}function aT(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return tg(Pu)}function lT(n,e){if(n==="click")return tg(e)}function cT(n,e){if(n==="input"||n==="change")return tg(e)}function uT(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var xr=typeof Object.is=="function"?Object.is:uT;function Ru(n,e){if(xr(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!_m.call(e,i)||!xr(n[i],e[i]))return!1}return!0}function jw(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function zw(n,e){var t=jw(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=jw(t)}}function bA(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?bA(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function xA(){for(var n=window,e=Qf();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Qf(n.document)}return e}function o0(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function dT(n){var e=xA(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&bA(t.ownerDocument.documentElement,t)){if(r!==null&&o0(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=zw(t,s);var o=zw(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var hT=Gi&&"documentMode"in document&&11>=document.documentMode,el=null,Um=null,fu=null,$m=!1;function Hw(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;$m||el==null||el!==Qf(r)||(r=el,"selectionStart"in r&&o0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fu&&Ru(fu,r)||(fu=r,r=ip(Um,"onSelect"),0<r.length&&(e=new r0("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=el)))}function qh(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var tl={animationend:qh("Animation","AnimationEnd"),animationiteration:qh("Animation","AnimationIteration"),animationstart:qh("Animation","AnimationStart"),transitionend:qh("Transition","TransitionEnd")},Xg={},CA={};Gi&&(CA=document.createElement("div").style,"AnimationEvent"in window||(delete tl.animationend.animation,delete tl.animationiteration.animation,delete tl.animationstart.animation),"TransitionEvent"in window||delete tl.transitionend.transition);function ng(n){if(Xg[n])return Xg[n];if(!tl[n])return n;var e=tl[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in CA)return Xg[n]=e[t];return n}var TA=ng("animationend"),kA=ng("animationiteration"),PA=ng("animationstart"),RA=ng("transitionend"),LA=new Map,Bw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ys(n,e){LA.set(n,e),La(e,[n])}for(var Kg=0;Kg<Bw.length;Kg++){var qg=Bw[Kg],fT=qg.toLowerCase(),pT=qg[0].toUpperCase()+qg.slice(1);Ys(fT,"on"+pT)}Ys(TA,"onAnimationEnd");Ys(kA,"onAnimationIteration");Ys(PA,"onAnimationStart");Ys("dblclick","onDoubleClick");Ys("focusin","onFocus");Ys("focusout","onBlur");Ys(RA,"onTransitionEnd");pc("onMouseEnter",["mouseout","mouseover"]);pc("onMouseLeave",["mouseout","mouseover"]);pc("onPointerEnter",["pointerout","pointerover"]);pc("onPointerLeave",["pointerout","pointerover"]);La("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));La("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));La("onBeforeInput",["compositionend","keypress","textInput","paste"]);La("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));La("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));La("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xc));function Uw(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,fC(r,e,void 0,n),n.currentTarget=null}function MA(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Uw(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Uw(i,a,u),s=l}}}if(Zf)throw n=jm,Zf=!1,jm=null,n}function Be(n,e){var t=e[Km];t===void 0&&(t=e[Km]=new Set);var r=n+"__bubble";t.has(r)||(DA(e,n,2,!1),t.add(r))}function Yg(n,e,t){var r=0;e&&(r|=4),DA(t,n,r,e)}var Yh="_reactListening"+Math.random().toString(36).slice(2);function Lu(n){if(!n[Yh]){n[Yh]=!0,HE.forEach(function(t){t!=="selectionchange"&&(gT.has(t)||Yg(t,!1,n),Yg(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Yh]||(e[Yh]=!0,Yg("selectionchange",!1,e))}}function DA(n,e,t,r){switch(mA(e)){case 1:var i=PC;break;case 4:i=RC;break;default:i=t0}t=i.bind(null,e,t,n),i=void 0,!Om||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function Qg(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=mo(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}nA(function(){var u=s,d=Qy(t),h=[];e:{var f=LA.get(n);if(f!==void 0){var p=r0,g=n;switch(n){case"keypress":if(vf(t)===0)break e;case"keydown":case"keyup":p=WC;break;case"focusin":g="focus",p=Vg;break;case"focusout":g="blur",p=Vg;break;case"beforeblur":case"afterblur":p=Vg;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Rw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=DC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=KC;break;case TA:case kA:case PA:p=NC;break;case RA:p=YC;break;case"scroll":p=LC;break;case"wheel":p=JC;break;case"copy":case"cut":case"paste":p=jC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Mw}var v=(e&4)!==0,_=!v&&n==="scroll",m=v?f!==null?f+"Capture":null:f;v=[];for(var y=u,A;y!==null;){A=y;var x=A.stateNode;if(A.tag===5&&x!==null&&(A=x,m!==null&&(x=xu(y,m),x!=null&&v.push(Mu(y,x,A)))),_)break;y=y.return}0<v.length&&(f=new p(f,g,null,t,d),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",f&&t!==Im&&(g=t.relatedTarget||t.fromElement)&&(mo(g)||g[Xi]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=t.relatedTarget||t.toElement,p=u,g=g?mo(g):null,g!==null&&(_=Ma(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(v=Rw,x="onMouseLeave",m="onMouseEnter",y="mouse",(n==="pointerout"||n==="pointerover")&&(v=Mw,x="onPointerLeave",m="onPointerEnter",y="pointer"),_=p==null?f:nl(p),A=g==null?f:nl(g),f=new v(x,y+"leave",p,t,d),f.target=_,f.relatedTarget=A,x=null,mo(d)===u&&(v=new v(m,y+"enter",g,t,d),v.target=A,v.relatedTarget=_,x=v),_=x,p&&g)t:{for(v=p,m=g,y=0,A=v;A;A=Ua(A))y++;for(A=0,x=m;x;x=Ua(x))A++;for(;0<y-A;)v=Ua(v),y--;for(;0<A-y;)m=Ua(m),A--;for(;y--;){if(v===m||m!==null&&v===m.alternate)break t;v=Ua(v),m=Ua(m)}v=null}else v=null;p!==null&&$w(h,f,p,v,!1),g!==null&&_!==null&&$w(h,_,g,v,!0)}}e:{if(f=u?nl(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var C=sT;else if(Iw(f))if(SA)C=cT;else{C=aT;var k=oT}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=lT);if(C&&(C=C(n,u))){AA(h,C,t,d);break e}k&&k(n,f,u),n==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&Rm(f,"number",f.value)}switch(k=u?nl(u):window,n){case"focusin":(Iw(k)||k.contentEditable==="true")&&(el=k,Um=u,fu=null);break;case"focusout":fu=Um=el=null;break;case"mousedown":$m=!0;break;case"contextmenu":case"mouseup":case"dragend":$m=!1,Hw(h,t,d);break;case"selectionchange":if(hT)break;case"keydown":case"keyup":Hw(h,t,d)}var b;if(s0)e:{switch(n){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Za?wA(n,t)&&(R="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(R="onCompositionStart");R&&(yA&&t.locale!=="ko"&&(Za||R!=="onCompositionStart"?R==="onCompositionEnd"&&Za&&(b=vA()):(Ms=d,n0="value"in Ms?Ms.value:Ms.textContent,Za=!0)),k=ip(u,R),0<k.length&&(R=new Lw(R,n,null,t,d),h.push({event:R,listeners:k}),b?R.data=b:(b=EA(t),b!==null&&(R.data=b)))),(b=eT?tT(n,t):nT(n,t))&&(u=ip(u,"onBeforeInput"),0<u.length&&(d=new Lw("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:u}),d.data=b))}MA(h,e)})}function Mu(n,e,t){return{instance:n,listener:e,currentTarget:t}}function ip(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=xu(n,t),s!=null&&r.unshift(Mu(n,s,i)),s=xu(n,e),s!=null&&r.push(Mu(n,s,i))),n=n.return}return r}function Ua(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function $w(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=xu(t,s),l!=null&&o.unshift(Mu(t,l,a))):i||(l=xu(t,s),l!=null&&o.push(Mu(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var mT=/\r\n?/g,vT=/\u0000|\uFFFD/g;function Vw(n){return(typeof n=="string"?n:""+n).replace(mT,`
`).replace(vT,"")}function Qh(n,e,t){if(e=Vw(e),Vw(n)!==e&&t)throw Error(j(425))}function sp(){}var Vm=null,Wm=null;function Gm(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Xm=typeof setTimeout=="function"?setTimeout:void 0,yT=typeof clearTimeout=="function"?clearTimeout:void 0,Ww=typeof Promise=="function"?Promise:void 0,wT=typeof queueMicrotask=="function"?queueMicrotask:typeof Ww<"u"?function(n){return Ww.resolve(null).then(n).catch(ET)}:Xm;function ET(n){setTimeout(function(){throw n})}function Jg(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),ku(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);ku(e)}function js(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function Gw(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var xc=Math.random().toString(36).slice(2),Yr="__reactFiber$"+xc,Du="__reactProps$"+xc,Xi="__reactContainer$"+xc,Km="__reactEvents$"+xc,AT="__reactListeners$"+xc,ST="__reactHandles$"+xc;function mo(n){var e=n[Yr];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Xi]||t[Yr]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=Gw(n);n!==null;){if(t=n[Yr])return t;n=Gw(n)}return e}n=t,t=n.parentNode}return null}function xh(n){return n=n[Yr]||n[Xi],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function nl(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(j(33))}function rg(n){return n[Du]||null}var qm=[],rl=-1;function Qs(n){return{current:n}}function Ue(n){0>rl||(n.current=qm[rl],qm[rl]=null,rl--)}function He(n,e){rl++,qm[rl]=n.current,n.current=e}var Gs={},qt=Qs(Gs),yn=Qs(!1),wa=Gs;function gc(n,e){var t=n.type.contextTypes;if(!t)return Gs;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function wn(n){return n=n.childContextTypes,n!=null}function op(){Ue(yn),Ue(qt)}function Xw(n,e,t){if(qt.current!==Gs)throw Error(j(168));He(qt,e),He(yn,t)}function FA(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(j(108,oC(n)||"Unknown",i));return Je({},t,r)}function ap(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Gs,wa=qt.current,He(qt,n),He(yn,yn.current),!0}function Kw(n,e,t){var r=n.stateNode;if(!r)throw Error(j(169));t?(n=FA(n,e,wa),r.__reactInternalMemoizedMergedChildContext=n,Ue(yn),Ue(qt),He(qt,n)):Ue(yn),He(yn,t)}var ui=null,ig=!1,Zg=!1;function IA(n){ui===null?ui=[n]:ui.push(n)}function _T(n){ig=!0,IA(n)}function Js(){if(!Zg&&ui!==null){Zg=!0;var n=0,e=Le;try{var t=ui;for(Le=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}ui=null,ig=!1}catch(i){throw ui!==null&&(ui=ui.slice(n+1)),oA(Jy,Js),i}finally{Le=e,Zg=!1}}return null}var il=[],sl=0,lp=null,cp=0,qn=[],Yn=0,Ea=null,Oi=1,ji="";function lo(n,e){il[sl++]=cp,il[sl++]=lp,lp=n,cp=e}function NA(n,e,t){qn[Yn++]=Oi,qn[Yn++]=ji,qn[Yn++]=Ea,Ea=n;var r=Oi;n=ji;var i=32-_r(r)-1;r&=~(1<<i),t+=1;var s=32-_r(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Oi=1<<32-_r(e)+i|t<<i|r,ji=s+n}else Oi=1<<s|t<<i|r,ji=n}function a0(n){n.return!==null&&(lo(n,1),NA(n,1,0))}function l0(n){for(;n===lp;)lp=il[--sl],il[sl]=null,cp=il[--sl],il[sl]=null;for(;n===Ea;)Ea=qn[--Yn],qn[Yn]=null,ji=qn[--Yn],qn[Yn]=null,Oi=qn[--Yn],qn[Yn]=null}var Nn=null,In=null,Ge=!1,Ar=null;function OA(n,e){var t=er(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function qw(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Nn=n,In=js(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Nn=n,In=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Ea!==null?{id:Oi,overflow:ji}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=er(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Nn=n,In=null,!0):!1;default:return!1}}function Ym(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Qm(n){if(Ge){var e=In;if(e){var t=e;if(!qw(n,e)){if(Ym(n))throw Error(j(418));e=js(t.nextSibling);var r=Nn;e&&qw(n,e)?OA(r,t):(n.flags=n.flags&-4097|2,Ge=!1,Nn=n)}}else{if(Ym(n))throw Error(j(418));n.flags=n.flags&-4097|2,Ge=!1,Nn=n}}}function Yw(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Nn=n}function Jh(n){if(n!==Nn)return!1;if(!Ge)return Yw(n),Ge=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!Gm(n.type,n.memoizedProps)),e&&(e=In)){if(Ym(n))throw jA(),Error(j(418));for(;e;)OA(n,e),e=js(e.nextSibling)}if(Yw(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(j(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){In=js(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}In=null}}else In=Nn?js(n.stateNode.nextSibling):null;return!0}function jA(){for(var n=In;n;)n=js(n.nextSibling)}function mc(){In=Nn=null,Ge=!1}function c0(n){Ar===null?Ar=[n]:Ar.push(n)}var bT=Ji.ReactCurrentBatchConfig;function Ic(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(j(309));var r=t.stateNode}if(!r)throw Error(j(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(j(284));if(!t._owner)throw Error(j(290,n))}return n}function Zh(n,e){throw n=Object.prototype.toString.call(e),Error(j(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function Qw(n){var e=n._init;return e(n._payload)}function zA(n){function e(m,y){if(n){var A=m.deletions;A===null?(m.deletions=[y],m.flags|=16):A.push(y)}}function t(m,y){if(!n)return null;for(;y!==null;)e(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function i(m,y){return m=Us(m,y),m.index=0,m.sibling=null,m}function s(m,y,A){return m.index=A,n?(A=m.alternate,A!==null?(A=A.index,A<y?(m.flags|=2,y):A):(m.flags|=2,y)):(m.flags|=1048576,y)}function o(m){return n&&m.alternate===null&&(m.flags|=2),m}function a(m,y,A,x){return y===null||y.tag!==6?(y=om(A,m.mode,x),y.return=m,y):(y=i(y,A),y.return=m,y)}function l(m,y,A,x){var C=A.type;return C===Ja?d(m,y,A.props.children,x,A.key):y!==null&&(y.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===as&&Qw(C)===y.type)?(x=i(y,A.props),x.ref=Ic(m,y,A),x.return=m,x):(x=bf(A.type,A.key,A.props,null,m.mode,x),x.ref=Ic(m,y,A),x.return=m,x)}function u(m,y,A,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==A.containerInfo||y.stateNode.implementation!==A.implementation?(y=am(A,m.mode,x),y.return=m,y):(y=i(y,A.children||[]),y.return=m,y)}function d(m,y,A,x,C){return y===null||y.tag!==7?(y=ya(A,m.mode,x,C),y.return=m,y):(y=i(y,A),y.return=m,y)}function h(m,y,A){if(typeof y=="string"&&y!==""||typeof y=="number")return y=om(""+y,m.mode,A),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Uh:return A=bf(y.type,y.key,y.props,null,m.mode,A),A.ref=Ic(m,null,y),A.return=m,A;case Qa:return y=am(y,m.mode,A),y.return=m,y;case as:var x=y._init;return h(m,x(y._payload),A)}if(Wc(y)||Rc(y))return y=ya(y,m.mode,A,null),y.return=m,y;Zh(m,y)}return null}function f(m,y,A,x){var C=y!==null?y.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return C!==null?null:a(m,y,""+A,x);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Uh:return A.key===C?l(m,y,A,x):null;case Qa:return A.key===C?u(m,y,A,x):null;case as:return C=A._init,f(m,y,C(A._payload),x)}if(Wc(A)||Rc(A))return C!==null?null:d(m,y,A,x,null);Zh(m,A)}return null}function p(m,y,A,x,C){if(typeof x=="string"&&x!==""||typeof x=="number")return m=m.get(A)||null,a(y,m,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Uh:return m=m.get(x.key===null?A:x.key)||null,l(y,m,x,C);case Qa:return m=m.get(x.key===null?A:x.key)||null,u(y,m,x,C);case as:var k=x._init;return p(m,y,A,k(x._payload),C)}if(Wc(x)||Rc(x))return m=m.get(A)||null,d(y,m,x,C,null);Zh(y,x)}return null}function g(m,y,A,x){for(var C=null,k=null,b=y,R=y=0,O=null;b!==null&&R<A.length;R++){b.index>R?(O=b,b=null):O=b.sibling;var N=f(m,b,A[R],x);if(N===null){b===null&&(b=O);break}n&&b&&N.alternate===null&&e(m,b),y=s(N,y,R),k===null?C=N:k.sibling=N,k=N,b=O}if(R===A.length)return t(m,b),Ge&&lo(m,R),C;if(b===null){for(;R<A.length;R++)b=h(m,A[R],x),b!==null&&(y=s(b,y,R),k===null?C=b:k.sibling=b,k=b);return Ge&&lo(m,R),C}for(b=r(m,b);R<A.length;R++)O=p(b,m,R,A[R],x),O!==null&&(n&&O.alternate!==null&&b.delete(O.key===null?R:O.key),y=s(O,y,R),k===null?C=O:k.sibling=O,k=O);return n&&b.forEach(function(F){return e(m,F)}),Ge&&lo(m,R),C}function v(m,y,A,x){var C=Rc(A);if(typeof C!="function")throw Error(j(150));if(A=C.call(A),A==null)throw Error(j(151));for(var k=C=null,b=y,R=y=0,O=null,N=A.next();b!==null&&!N.done;R++,N=A.next()){b.index>R?(O=b,b=null):O=b.sibling;var F=f(m,b,N.value,x);if(F===null){b===null&&(b=O);break}n&&b&&F.alternate===null&&e(m,b),y=s(F,y,R),k===null?C=F:k.sibling=F,k=F,b=O}if(N.done)return t(m,b),Ge&&lo(m,R),C;if(b===null){for(;!N.done;R++,N=A.next())N=h(m,N.value,x),N!==null&&(y=s(N,y,R),k===null?C=N:k.sibling=N,k=N);return Ge&&lo(m,R),C}for(b=r(m,b);!N.done;R++,N=A.next())N=p(b,m,R,N.value,x),N!==null&&(n&&N.alternate!==null&&b.delete(N.key===null?R:N.key),y=s(N,y,R),k===null?C=N:k.sibling=N,k=N);return n&&b.forEach(function(K){return e(m,K)}),Ge&&lo(m,R),C}function _(m,y,A,x){if(typeof A=="object"&&A!==null&&A.type===Ja&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Uh:e:{for(var C=A.key,k=y;k!==null;){if(k.key===C){if(C=A.type,C===Ja){if(k.tag===7){t(m,k.sibling),y=i(k,A.props.children),y.return=m,m=y;break e}}else if(k.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===as&&Qw(C)===k.type){t(m,k.sibling),y=i(k,A.props),y.ref=Ic(m,k,A),y.return=m,m=y;break e}t(m,k);break}else e(m,k);k=k.sibling}A.type===Ja?(y=ya(A.props.children,m.mode,x,A.key),y.return=m,m=y):(x=bf(A.type,A.key,A.props,null,m.mode,x),x.ref=Ic(m,y,A),x.return=m,m=x)}return o(m);case Qa:e:{for(k=A.key;y!==null;){if(y.key===k)if(y.tag===4&&y.stateNode.containerInfo===A.containerInfo&&y.stateNode.implementation===A.implementation){t(m,y.sibling),y=i(y,A.children||[]),y.return=m,m=y;break e}else{t(m,y);break}else e(m,y);y=y.sibling}y=am(A,m.mode,x),y.return=m,m=y}return o(m);case as:return k=A._init,_(m,y,k(A._payload),x)}if(Wc(A))return g(m,y,A,x);if(Rc(A))return v(m,y,A,x);Zh(m,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,y!==null&&y.tag===6?(t(m,y.sibling),y=i(y,A),y.return=m,m=y):(t(m,y),y=om(A,m.mode,x),y.return=m,m=y),o(m)):t(m,y)}return _}var vc=zA(!0),HA=zA(!1),up=Qs(null),dp=null,ol=null,u0=null;function d0(){u0=ol=dp=null}function h0(n){var e=up.current;Ue(up),n._currentValue=e}function Jm(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function gl(n,e){dp=n,u0=ol=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(gn=!0),n.firstContext=null)}function nr(n){var e=n._currentValue;if(u0!==n)if(n={context:n,memoizedValue:e,next:null},ol===null){if(dp===null)throw Error(j(308));ol=n,dp.dependencies={lanes:0,firstContext:n}}else ol=ol.next=n;return e}var vo=null;function f0(n){vo===null?vo=[n]:vo.push(n)}function BA(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,f0(e)):(t.next=i.next,i.next=t),e.interleaved=t,Ki(n,r)}function Ki(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var ls=!1;function p0(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function UA(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Hi(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function zs(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ki(n,t)}return i=r.interleaved,i===null?(e.next=e,f0(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ki(n,t)}function yf(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,Zy(n,t)}}function Jw(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function hp(n,e,t,r){var i=n.updateQueue;ls=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=u=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=n,v=a;switch(f=e,p=t,v.tag){case 1:if(g=v.payload,typeof g=="function"){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break e;h=Je({},h,f);break e;case 2:ls=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,l=h):d=d.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Sa|=o,n.lanes=o,n.memoizedState=h}}function Zw(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(j(191,i));i.call(r)}}}var Ch={},Jr=Qs(Ch),Fu=Qs(Ch),Iu=Qs(Ch);function yo(n){if(n===Ch)throw Error(j(174));return n}function g0(n,e){switch(He(Iu,e),He(Fu,n),He(Jr,Ch),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Mm(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Mm(e,n)}Ue(Jr),He(Jr,e)}function yc(){Ue(Jr),Ue(Fu),Ue(Iu)}function $A(n){yo(Iu.current);var e=yo(Jr.current),t=Mm(e,n.type);e!==t&&(He(Fu,n),He(Jr,t))}function m0(n){Fu.current===n&&(Ue(Jr),Ue(Fu))}var Ye=Qs(0);function fp(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var em=[];function v0(){for(var n=0;n<em.length;n++)em[n]._workInProgressVersionPrimary=null;em.length=0}var wf=Ji.ReactCurrentDispatcher,tm=Ji.ReactCurrentBatchConfig,Aa=0,Qe=null,vt=null,bt=null,pp=!1,pu=!1,Nu=0,xT=0;function Bt(){throw Error(j(321))}function y0(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!xr(n[t],e[t]))return!1;return!0}function w0(n,e,t,r,i,s){if(Aa=s,Qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,wf.current=n===null||n.memoizedState===null?PT:RT,n=t(r,i),pu){s=0;do{if(pu=!1,Nu=0,25<=s)throw Error(j(301));s+=1,bt=vt=null,e.updateQueue=null,wf.current=LT,n=t(r,i)}while(pu)}if(wf.current=gp,e=vt!==null&&vt.next!==null,Aa=0,bt=vt=Qe=null,pp=!1,e)throw Error(j(300));return n}function E0(){var n=Nu!==0;return Nu=0,n}function Mr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Qe.memoizedState=bt=n:bt=bt.next=n,bt}function rr(){if(vt===null){var n=Qe.alternate;n=n!==null?n.memoizedState:null}else n=vt.next;var e=bt===null?Qe.memoizedState:bt.next;if(e!==null)bt=e,vt=n;else{if(n===null)throw Error(j(310));vt=n,n={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},bt===null?Qe.memoizedState=bt=n:bt=bt.next=n}return bt}function Ou(n,e){return typeof e=="function"?e(n):e}function nm(n){var e=rr(),t=e.queue;if(t===null)throw Error(j(311));t.lastRenderedReducer=n;var r=vt,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((Aa&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Qe.lanes|=d,Sa|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,xr(r,e.memoizedState)||(gn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,Qe.lanes|=s,Sa|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function rm(n){var e=rr(),t=e.queue;if(t===null)throw Error(j(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);xr(s,e.memoizedState)||(gn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function VA(){}function WA(n,e){var t=Qe,r=rr(),i=e(),s=!xr(r.memoizedState,i);if(s&&(r.memoizedState=i,gn=!0),r=r.queue,A0(KA.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||bt!==null&&bt.memoizedState.tag&1){if(t.flags|=2048,ju(9,XA.bind(null,t,r,i,e),void 0,null),xt===null)throw Error(j(349));Aa&30||GA(t,e,i)}return i}function GA(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function XA(n,e,t,r){e.value=t,e.getSnapshot=r,qA(e)&&YA(n)}function KA(n,e,t){return t(function(){qA(e)&&YA(n)})}function qA(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!xr(n,t)}catch{return!0}}function YA(n){var e=Ki(n,1);e!==null&&br(e,n,1,-1)}function e1(n){var e=Mr();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ou,lastRenderedState:n},e.queue=n,n=n.dispatch=kT.bind(null,Qe,n),[e.memoizedState,n]}function ju(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function QA(){return rr().memoizedState}function Ef(n,e,t,r){var i=Mr();Qe.flags|=n,i.memoizedState=ju(1|e,t,void 0,r===void 0?null:r)}function sg(n,e,t,r){var i=rr();r=r===void 0?null:r;var s=void 0;if(vt!==null){var o=vt.memoizedState;if(s=o.destroy,r!==null&&y0(r,o.deps)){i.memoizedState=ju(e,t,s,r);return}}Qe.flags|=n,i.memoizedState=ju(1|e,t,s,r)}function t1(n,e){return Ef(8390656,8,n,e)}function A0(n,e){return sg(2048,8,n,e)}function JA(n,e){return sg(4,2,n,e)}function ZA(n,e){return sg(4,4,n,e)}function eS(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function tS(n,e,t){return t=t!=null?t.concat([n]):null,sg(4,4,eS.bind(null,e,n),t)}function S0(){}function nS(n,e){var t=rr();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&y0(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function rS(n,e){var t=rr();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&y0(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function iS(n,e,t){return Aa&21?(xr(t,e)||(t=cA(),Qe.lanes|=t,Sa|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,gn=!0),n.memoizedState=t)}function CT(n,e){var t=Le;Le=t!==0&&4>t?t:4,n(!0);var r=tm.transition;tm.transition={};try{n(!1),e()}finally{Le=t,tm.transition=r}}function sS(){return rr().memoizedState}function TT(n,e,t){var r=Bs(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},oS(n))aS(e,t);else if(t=BA(n,e,t,r),t!==null){var i=rn();br(t,n,r,i),lS(t,e,r)}}function kT(n,e,t){var r=Bs(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(oS(n))aS(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,xr(a,o)){var l=e.interleaved;l===null?(i.next=i,f0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=BA(n,e,i,r),t!==null&&(i=rn(),br(t,n,r,i),lS(t,e,r))}}function oS(n){var e=n.alternate;return n===Qe||e!==null&&e===Qe}function aS(n,e){pu=pp=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function lS(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,Zy(n,t)}}var gp={readContext:nr,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},PT={readContext:nr,useCallback:function(n,e){return Mr().memoizedState=[n,e===void 0?null:e],n},useContext:nr,useEffect:t1,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Ef(4194308,4,eS.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Ef(4194308,4,n,e)},useInsertionEffect:function(n,e){return Ef(4,2,n,e)},useMemo:function(n,e){var t=Mr();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Mr();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=TT.bind(null,Qe,n),[r.memoizedState,n]},useRef:function(n){var e=Mr();return n={current:n},e.memoizedState=n},useState:e1,useDebugValue:S0,useDeferredValue:function(n){return Mr().memoizedState=n},useTransition:function(){var n=e1(!1),e=n[0];return n=CT.bind(null,n[1]),Mr().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Qe,i=Mr();if(Ge){if(t===void 0)throw Error(j(407));t=t()}else{if(t=e(),xt===null)throw Error(j(349));Aa&30||GA(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,t1(KA.bind(null,r,s,n),[n]),r.flags|=2048,ju(9,XA.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=Mr(),e=xt.identifierPrefix;if(Ge){var t=ji,r=Oi;t=(r&~(1<<32-_r(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Nu++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=xT++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},RT={readContext:nr,useCallback:nS,useContext:nr,useEffect:A0,useImperativeHandle:tS,useInsertionEffect:JA,useLayoutEffect:ZA,useMemo:rS,useReducer:nm,useRef:QA,useState:function(){return nm(Ou)},useDebugValue:S0,useDeferredValue:function(n){var e=rr();return iS(e,vt.memoizedState,n)},useTransition:function(){var n=nm(Ou)[0],e=rr().memoizedState;return[n,e]},useMutableSource:VA,useSyncExternalStore:WA,useId:sS,unstable_isNewReconciler:!1},LT={readContext:nr,useCallback:nS,useContext:nr,useEffect:A0,useImperativeHandle:tS,useInsertionEffect:JA,useLayoutEffect:ZA,useMemo:rS,useReducer:rm,useRef:QA,useState:function(){return rm(Ou)},useDebugValue:S0,useDeferredValue:function(n){var e=rr();return vt===null?e.memoizedState=n:iS(e,vt.memoizedState,n)},useTransition:function(){var n=rm(Ou)[0],e=rr().memoizedState;return[n,e]},useMutableSource:VA,useSyncExternalStore:WA,useId:sS,unstable_isNewReconciler:!1};function or(n,e){if(n&&n.defaultProps){e=Je({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function Zm(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Je({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var og={isMounted:function(n){return(n=n._reactInternals)?Ma(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=rn(),i=Bs(n),s=Hi(r,i);s.payload=e,t!=null&&(s.callback=t),e=zs(n,s,i),e!==null&&(br(e,n,i,r),yf(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=rn(),i=Bs(n),s=Hi(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=zs(n,s,i),e!==null&&(br(e,n,i,r),yf(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=rn(),r=Bs(n),i=Hi(t,r);i.tag=2,e!=null&&(i.callback=e),e=zs(n,i,r),e!==null&&(br(e,n,r,t),yf(e,n,r))}};function n1(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ru(t,r)||!Ru(i,s):!0}function cS(n,e,t){var r=!1,i=Gs,s=e.contextType;return typeof s=="object"&&s!==null?s=nr(s):(i=wn(e)?wa:qt.current,r=e.contextTypes,s=(r=r!=null)?gc(n,i):Gs),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=og,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function r1(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&og.enqueueReplaceState(e,e.state,null)}function ev(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},p0(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=nr(s):(s=wn(e)?wa:qt.current,i.context=gc(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Zm(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&og.enqueueReplaceState(i,i.state,null),hp(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function wc(n,e){try{var t="",r=e;do t+=sC(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function im(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function tv(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var MT=typeof WeakMap=="function"?WeakMap:Map;function uS(n,e,t){t=Hi(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){vp||(vp=!0,dv=r),tv(n,e)},t}function dS(n,e,t){t=Hi(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){tv(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){tv(n,e),typeof r!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function i1(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new MT;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=GT.bind(null,n,e,t),e.then(n,n))}function s1(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function o1(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Hi(-1,1),e.tag=2,zs(t,e,1))),t.lanes|=1),n)}var DT=Ji.ReactCurrentOwner,gn=!1;function tn(n,e,t,r){e.child=n===null?HA(e,null,t,r):vc(e,n.child,t,r)}function a1(n,e,t,r,i){t=t.render;var s=e.ref;return gl(e,i),r=w0(n,e,t,r,s,i),t=E0(),n!==null&&!gn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,qi(n,e,i)):(Ge&&t&&a0(e),e.flags|=1,tn(n,e,r,i),e.child)}function l1(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!R0(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,hS(n,e,s,r,i)):(n=bf(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Ru,t(o,r)&&n.ref===e.ref)return qi(n,e,i)}return e.flags|=1,n=Us(s,r),n.ref=e.ref,n.return=e,e.child=n}function hS(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(Ru(s,r)&&n.ref===e.ref)if(gn=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(gn=!0);else return e.lanes=n.lanes,qi(n,e,i)}return nv(n,e,t,r,i)}function fS(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(ll,Dn),Dn|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,He(ll,Dn),Dn|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,He(ll,Dn),Dn|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,He(ll,Dn),Dn|=r;return tn(n,e,i,t),e.child}function pS(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function nv(n,e,t,r,i){var s=wn(t)?wa:qt.current;return s=gc(e,s),gl(e,i),t=w0(n,e,t,r,s,i),r=E0(),n!==null&&!gn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,qi(n,e,i)):(Ge&&r&&a0(e),e.flags|=1,tn(n,e,t,i),e.child)}function c1(n,e,t,r,i){if(wn(t)){var s=!0;ap(e)}else s=!1;if(gl(e,i),e.stateNode===null)Af(n,e),cS(e,t,r),ev(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=nr(u):(u=wn(t)?wa:qt.current,u=gc(e,u));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&r1(e,o,r,u),ls=!1;var f=e.memoizedState;o.state=f,hp(e,r,o,i),l=e.memoizedState,a!==r||f!==l||yn.current||ls?(typeof d=="function"&&(Zm(e,t,d,r),l=e.memoizedState),(a=ls||n1(e,t,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,UA(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:or(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=nr(l):(l=wn(t)?wa:qt.current,l=gc(e,l));var p=t.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&r1(e,o,r,l),ls=!1,f=e.memoizedState,o.state=f,hp(e,r,o,i);var g=e.memoizedState;a!==h||f!==g||yn.current||ls?(typeof p=="function"&&(Zm(e,t,p,r),g=e.memoizedState),(u=ls||n1(e,t,u,r,f,g,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),r=!1)}return rv(n,e,t,r,s,i)}function rv(n,e,t,r,i,s){pS(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Kw(e,t,!1),qi(n,e,s);r=e.stateNode,DT.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=vc(e,n.child,null,s),e.child=vc(e,null,a,s)):tn(n,e,a,s),e.memoizedState=r.state,i&&Kw(e,t,!0),e.child}function gS(n){var e=n.stateNode;e.pendingContext?Xw(n,e.pendingContext,e.pendingContext!==e.context):e.context&&Xw(n,e.context,!1),g0(n,e.containerInfo)}function u1(n,e,t,r,i){return mc(),c0(i),e.flags|=256,tn(n,e,t,r),e.child}var iv={dehydrated:null,treeContext:null,retryLane:0};function sv(n){return{baseLanes:n,cachePool:null,transitions:null}}function mS(n,e,t){var r=e.pendingProps,i=Ye.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),He(Ye,i&1),n===null)return Qm(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=cg(o,r,0,null),n=ya(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=sv(t),e.memoizedState=iv,n):_0(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return FT(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Us(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Us(a,s):(s=ya(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?sv(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=iv,r}return s=n.child,n=s.sibling,r=Us(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function _0(n,e){return e=cg({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function ef(n,e,t,r){return r!==null&&c0(r),vc(e,n.child,null,t),n=_0(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function FT(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=im(Error(j(422))),ef(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=cg({mode:"visible",children:r.children},i,0,null),s=ya(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&vc(e,n.child,null,o),e.child.memoizedState=sv(o),e.memoizedState=iv,s);if(!(e.mode&1))return ef(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(j(419)),r=im(s,r,void 0),ef(n,e,o,r)}if(a=(o&n.childLanes)!==0,gn||a){if(r=xt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ki(n,i),br(r,n,i,-1))}return P0(),r=im(Error(j(421))),ef(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=XT.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,In=js(i.nextSibling),Nn=e,Ge=!0,Ar=null,n!==null&&(qn[Yn++]=Oi,qn[Yn++]=ji,qn[Yn++]=Ea,Oi=n.id,ji=n.overflow,Ea=e),e=_0(e,r.children),e.flags|=4096,e)}function d1(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),Jm(n.return,e,t)}function sm(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function vS(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(tn(n,e,r.children,t),r=Ye.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&d1(n,t,e);else if(n.tag===19)d1(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(He(Ye,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&fp(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),sm(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&fp(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}sm(e,!0,t,null,s);break;case"together":sm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Af(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function qi(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Sa|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(j(153));if(e.child!==null){for(n=e.child,t=Us(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Us(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function IT(n,e,t){switch(e.tag){case 3:gS(e),mc();break;case 5:$A(e);break;case 1:wn(e.type)&&ap(e);break;case 4:g0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;He(up,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(He(Ye,Ye.current&1),e.flags|=128,null):t&e.child.childLanes?mS(n,e,t):(He(Ye,Ye.current&1),n=qi(n,e,t),n!==null?n.sibling:null);He(Ye,Ye.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return vS(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),He(Ye,Ye.current),r)break;return null;case 22:case 23:return e.lanes=0,fS(n,e,t)}return qi(n,e,t)}var yS,ov,wS,ES;yS=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};ov=function(){};wS=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,yo(Jr.current);var s=null;switch(t){case"input":i=km(n,i),r=km(n,r),s=[];break;case"select":i=Je({},i,{value:void 0}),r=Je({},r,{value:void 0}),s=[];break;case"textarea":i=Lm(n,i),r=Lm(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=sp)}Dm(t,r);var o;t=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(_u.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(_u.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Be("scroll",n),s||a===l||(s=[])):(s=s||[]).push(u,l))}t&&(s=s||[]).push("style",t);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};ES=function(n,e,t,r){t!==r&&(e.flags|=4)};function Nc(n,e){if(!Ge)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Ut(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function NT(n,e,t){var r=e.pendingProps;switch(l0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(e),null;case 1:return wn(e.type)&&op(),Ut(e),null;case 3:return r=e.stateNode,yc(),Ue(yn),Ue(qt),v0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Jh(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ar!==null&&(pv(Ar),Ar=null))),ov(n,e),Ut(e),null;case 5:m0(e);var i=yo(Iu.current);if(t=e.type,n!==null&&e.stateNode!=null)wS(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(j(166));return Ut(e),null}if(n=yo(Jr.current),Jh(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[Yr]=e,r[Du]=s,n=(e.mode&1)!==0,t){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(i=0;i<Xc.length;i++)Be(Xc[i],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":Ew(r,s),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Be("invalid",r);break;case"textarea":Sw(r,s),Be("invalid",r)}Dm(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Qh(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Qh(r.textContent,a,n),i=["children",""+a]):_u.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Be("scroll",r)}switch(t){case"input":$h(r),Aw(r,s,!0);break;case"textarea":$h(r),_w(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=sp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=KE(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[Yr]=e,n[Du]=r,yS(n,e,!1,!1),e.stateNode=n;e:{switch(o=Fm(t,r),t){case"dialog":Be("cancel",n),Be("close",n),i=r;break;case"iframe":case"object":case"embed":Be("load",n),i=r;break;case"video":case"audio":for(i=0;i<Xc.length;i++)Be(Xc[i],n);i=r;break;case"source":Be("error",n),i=r;break;case"img":case"image":case"link":Be("error",n),Be("load",n),i=r;break;case"details":Be("toggle",n),i=r;break;case"input":Ew(n,r),i=km(n,r),Be("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Je({},r,{value:void 0}),Be("invalid",n);break;case"textarea":Sw(n,r),i=Lm(n,r),Be("invalid",n);break;default:i=r}Dm(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?QE(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&qE(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&bu(n,l):typeof l=="number"&&bu(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(_u.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Be("scroll",n):l!=null&&Xy(n,s,l,o))}switch(t){case"input":$h(n),Aw(n,r,!1);break;case"textarea":$h(n),_w(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Ws(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?dl(n,!!r.multiple,s,!1):r.defaultValue!=null&&dl(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=sp)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ut(e),null;case 6:if(n&&e.stateNode!=null)ES(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(j(166));if(t=yo(Iu.current),yo(Jr.current),Jh(e)){if(r=e.stateNode,t=e.memoizedProps,r[Yr]=e,(s=r.nodeValue!==t)&&(n=Nn,n!==null))switch(n.tag){case 3:Qh(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Qh(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Yr]=e,e.stateNode=r}return Ut(e),null;case 13:if(Ue(Ye),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ge&&In!==null&&e.mode&1&&!(e.flags&128))jA(),mc(),e.flags|=98560,s=!1;else if(s=Jh(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(j(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(j(317));s[Yr]=e}else mc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ut(e),s=!1}else Ar!==null&&(pv(Ar),Ar=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||Ye.current&1?wt===0&&(wt=3):P0())),e.updateQueue!==null&&(e.flags|=4),Ut(e),null);case 4:return yc(),ov(n,e),n===null&&Lu(e.stateNode.containerInfo),Ut(e),null;case 10:return h0(e.type._context),Ut(e),null;case 17:return wn(e.type)&&op(),Ut(e),null;case 19:if(Ue(Ye),s=e.memoizedState,s===null)return Ut(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Nc(s,!1);else{if(wt!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=fp(n),o!==null){for(e.flags|=128,Nc(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return He(Ye,Ye.current&1|2),e.child}n=n.sibling}s.tail!==null&&rt()>Ec&&(e.flags|=128,r=!0,Nc(s,!1),e.lanes=4194304)}else{if(!r)if(n=fp(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Nc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ge)return Ut(e),null}else 2*rt()-s.renderingStartTime>Ec&&t!==1073741824&&(e.flags|=128,r=!0,Nc(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=rt(),e.sibling=null,t=Ye.current,He(Ye,r?t&1|2:t&1),e):(Ut(e),null);case 22:case 23:return k0(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Dn&1073741824&&(Ut(e),e.subtreeFlags&6&&(e.flags|=8192)):Ut(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function OT(n,e){switch(l0(e),e.tag){case 1:return wn(e.type)&&op(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return yc(),Ue(yn),Ue(qt),v0(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return m0(e),null;case 13:if(Ue(Ye),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(j(340));mc()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Ue(Ye),null;case 4:return yc(),null;case 10:return h0(e.type._context),null;case 22:case 23:return k0(),null;case 24:return null;default:return null}}var tf=!1,Gt=!1,jT=typeof WeakSet=="function"?WeakSet:Set,G=null;function al(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){tt(n,e,r)}else t.current=null}function av(n,e,t){try{t()}catch(r){tt(n,e,r)}}var h1=!1;function zT(n,e){if(Vm=np,n=xA(),o0(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=n,f=null;t:for(;;){for(var p;h!==t||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===n)break t;if(f===t&&++u===i&&(a=o),f===s&&++d===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(Wm={focusedElem:n,selectionRange:t},np=!1,G=e;G!==null;)if(e=G,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,G=n;else for(;G!==null;){e=G;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,_=g.memoizedState,m=e.stateNode,y=m.getSnapshotBeforeUpdate(e.elementType===e.type?v:or(e.type,v),_);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(x){tt(e,e.return,x)}if(n=e.sibling,n!==null){n.return=e.return,G=n;break}G=e.return}return g=h1,h1=!1,g}function gu(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&av(e,t,s)}i=i.next}while(i!==r)}}function ag(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function lv(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function AS(n){var e=n.alternate;e!==null&&(n.alternate=null,AS(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Yr],delete e[Du],delete e[Km],delete e[AT],delete e[ST])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function SS(n){return n.tag===5||n.tag===3||n.tag===4}function f1(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||SS(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function cv(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=sp));else if(r!==4&&(n=n.child,n!==null))for(cv(n,e,t),n=n.sibling;n!==null;)cv(n,e,t),n=n.sibling}function uv(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(uv(n,e,t),n=n.sibling;n!==null;)uv(n,e,t),n=n.sibling}var Ot=null,wr=!1;function ts(n,e,t){for(t=t.child;t!==null;)_S(n,e,t),t=t.sibling}function _S(n,e,t){if(Qr&&typeof Qr.onCommitFiberUnmount=="function")try{Qr.onCommitFiberUnmount(Zp,t)}catch{}switch(t.tag){case 5:Gt||al(t,e);case 6:var r=Ot,i=wr;Ot=null,ts(n,e,t),Ot=r,wr=i,Ot!==null&&(wr?(n=Ot,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Ot.removeChild(t.stateNode));break;case 18:Ot!==null&&(wr?(n=Ot,t=t.stateNode,n.nodeType===8?Jg(n.parentNode,t):n.nodeType===1&&Jg(n,t),ku(n)):Jg(Ot,t.stateNode));break;case 4:r=Ot,i=wr,Ot=t.stateNode.containerInfo,wr=!0,ts(n,e,t),Ot=r,wr=i;break;case 0:case 11:case 14:case 15:if(!Gt&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&av(t,e,o),i=i.next}while(i!==r)}ts(n,e,t);break;case 1:if(!Gt&&(al(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){tt(t,e,a)}ts(n,e,t);break;case 21:ts(n,e,t);break;case 22:t.mode&1?(Gt=(r=Gt)||t.memoizedState!==null,ts(n,e,t),Gt=r):ts(n,e,t);break;default:ts(n,e,t)}}function p1(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new jT),e.forEach(function(r){var i=KT.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function ir(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ot=a.stateNode,wr=!1;break e;case 3:Ot=a.stateNode.containerInfo,wr=!0;break e;case 4:Ot=a.stateNode.containerInfo,wr=!0;break e}a=a.return}if(Ot===null)throw Error(j(160));_S(s,o,i),Ot=null,wr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){tt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)bS(e,n),e=e.sibling}function bS(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(ir(e,n),Rr(n),r&4){try{gu(3,n,n.return),ag(3,n)}catch(v){tt(n,n.return,v)}try{gu(5,n,n.return)}catch(v){tt(n,n.return,v)}}break;case 1:ir(e,n),Rr(n),r&512&&t!==null&&al(t,t.return);break;case 5:if(ir(e,n),Rr(n),r&512&&t!==null&&al(t,t.return),n.flags&32){var i=n.stateNode;try{bu(i,"")}catch(v){tt(n,n.return,v)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&GE(i,s),Fm(a,o);var u=Fm(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?QE(i,h):d==="dangerouslySetInnerHTML"?qE(i,h):d==="children"?bu(i,h):Xy(i,d,h,u)}switch(a){case"input":Pm(i,s);break;case"textarea":XE(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?dl(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?dl(i,!!s.multiple,s.defaultValue,!0):dl(i,!!s.multiple,s.multiple?[]:"",!1))}i[Du]=s}catch(v){tt(n,n.return,v)}}break;case 6:if(ir(e,n),Rr(n),r&4){if(n.stateNode===null)throw Error(j(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(v){tt(n,n.return,v)}}break;case 3:if(ir(e,n),Rr(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{ku(e.containerInfo)}catch(v){tt(n,n.return,v)}break;case 4:ir(e,n),Rr(n);break;case 13:ir(e,n),Rr(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(C0=rt())),r&4&&p1(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(Gt=(u=Gt)||d,ir(e,n),Gt=u):ir(e,n),Rr(n),r&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!d&&n.mode&1)for(G=n,d=n.child;d!==null;){for(h=G=d;G!==null;){switch(f=G,p=f.child,f.tag){case 0:case 11:case 14:case 15:gu(4,f,f.return);break;case 1:al(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,t=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){tt(r,t,v)}}break;case 5:al(f,f.return);break;case 22:if(f.memoizedState!==null){m1(h);continue}}p!==null?(p.return=f,G=p):m1(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=YE("display",o))}catch(v){tt(n,n.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){tt(n,n.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ir(e,n),Rr(n),r&4&&p1(n);break;case 21:break;default:ir(e,n),Rr(n)}}function Rr(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(SS(t)){var r=t;break e}t=t.return}throw Error(j(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(bu(i,""),r.flags&=-33);var s=f1(n);uv(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=f1(n);cv(n,a,o);break;default:throw Error(j(161))}}catch(l){tt(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function HT(n,e,t){G=n,xS(n)}function xS(n,e,t){for(var r=(n.mode&1)!==0;G!==null;){var i=G,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||tf;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Gt;a=tf;var u=Gt;if(tf=o,(Gt=l)&&!u)for(G=i;G!==null;)o=G,l=o.child,o.tag===22&&o.memoizedState!==null?v1(i):l!==null?(l.return=o,G=l):v1(i);for(;s!==null;)G=s,xS(s),s=s.sibling;G=i,tf=a,Gt=u}g1(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,G=s):g1(n)}}function g1(n){for(;G!==null;){var e=G;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Gt||ag(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Gt)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:or(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Zw(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}Zw(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ku(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}Gt||e.flags&512&&lv(e)}catch(f){tt(e,e.return,f)}}if(e===n){G=null;break}if(t=e.sibling,t!==null){t.return=e.return,G=t;break}G=e.return}}function m1(n){for(;G!==null;){var e=G;if(e===n){G=null;break}var t=e.sibling;if(t!==null){t.return=e.return,G=t;break}G=e.return}}function v1(n){for(;G!==null;){var e=G;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{ag(4,e)}catch(l){tt(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){tt(e,i,l)}}var s=e.return;try{lv(e)}catch(l){tt(e,s,l)}break;case 5:var o=e.return;try{lv(e)}catch(l){tt(e,o,l)}}}catch(l){tt(e,e.return,l)}if(e===n){G=null;break}var a=e.sibling;if(a!==null){a.return=e.return,G=a;break}G=e.return}}var BT=Math.ceil,mp=Ji.ReactCurrentDispatcher,b0=Ji.ReactCurrentOwner,tr=Ji.ReactCurrentBatchConfig,Ce=0,xt=null,lt=null,jt=0,Dn=0,ll=Qs(0),wt=0,zu=null,Sa=0,lg=0,x0=0,mu=null,pn=null,C0=0,Ec=1/0,oi=null,vp=!1,dv=null,Hs=null,nf=!1,Ds=null,yp=0,vu=0,hv=null,Sf=-1,_f=0;function rn(){return Ce&6?rt():Sf!==-1?Sf:Sf=rt()}function Bs(n){return n.mode&1?Ce&2&&jt!==0?jt&-jt:bT.transition!==null?(_f===0&&(_f=cA()),_f):(n=Le,n!==0||(n=window.event,n=n===void 0?16:mA(n.type)),n):1}function br(n,e,t,r){if(50<vu)throw vu=0,hv=null,Error(j(185));_h(n,t,r),(!(Ce&2)||n!==xt)&&(n===xt&&(!(Ce&2)&&(lg|=t),wt===4&&us(n,jt)),En(n,r),t===1&&Ce===0&&!(e.mode&1)&&(Ec=rt()+500,ig&&Js()))}function En(n,e){var t=n.callbackNode;bC(n,e);var r=tp(n,n===xt?jt:0);if(r===0)t!==null&&Cw(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&Cw(t),e===1)n.tag===0?_T(y1.bind(null,n)):IA(y1.bind(null,n)),wT(function(){!(Ce&6)&&Js()}),t=null;else{switch(uA(r)){case 1:t=Jy;break;case 4:t=aA;break;case 16:t=ep;break;case 536870912:t=lA;break;default:t=ep}t=DS(t,CS.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function CS(n,e){if(Sf=-1,_f=0,Ce&6)throw Error(j(327));var t=n.callbackNode;if(ml()&&n.callbackNode!==t)return null;var r=tp(n,n===xt?jt:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=wp(n,r);else{e=r;var i=Ce;Ce|=2;var s=kS();(xt!==n||jt!==e)&&(oi=null,Ec=rt()+500,va(n,e));do try{VT();break}catch(a){TS(n,a)}while(!0);d0(),mp.current=s,Ce=i,lt!==null?e=0:(xt=null,jt=0,e=wt)}if(e!==0){if(e===2&&(i=zm(n),i!==0&&(r=i,e=fv(n,i))),e===1)throw t=zu,va(n,0),us(n,r),En(n,rt()),t;if(e===6)us(n,r);else{if(i=n.current.alternate,!(r&30)&&!UT(i)&&(e=wp(n,r),e===2&&(s=zm(n),s!==0&&(r=s,e=fv(n,s))),e===1))throw t=zu,va(n,0),us(n,r),En(n,rt()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(j(345));case 2:co(n,pn,oi);break;case 3:if(us(n,r),(r&130023424)===r&&(e=C0+500-rt(),10<e)){if(tp(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){rn(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=Xm(co.bind(null,n,pn,oi),e);break}co(n,pn,oi);break;case 4:if(us(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-_r(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=rt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*BT(r/1960))-r,10<r){n.timeoutHandle=Xm(co.bind(null,n,pn,oi),r);break}co(n,pn,oi);break;case 5:co(n,pn,oi);break;default:throw Error(j(329))}}}return En(n,rt()),n.callbackNode===t?CS.bind(null,n):null}function fv(n,e){var t=mu;return n.current.memoizedState.isDehydrated&&(va(n,e).flags|=256),n=wp(n,e),n!==2&&(e=pn,pn=t,e!==null&&pv(e)),n}function pv(n){pn===null?pn=n:pn.push.apply(pn,n)}function UT(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!xr(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function us(n,e){for(e&=~x0,e&=~lg,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-_r(e),r=1<<t;n[t]=-1,e&=~r}}function y1(n){if(Ce&6)throw Error(j(327));ml();var e=tp(n,0);if(!(e&1))return En(n,rt()),null;var t=wp(n,e);if(n.tag!==0&&t===2){var r=zm(n);r!==0&&(e=r,t=fv(n,r))}if(t===1)throw t=zu,va(n,0),us(n,e),En(n,rt()),t;if(t===6)throw Error(j(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,co(n,pn,oi),En(n,rt()),null}function T0(n,e){var t=Ce;Ce|=1;try{return n(e)}finally{Ce=t,Ce===0&&(Ec=rt()+500,ig&&Js())}}function _a(n){Ds!==null&&Ds.tag===0&&!(Ce&6)&&ml();var e=Ce;Ce|=1;var t=tr.transition,r=Le;try{if(tr.transition=null,Le=1,n)return n()}finally{Le=r,tr.transition=t,Ce=e,!(Ce&6)&&Js()}}function k0(){Dn=ll.current,Ue(ll)}function va(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,yT(t)),lt!==null)for(t=lt.return;t!==null;){var r=t;switch(l0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&op();break;case 3:yc(),Ue(yn),Ue(qt),v0();break;case 5:m0(r);break;case 4:yc();break;case 13:Ue(Ye);break;case 19:Ue(Ye);break;case 10:h0(r.type._context);break;case 22:case 23:k0()}t=t.return}if(xt=n,lt=n=Us(n.current,null),jt=Dn=e,wt=0,zu=null,x0=lg=Sa=0,pn=mu=null,vo!==null){for(e=0;e<vo.length;e++)if(t=vo[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}vo=null}return n}function TS(n,e){do{var t=lt;try{if(d0(),wf.current=gp,pp){for(var r=Qe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}pp=!1}if(Aa=0,bt=vt=Qe=null,pu=!1,Nu=0,b0.current=null,t===null||t.return===null){wt=1,zu=e,lt=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=jt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=s1(o);if(p!==null){p.flags&=-257,o1(p,o,a,s,e),p.mode&1&&i1(s,u,e),e=p,l=u;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){i1(s,u,e),P0();break e}l=Error(j(426))}}else if(Ge&&a.mode&1){var _=s1(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),o1(_,o,a,s,e),c0(wc(l,a));break e}}s=l=wc(l,a),wt!==4&&(wt=2),mu===null?mu=[s]:mu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=uS(s,l,e);Jw(s,m);break e;case 1:a=l;var y=s.type,A=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Hs===null||!Hs.has(A)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=dS(s,a,e);Jw(s,x);break e}}s=s.return}while(s!==null)}RS(t)}catch(C){e=C,lt===t&&t!==null&&(lt=t=t.return);continue}break}while(!0)}function kS(){var n=mp.current;return mp.current=gp,n===null?gp:n}function P0(){(wt===0||wt===3||wt===2)&&(wt=4),xt===null||!(Sa&268435455)&&!(lg&268435455)||us(xt,jt)}function wp(n,e){var t=Ce;Ce|=2;var r=kS();(xt!==n||jt!==e)&&(oi=null,va(n,e));do try{$T();break}catch(i){TS(n,i)}while(!0);if(d0(),Ce=t,mp.current=r,lt!==null)throw Error(j(261));return xt=null,jt=0,wt}function $T(){for(;lt!==null;)PS(lt)}function VT(){for(;lt!==null&&!gC();)PS(lt)}function PS(n){var e=MS(n.alternate,n,Dn);n.memoizedProps=n.pendingProps,e===null?RS(n):lt=e,b0.current=null}function RS(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=OT(t,e),t!==null){t.flags&=32767,lt=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{wt=6,lt=null;return}}else if(t=NT(t,e,Dn),t!==null){lt=t;return}if(e=e.sibling,e!==null){lt=e;return}lt=e=n}while(e!==null);wt===0&&(wt=5)}function co(n,e,t){var r=Le,i=tr.transition;try{tr.transition=null,Le=1,WT(n,e,t,r)}finally{tr.transition=i,Le=r}return null}function WT(n,e,t,r){do ml();while(Ds!==null);if(Ce&6)throw Error(j(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(j(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(xC(n,s),n===xt&&(lt=xt=null,jt=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||nf||(nf=!0,DS(ep,function(){return ml(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=tr.transition,tr.transition=null;var o=Le;Le=1;var a=Ce;Ce|=4,b0.current=null,zT(n,t),bS(t,n),dT(Wm),np=!!Vm,Wm=Vm=null,n.current=t,HT(t),mC(),Ce=a,Le=o,tr.transition=s}else n.current=t;if(nf&&(nf=!1,Ds=n,yp=i),s=n.pendingLanes,s===0&&(Hs=null),wC(t.stateNode),En(n,rt()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(vp)throw vp=!1,n=dv,dv=null,n;return yp&1&&n.tag!==0&&ml(),s=n.pendingLanes,s&1?n===hv?vu++:(vu=0,hv=n):vu=0,Js(),null}function ml(){if(Ds!==null){var n=uA(yp),e=tr.transition,t=Le;try{if(tr.transition=null,Le=16>n?16:n,Ds===null)var r=!1;else{if(n=Ds,Ds=null,yp=0,Ce&6)throw Error(j(331));var i=Ce;for(Ce|=4,G=n.current;G!==null;){var s=G,o=s.child;if(G.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(G=u;G!==null;){var d=G;switch(d.tag){case 0:case 11:case 15:gu(8,d,s)}var h=d.child;if(h!==null)h.return=d,G=h;else for(;G!==null;){d=G;var f=d.sibling,p=d.return;if(AS(d),d===u){G=null;break}if(f!==null){f.return=p,G=f;break}G=p}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}G=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,G=o;else e:for(;G!==null;){if(s=G,s.flags&2048)switch(s.tag){case 0:case 11:case 15:gu(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,G=m;break e}G=s.return}}var y=n.current;for(G=y;G!==null;){o=G;var A=o.child;if(o.subtreeFlags&2064&&A!==null)A.return=o,G=A;else e:for(o=y;G!==null;){if(a=G,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ag(9,a)}}catch(C){tt(a,a.return,C)}if(a===o){G=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,G=x;break e}G=a.return}}if(Ce=i,Js(),Qr&&typeof Qr.onPostCommitFiberRoot=="function")try{Qr.onPostCommitFiberRoot(Zp,n)}catch{}r=!0}return r}finally{Le=t,tr.transition=e}}return!1}function w1(n,e,t){e=wc(t,e),e=uS(n,e,1),n=zs(n,e,1),e=rn(),n!==null&&(_h(n,1,e),En(n,e))}function tt(n,e,t){if(n.tag===3)w1(n,n,t);else for(;e!==null;){if(e.tag===3){w1(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hs===null||!Hs.has(r))){n=wc(t,n),n=dS(e,n,1),e=zs(e,n,1),n=rn(),e!==null&&(_h(e,1,n),En(e,n));break}}e=e.return}}function GT(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=rn(),n.pingedLanes|=n.suspendedLanes&t,xt===n&&(jt&t)===t&&(wt===4||wt===3&&(jt&130023424)===jt&&500>rt()-C0?va(n,0):x0|=t),En(n,e)}function LS(n,e){e===0&&(n.mode&1?(e=Gh,Gh<<=1,!(Gh&130023424)&&(Gh=4194304)):e=1);var t=rn();n=Ki(n,e),n!==null&&(_h(n,e,t),En(n,t))}function XT(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),LS(n,t)}function KT(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(e),LS(n,t)}var MS;MS=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||yn.current)gn=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return gn=!1,IT(n,e,t);gn=!!(n.flags&131072)}else gn=!1,Ge&&e.flags&1048576&&NA(e,cp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Af(n,e),n=e.pendingProps;var i=gc(e,qt.current);gl(e,t),i=w0(null,e,r,n,i,t);var s=E0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wn(r)?(s=!0,ap(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,p0(e),i.updater=og,e.stateNode=i,i._reactInternals=e,ev(e,r,n,t),e=rv(null,e,r,!0,s,t)):(e.tag=0,Ge&&s&&a0(e),tn(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(Af(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=YT(r),n=or(r,n),i){case 0:e=nv(null,e,r,n,t);break e;case 1:e=c1(null,e,r,n,t);break e;case 11:e=a1(null,e,r,n,t);break e;case 14:e=l1(null,e,r,or(r.type,n),t);break e}throw Error(j(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:or(r,i),nv(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:or(r,i),c1(n,e,r,i,t);case 3:e:{if(gS(e),n===null)throw Error(j(387));r=e.pendingProps,s=e.memoizedState,i=s.element,UA(n,e),hp(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=wc(Error(j(423)),e),e=u1(n,e,r,t,i);break e}else if(r!==i){i=wc(Error(j(424)),e),e=u1(n,e,r,t,i);break e}else for(In=js(e.stateNode.containerInfo.firstChild),Nn=e,Ge=!0,Ar=null,t=HA(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(mc(),r===i){e=qi(n,e,t);break e}tn(n,e,r,t)}e=e.child}return e;case 5:return $A(e),n===null&&Qm(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,Gm(r,i)?o=null:s!==null&&Gm(r,s)&&(e.flags|=32),pS(n,e),tn(n,e,o,t),e.child;case 6:return n===null&&Qm(e),null;case 13:return mS(n,e,t);case 4:return g0(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=vc(e,null,r,t):tn(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:or(r,i),a1(n,e,r,i,t);case 7:return tn(n,e,e.pendingProps,t),e.child;case 8:return tn(n,e,e.pendingProps.children,t),e.child;case 12:return tn(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,He(up,r._currentValue),r._currentValue=o,s!==null)if(xr(s.value,o)){if(s.children===i.children&&!yn.current){e=qi(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Hi(-1,t&-t),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),Jm(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(j(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),Jm(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}tn(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,gl(e,t),i=nr(i),r=r(i),e.flags|=1,tn(n,e,r,t),e.child;case 14:return r=e.type,i=or(r,e.pendingProps),i=or(r.type,i),l1(n,e,r,i,t);case 15:return hS(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:or(r,i),Af(n,e),e.tag=1,wn(r)?(n=!0,ap(e)):n=!1,gl(e,t),cS(e,r,i),ev(e,r,i,t),rv(null,e,r,!0,n,t);case 19:return vS(n,e,t);case 22:return fS(n,e,t)}throw Error(j(156,e.tag))};function DS(n,e){return oA(n,e)}function qT(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function er(n,e,t,r){return new qT(n,e,t,r)}function R0(n){return n=n.prototype,!(!n||!n.isReactComponent)}function YT(n){if(typeof n=="function")return R0(n)?1:0;if(n!=null){if(n=n.$$typeof,n===qy)return 11;if(n===Yy)return 14}return 2}function Us(n,e){var t=n.alternate;return t===null?(t=er(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function bf(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")R0(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Ja:return ya(t.children,i,s,e);case Ky:o=8,i|=8;break;case bm:return n=er(12,t,e,i|2),n.elementType=bm,n.lanes=s,n;case xm:return n=er(13,t,e,i),n.elementType=xm,n.lanes=s,n;case Cm:return n=er(19,t,e,i),n.elementType=Cm,n.lanes=s,n;case $E:return cg(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case BE:o=10;break e;case UE:o=9;break e;case qy:o=11;break e;case Yy:o=14;break e;case as:o=16,r=null;break e}throw Error(j(130,n==null?n:typeof n,""))}return e=er(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function ya(n,e,t,r){return n=er(7,n,r,e),n.lanes=t,n}function cg(n,e,t,r){return n=er(22,n,r,e),n.elementType=$E,n.lanes=t,n.stateNode={isHidden:!1},n}function om(n,e,t){return n=er(6,n,null,e),n.lanes=t,n}function am(n,e,t){return e=er(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function QT(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bg(0),this.expirationTimes=Bg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function L0(n,e,t,r,i,s,o,a,l){return n=new QT(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=er(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},p0(s),n}function JT(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qa,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function FS(n){if(!n)return Gs;n=n._reactInternals;e:{if(Ma(n)!==n||n.tag!==1)throw Error(j(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(n.tag===1){var t=n.type;if(wn(t))return FA(n,t,e)}return e}function IS(n,e,t,r,i,s,o,a,l){return n=L0(t,r,!0,n,i,s,o,a,l),n.context=FS(null),t=n.current,r=rn(),i=Bs(t),s=Hi(r,i),s.callback=e??null,zs(t,s,i),n.current.lanes=i,_h(n,i,r),En(n,r),n}function ug(n,e,t,r){var i=e.current,s=rn(),o=Bs(i);return t=FS(t),e.context===null?e.context=t:e.pendingContext=t,e=Hi(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=zs(i,e,o),n!==null&&(br(n,i,o,s),yf(n,i,o)),o}function Ep(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function E1(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function M0(n,e){E1(n,e),(n=n.alternate)&&E1(n,e)}function ZT(){return null}var NS=typeof reportError=="function"?reportError:function(n){console.error(n)};function D0(n){this._internalRoot=n}dg.prototype.render=D0.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(j(409));ug(n,e,null,null)};dg.prototype.unmount=D0.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;_a(function(){ug(null,n,null,null)}),e[Xi]=null}};function dg(n){this._internalRoot=n}dg.prototype.unstable_scheduleHydration=function(n){if(n){var e=fA();n={blockedOn:null,target:n,priority:e};for(var t=0;t<cs.length&&e!==0&&e<cs[t].priority;t++);cs.splice(t,0,n),t===0&&gA(n)}};function F0(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function hg(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function A1(){}function ek(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Ep(o);s.call(u)}}var o=IS(e,r,n,0,null,!1,!1,"",A1);return n._reactRootContainer=o,n[Xi]=o.current,Lu(n.nodeType===8?n.parentNode:n),_a(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Ep(l);a.call(u)}}var l=L0(n,0,!1,null,null,!1,!1,"",A1);return n._reactRootContainer=l,n[Xi]=l.current,Lu(n.nodeType===8?n.parentNode:n),_a(function(){ug(e,l,t,r)}),l}function fg(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Ep(o);a.call(l)}}ug(e,o,n,i)}else o=ek(t,e,n,i,r);return Ep(o)}dA=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Gc(e.pendingLanes);t!==0&&(Zy(e,t|1),En(e,rt()),!(Ce&6)&&(Ec=rt()+500,Js()))}break;case 13:_a(function(){var r=Ki(n,1);if(r!==null){var i=rn();br(r,n,1,i)}}),M0(n,1)}};e0=function(n){if(n.tag===13){var e=Ki(n,134217728);if(e!==null){var t=rn();br(e,n,134217728,t)}M0(n,134217728)}};hA=function(n){if(n.tag===13){var e=Bs(n),t=Ki(n,e);if(t!==null){var r=rn();br(t,n,e,r)}M0(n,e)}};fA=function(){return Le};pA=function(n,e){var t=Le;try{return Le=n,e()}finally{Le=t}};Nm=function(n,e,t){switch(e){case"input":if(Pm(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=rg(r);if(!i)throw Error(j(90));WE(r),Pm(r,i)}}}break;case"textarea":XE(n,t);break;case"select":e=t.value,e!=null&&dl(n,!!t.multiple,e,!1)}};eA=T0;tA=_a;var tk={usingClientEntryPoint:!1,Events:[xh,nl,rg,JE,ZE,T0]},Oc={findFiberByHostInstance:mo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nk={bundleType:Oc.bundleType,version:Oc.version,rendererPackageName:Oc.rendererPackageName,rendererConfig:Oc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ji.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=iA(n),n===null?null:n.stateNode},findFiberByHostInstance:Oc.findFiberByHostInstance||ZT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rf.isDisabled&&rf.supportsFiber)try{Zp=rf.inject(nk),Qr=rf}catch{}}jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tk;jn.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!F0(e))throw Error(j(200));return JT(n,e,null,t)};jn.createRoot=function(n,e){if(!F0(n))throw Error(j(299));var t=!1,r="",i=NS;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=L0(n,1,!1,null,null,t,!1,r,i),n[Xi]=e.current,Lu(n.nodeType===8?n.parentNode:n),new D0(e)};jn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(j(188)):(n=Object.keys(n).join(","),Error(j(268,n)));return n=iA(e),n=n===null?null:n.stateNode,n};jn.flushSync=function(n){return _a(n)};jn.hydrate=function(n,e,t){if(!hg(e))throw Error(j(200));return fg(null,n,e,!0,t)};jn.hydrateRoot=function(n,e,t){if(!F0(n))throw Error(j(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=NS;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=IS(e,null,n,1,t??null,i,!1,s,o),n[Xi]=e.current,Lu(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new dg(e)};jn.render=function(n,e,t){if(!hg(e))throw Error(j(200));return fg(null,n,e,!1,t)};jn.unmountComponentAtNode=function(n){if(!hg(n))throw Error(j(40));return n._reactRootContainer?(_a(function(){fg(null,null,n,!1,function(){n._reactRootContainer=null,n[Xi]=null})}),!0):!1};jn.unstable_batchedUpdates=T0;jn.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!hg(t))throw Error(j(200));if(n==null||n._reactInternals===void 0)throw Error(j(38));return fg(n,e,t,!1,r)};jn.version="18.3.1-next-f1338f8080-20240426";function OS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(OS)}catch(n){console.error(n)}}OS(),OE.exports=jn;var I0=OE.exports;const rk=Hy(I0),ik=xE({__proto__:null,default:rk},[I0]);var S1=I0;Sm.createRoot=S1.createRoot,Sm.hydrateRoot=S1.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qe(){return qe=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},qe.apply(this,arguments)}var at;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(at||(at={}));const _1="popstate";function sk(n){n===void 0&&(n={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Hu("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:ba(i)}return ak(e,t,null,n)}function ve(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ac(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ok(){return Math.random().toString(36).substr(2,8)}function b1(n,e){return{usr:n.state,key:n.key,idx:e}}function Hu(n,e,t,r){return t===void 0&&(t=null),qe({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Zs(e):e,{state:t,key:e&&e.key||r||ok()})}function ba(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Zs(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function ak(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=at.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(qe({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=at.Pop;let _=d(),m=_==null?null:_-u;u=_,l&&l({action:a,location:v.location,delta:m})}function f(_,m){a=at.Push;let y=Hu(v.location,_,m);u=d()+1;let A=b1(y,u),x=v.createHref(y);try{o.pushState(A,"",x)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(x)}s&&l&&l({action:a,location:v.location,delta:1})}function p(_,m){a=at.Replace;let y=Hu(v.location,_,m);u=d();let A=b1(y,u),x=v.createHref(y);o.replaceState(A,"",x),s&&l&&l({action:a,location:v.location,delta:0})}function g(_){let m=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof _=="string"?_:ba(_);return y=y.replace(/ $/,"%20"),ve(m,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,m)}let v={get action(){return a},get location(){return n(i,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(_1,h),l=_,()=>{i.removeEventListener(_1,h),l=null}},createHref(_){return e(i,_)},createURL:g,encodeLocation(_){let m=g(_);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:p,go(_){return o.go(_)}};return v}var We;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(We||(We={}));const lk=new Set(["lazy","caseSensitive","path","id","index","children"]);function ck(n){return n.index===!0}function gv(n,e,t,r){return t===void 0&&(t=[]),r===void 0&&(r={}),n.map((i,s)=>{let o=[...t,s],a=typeof i.id=="string"?i.id:o.join("-");if(ve(i.index!==!0||!i.children,"Cannot specify children on an index route"),ve(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),ck(i)){let l=qe({},i,e(i),{id:a});return r[a]=l,l}else{let l=qe({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=gv(i.children,e,o,r)),l}})}function cl(n,e,t){t===void 0&&(t="/");let r=typeof e=="string"?Zs(e):e,i=Cc(r.pathname||"/",t);if(i==null)return null;let s=jS(n);dk(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let l=_k(i);o=Ek(s[a],l)}return o}function uk(n,e){let{route:t,pathname:r,params:i}=n;return{id:t.id,pathname:r,params:i,data:e[t.id],handle:t.handle}}function jS(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ve(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Bi([r,l.relativePath]),d=t.concat(l);s.children&&s.children.length>0&&(ve(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),jS(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:yk(u,s.index),routesMeta:d})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of zS(s.path))i(s,o,l)}),e}function zS(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=zS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function dk(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:wk(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const hk=/^:[\w-]+$/,fk=3,pk=2,gk=1,mk=10,vk=-2,x1=n=>n==="*";function yk(n,e){let t=n.split("/"),r=t.length;return t.some(x1)&&(r+=vk),e&&(r+=pk),t.filter(i=>!x1(i)).reduce((i,s)=>i+(hk.test(s)?fk:s===""?gk:mk),r)}function wk(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function Ek(n,e){let{routesMeta:t}=n,r={},i="/",s=[];for(let o=0;o<t.length;++o){let a=t[o],l=o===t.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=Ak({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!d)return null;Object.assign(r,d.params);let h=a.route;s.push({params:r,pathname:Bi([i,d.pathname]),pathnameBase:Ck(Bi([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Bi([i,d.pathnameBase]))}return s}function Ak(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Sk(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let v=a[h]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const g=a[h];return p&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:n}}function Sk(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Ac(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function _k(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ac(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Cc(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function bk(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Zs(n):n;return{pathname:t?t.startsWith("/")?t:xk(t,e):e,search:Tk(r),hash:kk(i)}}function xk(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function lm(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function HS(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function N0(n,e){let t=HS(n);return e?t.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function O0(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=Zs(n):(i=qe({},n),ve(!i.pathname||!i.pathname.includes("?"),lm("?","pathname","search",i)),ve(!i.pathname||!i.pathname.includes("#"),lm("#","pathname","hash",i)),ve(!i.search||!i.search.includes("#"),lm("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=t;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=bk(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Bi=n=>n.join("/").replace(/\/\/+/g,"/"),Ck=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Tk=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,kk=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class j0{constructor(e,t,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=t||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function z0(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const BS=["post","put","patch","delete"],Pk=new Set(BS),Rk=["get",...BS],Lk=new Set(Rk),Mk=new Set([301,302,303,307,308]),Dk=new Set([307,308]),cm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Fk={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},jc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},H0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ik=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),US="remix-router-transitions";function Nk(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!t;ve(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(n.mapRouteProperties)i=n.mapRouteProperties;else if(n.detectErrorBoundary){let P=n.detectErrorBoundary;i=L=>({hasErrorBoundary:P(L)})}else i=Ik;let s={},o=gv(n.routes,i,void 0,s),a,l=n.basename||"/",u=n.unstable_dataStrategy||Hk,d=qe({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},n.future),h=null,f=new Set,p=null,g=null,v=null,_=n.hydrationData!=null,m=cl(o,n.history.location,l),y=null;if(m==null){let P=Xn(404,{pathname:n.history.location.pathname}),{matches:L,route:I}=I1(o);m=L,y={[I.id]:P}}let A,x=m.some(P=>P.route.lazy),C=m.some(P=>P.route.loader);if(x)A=!1;else if(!C)A=!0;else if(d.v7_partialHydration){let P=n.hydrationData?n.hydrationData.loaderData:null,L=n.hydrationData?n.hydrationData.errors:null,I=z=>z.route.loader?typeof z.route.loader=="function"&&z.route.loader.hydrate===!0?!1:P&&P[z.route.id]!==void 0||L&&L[z.route.id]!==void 0:!0;if(L){let z=m.findIndex(X=>L[X.route.id]!==void 0);A=m.slice(0,z+1).every(I)}else A=m.every(I)}else A=n.hydrationData!=null;let k,b={historyAction:n.history.action,location:n.history.location,matches:m,initialized:A,navigation:cm,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||y,fetchers:new Map,blockers:new Map},R=at.Pop,O=!1,N,F=!1,K=new Map,H=null,V=!1,te=!1,ce=[],B=[],M=new Map,W=0,Q=-1,ae=new Map,ee=new Set,fe=new Map,pe=new Map,Ie=new Set,ge=new Map,Z=new Map,Ze=!1;function ti(){if(h=n.history.listen(P=>{let{action:L,location:I,delta:z}=P;if(Ze){Ze=!1;return}Ac(Z.size===0||z!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let X=cw({currentLocation:b.location,nextLocation:I,historyAction:L});if(X&&z!=null){Ze=!0,n.history.go(z*-1),Oh(X,{state:"blocked",location:I,proceed(){Oh(X,{state:"proceeding",proceed:void 0,reset:void 0,location:I}),n.history.go(z)},reset(){let de=new Map(b.blockers);de.set(X,jc),ut({blockers:de})}});return}return Se(L,I)}),t){Jk(e,K);let P=()=>Zk(e,K);e.addEventListener("pagehide",P),H=()=>e.removeEventListener("pagehide",P)}return b.initialized||Se(at.Pop,b.location,{initialHydration:!0}),k}function $e(){h&&h(),H&&H(),f.clear(),N&&N.abort(),b.fetchers.forEach((P,L)=>ja(L)),b.blockers.forEach((P,L)=>lw(L))}function no(P){return f.add(P),()=>f.delete(P)}function ut(P,L){L===void 0&&(L={}),b=qe({},b,P);let I=[],z=[];d.v7_fetcherPersist&&b.fetchers.forEach((X,de)=>{X.state==="idle"&&(Ie.has(de)?z.push(de):I.push(de))}),[...f].forEach(X=>X(b,{deletedFetchers:z,unstable_viewTransitionOpts:L.viewTransitionOpts,unstable_flushSync:L.flushSync===!0})),d.v7_fetcherPersist&&(I.forEach(X=>b.fetchers.delete(X)),z.forEach(X=>ja(X)))}function dt(P,L,I){var z,X;let{flushSync:de}=I===void 0?{}:I,ne=b.actionData!=null&&b.navigation.formMethod!=null&&Er(b.navigation.formMethod)&&b.navigation.state==="loading"&&((z=P.state)==null?void 0:z._isRedirect)!==!0,q;L.actionData?Object.keys(L.actionData).length>0?q=L.actionData:q=null:ne?q=b.actionData:q=null;let he=L.loaderData?D1(b.loaderData,L.loaderData,L.matches||[],L.errors):b.loaderData,le=b.blockers;le.size>0&&(le=new Map(le),le.forEach((se,Ve)=>le.set(Ve,jc)));let Tt=O===!0||b.navigation.formMethod!=null&&Er(b.navigation.formMethod)&&((X=P.state)==null?void 0:X._isRedirect)!==!0;a&&(o=a,a=void 0),V||R===at.Pop||(R===at.Push?n.history.push(P,P.state):R===at.Replace&&n.history.replace(P,P.state));let kt;if(R===at.Pop){let se=K.get(b.location.pathname);se&&se.has(P.pathname)?kt={currentLocation:b.location,nextLocation:P}:K.has(P.pathname)&&(kt={currentLocation:P,nextLocation:b.location})}else if(F){let se=K.get(b.location.pathname);se?se.add(P.pathname):(se=new Set([P.pathname]),K.set(b.location.pathname,se)),kt={currentLocation:b.location,nextLocation:P}}ut(qe({},L,{actionData:q,loaderData:he,historyAction:R,location:P,initialized:!0,navigation:cm,revalidation:"idle",restoreScrollPosition:dw(P,L.matches||b.matches),preventScrollReset:Tt,blockers:le}),{viewTransitionOpts:kt,flushSync:de===!0}),R=at.Pop,O=!1,F=!1,V=!1,te=!1,ce=[],B=[]}async function Sn(P,L){if(typeof P=="number"){n.history.go(P);return}let I=mv(b.location,b.matches,l,d.v7_prependBasename,P,d.v7_relativeSplatPath,L==null?void 0:L.fromRouteId,L==null?void 0:L.relative),{path:z,submission:X,error:de}=C1(d.v7_normalizeFormMethod,!1,I,L),ne=b.location,q=Hu(b.location,z,L&&L.state);q=qe({},q,n.history.encodeLocation(q));let he=L&&L.replace!=null?L.replace:void 0,le=at.Push;he===!0?le=at.Replace:he===!1||X!=null&&Er(X.formMethod)&&X.formAction===b.location.pathname+b.location.search&&(le=at.Replace);let Tt=L&&"preventScrollReset"in L?L.preventScrollReset===!0:void 0,kt=(L&&L.unstable_flushSync)===!0,se=cw({currentLocation:ne,nextLocation:q,historyAction:le});if(se){Oh(se,{state:"blocked",location:q,proceed(){Oh(se,{state:"proceeding",proceed:void 0,reset:void 0,location:q}),Sn(P,L)},reset(){let Ve=new Map(b.blockers);Ve.set(se,jc),ut({blockers:Ve})}});return}return await Se(le,q,{submission:X,pendingError:de,preventScrollReset:Tt,replace:L&&L.replace,enableViewTransition:L&&L.unstable_viewTransition,flushSync:kt})}function Cr(){if(Tc(),ut({revalidation:"loading"}),b.navigation.state!=="submitting"){if(b.navigation.state==="idle"){Se(b.historyAction,b.location,{startUninterruptedRevalidation:!0});return}Se(R||b.historyAction,b.navigation.location,{overrideNavigation:b.navigation})}}async function Se(P,L,I){N&&N.abort(),N=null,R=P,V=(I&&I.startUninterruptedRevalidation)===!0,Tx(b.location,b.matches),O=(I&&I.preventScrollReset)===!0,F=(I&&I.enableViewTransition)===!0;let z=a||o,X=I&&I.overrideNavigation,de=cl(z,L,l),ne=(I&&I.flushSync)===!0;if(!de){let se=Xn(404,{pathname:L.pathname}),{matches:Ve,route:Et}=I1(z);Fg(),dt(L,{matches:Ve,loaderData:{},errors:{[Et.id]:se}},{flushSync:ne});return}if(b.initialized&&!te&&Gk(b.location,L)&&!(I&&I.submission&&Er(I.submission.formMethod))){dt(L,{matches:de},{flushSync:ne});return}N=new AbortController;let q=$a(n.history,L,N.signal,I&&I.submission),he;if(I&&I.pendingError)he=[yu(de).route.id,{type:We.error,error:I.pendingError}];else if(I&&I.submission&&Er(I.submission.formMethod)){let se=await Ct(q,L,I.submission,de,{replace:I.replace,flushSync:ne});if(se.shortCircuited)return;he=se.pendingActionResult,X=um(L,I.submission),ne=!1,q=$a(n.history,q.url,q.signal)}let{shortCircuited:le,loaderData:Tt,errors:kt}=await _n(q,L,de,X,I&&I.submission,I&&I.fetcherSubmission,I&&I.replace,I&&I.initialHydration===!0,ne,he);le||(N=null,dt(L,qe({matches:de},F1(he),{loaderData:Tt,errors:kt})))}async function Ct(P,L,I,z,X){X===void 0&&(X={}),Tc();let de=Yk(L,I);ut({navigation:de},{flushSync:X.flushSync===!0});let ne,q=yv(z,L);if(!q.route.action&&!q.route.lazy)ne={type:We.error,error:Xn(405,{method:P.method,pathname:L.pathname,routeId:q.route.id})};else if(ne=(await io("action",P,[q],z))[0],P.signal.aborted)return{shortCircuited:!0};if(Eo(ne)){let he;return X&&X.replace!=null?he=X.replace:he=R1(ne.response.headers.get("Location"),new URL(P.url),l)===b.location.pathname+b.location.search,await ro(P,ne,{submission:I,replace:he}),{shortCircuited:!0}}if(wo(ne))throw Xn(400,{type:"defer-action"});if(Qn(ne)){let he=yu(z,q.route.id);return(X&&X.replace)!==!0&&(R=at.Push),{pendingActionResult:[he.route.id,ne]}}return{pendingActionResult:[q.route.id,ne]}}async function _n(P,L,I,z,X,de,ne,q,he,le){let Tt=z||um(L,X),kt=X||de||j1(Tt),se=a||o,[Ve,Et]=T1(n.history,b,I,kt,L,d.v7_partialHydration&&q===!0,d.unstable_skipActionErrorRevalidation,te,ce,B,Ie,fe,ee,se,l,le);if(Fg(_e=>!(I&&I.some(Yt=>Yt.route.id===_e))||Ve&&Ve.some(Yt=>Yt.route.id===_e)),Q=++W,Ve.length===0&&Et.length===0){let _e=ow();return dt(L,qe({matches:I,loaderData:{},errors:le&&Qn(le[1])?{[le[0]]:le[1].error}:null},F1(le),_e?{fetchers:new Map(b.fetchers)}:{}),{flushSync:he}),{shortCircuited:!0}}if(!V&&(!d.v7_partialHydration||!q)){Et.forEach(Yt=>{let Bn=b.fetchers.get(Yt.key),Pt=zc(void 0,Bn?Bn.data:void 0);b.fetchers.set(Yt.key,Pt)});let _e;le&&!Qn(le[1])?_e={[le[0]]:le[1].data}:b.actionData&&(Object.keys(b.actionData).length===0?_e=null:_e=b.actionData),ut(qe({navigation:Tt},_e!==void 0?{actionData:_e}:{},Et.length>0?{fetchers:new Map(b.fetchers)}:{}),{flushSync:he})}Et.forEach(_e=>{M.has(_e.key)&&Hn(_e.key),_e.controller&&M.set(_e.key,_e.controller)});let kc=()=>Et.forEach(_e=>Hn(_e.key));N&&N.signal.addEventListener("abort",kc);let{loaderResults:es,fetcherResults:za}=await so(b.matches,I,Ve,Et,P);if(P.signal.aborted)return{shortCircuited:!0};N&&N.signal.removeEventListener("abort",kc),Et.forEach(_e=>M.delete(_e.key));let Ha=N1([...es,...za]);if(Ha){if(Ha.idx>=Ve.length){let _e=Et[Ha.idx-Ve.length].key;ee.add(_e)}return await ro(P,Ha.result,{replace:ne}),{shortCircuited:!0}}let{loaderData:Ba,errors:Pr}=M1(b,I,Ve,es,le,Et,za,ge);ge.forEach((_e,Yt)=>{_e.subscribe(Bn=>{(Bn||_e.done)&&ge.delete(Yt)})}),d.v7_partialHydration&&q&&b.errors&&Object.entries(b.errors).filter(_e=>{let[Yt]=_e;return!Ve.some(Bn=>Bn.route.id===Yt)}).forEach(_e=>{let[Yt,Bn]=_e;Pr=Object.assign(Pr||{},{[Yt]:Bn})});let jh=ow(),zh=aw(Q),Hh=jh||zh||Et.length>0;return qe({loaderData:Ba,errors:Pr},Hh?{fetchers:new Map(b.fetchers)}:{})}function Tr(P,L,I,z){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");M.has(P)&&Hn(P);let X=(z&&z.unstable_flushSync)===!0,de=a||o,ne=mv(b.location,b.matches,l,d.v7_prependBasename,I,d.v7_relativeSplatPath,L,z==null?void 0:z.relative),q=cl(de,ne,l);if(!q){oo(P,L,Xn(404,{pathname:ne}),{flushSync:X});return}let{path:he,submission:le,error:Tt}=C1(d.v7_normalizeFormMethod,!0,ne,z);if(Tt){oo(P,L,Tt,{flushSync:X});return}let kt=yv(q,he);if(O=(z&&z.preventScrollReset)===!0,le&&Er(le.formMethod)){Oa(P,L,he,kt,q,X,le);return}fe.set(P,{routeId:L,path:he}),Dg(P,L,he,kt,q,X,le)}async function Oa(P,L,I,z,X,de,ne){if(Tc(),fe.delete(P),!z.route.action&&!z.route.lazy){let Pt=Xn(405,{method:ne.formMethod,pathname:I,routeId:L});oo(P,L,Pt,{flushSync:de});return}let q=b.fetchers.get(P);kr(P,Qk(ne,q),{flushSync:de});let he=new AbortController,le=$a(n.history,I,he.signal,ne);M.set(P,he);let Tt=W,se=(await io("action",le,[z],X))[0];if(le.signal.aborted){M.get(P)===he&&M.delete(P);return}if(d.v7_fetcherPersist&&Ie.has(P)){if(Eo(se)||Qn(se)){kr(P,rs(void 0));return}}else{if(Eo(se))if(M.delete(P),Q>Tt){kr(P,rs(void 0));return}else return ee.add(P),kr(P,zc(ne)),ro(le,se,{fetcherSubmission:ne});if(Qn(se)){oo(P,L,se.error);return}}if(wo(se))throw Xn(400,{type:"defer-action"});let Ve=b.navigation.location||b.location,Et=$a(n.history,Ve,he.signal),kc=a||o,es=b.navigation.state!=="idle"?cl(kc,b.navigation.location,l):b.matches;ve(es,"Didn't find any matches after fetcher action");let za=++W;ae.set(P,za);let Ha=zc(ne,se.data);b.fetchers.set(P,Ha);let[Ba,Pr]=T1(n.history,b,es,ne,Ve,!1,d.unstable_skipActionErrorRevalidation,te,ce,B,Ie,fe,ee,kc,l,[z.route.id,se]);Pr.filter(Pt=>Pt.key!==P).forEach(Pt=>{let Pc=Pt.key,hw=b.fetchers.get(Pc),Px=zc(void 0,hw?hw.data:void 0);b.fetchers.set(Pc,Px),M.has(Pc)&&Hn(Pc),Pt.controller&&M.set(Pc,Pt.controller)}),ut({fetchers:new Map(b.fetchers)});let jh=()=>Pr.forEach(Pt=>Hn(Pt.key));he.signal.addEventListener("abort",jh);let{loaderResults:zh,fetcherResults:Hh}=await so(b.matches,es,Ba,Pr,Et);if(he.signal.aborted)return;he.signal.removeEventListener("abort",jh),ae.delete(P),M.delete(P),Pr.forEach(Pt=>M.delete(Pt.key));let _e=N1([...zh,...Hh]);if(_e){if(_e.idx>=Ba.length){let Pt=Pr[_e.idx-Ba.length].key;ee.add(Pt)}return ro(Et,_e.result)}let{loaderData:Yt,errors:Bn}=M1(b,b.matches,Ba,zh,void 0,Pr,Hh,ge);if(b.fetchers.has(P)){let Pt=rs(se.data);b.fetchers.set(P,Pt)}aw(za),b.navigation.state==="loading"&&za>Q?(ve(R,"Expected pending action"),N&&N.abort(),dt(b.navigation.location,{matches:es,loaderData:Yt,errors:Bn,fetchers:new Map(b.fetchers)})):(ut({errors:Bn,loaderData:D1(b.loaderData,Yt,es,Bn),fetchers:new Map(b.fetchers)}),te=!1)}async function Dg(P,L,I,z,X,de,ne){let q=b.fetchers.get(P);kr(P,zc(ne,q?q.data:void 0),{flushSync:de});let he=new AbortController,le=$a(n.history,I,he.signal);M.set(P,he);let Tt=W,se=(await io("loader",le,[z],X))[0];if(wo(se)&&(se=await GS(se,le.signal,!0)||se),M.get(P)===he&&M.delete(P),!le.signal.aborted){if(Ie.has(P)){kr(P,rs(void 0));return}if(Eo(se))if(Q>Tt){kr(P,rs(void 0));return}else{ee.add(P),await ro(le,se);return}if(Qn(se)){oo(P,L,se.error);return}ve(!wo(se),"Unhandled fetcher deferred data"),kr(P,rs(se.data))}}async function ro(P,L,I){let{submission:z,fetcherSubmission:X,replace:de}=I===void 0?{}:I;L.response.headers.has("X-Remix-Revalidate")&&(te=!0);let ne=L.response.headers.get("Location");ve(ne,"Expected a Location header on the redirect Response"),ne=R1(ne,new URL(P.url),l);let q=Hu(b.location,ne,{_isRedirect:!0});if(t){let Ve=!1;if(L.response.headers.has("X-Remix-Reload-Document"))Ve=!0;else if(H0.test(ne)){const Et=n.history.createURL(ne);Ve=Et.origin!==e.location.origin||Cc(Et.pathname,l)==null}if(Ve){de?e.location.replace(ne):e.location.assign(ne);return}}N=null;let he=de===!0?at.Replace:at.Push,{formMethod:le,formAction:Tt,formEncType:kt}=b.navigation;!z&&!X&&le&&Tt&&kt&&(z=j1(b.navigation));let se=z||X;if(Dk.has(L.response.status)&&se&&Er(se.formMethod))await Se(he,q,{submission:qe({},se,{formAction:ne}),preventScrollReset:O});else{let Ve=um(q,z);await Se(he,q,{overrideNavigation:Ve,fetcherSubmission:X,preventScrollReset:O})}}async function io(P,L,I,z){try{let X=await Bk(u,P,L,I,z,s,i);return await Promise.all(X.map((de,ne)=>{if(Xk(de)){let q=de.result;return{type:We.redirect,response:Vk(q,L,I[ne].route.id,z,l,d.v7_relativeSplatPath)}}return $k(de)}))}catch(X){return I.map(()=>({type:We.error,error:X}))}}async function so(P,L,I,z,X){let[de,...ne]=await Promise.all([I.length?io("loader",X,I,L):[],...z.map(q=>{if(q.matches&&q.match&&q.controller){let he=$a(n.history,q.path,q.controller.signal);return io("loader",he,[q.match],q.matches).then(le=>le[0])}else return Promise.resolve({type:We.error,error:Xn(404,{pathname:q.path})})})]);return await Promise.all([O1(P,I,de,de.map(()=>X.signal),!1,b.loaderData),O1(P,z.map(q=>q.match),ne,z.map(q=>q.controller?q.controller.signal:null),!0)]),{loaderResults:de,fetcherResults:ne}}function Tc(){te=!0,ce.push(...Fg()),fe.forEach((P,L)=>{M.has(L)&&(B.push(L),Hn(L))})}function kr(P,L,I){I===void 0&&(I={}),b.fetchers.set(P,L),ut({fetchers:new Map(b.fetchers)},{flushSync:(I&&I.flushSync)===!0})}function oo(P,L,I,z){z===void 0&&(z={});let X=yu(b.matches,L);ja(P),ut({errors:{[X.route.id]:I},fetchers:new Map(b.fetchers)},{flushSync:(z&&z.flushSync)===!0})}function Nh(P){return d.v7_fetcherPersist&&(pe.set(P,(pe.get(P)||0)+1),Ie.has(P)&&Ie.delete(P)),b.fetchers.get(P)||Fk}function ja(P){let L=b.fetchers.get(P);M.has(P)&&!(L&&L.state==="loading"&&ae.has(P))&&Hn(P),fe.delete(P),ae.delete(P),ee.delete(P),Ie.delete(P),b.fetchers.delete(P)}function Zi(P){if(d.v7_fetcherPersist){let L=(pe.get(P)||0)-1;L<=0?(pe.delete(P),Ie.add(P)):pe.set(P,L)}else ja(P);ut({fetchers:new Map(b.fetchers)})}function Hn(P){let L=M.get(P);ve(L,"Expected fetch controller: "+P),L.abort(),M.delete(P)}function ni(P){for(let L of P){let I=Nh(L),z=rs(I.data);b.fetchers.set(L,z)}}function ow(){let P=[],L=!1;for(let I of ee){let z=b.fetchers.get(I);ve(z,"Expected fetcher: "+I),z.state==="loading"&&(ee.delete(I),P.push(I),L=!0)}return ni(P),L}function aw(P){let L=[];for(let[I,z]of ae)if(z<P){let X=b.fetchers.get(I);ve(X,"Expected fetcher: "+I),X.state==="loading"&&(Hn(I),ae.delete(I),L.push(I))}return ni(L),L.length>0}function xx(P,L){let I=b.blockers.get(P)||jc;return Z.get(P)!==L&&Z.set(P,L),I}function lw(P){b.blockers.delete(P),Z.delete(P)}function Oh(P,L){let I=b.blockers.get(P)||jc;ve(I.state==="unblocked"&&L.state==="blocked"||I.state==="blocked"&&L.state==="blocked"||I.state==="blocked"&&L.state==="proceeding"||I.state==="blocked"&&L.state==="unblocked"||I.state==="proceeding"&&L.state==="unblocked","Invalid blocker state transition: "+I.state+" -> "+L.state);let z=new Map(b.blockers);z.set(P,L),ut({blockers:z})}function cw(P){let{currentLocation:L,nextLocation:I,historyAction:z}=P;if(Z.size===0)return;Z.size>1&&Ac(!1,"A router only supports one blocker at a time");let X=Array.from(Z.entries()),[de,ne]=X[X.length-1],q=b.blockers.get(de);if(!(q&&q.state==="proceeding")&&ne({currentLocation:L,nextLocation:I,historyAction:z}))return de}function Fg(P){let L=[];return ge.forEach((I,z)=>{(!P||P(z))&&(I.cancel(),L.push(z),ge.delete(z))}),L}function Cx(P,L,I){if(p=P,v=L,g=I||null,!_&&b.navigation===cm){_=!0;let z=dw(b.location,b.matches);z!=null&&ut({restoreScrollPosition:z})}return()=>{p=null,v=null,g=null}}function uw(P,L){return g&&g(P,L.map(z=>uk(z,b.loaderData)))||P.key}function Tx(P,L){if(p&&v){let I=uw(P,L);p[I]=v()}}function dw(P,L){if(p){let I=uw(P,L),z=p[I];if(typeof z=="number")return z}return null}function kx(P){s={},a=gv(P,i,void 0,s)}return k={get basename(){return l},get future(){return d},get state(){return b},get routes(){return o},get window(){return e},initialize:ti,subscribe:no,enableScrollRestoration:Cx,navigate:Sn,fetch:Tr,revalidate:Cr,createHref:P=>n.history.createHref(P),encodeLocation:P=>n.history.encodeLocation(P),getFetcher:Nh,deleteFetcher:Zi,dispose:$e,getBlocker:xx,deleteBlocker:lw,_internalFetchControllers:M,_internalActiveDeferreds:ge,_internalSetRoutes:kx},k}function Ok(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function mv(n,e,t,r,i,s,o,a){let l,u;if(o){l=[];for(let h of e)if(l.push(h),h.route.id===o){u=h;break}}else l=e,u=e[e.length-1];let d=O0(i||".",N0(l,s),Cc(n.pathname,t)||n.pathname,a==="path");return i==null&&(d.search=n.search,d.hash=n.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!B0(d.search)&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),r&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Bi([t,d.pathname])),ba(d)}function C1(n,e,t,r){if(!r||!Ok(r))return{path:t};if(r.formMethod&&!qk(r.formMethod))return{path:t,error:Xn(405,{method:r.formMethod})};let i=()=>({path:t,error:Xn(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=n?s.toUpperCase():s.toLowerCase(),a=VS(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Er(o))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,g)=>{let[v,_]=g;return""+p+v+"="+_+`
`},""):String(r.body);return{path:t,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!Er(o))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}ve(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=vv(r.formData),u=r.formData;else if(r.body instanceof FormData)l=vv(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=L1(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=L1(l)}catch{return i()}let d={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Er(d.formMethod))return{path:t,submission:d};let h=Zs(t);return e&&h.search&&B0(h.search)&&l.append("index",""),h.search="?"+l,{path:ba(h),submission:d}}function jk(n,e){let t=n;if(e){let r=n.findIndex(i=>i.route.id===e);r>=0&&(t=n.slice(0,r))}return t}function T1(n,e,t,r,i,s,o,a,l,u,d,h,f,p,g,v){let _=v?Qn(v[1])?v[1].error:v[1].data:void 0,m=n.createURL(e.location),y=n.createURL(i),A=v&&Qn(v[1])?v[0]:void 0,x=A?jk(t,A):t,C=v?v[1].statusCode:void 0,k=o&&C&&C>=400,b=x.filter((O,N)=>{let{route:F}=O;if(F.lazy)return!0;if(F.loader==null)return!1;if(s)return typeof F.loader!="function"||F.loader.hydrate?!0:e.loaderData[F.id]===void 0&&(!e.errors||e.errors[F.id]===void 0);if(zk(e.loaderData,e.matches[N],O)||l.some(V=>V===O.route.id))return!0;let K=e.matches[N],H=O;return k1(O,qe({currentUrl:m,currentParams:K.params,nextUrl:y,nextParams:H.params},r,{actionResult:_,unstable_actionStatus:C,defaultShouldRevalidate:k?!1:a||m.pathname+m.search===y.pathname+y.search||m.search!==y.search||$S(K,H)}))}),R=[];return h.forEach((O,N)=>{if(s||!t.some(te=>te.route.id===O.routeId)||d.has(N))return;let F=cl(p,O.path,g);if(!F){R.push({key:N,routeId:O.routeId,path:O.path,matches:null,match:null,controller:null});return}let K=e.fetchers.get(N),H=yv(F,O.path),V=!1;f.has(N)?V=!1:u.includes(N)?V=!0:K&&K.state!=="idle"&&K.data===void 0?V=a:V=k1(H,qe({currentUrl:m,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:t[t.length-1].params},r,{actionResult:_,unstable_actionStatus:C,defaultShouldRevalidate:k?!1:a})),V&&R.push({key:N,routeId:O.routeId,path:O.path,matches:F,match:H,controller:new AbortController})}),[b,R]}function zk(n,e,t){let r=!e||t.route.id!==e.route.id,i=n[t.route.id]===void 0;return r||i}function $S(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function k1(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}async function P1(n,e,t){if(!n.lazy)return;let r=await n.lazy();if(!n.lazy)return;let i=t[n.id];ve(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";Ac(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!lk.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,qe({},e(i),{lazy:void 0}))}function Hk(n){return Promise.all(n.matches.map(e=>e.resolve()))}async function Bk(n,e,t,r,i,s,o,a){let l=r.reduce((h,f)=>h.add(f.route.id),new Set),u=new Set,d=await n({matches:i.map(h=>{let f=l.has(h.route.id);return qe({},h,{shouldLoad:f,resolve:g=>(u.add(h.route.id),f?Uk(e,t,h,s,o,g,a):Promise.resolve({type:We.data,result:void 0}))})}),request:t,params:i[0].params,context:a});return i.forEach(h=>ve(u.has(h.route.id),'`match.resolve()` was not called for route id "'+h.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),d.filter((h,f)=>l.has(i[f].route.id))}async function Uk(n,e,t,r,i,s,o){let a,l,u=d=>{let h,f=new Promise((v,_)=>h=_);l=()=>h(),e.signal.addEventListener("abort",l);let p=v=>typeof d!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+n+'" [routeId: '+t.route.id+"]"))):d({request:e,params:t.params,context:o},...v!==void 0?[v]:[]),g;return s?g=s(v=>p(v)):g=(async()=>{try{return{type:"data",result:await p()}}catch(v){return{type:"error",result:v}}})(),Promise.race([g,f])};try{let d=t.route[n];if(t.route.lazy)if(d){let h,[f]=await Promise.all([u(d).catch(p=>{h=p}),P1(t.route,i,r)]);if(h!==void 0)throw h;a=f}else if(await P1(t.route,i,r),d=t.route[n],d)a=await u(d);else if(n==="action"){let h=new URL(e.url),f=h.pathname+h.search;throw Xn(405,{method:e.method,pathname:f,routeId:t.route.id})}else return{type:We.data,result:void 0};else if(d)a=await u(d);else{let h=new URL(e.url),f=h.pathname+h.search;throw Xn(404,{pathname:f})}ve(a.result!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(d){return{type:We.error,result:d}}finally{l&&e.signal.removeEventListener("abort",l)}return a}async function $k(n){let{result:e,type:t,status:r}=n;if(WS(e)){let o;try{let a=e.headers.get("Content-Type");a&&/\bapplication\/json\b/.test(a)?e.body==null?o=null:o=await e.json():o=await e.text()}catch(a){return{type:We.error,error:a}}return t===We.error?{type:We.error,error:new j0(e.status,e.statusText,o),statusCode:e.status,headers:e.headers}:{type:We.data,data:o,statusCode:e.status,headers:e.headers}}if(t===We.error)return{type:We.error,error:e,statusCode:z0(e)?e.status:r};if(Kk(e)){var i,s;return{type:We.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((s=e.init)==null?void 0:s.headers)&&new Headers(e.init.headers)}}return{type:We.data,data:e,statusCode:r}}function Vk(n,e,t,r,i,s){let o=n.headers.get("Location");if(ve(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!H0.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===t)+1);o=mv(new URL(e.url),a,i,!0,o,s),n.headers.set("Location",o)}return n}function R1(n,e,t){if(H0.test(n)){let r=n,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Cc(i.pathname,t)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return n}function $a(n,e,t,r){let i=n.createURL(VS(e)).toString(),s={signal:t};if(r&&Er(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=vv(r.formData):s.body=r.formData}return new Request(i,s)}function vv(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function L1(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function Wk(n,e,t,r,i,s){let o={},a=null,l,u=!1,d={},h=r&&Qn(r[1])?r[1].error:void 0;return t.forEach((f,p)=>{let g=e[p].route.id;if(ve(!Eo(f),"Cannot handle redirect results in processLoaderData"),Qn(f)){let v=f.error;h!==void 0&&(v=h,h=void 0),a=a||{};{let _=yu(n,g);a[_.route.id]==null&&(a[_.route.id]=v)}o[g]=void 0,u||(u=!0,l=z0(f.error)?f.error.status:500),f.headers&&(d[g]=f.headers)}else wo(f)?(i.set(g,f.deferredData),o[g]=f.deferredData.data,f.statusCode!=null&&f.statusCode!==200&&!u&&(l=f.statusCode),f.headers&&(d[g]=f.headers)):(o[g]=f.data,f.statusCode&&f.statusCode!==200&&!u&&(l=f.statusCode),f.headers&&(d[g]=f.headers))}),h!==void 0&&r&&(a={[r[0]]:h},o[r[0]]=void 0),{loaderData:o,errors:a,statusCode:l||200,loaderHeaders:d}}function M1(n,e,t,r,i,s,o,a){let{loaderData:l,errors:u}=Wk(e,t,r,i,a);for(let d=0;d<s.length;d++){let{key:h,match:f,controller:p}=s[d];ve(o!==void 0&&o[d]!==void 0,"Did not find corresponding fetcher result");let g=o[d];if(!(p&&p.signal.aborted))if(Qn(g)){let v=yu(n.matches,f==null?void 0:f.route.id);u&&u[v.route.id]||(u=qe({},u,{[v.route.id]:g.error})),n.fetchers.delete(h)}else if(Eo(g))ve(!1,"Unhandled fetcher revalidation redirect");else if(wo(g))ve(!1,"Unhandled fetcher deferred data");else{let v=rs(g.data);n.fetchers.set(h,v)}}return{loaderData:l,errors:u}}function D1(n,e,t,r){let i=qe({},e);for(let s of t){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):n[o]!==void 0&&s.route.loader&&(i[o]=n[o]),r&&r.hasOwnProperty(o))break}return i}function F1(n){return n?Qn(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function yu(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function I1(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Xn(n,e){let{pathname:t,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return n===400?(o="Bad Request",i&&t&&r?a="You made a "+i+' request to "'+t+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?a="defer() is not supported in actions":s==="invalid-body"&&(a="Unable to encode submission body")):n===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+t+'"'):n===404?(o="Not Found",a='No route matches URL "'+t+'"'):n===405&&(o="Method Not Allowed",i&&t&&r?a="You made a "+i.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new j0(n||500,o,new Error(a),!0)}function N1(n){for(let e=n.length-1;e>=0;e--){let t=n[e];if(Eo(t))return{result:t,idx:e}}}function VS(n){let e=typeof n=="string"?Zs(n):n;return ba(qe({},e,{hash:""}))}function Gk(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function Xk(n){return WS(n.result)&&Mk.has(n.result.status)}function wo(n){return n.type===We.deferred}function Qn(n){return n.type===We.error}function Eo(n){return(n&&n.type)===We.redirect}function Kk(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function WS(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function qk(n){return Lk.has(n.toLowerCase())}function Er(n){return Pk.has(n.toLowerCase())}async function O1(n,e,t,r,i,s){for(let o=0;o<t.length;o++){let a=t[o],l=e[o];if(!l)continue;let u=n.find(h=>h.route.id===l.route.id),d=u!=null&&!$S(u,l)&&(s&&s[l.route.id])!==void 0;if(wo(a)&&(i||d)){let h=r[o];ve(h,"Expected an AbortSignal for revalidating fetcher deferred result"),await GS(a,h,i).then(f=>{f&&(t[o]=f||t[o])})}}}async function GS(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:We.data,data:n.deferredData.unwrappedData}}catch(i){return{type:We.error,error:i}}return{type:We.data,data:n.deferredData.data}}}function B0(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function yv(n,e){let t=typeof e=="string"?Zs(e).search:e.search;if(n[n.length-1].route.index&&B0(t||""))return n[n.length-1];let r=HS(n);return r[r.length-1]}function j1(n){let{formMethod:e,formAction:t,formEncType:r,text:i,formData:s,json:o}=n;if(!(!e||!t||!r)){if(i!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:t,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:o,text:void 0}}}function um(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Yk(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function zc(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Qk(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function rs(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function Jk(n,e){try{let t=n.sessionStorage.getItem(US);if(t){let r=JSON.parse(t);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function Zk(n,e){if(e.size>0){let t={};for(let[r,i]of e)t[r]=[...i];try{n.sessionStorage.setItem(US,JSON.stringify(t))}catch(r){Ac(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ap(){return Ap=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ap.apply(this,arguments)}const pg=T.createContext(null),XS=T.createContext(null),Da=T.createContext(null),U0=T.createContext(null),eo=T.createContext({outlet:null,matches:[],isDataRoute:!1}),KS=T.createContext(null);function eP(n,e){let{relative:t}=e===void 0?{}:e;Th()||ve(!1);let{basename:r,navigator:i}=T.useContext(Da),{hash:s,pathname:o,search:a}=YS(n,{relative:t}),l=o;return r!=="/"&&(l=o==="/"?r:Bi([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Th(){return T.useContext(U0)!=null}function kh(){return Th()||ve(!1),T.useContext(U0).location}function qS(n){T.useContext(Da).static||T.useLayoutEffect(n)}function tP(){let{isDataRoute:n}=T.useContext(eo);return n?gP():nP()}function nP(){Th()||ve(!1);let n=T.useContext(pg),{basename:e,future:t,navigator:r}=T.useContext(Da),{matches:i}=T.useContext(eo),{pathname:s}=kh(),o=JSON.stringify(N0(i,t.v7_relativeSplatPath)),a=T.useRef(!1);return qS(()=>{a.current=!0}),T.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=O0(u,JSON.parse(o),s,d.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Bi([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,n])}const rP=T.createContext(null);function iP(n){let e=T.useContext(eo).outlet;return e&&T.createElement(rP.Provider,{value:n},e)}function YS(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=T.useContext(Da),{matches:i}=T.useContext(eo),{pathname:s}=kh(),o=JSON.stringify(N0(i,r.v7_relativeSplatPath));return T.useMemo(()=>O0(n,JSON.parse(o),s,t==="path"),[n,o,s,t])}function sP(n,e,t,r){Th()||ve(!1);let{navigator:i}=T.useContext(Da),{matches:s}=T.useContext(eo),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=kh(),d;d=u;let h=d.pathname||"/",f=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let p=cl(n,{pathname:f});return uP(p&&p.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:Bi([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Bi([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,t,r)}function oP(){let n=pP(),e=z0(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),t?T.createElement("pre",{style:i},t):null,null)}const aP=T.createElement(oP,null);class lP extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?T.createElement(eo.Provider,{value:this.props.routeContext},T.createElement(KS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function cP(n){let{routeContext:e,match:t,children:r}=n,i=T.useContext(pg);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),T.createElement(eo.Provider,{value:e},r)}function uP(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var s;if((s=t)!=null&&s.errors)n=t.matches;else return null}let o=n,a=(i=t)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||ve(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(t&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=t,g=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,g=!1,v=null,_=null;t&&(p=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||aP,l&&(u<0&&f===0?(mP("route-fallback"),g=!0,_=null):u===f&&(g=!0,_=h.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,f+1)),y=()=>{let A;return p?A=v:g?A=_:h.route.Component?A=T.createElement(h.route.Component,null):h.route.element?A=h.route.element:A=d,T.createElement(cP,{match:h,routeContext:{outlet:d,matches:m,isDataRoute:t!=null},children:A})};return t&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?T.createElement(lP,{location:t.location,revalidation:t.revalidation,component:v,error:p,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()},null)}var QS=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(QS||{}),Sp=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(Sp||{});function dP(n){let e=T.useContext(pg);return e||ve(!1),e}function hP(n){let e=T.useContext(XS);return e||ve(!1),e}function fP(n){let e=T.useContext(eo);return e||ve(!1),e}function JS(n){let e=fP(),t=e.matches[e.matches.length-1];return t.route.id||ve(!1),t.route.id}function pP(){var n;let e=T.useContext(KS),t=hP(Sp.UseRouteError),r=JS(Sp.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function gP(){let{router:n}=dP(QS.UseNavigateStable),e=JS(Sp.UseNavigateStable),t=T.useRef(!1);return qS(()=>{t.current=!0}),T.useCallback(function(i,s){s===void 0&&(s={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,Ap({fromRouteId:e},s)))},[n,e])}const z1={};function mP(n,e,t){z1[n]||(z1[n]=!0)}function vP(n){return iP(n.context)}function yP(n){let{basename:e="/",children:t=null,location:r,navigationType:i=at.Pop,navigator:s,static:o=!1,future:a}=n;Th()&&ve(!1);let l=e.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:l,navigator:s,static:o,future:Ap({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Zs(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:g="default"}=r,v=T.useMemo(()=>{let _=Cc(d,l);return _==null?null:{location:{pathname:_,search:h,hash:f,state:p,key:g},navigationType:i}},[l,d,h,f,p,g,i]);return v==null?null:T.createElement(Da.Provider,{value:u},T.createElement(U0.Provider,{children:t,value:v}))}new Promise(()=>{});function wP(n){let e={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(e,{element:T.createElement(n.Component),Component:void 0}),n.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:T.createElement(n.HydrateFallback),HydrateFallback:void 0}),n.ErrorBoundary&&Object.assign(e,{errorElement:T.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bu(){return Bu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Bu.apply(this,arguments)}function EP(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function AP(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function SP(n,e){return n.button===0&&(!e||e==="_self")&&!AP(n)}const _P=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],bP="6";try{window.__reactRouterVersion=bP}catch{}function xP(n,e){return Nk({basename:void 0,future:Bu({},void 0,{v7_prependBasename:!0}),history:sk({window:void 0}),hydrationData:CP(),routes:n,mapRouteProperties:wP,unstable_dataStrategy:void 0,window:void 0}).initialize()}function CP(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=Bu({},e,{errors:TP(e.errors)})),e}function TP(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")t[r]=new j0(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",t[r]=o}catch{}}if(t[r]==null){let s=new Error(i.message);s.stack="",t[r]=s}}else t[r]=i;return t}const kP=T.createContext({isTransitioning:!1}),PP=T.createContext(new Map),RP="startTransition",H1=Am[RP],LP="flushSync",B1=ik[LP];function MP(n){H1?H1(n):n()}function Hc(n){B1?B1(n):n()}class DP{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}}function FP(n){let{fallbackElement:e,router:t,future:r}=n,[i,s]=T.useState(t.state),[o,a]=T.useState(),[l,u]=T.useState({isTransitioning:!1}),[d,h]=T.useState(),[f,p]=T.useState(),[g,v]=T.useState(),_=T.useRef(new Map),{v7_startTransition:m}=r||{},y=T.useCallback(b=>{m?MP(b):b()},[m]),A=T.useCallback((b,R)=>{let{deletedFetchers:O,unstable_flushSync:N,unstable_viewTransitionOpts:F}=R;O.forEach(H=>_.current.delete(H)),b.fetchers.forEach((H,V)=>{H.data!==void 0&&_.current.set(V,H.data)});let K=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!F||K){N?Hc(()=>s(b)):y(()=>s(b));return}if(N){Hc(()=>{f&&(d&&d.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:F.currentLocation,nextLocation:F.nextLocation})});let H=t.window.document.startViewTransition(()=>{Hc(()=>s(b))});H.finished.finally(()=>{Hc(()=>{h(void 0),p(void 0),a(void 0),u({isTransitioning:!1})})}),Hc(()=>p(H));return}f?(d&&d.resolve(),f.skipTransition(),v({state:b,currentLocation:F.currentLocation,nextLocation:F.nextLocation})):(a(b),u({isTransitioning:!0,flushSync:!1,currentLocation:F.currentLocation,nextLocation:F.nextLocation}))},[t.window,f,d,_,y]);T.useLayoutEffect(()=>t.subscribe(A),[t,A]),T.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new DP)},[l]),T.useEffect(()=>{if(d&&o&&t.window){let b=o,R=d.promise,O=t.window.document.startViewTransition(async()=>{y(()=>s(b)),await R});O.finished.finally(()=>{h(void 0),p(void 0),a(void 0),u({isTransitioning:!1})}),p(O)}},[y,o,d,t.window]),T.useEffect(()=>{d&&o&&i.location.key===o.location.key&&d.resolve()},[d,f,i.location,o]),T.useEffect(()=>{!l.isTransitioning&&g&&(a(g.state),u({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),v(void 0))},[l.isTransitioning,g]),T.useEffect(()=>{},[]);let x=T.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:b=>t.navigate(b),push:(b,R,O)=>t.navigate(b,{state:R,preventScrollReset:O==null?void 0:O.preventScrollReset}),replace:(b,R,O)=>t.navigate(b,{replace:!0,state:R,preventScrollReset:O==null?void 0:O.preventScrollReset})}),[t]),C=t.basename||"/",k=T.useMemo(()=>({router:t,navigator:x,static:!1,basename:C}),[t,x,C]);return T.createElement(T.Fragment,null,T.createElement(pg.Provider,{value:k},T.createElement(XS.Provider,{value:i},T.createElement(PP.Provider,{value:_.current},T.createElement(kP.Provider,{value:l},T.createElement(yP,{basename:C,location:i.location,navigationType:i.historyAction,navigator:x,future:{v7_relativeSplatPath:t.future.v7_relativeSplatPath}},i.initialized||t.future.v7_partialHydration?T.createElement(IP,{routes:t.routes,future:t.future,state:i}):e))))),null)}function IP(n){let{routes:e,future:t,state:r}=n;return sP(e,void 0,r,t)}const NP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ZS=T.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d,unstable_viewTransition:h}=e,f=EP(e,_P),{basename:p}=T.useContext(Da),g,v=!1;if(typeof u=="string"&&OP.test(u)&&(g=u,NP))try{let A=new URL(window.location.href),x=u.startsWith("//")?new URL(A.protocol+u):new URL(u),C=Cc(x.pathname,p);x.origin===A.origin&&C!=null?u=C+x.search+x.hash:v=!0}catch{}let _=eP(u,{relative:i}),m=jP(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,unstable_viewTransition:h});function y(A){r&&r(A),A.defaultPrevented||m(A)}return T.createElement("a",Bu({},f,{href:g||_,onClick:v||s?r:y,ref:t,target:l}))});var U1;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(U1||(U1={}));var $1;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})($1||($1={}));function jP(n,e){let{target:t,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=tP(),u=kh(),d=YS(n,{relative:o});return T.useCallback(h=>{if(SP(h,t)){h.preventDefault();let f=r!==void 0?r:ba(u)===ba(d);l(n,{replace:f,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,d,r,i,t,n,s,o,a])}const zP=()=>D.jsxs(D.Fragment,{children:[D.jsx("div",{className:"mx-auto mb-[40px] h-[213px] w-[213px] overflow-hidden rounded-full bg-gradient-to-tr from-[#FF8660] to-[#8000FF]",children:D.jsx("img",{src:"/Ruairidh.jpg",alt:"Ruairidh Profile"})}),D.jsx("h1",{className:"max-w-screen-sm text-center text-[55px] font-extrabold text-white",children:D.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-tr from-[#FF8660] to-[#8000FF]",children:"Hey, I'm Ruairidh"})}),D.jsx("p",{className:"mx-auto mt-[40px] mb-[54px] text-[18px] font-light text-[#C5C5C5] text-center max-w-lg",children:"A dedicated software engineer who graduated with a degree in Computer Systems. My professional journey began at a small edTech company immediately after completing my degree. Since then, I have continually sought out opportunities to enhance his skill set and actively contribute to complex software development projects."})]});var e_={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},V1=it.createContext&&it.createContext(e_),HP=["attr","size","title"];function BP(n,e){if(n==null)return{};var t=UP(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function UP(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function _p(){return _p=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_p.apply(this,arguments)}function W1(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function bp(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?W1(Object(t),!0).forEach(function(r){$P(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):W1(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function $P(n,e,t){return e=VP(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function VP(n){var e=WP(n,"string");return typeof e=="symbol"?e:e+""}function WP(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function t_(n){return n&&n.map((e,t)=>it.createElement(e.tag,bp({key:t},e.attr),t_(e.child)))}function Ph(n){return e=>it.createElement(GP,_p({attr:bp({},n.attr)},e),t_(n.child))}function GP(n){var e=t=>{var{attr:r,size:i,title:s}=n,o=BP(n,HP),a=i||t.size||"1em",l;return t.className&&(l=t.className),n.className&&(l=(l?l+" ":"")+n.className),it.createElement("svg",_p({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:l,style:bp(bp({color:n.color||t.color},t.style),n.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&it.createElement("title",null,s),n.children)};return V1!==void 0?it.createElement(V1.Consumer,null,t=>e(t)):e(e_)}function xp(n){return Ph({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(n)}function G1(n){return Ph({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(n)}function XP(n){return Ph({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(n)}function KP(n){return Ph({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm76.45 211.36l-96.42 95.7c-6.65 6.61-17.39 6.61-24.04 0l-96.42-95.7C73.42 337.29 80.54 320 94.82 320H160v-80c0-8.84 7.16-16 16-16h32c8.84 0 16 7.16 16 16v80h65.18c14.28 0 21.4 17.29 11.27 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(n)}function qP(n){return Ph({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm0 394c0 3.3-2.7 6-6 6H54c-3.3 0-6-2.7-6-6V86c0-3.3 2.7-6 6-6h404c3.3 0 6 2.7 6 6v340zM356.5 194.6L295.1 256l61.4 61.4c4.6 4.6 4.6 12.1 0 16.8l-22.3 22.3c-4.6 4.6-12.1 4.6-16.8 0L256 295.1l-61.4 61.4c-4.6 4.6-12.1 4.6-16.8 0l-22.3-22.3c-4.6-4.6-4.6-12.1 0-16.8l61.4-61.4-61.4-61.4c-4.6-4.6-4.6-12.1 0-16.8l22.3-22.3c4.6-4.6 12.1-4.6 16.8 0l61.4 61.4 61.4-61.4c4.6-4.6 12.1-4.6 16.8 0l22.3 22.3c4.7 4.6 4.7 12.1 0 16.8z"},child:[]}]})(n)}const YP=({experience:n})=>{const e=n.description.split(`
`).map((t,r)=>D.jsxs(D.Fragment,{children:[t.replace(/\t/g,"    "),D.jsx("br",{})]},r));return D.jsxs("div",{className:"p-5 rounded-lg bg-slate-800 border border-slate-700 flex items-center mx-auto mb-10 flex-col w-[70%]",children:[D.jsx("div",{className:"flex pb-2 w-full",children:D.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 w-full text-slate-200",children:[D.jsxs("div",{children:[D.jsx("h2",{className:"font-semibold",children:"Client Name"}),D.jsx("p",{className:"text-slate-300",children:n.clientName})]}),D.jsxs("div",{children:[D.jsx("h2",{className:"font-semibold",children:"Role"}),D.jsx("p",{className:"text-slate-300",children:n.role})]}),D.jsxs("div",{children:[D.jsx("h2",{className:"font-semibold",children:"Start Date"}),D.jsx("p",{className:"text-slate-300",children:n.startDate.toLocaleDateString()})]}),D.jsxs("div",{children:[D.jsx("h2",{className:"font-semibold",children:"End Date"}),D.jsx("p",{className:"text-slate-300",children:n.endDate.toLocaleDateString()})]})]})}),D.jsx("p",{className:"leading-relaxed text-base text-slate-300 w-full",children:e}),D.jsx("div",{className:"flex flex-wrap mt-4",children:n.skills.map(t=>D.jsx("span",{className:"text-xs font-medium me-2 px-2.5 py-0.5 my-0.5 rounded bg-slate-700 text-slate-400 border border-slate-500 ",children:t}))})]})},QP=()=>D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"flex gap-4 p-4",children:[D.jsxs("a",{href:"https://www.github.com/ruairidht",target:"_blank",className:"w-32 center relative inline-block select-none whitespace-nowrap rounded-lg bg-slate-700 text-slate-400 border border-slate-500 py-2 px-3.5 align-baseline font-sans text-xs font-bold uppercase leading-none hover:bg-slate-800 cursor-pointer",children:[D.jsx("div",{className:"absolute top-2/4 left-1 h-5 w-5 -translate-y-2/4",children:D.jsx(xp,{size:20})}),D.jsx("div",{className:"ml-4 mt-px",children:"Personal"})]}),D.jsxs("a",{href:"https://www.github.com/ruairidh-bjss",target:"_blank",className:"w-32 center relative inline-block select-none whitespace-nowrap rounded-lg bg-slate-700 text-slate-400 border border-slate-500 py-2 px-3.5 align-baseline font-sans text-xs font-bold uppercase leading-none hover:bg-slate-800 cursor-pointer",children:[D.jsx("div",{className:"absolute top-2/4 left-1 h-5 w-5 -translate-y-2/4",children:D.jsx(xp,{size:20})}),D.jsx("div",{className:"ml-4 mt-px",children:"Work"})]})]}),JP.map(n=>D.jsx(YP,{experience:n}))]}),JP=[{clientName:"Government Agency",role:"Quality Assurance",startDate:new Date(2023,11,28),endDate:new Date(2024,6,7),description:`Ruairidh played a crucial role in a dynamic team, contributing to both front-end and back-end aspects of the project. His efforts spanned comprehensive QA testing for mobile (iOS) and web applications and upgrading essential packages and services within the AWS ecosystem. This dual focus ensured both high-quality user experiences and robust, up-to-date backend infrastructure.
      
      - Conducted both automated and manual QA testing for the iOS mobile application.
      - Performed manual web application testing to ensure a seamless user experience.
      - Upgraded various packages and dependencies, including:
          - Lamda Upgrades to the latest version of AWS SDK
          - Node.js version
      - Conducted QA testing for AWS service upgrades (CloudWatch, SQS, SNS, Lambda, S3, DynamoDB).
      - Collaborated closely with a team of four developers, ensuring code integrity and robustness during package upgrades.`,skills:["AWS","AWS SDK","Amazon S3","AWS Lambda","AWS CloudWatch","AWS DynamoDB","TypeScript","Node.js","iOS Testing","Manual Testing"]},{clientName:"Internal AI Project",role:"Software Engineer",startDate:new Date(2023,6,3),endDate:new Date(2023,10,27),description:`In the project, Ruairidh played a pivotal role in the front-end development, with a specific focus on enhancing the user interface and user experience. This critical work was conducted using React and TypeScript, ensuring a robust and efficient development process.

His responsibilities encompassed a wide range of tasks, including:
 - New Component Creation: Ruairidh created essential new components to improve user interactions.
 - Recoil Atom Implementation: He efficiently managed application state using Recoil atoms for a responsive user experience.
 - Tailwind CSS Styling: Ruairidh used Tailwind CSS to enhance the visual design and ensure a consistent user interface.
 - Bug Resolution: He identified and fixed front-end bugs, ensuring system stability.
 - Vitest Testing: Ruairidh conducted thorough testing with Vitest to guarantee functionality and reliability.
 - Integration with Cognitive Search and OpenAI: He seamlessly integrated the front-end with Azure Cognitive Search and OpenAI, enabling advanced data management and analysis.`,skills:["AI","React","TypeScript","API","TailwindCSS","Vite","Vitest","Recoil","Github","git","actions","MSAL"]},{clientName:"Financial Trading",role:"Software Engineer",startDate:new Date(2023,2,1),endDate:new Date(2023,5,30),description:`The project involved the development of three single-page applications within a global team, fostering collaboration across different locations and centered around React and TypeScript. One of these applications served as the primary platform for foreign currency trading, while the remaining two focused on trade monitoring and amendments. Ruairidh joined the front-end team during the latter stages of the project, quickly integrating into the global team and contributing to its success, particularly in React and TypeScript-based front-end development.

Ruairidh's specific responsibilities encompassed:
- Swiftly developing reusable components that could be effectively utilised across all three applications by leveraging packages.
- Ensuring the stability of the applications by writing comprehensive tests using Vitest.
- Effectively addressing and resolving any identified bugs or issues.
- Upholding the project's design principles and leveraging the existing UI Framework.
- Actively participating in Agile development practices such as stand-ups, retrospectives, and demos.`,skills:["React","TypeScript","HTML","CSS","WebSockets","Vite","Vitest","Recoil","Swagger","GitLab"]},{clientName:"Government Agency",role:"Quality Assurance",startDate:new Date(2023,0,26),endDate:new Date(2024,1,28),description:`Upon rejoining the project, Ruairidh resumed his role as a front-end developer, contributing to the continued development of the web application. In addition to his previous responsibilities, he also took on user acceptance testing and bug-finding tasks, which involved:

- Performing user acceptance testing to ensure the application met client requirements and specifications.
- Identifying and reporting bugs using issue-tracking tools such as Jira, and working with the development team to resolve them.`,skills:["Jenkins","HTML","TypeScript","DynamoDB","Jest","Angular"]},{clientName:"Bench Project",role:"Software Engineer",startDate:new Date(2022,11,5),endDate:new Date(2023,0,25),description:`Ruairidh was a key contributor to a small, dedicated team of developers tasked with developing a web-based scorekeeping application. This application, built using React, TypeScript, Azure Functions, and Prisma, serves as a versatile tool for tracking scores in various games, including pool, table tennis, and darts.

Within the team, Ruairidh took on significant responsibilities, including designing and implementing new features, creating new pages, and addressing bugs within the application.

Furthermore, the team aimed to roll out the application company-wide, enabling other offices to use it for score tracking. To achieve this, they ensured the application's security and scalability. Azure Functions were employed to add scalability to the application, ensuring a smooth and responsive user experience as it expanded to serve a broader user base.`,skills:["prisma","Azure Functions","NextJS","React","git","Github","Github Actions","GitHub Copilot"]},{clientName:"Govenment Agency",role:"Software Engineer",startDate:new Date(2022,5,6),endDate:new Date(2022,10,30),description:`This project involved developing a web application that allowed the client to create and modify various vehicle tests. Due to the need for the application to integrate with pre-existing external systems, it presented added complexity.

Ruairidh, as a front-end developer, contributed to the development of new components. The application was developed using Angular and Typescript with Jest testing framework.

His specific responsibilities included:
- Designing and developing re-usable front-end components to be used throughout the website.
- Creating custom form validation that can be reused across the app
- Writing automated tests using Jest
- Deploying, testing, seeding, and deploying the application using Jenkins
- Adhering to government design principles
- Participating in Agile development practices such as stand-ups, retrospectives, and live demos.`,skills:["Angular","NgRx","HTML","CSS","Javascript","TypeScript","AWS","Nexus","git","Github"]},{clientName:"Education Technology",role:"Software Engineer",startDate:new Date(2020,2,2),endDate:new Date(2022,4,27),description:`Ruairidh was part of a team of four developers working on various projects, his responsibilities included:

- Migrating existing components from KnockoutJS to React
- Designing and implementing dynamic and browser-compatible pages using Elixir Phoenix and the web stack
- Maintaining a legacy application developed using ASP.NET C#
- Managing version control using Git and ensuring accurate documentation of changes made.`,skills:["React","KnockoutJS","C#","Elixir","git","Github","HTML","CSS","Javascript"]}],ZP="modulepreload",eR=function(n){return"/"+n},X1={},sf=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.all(t.map(a=>{if(a=eR(a),a in X1)return;X1[a]=!0;const l=a.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${u}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":ZP,l||(d.as="script",d.crossOrigin=""),d.href=a,o&&d.setAttribute("nonce",o),document.head.appendChild(d),l)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var wu={};wu.d=(n,e)=>{for(var t in e)wu.o(e,t)&&!wu.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};wu.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var ie=globalThis.pdfjsLib={};wu.d(ie,{AbortException:()=>Ia,AnnotationEditorLayer:()=>Ry,AnnotationEditorParamsType:()=>oe,AnnotationEditorType:()=>be,AnnotationEditorUIManager:()=>Ca,AnnotationLayer:()=>JL,AnnotationMode:()=>ds,CMapCompressionType:()=>Ev,ColorPicker:()=>Lp,DOMSVGFactory:()=>W0,DrawLayer:()=>Fy,FeatureTest:()=>mn,GlobalWorkerOptions:()=>Ui,ImageKind:()=>xf,InvalidPDFException:()=>r_,MissingPDFException:()=>Fa,OPS:()=>ar,Outliner:()=>dy,PDFDataRangeTransport:()=>q_,PDFDateString:()=>u_,PDFWorker:()=>yl,PasswordResponses:()=>iR,PermissionFlag:()=>rR,PixelsPerInch:()=>Xs,RenderingCancelledException:()=>G0,TextLayer:()=>Pp,UnexpectedResponseException:()=>yg,Util:()=>J,VerbosityLevel:()=>gg,XfaLayer:()=>Q_,build:()=>ML,createValidAbsoluteUrl:()=>lR,fetchData:()=>bg,getDocument:()=>_L,getFilenameFromUrl:()=>yR,getPdfFilenameFromUrl:()=>wR,getXfaPageViewport:()=>ER,isDataScheme:()=>X0,isPdfFile:()=>K0,noContextMenu:()=>An,normalizeUnicode:()=>pR,renderTextLayer:()=>pL,setLayerDimensions:()=>xa,shadow:()=>xe,updateTextLayer:()=>gL,version:()=>LL});const Kt=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),n_=[1,0,0,1,0,0],wv=[.001,0,0,.001,0,0],tR=1e7,dm=1.35,Kn={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},ds={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},nR="pdfjs_internal_editor_",be={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},oe={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},rR={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},$t={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},xf={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ht={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Bc={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},gg={ERRORS:0,WARNINGS:1,INFOS:5},Ev={NONE:0,BINARY:1},ar={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},iR={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let mg=gg.WARNINGS;function sR(n){Number.isInteger(n)&&(mg=n)}function oR(){return mg}function vg(n){mg>=gg.INFOS&&console.log(`Info: ${n}`)}function me(n){mg>=gg.WARNINGS&&console.log(`Warning: ${n}`)}function De(n){throw new Error(n)}function yt(n,e){n||De(e)}function aR(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function lR(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const i=n.match(/\./g);(i==null?void 0:i.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=fR(n)}catch{}}const r=e?new URL(n,e):new URL(n);if(aR(r))return r}catch{}return null}function xe(n,e,t,r=!1){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}const to=function(){function e(t,r){this.constructor===e&&De("Cannot initialize BaseException."),this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class Av extends to{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Sv extends to{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class r_ extends to{constructor(e){super(e,"InvalidPDFException")}}class Fa extends to{constructor(e){super(e,"MissingPDFException")}}class yg extends to{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class cR extends to{constructor(e){super(e,"FormatError")}}class Ia extends to{constructor(e){super(e,"AbortException")}}function i_(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&De("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const r=[];for(let i=0;i<e;i+=t){const s=Math.min(i+t,e),o=n.subarray(i,s);r.push(String.fromCharCode.apply(null,o))}return r.join("")}function wg(n){typeof n!="string"&&De("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=n.charCodeAt(r)&255;return t}function uR(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function $0(n){const e=Object.create(null);for(const[t,r]of n)e[t]=r;return e}function dR(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function hR(){try{return new Function(""),!0}catch{return!1}}class mn{static get isLittleEndian(){return xe(this,"isLittleEndian",dR())}static get isEvalSupported(){return xe(this,"isEvalSupported",hR())}static get isOffscreenCanvasSupported(){return xe(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?xe(this,"platform",{isMac:navigator.platform.includes("Mac")}):xe(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var e,t;return xe(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const hm=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var Vi,Cf,_v;class J{static makeHexColor(e,t,r){return`#${hm[e]}${hm[t]}${hm[r]}`}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const r=e[0]*t[0]+e[1]*t[2]+t[4],i=e[0]*t[1]+e[1]*t[3]+t[5];return[r,i]}static applyInverseTransform(e,t){const r=t[0]*t[3]-t[1]*t[2],i=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/r,s=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/r;return[i,s]}static getAxialAlignedBoundingBox(e,t){const r=this.applyTransform(e,t),i=this.applyTransform(e.slice(2,4),t),s=this.applyTransform([e[0],e[3]],t),o=this.applyTransform([e[2],e[1]],t);return[Math.min(r[0],i[0],s[0],o[0]),Math.min(r[1],i[1],s[1],o[1]),Math.max(r[0],i[0],s[0],o[0]),Math.max(r[1],i[1],s[1],o[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],r=e[0]*t[0]+e[1]*t[2],i=e[0]*t[1]+e[1]*t[3],s=e[2]*t[0]+e[3]*t[2],o=e[2]*t[1]+e[3]*t[3],a=(r+o)/2,l=Math.sqrt((r+o)**2-4*(r*o-s*i))/2,u=a+l||1,d=a-l||1;return[Math.sqrt(u),Math.sqrt(d)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>o?null:[r,s,i,o]}static bezierBoundingBox(e,t,r,i,s,o,a,l,u){return u?(u[0]=Math.min(u[0],e,a),u[1]=Math.min(u[1],t,l),u[2]=Math.max(u[2],e,a),u[3]=Math.max(u[3],t,l)):u=[Math.min(e,a),Math.min(t,l),Math.max(e,a),Math.max(t,l)],E(this,Vi,_v).call(this,e,r,s,a,t,i,o,l,3*(-e+3*(r-s)+a),6*(e-2*r+s),3*(r-e),u),E(this,Vi,_v).call(this,e,r,s,a,t,i,o,l,3*(-t+3*(i-o)+l),6*(t-2*i+o),3*(i-t),u),u}}Vi=new WeakSet,Cf=function(e,t,r,i,s,o,a,l,u,d){if(u<=0||u>=1)return;const h=1-u,f=u*u,p=f*u,g=h*(h*(h*e+3*u*t)+3*f*r)+p*i,v=h*(h*(h*s+3*u*o)+3*f*a)+p*l;d[0]=Math.min(d[0],g),d[1]=Math.min(d[1],v),d[2]=Math.max(d[2],g),d[3]=Math.max(d[3],v)},_v=function(e,t,r,i,s,o,a,l,u,d,h,f){if(Math.abs(u)<1e-12){Math.abs(d)>=1e-12&&E(this,Vi,Cf).call(this,e,t,r,i,s,o,a,l,-h/d,f);return}const p=d**2-4*h*u;if(p<0)return;const g=Math.sqrt(p),v=2*u;E(this,Vi,Cf).call(this,e,t,r,i,s,o,a,l,(-d+g)/v,f),E(this,Vi,Cf).call(this,e,t,r,i,s,o,a,l,(-d-g)/v,f)},S(J,Vi);function fR(n){return decodeURIComponent(escape(n))}let fm=null,K1=null;function pR(n){return fm||(fm=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,K1=new Map([["ﬅ","ſt"]])),n.replaceAll(fm,(e,t,r)=>t?t.normalize("NFKC"):K1.get(r))}function gR(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const n=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(n);else for(let e=0;e<32;e++)n[e]=Math.floor(Math.random()*255);return i_(n)}const s_="pdfjs_internal_id_",ri={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class Eg{constructor(){this.constructor===Eg&&De("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,i,s){return"none"}destroy(e=!1){}}class Ag{constructor(){this.constructor===Ag&&De("Cannot initialize BaseCanvasFactory.")}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d")}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){De("Abstract method `_createCanvas` called.")}}class Sg{constructor({baseUrl:e=null,isCompressed:t=!0}){this.constructor===Sg&&De("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":""),r=this.isCompressed?Ev.BINARY:Ev.NONE;return this._fetchData(t,r).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}_fetchData(e,t){De("Abstract method `_fetchData` called.")}}class _g{constructor({baseUrl:e=null}){this.constructor===_g&&De("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetchData(t).catch(r=>{throw new Error(`Unable to load font data at: ${t}`)})}_fetchData(e){De("Abstract method `_fetchData` called.")}}class V0{constructor(){this.constructor===V0&&De("Cannot initialize BaseSVGFactory.")}create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){De("Abstract method `_createSVG` called.")}}const si="http://www.w3.org/2000/svg",po=class po{};ue(po,"CSS",96),ue(po,"PDF",72),ue(po,"PDF_TO_CSS_UNITS",po.CSS/po.PDF);let Xs=po;var So,Dr,fi,un,Dp,_o,Y,Vt,Wa,Ga,Tf,o_,bv,Xa,Kc,qc,xv,Yc;class mR extends Eg{constructor({docId:t,ownerDocument:r=globalThis.document}={}){super();S(this,Y);S(this,So);S(this,Dr);S(this,fi);S(this,un);S(this,Dp);S(this,_o,0);w(this,fi,t),w(this,un,r)}addFilter(t){if(!t)return"none";let r=c(this,Y,Vt).get(t);if(r)return r;const[i,s,o]=E(this,Y,Tf).call(this,t),a=t.length===1?i:`${i}${s}${o}`;if(r=c(this,Y,Vt).get(a),r)return c(this,Y,Vt).set(t,r),r;const l=`g_${c(this,fi)}_transfer_map_${bn(this,_o)._++}`,u=`url(#${l})`;c(this,Y,Vt).set(t,u),c(this,Y,Vt).set(a,u);const d=E(this,Y,Xa).call(this,l);return E(this,Y,qc).call(this,i,s,o,d),u}addHCMFilter(t,r){var g;const i=`${t}-${r}`,s="base";let o=c(this,Y,Wa).get(s);if((o==null?void 0:o.key)===i||(o?((g=o.filter)==null||g.remove(),o.key=i,o.url="none",o.filter=null):(o={key:i,url:"none",filter:null},c(this,Y,Wa).set(s,o)),!t||!r))return o.url;const a=E(this,Y,Yc).call(this,t);t=J.makeHexColor(...a);const l=E(this,Y,Yc).call(this,r);if(r=J.makeHexColor(...l),c(this,Y,Ga).style.color="",t==="#000000"&&r==="#ffffff"||t===r)return o.url;const u=new Array(256);for(let v=0;v<=255;v++){const _=v/255;u[v]=_<=.03928?_/12.92:((_+.055)/1.055)**2.4}const d=u.join(","),h=`g_${c(this,fi)}_hcm_filter`,f=o.filter=E(this,Y,Xa).call(this,h);E(this,Y,qc).call(this,d,d,d,f),E(this,Y,bv).call(this,f);const p=(v,_)=>{const m=a[v]/255,y=l[v]/255,A=new Array(_+1);for(let x=0;x<=_;x++)A[x]=m+x/_*(y-m);return A.join(",")};return E(this,Y,qc).call(this,p(0,5),p(1,5),p(2,5),f),o.url=`url(#${h})`,o.url}addAlphaFilter(t){let r=c(this,Y,Vt).get(t);if(r)return r;const[i]=E(this,Y,Tf).call(this,[t]),s=`alpha_${i}`;if(r=c(this,Y,Vt).get(s),r)return c(this,Y,Vt).set(t,r),r;const o=`g_${c(this,fi)}_alpha_map_${bn(this,_o)._++}`,a=`url(#${o})`;c(this,Y,Vt).set(t,a),c(this,Y,Vt).set(s,a);const l=E(this,Y,Xa).call(this,o);return E(this,Y,xv).call(this,i,l),a}addLuminosityFilter(t){let r=c(this,Y,Vt).get(t||"luminosity");if(r)return r;let i,s;if(t?([i]=E(this,Y,Tf).call(this,[t]),s=`luminosity_${i}`):s="luminosity",r=c(this,Y,Vt).get(s),r)return c(this,Y,Vt).set(t,r),r;const o=`g_${c(this,fi)}_luminosity_map_${bn(this,_o)._++}`,a=`url(#${o})`;c(this,Y,Vt).set(t,a),c(this,Y,Vt).set(s,a);const l=E(this,Y,Xa).call(this,o);return E(this,Y,o_).call(this,l),t&&E(this,Y,xv).call(this,i,l),a}addHighlightHCMFilter(t,r,i,s,o){var y;const a=`${r}-${i}-${s}-${o}`;let l=c(this,Y,Wa).get(t);if((l==null?void 0:l.key)===a||(l?((y=l.filter)==null||y.remove(),l.key=a,l.url="none",l.filter=null):(l={key:a,url:"none",filter:null},c(this,Y,Wa).set(t,l)),!r||!i))return l.url;const[u,d]=[r,i].map(E(this,Y,Yc).bind(this));let h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),f=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[p,g]=[s,o].map(E(this,Y,Yc).bind(this));f<h&&([h,f,p,g]=[f,h,g,p]),c(this,Y,Ga).style.color="";const v=(A,x,C)=>{const k=new Array(256),b=(f-h)/C,R=A/255,O=(x-A)/(255*C);let N=0;for(let F=0;F<=C;F++){const K=Math.round(h+F*b),H=R+F*O;for(let V=N;V<=K;V++)k[V]=H;N=K+1}for(let F=N;F<256;F++)k[F]=k[N-1];return k.join(",")},_=`g_${c(this,fi)}_hcm_${t}_filter`,m=l.filter=E(this,Y,Xa).call(this,_);return E(this,Y,bv).call(this,m),E(this,Y,qc).call(this,v(p[0],g[0],5),v(p[1],g[1],5),v(p[2],g[2],5),m),l.url=`url(#${_})`,l.url}destroy(t=!1){t&&c(this,Y,Wa).size!==0||(c(this,Dr)&&(c(this,Dr).parentNode.parentNode.remove(),w(this,Dr,null)),c(this,So)&&(c(this,So).clear(),w(this,So,null)),w(this,_o,0))}}So=new WeakMap,Dr=new WeakMap,fi=new WeakMap,un=new WeakMap,Dp=new WeakMap,_o=new WeakMap,Y=new WeakSet,Vt=function(){return c(this,So)||w(this,So,new Map)},Wa=function(){return c(this,Dp)||w(this,Dp,new Map)},Ga=function(){if(!c(this,Dr)){const t=c(this,un).createElement("div"),{style:r}=t;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=c(this,un).createElementNS(si,"svg");i.setAttribute("width",0),i.setAttribute("height",0),w(this,Dr,c(this,un).createElementNS(si,"defs")),t.append(i),i.append(c(this,Dr)),c(this,un).body.append(t)}return c(this,Dr)},Tf=function(t){if(t.length===1){const u=t[0],d=new Array(256);for(let f=0;f<256;f++)d[f]=u[f]/255;const h=d.join(",");return[h,h,h]}const[r,i,s]=t,o=new Array(256),a=new Array(256),l=new Array(256);for(let u=0;u<256;u++)o[u]=r[u]/255,a[u]=i[u]/255,l[u]=s[u]/255;return[o.join(","),a.join(","),l.join(",")]},o_=function(t){const r=c(this,un).createElementNS(si,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(r)},bv=function(t){const r=c(this,un).createElementNS(si,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(r)},Xa=function(t){const r=c(this,un).createElementNS(si,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",t),c(this,Y,Ga).append(r),r},Kc=function(t,r,i){const s=c(this,un).createElementNS(si,r);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),t.append(s)},qc=function(t,r,i,s){const o=c(this,un).createElementNS(si,"feComponentTransfer");s.append(o),E(this,Y,Kc).call(this,o,"feFuncR",t),E(this,Y,Kc).call(this,o,"feFuncG",r),E(this,Y,Kc).call(this,o,"feFuncB",i)},xv=function(t,r){const i=c(this,un).createElementNS(si,"feComponentTransfer");r.append(i),E(this,Y,Kc).call(this,i,"feFuncA",t)},Yc=function(t){return c(this,Y,Ga).style.color=t,q0(getComputedStyle(c(this,Y,Ga)).getPropertyValue("color"))};class vR extends Ag{constructor({ownerDocument:e=globalThis.document}={}){super(),this._document=e}_createCanvas(e,t){const r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}async function bg(n,e="text"){if(Qc(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class a_ extends Sg{_fetchData(e,t){return bg(e,this.isCompressed?"arraybuffer":"text").then(r=>({cMapData:r instanceof ArrayBuffer?new Uint8Array(r):wg(r),compressionType:t}))}}class l_ extends _g{_fetchData(e){return bg(e,"arraybuffer").then(t=>new Uint8Array(t))}}class W0 extends V0{_createSVG(e){return document.createElementNS(si,e)}}class Rh{constructor({viewBox:e,scale:t,rotation:r,offsetX:i=0,offsetY:s=0,dontFlip:o=!1}){this.viewBox=e,this.scale=t,this.rotation=r,this.offsetX=i,this.offsetY=s;const a=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let u,d,h,f;switch(r%=360,r<0&&(r+=360),r){case 180:u=-1,d=0,h=0,f=1;break;case 90:u=0,d=1,h=1,f=0;break;case 270:u=0,d=-1,h=-1,f=0;break;case 0:u=1,d=0,h=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(h=-h,f=-f);let p,g,v,_;u===0?(p=Math.abs(l-e[1])*t+i,g=Math.abs(a-e[0])*t+s,v=(e[3]-e[1])*t,_=(e[2]-e[0])*t):(p=Math.abs(a-e[0])*t+i,g=Math.abs(l-e[1])*t+s,v=(e[2]-e[0])*t,_=(e[3]-e[1])*t),this.transform=[u*t,d*t,h*t,f*t,p-u*t*a-h*t*l,g-d*t*a-f*t*l],this.width=v,this.height=_}get rawDims(){const{viewBox:e}=this;return xe(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new Rh({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){return J.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=J.applyTransform([e[0],e[1]],this.transform),r=J.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){return J.applyInverseTransform([e,t],this.transform)}}class G0 extends to{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function X0(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function K0(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function yR(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function wR(n,e="document.pdf"){if(typeof n!="string")return e;if(X0(n))return me('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=t.exec(n);let s=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(s&&(s=s[0],s.includes("%")))try{s=r.exec(decodeURIComponent(s))[0]}catch{}return s||e}class q1{constructor(){ue(this,"started",Object.create(null));ue(this,"times",[])}time(e){e in this.started&&me(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||me(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:r}of this.times)t=Math.max(r.length,t);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(t)} ${s-i}ms
`);return e.join("")}}function Qc(n,e){try{const{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function An(n){n.preventDefault()}function c_(n){console.log("Deprecated API usage: "+n)}let Y1;class u_{static toDateObject(e){if(!e||typeof e!="string")return null;Y1||(Y1=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=Y1.exec(e);if(!t)return null;const r=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const u=t[7]||"Z";let d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,u==="-"?(o+=d,a+=h):u==="+"&&(o-=d,a-=h),new Date(Date.UTC(r,i,s,o,a,l))}}function ER(n,{scale:e=1,rotation:t=0}){const{width:r,height:i}=n.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new Rh({viewBox:s,scale:e,rotation:t})}function q0(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(me(`Not a valid color format: "${n}"`),[0,0,0])}function AR(n){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of n.keys()){e.style.color=t;const r=window.getComputedStyle(e).color;n.set(t,q0(r))}e.remove()}function Ke(n){const{a:e,b:t,c:r,d:i,e:s,f:o}=n.getTransform();return[e,t,r,i,s,o]}function ii(n){const{a:e,b:t,c:r,d:i,e:s,f:o}=n.getTransform().invertSelf();return[e,t,r,i,s,o]}function xa(n,e,t=!1,r=!0){if(e instanceof Rh){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:o}=n,a=mn.isCSSRoundSupported,l=`var(--scale-factor) * ${i}px`,u=`var(--scale-factor) * ${s}px`,d=a?`round(${l}, 1px)`:`calc(${l})`,h=a?`round(${u}, 1px)`:`calc(${u})`;!t||e.rotation%180===0?(o.width=d,o.height=h):(o.width=h,o.height=d)}r&&n.setAttribute("data-main-rotation",e.rotation)}var bo,xo,Fr,Co,Fp,d_,sn,h_,f_,kf,p_,Tv;const Ip=class Ip{constructor(e){S(this,sn);S(this,bo,null);S(this,xo,null);S(this,Fr);S(this,Co,null);w(this,Fr,e)}render(){const e=w(this,bo,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",An),e.addEventListener("pointerdown",E(Ip,Fp,d_));const t=w(this,Co,document.createElement("div"));t.className="buttons",e.append(t);const r=c(this,Fr).toolbarPosition;if(r){const{style:i}=e,s=c(this,Fr)._uiManager.direction==="ltr"?1-r[0]:r[0];i.insetInlineEnd=`${100*s}%`,i.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return E(this,sn,p_).call(this),e}hide(){var e;c(this,bo).classList.add("hidden"),(e=c(this,xo))==null||e.hideDropdown()}show(){c(this,bo).classList.remove("hidden")}addAltTextButton(e){E(this,sn,kf).call(this,e),c(this,Co).prepend(e,c(this,sn,Tv))}addColorPicker(e){w(this,xo,e);const t=e.renderButton();E(this,sn,kf).call(this,t),c(this,Co).prepend(t,c(this,sn,Tv))}remove(){var e;c(this,bo).remove(),(e=c(this,xo))==null||e.destroy(),w(this,xo,null)}};bo=new WeakMap,xo=new WeakMap,Fr=new WeakMap,Co=new WeakMap,Fp=new WeakSet,d_=function(e){e.stopPropagation()},sn=new WeakSet,h_=function(e){c(this,Fr)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},f_=function(e){c(this,Fr)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},kf=function(e){e.addEventListener("focusin",E(this,sn,h_).bind(this),{capture:!0}),e.addEventListener("focusout",E(this,sn,f_).bind(this),{capture:!0}),e.addEventListener("contextmenu",An)},p_=function(){const e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${c(this,Fr).editorType}-button`),E(this,sn,kf).call(this,e),e.addEventListener("click",t=>{c(this,Fr)._uiManager.delete()}),c(this,Co).append(e)},Tv=function(){const e=document.createElement("div");return e.className="divider",e},S(Ip,Fp);let Cv=Ip;var $u,To,Vu,Ks,g_,m_,v_;class SR{constructor(e){S(this,Ks);S(this,$u,null);S(this,To,null);S(this,Vu);w(this,Vu,e)}show(e,t,r){const[i,s]=E(this,Ks,m_).call(this,t,r),{style:o}=c(this,To)||w(this,To,E(this,Ks,g_).call(this));e.append(c(this,To)),o.insetInlineEnd=`${100*i}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){c(this,To).remove()}}$u=new WeakMap,To=new WeakMap,Vu=new WeakMap,Ks=new WeakSet,g_=function(){const e=w(this,To,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",An);const t=w(this,$u,document.createElement("div"));return t.className="buttons",e.append(t),E(this,Ks,v_).call(this),e},m_=function(e,t){let r=0,i=0;for(const s of e){const o=s.y+s.height;if(o<r)continue;const a=s.x+(t?s.width:0);if(o>r){i=a,r=o;continue}t?a>i&&(i=a):a<i&&(i=a)}return[t?1-i:i,r]},v_=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label"),e.addEventListener("contextmenu",An),e.addEventListener("click",()=>{c(this,Vu).highlightSelection("floating_button")}),c(this,$u).append(e)};function Cp(n,e,t){for(const r of t)e.addEventListener(r,n[r].bind(n))}function _R(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var Np;class bR{constructor(){S(this,Np,0)}get id(){return`${nR}${bn(this,Np)._++}`}}Np=new WeakMap;var Wu,Op,$n,Gu,Pv;const rw=class rw{constructor(){S(this,Gu);S(this,Wu,gR());S(this,Op,0);S(this,$n,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d"),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return xe(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:r,size:i,type:s}=e;return E(this,Gu,Pv).call(this,`${t}_${r}_${i}_${s}`,e)}async getFromUrl(e){return E(this,Gu,Pv).call(this,e,e)}async getFromId(e){c(this,$n)||w(this,$n,new Map);const t=c(this,$n).get(e);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null}getSvgUrl(e){const t=c(this,$n).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){c(this,$n)||w(this,$n,new Map);const t=c(this,$n).get(e);t&&(t.refCounter-=1,t.refCounter===0&&(t.bitmap=null))}isValidId(e){return e.startsWith(`image_${c(this,Wu)}_`)}};Wu=new WeakMap,Op=new WeakMap,$n=new WeakMap,Gu=new WeakSet,Pv=async function(e,t){c(this,$n)||w(this,$n,new Map);let r=c(this,$n).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${c(this,Wu)}_${bn(this,Op)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(r.url=t,i=await bg(t,"blob")):i=r.file=t,i.type==="image/svg+xml"){const s=rw._isSVGFittingCanvas,o=new FileReader,a=new Image,l=new Promise((u,d)=>{a.onload=()=>{r.bitmap=a,r.isSvg=!0,u()},o.onload=async()=>{const h=r.svgUrl=o.result;a.src=await s?`${h}#svgView(preserveAspectRatio(none))`:h},a.onerror=o.onerror=d});o.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){console.error(i),r=null}return c(this,$n).set(e,r),r&&c(this,$n).set(r.id,r),r};let kv=rw;var St,hs,Xu,_t;class xR{constructor(e=128){S(this,St,[]);S(this,hs,!1);S(this,Xu);S(this,_t,-1);w(this,Xu,e)}add({cmd:e,undo:t,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(i&&e(),c(this,hs))return;const l={cmd:e,undo:t,post:r,type:s};if(c(this,_t)===-1){c(this,St).length>0&&(c(this,St).length=0),w(this,_t,0),c(this,St).push(l);return}if(o&&c(this,St)[c(this,_t)].type===s){a&&(l.undo=c(this,St)[c(this,_t)].undo),c(this,St)[c(this,_t)]=l;return}const u=c(this,_t)+1;u===c(this,Xu)?c(this,St).splice(0,1):(w(this,_t,u),u<c(this,St).length&&c(this,St).splice(u)),c(this,St).push(l)}undo(){if(c(this,_t)===-1)return;w(this,hs,!0);const{undo:e,post:t}=c(this,St)[c(this,_t)];e(),t==null||t(),w(this,hs,!1),w(this,_t,c(this,_t)-1)}redo(){if(c(this,_t)<c(this,St).length-1){w(this,_t,c(this,_t)+1),w(this,hs,!0);const{cmd:e,post:t}=c(this,St)[c(this,_t)];e(),t==null||t(),w(this,hs,!1)}}hasSomethingToUndo(){return c(this,_t)!==-1}hasSomethingToRedo(){return c(this,_t)<c(this,St).length-1}destroy(){w(this,St,null)}}St=new WeakMap,hs=new WeakMap,Xu=new WeakMap,_t=new WeakMap;var jp,y_;class Lh{constructor(e){S(this,jp);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=mn.platform;for(const[r,i,s={}]of e)for(const o of r){const a=o.startsWith("mac+");t&&a?(this.callbacks.set(o.slice(4),{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1))):!t&&!a&&(this.callbacks.set(o,{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const r=this.callbacks.get(E(this,jp,y_).call(this,t));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:o=[],checker:a=null}}=r;a&&!a(e,t)||(i.bind(e,...o,t)(),s||(t.stopPropagation(),t.preventDefault()))}}jp=new WeakSet,y_=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const zp=class zp{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return AR(e),xe(this,"_colors",e)}convert(e){const t=q0(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[r,i]of this._colors)if(i.every((s,o)=>s===t[o]))return zp._colorsMapping.get(r);return t}getHexCode(e){const t=this._colors.get(e);return t?J.makeHexColor(...t):e}};ue(zp,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Rv=zp;var Tn,ft,Lt,Al,pi,Sl,lr,_l,ko,Ir,gi,Po,Ku,qu,Nr,bl,fs,Or,Hp,ps,Yu,Ro,Qu,xl,Mt,Pe,mi,Lo,Ju,Zu,ed,td,nd,rd,id,sd,od,ad,ld,cd,ud,dd,gs,jr,vi,hd,U,Pf,w_,E_,Rf,A_,S_,__,Lv,Mv,Dv,Fv,Iv,Qt,is,b_,x_,Nv,C_,Jc,Ov;const ul=class ul{constructor(e,t,r,i,s,o,a,l,u){S(this,U);S(this,Tn,null);S(this,ft,new Map);S(this,Lt,new Map);S(this,Al,null);S(this,pi,null);S(this,Sl,null);S(this,lr,new xR);S(this,_l,0);S(this,ko,new Set);S(this,Ir,null);S(this,gi,null);S(this,Po,new Set);S(this,Ku,!1);S(this,qu,null);S(this,Nr,null);S(this,bl,null);S(this,fs,!1);S(this,Or,null);S(this,Hp,new bR);S(this,ps,!1);S(this,Yu,!1);S(this,Ro,null);S(this,Qu,null);S(this,xl,null);S(this,Mt,be.NONE);S(this,Pe,new Set);S(this,mi,null);S(this,Lo,null);S(this,Ju,null);S(this,Zu,this.blur.bind(this));S(this,ed,this.focus.bind(this));S(this,td,this.copy.bind(this));S(this,nd,this.cut.bind(this));S(this,rd,this.paste.bind(this));S(this,id,this.keydown.bind(this));S(this,sd,this.keyup.bind(this));S(this,od,this.onEditingAction.bind(this));S(this,ad,this.onPageChanging.bind(this));S(this,ld,this.onScaleChanging.bind(this));S(this,cd,E(this,U,E_).bind(this));S(this,ud,this.onRotationChanging.bind(this));S(this,dd,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});S(this,gs,[0,0]);S(this,jr,null);S(this,vi,null);S(this,hd,null);w(this,vi,e),w(this,hd,t),w(this,Al,r),this._eventBus=i,this._eventBus._on("editingaction",c(this,od)),this._eventBus._on("pagechanging",c(this,ad)),this._eventBus._on("scalechanging",c(this,ld)),this._eventBus._on("rotationchanging",c(this,ud)),E(this,U,A_).call(this),E(this,U,Mv).call(this),w(this,pi,s.annotationStorage),w(this,qu,s.filterFactory),w(this,Lo,o),w(this,bl,a||null),w(this,Ku,l),w(this,xl,u||null),this.viewParameters={realScale:Xs.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=ul.prototype,t=o=>c(o,vi).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),r=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:l}=a;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return xe(this,"_keyboardManager",new Lh([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&c(o,vi).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&c(o,vi).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t;E(this,U,Dv).call(this),E(this,U,Lv).call(this),this._eventBus._off("editingaction",c(this,od)),this._eventBus._off("pagechanging",c(this,ad)),this._eventBus._off("scalechanging",c(this,ld)),this._eventBus._off("rotationchanging",c(this,ud));for(const r of c(this,Lt).values())r.destroy();c(this,Lt).clear(),c(this,ft).clear(),c(this,Po).clear(),w(this,Tn,null),c(this,Pe).clear(),c(this,lr).destroy(),(e=c(this,Al))==null||e.destroy(),(t=c(this,Or))==null||t.hide(),w(this,Or,null),c(this,Nr)&&(clearTimeout(c(this,Nr)),w(this,Nr,null)),c(this,jr)&&(clearTimeout(c(this,jr)),w(this,jr,null)),E(this,U,S_).call(this)}async mlGuess(e){var t;return((t=c(this,xl))==null?void 0:t.guess(e))||null}get hasMLManager(){return!!c(this,xl)}get hcmFilter(){return xe(this,"hcmFilter",c(this,Lo)?c(this,qu).addHCMFilter(c(this,Lo).foreground,c(this,Lo).background):"none")}get direction(){return xe(this,"direction",getComputedStyle(c(this,vi)).direction)}get highlightColors(){return xe(this,"highlightColors",c(this,bl)?new Map(c(this,bl).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return xe(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){w(this,Qu,e)}editAltText(e){var t;(t=c(this,Al))==null||t.editAltText(this,e)}onPageChanging({pageNumber:e}){w(this,_l,e-1)}focusMainContainer(){c(this,vi).focus()}findParent(e,t){for(const r of c(this,Lt).values()){const{x:i,y:s,width:o,height:a}=r.div.getBoundingClientRect();if(e>=i&&e<=i+o&&t>=s&&t<=s+a)return r}return null}disableUserSelect(e=!1){c(this,hd).classList.toggle("noUserSelect",e)}addShouldRescale(e){c(this,Po).add(e)}removeShouldRescale(e){c(this,Po).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Xs.PDF_TO_CSS_UNITS;for(const t of c(this,Po))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o}=t,a=t.toString(),u=E(this,U,Pf).call(this,t).closest(".textLayer"),d=this.getSelectionBoxes(u);if(d){t.empty(),c(this,Mt)===be.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:be.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const h of c(this,Lt).values())if(h.hasTextLayer(u)){h.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:d,anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o,text:a});break}}}addToAnnotationStorage(e){!e.isEmpty()&&c(this,pi)&&!c(this,pi).has(e.id)&&c(this,pi).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,c(this,fs)&&(w(this,fs,!1),E(this,U,Rf).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of c(this,Pe))if(t.div.contains(e)){w(this,Ro,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!c(this,Ro))return;const[e,t]=c(this,Ro);w(this,Ro,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0}),t.focus()}addEditListeners(){E(this,U,Mv).call(this),E(this,U,Fv).call(this)}removeEditListeners(){E(this,U,Dv).call(this),E(this,U,Iv).call(this)}copy(e){var r;if(e.preventDefault(),(r=c(this,Tn))==null||r.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of c(this,Pe)){const s=i.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const o of c(this,gi))if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let r=t.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){me(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of r){const u=i.deserialize(l);if(!u)return;s.push(u)}const o=()=>{for(const l of s)E(this,U,Nv).call(this,l);E(this,U,Ov).call(this,s)},a=()=>{for(const l of s)l.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(s){me(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),c(this,Mt)!==be.NONE&&!this.isEditorHandlingKeyboard&&ul._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,c(this,fs)&&(w(this,fs,!1),E(this,U,Rf).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(E(this,U,__).call(this),E(this,U,Fv).call(this),E(this,U,Qt).call(this,{isEditing:c(this,Mt)!==be.NONE,isEmpty:E(this,U,Jc).call(this),hasSomethingToUndo:c(this,lr).hasSomethingToUndo(),hasSomethingToRedo:c(this,lr).hasSomethingToRedo(),hasSelectedEditor:!1})):(E(this,U,Lv).call(this),E(this,U,Iv).call(this),E(this,U,Qt).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!c(this,gi)){w(this,gi,e);for(const t of c(this,gi))E(this,U,is).call(this,t.defaultPropertiesToUpdate)}}getId(){return c(this,Hp).id}get currentLayer(){return c(this,Lt).get(c(this,_l))}getLayer(e){return c(this,Lt).get(e)}get currentPageIndex(){return c(this,_l)}addLayer(e){c(this,Lt).set(e.pageIndex,e),c(this,ps)?e.enable():e.disable()}removeLayer(e){c(this,Lt).delete(e.pageIndex)}updateMode(e,t=null,r=!1){if(c(this,Mt)!==e){if(w(this,Mt,e),e===be.NONE){this.setEditingState(!1),E(this,U,x_).call(this);return}this.setEditingState(!0),E(this,U,b_).call(this),this.unselectAll();for(const i of c(this,Lt).values())i.updateMode(e);if(!t&&r){this.addNewEditorFromKeyboard();return}if(t){for(const i of c(this,ft).values())if(i.annotationElementId===t){this.setSelected(i),i.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==c(this,Mt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var r;if(c(this,gi)){switch(e){case oe.CREATE:this.currentLayer.addNewEditor();return;case oe.HIGHLIGHT_DEFAULT_COLOR:(r=c(this,Qu))==null||r.updateColor(t);break;case oe.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(c(this,Ju)||w(this,Ju,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const i of c(this,Pe))i.updateParams(e,t);for(const i of c(this,gi))i.updateDefaultParams(e,t)}}showAllEditors(e,t,r=!1){var s;for(const o of c(this,ft).values())o.editorType===e&&o.show(t);(((s=c(this,Ju))==null?void 0:s.get(oe.HIGHLIGHT_SHOW_ALL))??!0)!==t&&E(this,U,is).call(this,[[oe.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(c(this,Yu)!==e){w(this,Yu,e);for(const t of c(this,Lt).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const r of c(this,ft).values())r.pageIndex===e&&t.push(r);return t}getEditor(e){return c(this,ft).get(e)}addEditor(e){c(this,ft).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(c(this,Nr)&&clearTimeout(c(this,Nr)),w(this,Nr,setTimeout(()=>{this.focusMainContainer(),w(this,Nr,null)},0))),c(this,ft).delete(e.id),this.unselect(e),(!e.annotationElementId||!c(this,ko).has(e.annotationElementId))&&((t=c(this,pi))==null||t.remove(e.id))}addDeletedAnnotationElement(e){c(this,ko).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return c(this,ko).has(e)}removeDeletedAnnotationElement(e){c(this,ko).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){c(this,Tn)!==e&&(w(this,Tn,e),e&&E(this,U,is).call(this,e.propertiesToUpdate))}updateUI(e){c(this,U,C_)===e&&E(this,U,is).call(this,e.propertiesToUpdate)}toggleSelected(e){if(c(this,Pe).has(e)){c(this,Pe).delete(e),e.unselect(),E(this,U,Qt).call(this,{hasSelectedEditor:this.hasSelection});return}c(this,Pe).add(e),e.select(),E(this,U,is).call(this,e.propertiesToUpdate),E(this,U,Qt).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of c(this,Pe))t!==e&&t.unselect();c(this,Pe).clear(),c(this,Pe).add(e),e.select(),E(this,U,is).call(this,e.propertiesToUpdate),E(this,U,Qt).call(this,{hasSelectedEditor:!0})}isSelected(e){return c(this,Pe).has(e)}get firstSelectedEditor(){return c(this,Pe).values().next().value}unselect(e){e.unselect(),c(this,Pe).delete(e),E(this,U,Qt).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return c(this,Pe).size!==0}get isEnterHandled(){return c(this,Pe).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){c(this,lr).undo(),E(this,U,Qt).call(this,{hasSomethingToUndo:c(this,lr).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:E(this,U,Jc).call(this)})}redo(){c(this,lr).redo(),E(this,U,Qt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:c(this,lr).hasSomethingToRedo(),isEmpty:E(this,U,Jc).call(this)})}addCommands(e){c(this,lr).add(e),E(this,U,Qt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:E(this,U,Jc).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...c(this,Pe)],t=()=>{for(const i of e)i.remove()},r=()=>{for(const i of e)E(this,U,Nv).call(this,i)};this.addCommands({cmd:t,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=c(this,Tn))==null||e.commitOrRemove()}hasSomethingToControl(){return c(this,Tn)||this.hasSelection}selectAll(){for(const e of c(this,Pe))e.commit();E(this,U,Ov).call(this,c(this,ft).values())}unselectAll(){if(!(c(this,Tn)&&(c(this,Tn).commitOrRemove(),c(this,Mt)!==be.NONE))&&this.hasSelection){for(const e of c(this,Pe))e.unselect();c(this,Pe).clear(),E(this,U,Qt).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;c(this,gs)[0]+=e,c(this,gs)[1]+=t;const[i,s]=c(this,gs),o=[...c(this,Pe)],a=1e3;c(this,jr)&&clearTimeout(c(this,jr)),w(this,jr,setTimeout(()=>{w(this,jr,null),c(this,gs)[0]=c(this,gs)[1]=0,this.addCommands({cmd:()=>{for(const l of o)c(this,ft).has(l.id)&&l.translateInPage(i,s)},undo:()=>{for(const l of o)c(this,ft).has(l.id)&&l.translateInPage(-i,-s)},mustExec:!1})},a));for(const l of o)l.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),w(this,Ir,new Map);for(const e of c(this,Pe))c(this,Ir).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!c(this,Ir))return!1;this.disableUserSelect(!1);const e=c(this,Ir);w(this,Ir,null);let t=!1;for(const[{x:i,y:s,pageIndex:o},a]of e)a.newX=i,a.newY=s,a.newPageIndex=o,t||(t=i!==a.savedX||s!==a.savedY||o!==a.savedPageIndex);if(!t)return!1;const r=(i,s,o,a)=>{if(c(this,ft).has(i.id)){const l=c(this,Lt).get(a);l?i._setParentAndPosition(l,s,o):(i.pageIndex=a,i.x=s,i.y=o)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:o,newPageIndex:a}]of e)r(i,s,o,a)},undo:()=>{for(const[i,{savedX:s,savedY:o,savedPageIndex:a}]of e)r(i,s,o,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(c(this,Ir))for(const r of c(this,Ir).keys())r.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||c(this,Pe).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return c(this,Tn)===e}getActive(){return c(this,Tn)}getMode(){return c(this,Mt)}get imageManager(){return xe(this,"imageManager",new kv)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,d=t.rangeCount;u<d;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:o}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(u,d,h,f)=>({x:(d-i)/o,y:1-(u+h-r)/s,width:f/o,height:h/s});break;case"180":a=(u,d,h,f)=>({x:1-(u+h-r)/s,y:1-(d+f-i)/o,width:h/s,height:f/o});break;case"270":a=(u,d,h,f)=>({x:1-(d+f-i)/o,y:(u-r)/s,width:f/o,height:h/s});break;default:a=(u,d,h,f)=>({x:(u-r)/s,y:(d-i)/o,width:h/s,height:f/o});break}const l=[];for(let u=0,d=t.rangeCount;u<d;u++){const h=t.getRangeAt(u);if(!h.collapsed)for(const{x:f,y:p,width:g,height:v}of h.getClientRects())g===0||v===0||l.push(a(f,p,g,v))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(c(this,Sl)||w(this,Sl,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=c(this,Sl))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=c(this,Sl))==null?void 0:i.get(e.data.id);if(!t)return;const r=c(this,pi).getRawValue(t);r&&(c(this,Mt)===be.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}};Tn=new WeakMap,ft=new WeakMap,Lt=new WeakMap,Al=new WeakMap,pi=new WeakMap,Sl=new WeakMap,lr=new WeakMap,_l=new WeakMap,ko=new WeakMap,Ir=new WeakMap,gi=new WeakMap,Po=new WeakMap,Ku=new WeakMap,qu=new WeakMap,Nr=new WeakMap,bl=new WeakMap,fs=new WeakMap,Or=new WeakMap,Hp=new WeakMap,ps=new WeakMap,Yu=new WeakMap,Ro=new WeakMap,Qu=new WeakMap,xl=new WeakMap,Mt=new WeakMap,Pe=new WeakMap,mi=new WeakMap,Lo=new WeakMap,Ju=new WeakMap,Zu=new WeakMap,ed=new WeakMap,td=new WeakMap,nd=new WeakMap,rd=new WeakMap,id=new WeakMap,sd=new WeakMap,od=new WeakMap,ad=new WeakMap,ld=new WeakMap,cd=new WeakMap,ud=new WeakMap,dd=new WeakMap,gs=new WeakMap,jr=new WeakMap,vi=new WeakMap,hd=new WeakMap,U=new WeakSet,Pf=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},w_=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=E(this,U,Pf).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(c(this,Or)||w(this,Or,new SR(this)),c(this,Or).show(r,i,this.direction==="ltr"))},E_=function(){var s,o,a;const e=document.getSelection();if(!e||e.isCollapsed){c(this,mi)&&((s=c(this,Or))==null||s.hide(),w(this,mi,null),E(this,U,Qt).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===c(this,mi))return;if(!E(this,U,Pf).call(this,e).closest(".textLayer")){c(this,mi)&&((o=c(this,Or))==null||o.hide(),w(this,mi,null),E(this,U,Qt).call(this,{hasSelectedText:!1}));return}if((a=c(this,Or))==null||a.hide(),w(this,mi,t),E(this,U,Qt).call(this,{hasSelectedText:!0}),!(c(this,Mt)!==be.HIGHLIGHT&&c(this,Mt)!==be.NONE)&&(c(this,Mt)===be.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),w(this,fs,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=u=>{u.type==="pointerup"&&u.button!==0||(window.removeEventListener("pointerup",l),window.removeEventListener("blur",l),u.type==="pointerup"&&E(this,U,Rf).call(this,"main_toolbar"))};window.addEventListener("pointerup",l),window.addEventListener("blur",l)}},Rf=function(e=""){c(this,Mt)===be.HIGHLIGHT?this.highlightSelection(e):c(this,Ku)&&E(this,U,w_).call(this)},A_=function(){document.addEventListener("selectionchange",c(this,cd))},S_=function(){document.removeEventListener("selectionchange",c(this,cd))},__=function(){window.addEventListener("focus",c(this,ed)),window.addEventListener("blur",c(this,Zu))},Lv=function(){window.removeEventListener("focus",c(this,ed)),window.removeEventListener("blur",c(this,Zu))},Mv=function(){window.addEventListener("keydown",c(this,id)),window.addEventListener("keyup",c(this,sd))},Dv=function(){window.removeEventListener("keydown",c(this,id)),window.removeEventListener("keyup",c(this,sd))},Fv=function(){document.addEventListener("copy",c(this,td)),document.addEventListener("cut",c(this,nd)),document.addEventListener("paste",c(this,rd))},Iv=function(){document.removeEventListener("copy",c(this,td)),document.removeEventListener("cut",c(this,nd)),document.removeEventListener("paste",c(this,rd))},Qt=function(e){Object.entries(e).some(([r,i])=>c(this,dd)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(c(this,dd),e)}),c(this,Mt)===be.HIGHLIGHT&&e.hasSelectedEditor===!1&&E(this,U,is).call(this,[[oe.HIGHLIGHT_FREE,!0]]))},is=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},b_=function(){if(!c(this,ps)){w(this,ps,!0);for(const e of c(this,Lt).values())e.enable();for(const e of c(this,ft).values())e.enable()}},x_=function(){if(this.unselectAll(),c(this,ps)){w(this,ps,!1);for(const e of c(this,Lt).values())e.disable();for(const e of c(this,ft).values())e.disable()}},Nv=function(e){const t=c(this,Lt).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},C_=function(){let e=null;for(e of c(this,Pe));return e},Jc=function(){if(c(this,ft).size===0)return!0;if(c(this,ft).size===1)for(const e of c(this,ft).values())return e.isEmpty();return!1},Ov=function(e){for(const t of c(this,Pe))t.unselect();c(this,Pe).clear();for(const t of e)t.isEmpty()||(c(this,Pe).add(t),t.select());E(this,U,Qt).call(this,{hasSelectedEditor:this.hasSelection})},ue(ul,"TRANSLATE_SMALL",1),ue(ul,"TRANSLATE_BIG",10);let Ca=ul;var yi,wi,cr,Ei,ur,Cl,Ai,fd,jv;const ai=class ai{constructor(e){S(this,fd);S(this,yi,"");S(this,wi,!1);S(this,cr,null);S(this,Ei,null);S(this,ur,null);S(this,Cl,!1);S(this,Ai,null);w(this,Ai,e)}static initialize(e){ai._l10nPromise||(ai._l10nPromise=e)}async render(){const e=w(this,cr,document.createElement("button"));e.className="altText";const t=await ai._l10nPromise.get("pdfjs-editor-alt-text-button-label");e.textContent=t,e.setAttribute("aria-label",t),e.tabIndex="0",e.addEventListener("contextmenu",An),e.addEventListener("pointerdown",i=>i.stopPropagation());const r=i=>{i.preventDefault(),c(this,Ai)._uiManager.editAltText(c(this,Ai))};return e.addEventListener("click",r,{capture:!0}),e.addEventListener("keydown",i=>{i.target===e&&i.key==="Enter"&&(w(this,Cl,!0),r(i))}),await E(this,fd,jv).call(this),e}finish(){c(this,cr)&&(c(this,cr).focus({focusVisible:c(this,Cl)}),w(this,Cl,!1))}isEmpty(){return!c(this,yi)&&!c(this,wi)}get data(){return{altText:c(this,yi),decorative:c(this,wi)}}set data({altText:e,decorative:t}){c(this,yi)===e&&c(this,wi)===t||(w(this,yi,e),w(this,wi,t),E(this,fd,jv).call(this))}toggle(e=!1){c(this,cr)&&(!e&&c(this,ur)&&(clearTimeout(c(this,ur)),w(this,ur,null)),c(this,cr).disabled=!e)}destroy(){var e;(e=c(this,cr))==null||e.remove(),w(this,cr,null),w(this,Ei,null)}};yi=new WeakMap,wi=new WeakMap,cr=new WeakMap,Ei=new WeakMap,ur=new WeakMap,Cl=new WeakMap,Ai=new WeakMap,fd=new WeakSet,jv=async function(){var i;const e=c(this,cr);if(!e)return;if(!c(this,yi)&&!c(this,wi)){e.classList.remove("done"),(i=c(this,Ei))==null||i.remove();return}e.classList.add("done"),ai._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(s=>{e.setAttribute("aria-label",s)});let t=c(this,Ei);if(!t){w(this,Ei,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip");const s=t.id=`alt-text-tooltip-${c(this,Ai).id}`;e.setAttribute("aria-describedby",s);const o=100;e.addEventListener("mouseenter",()=>{w(this,ur,setTimeout(()=>{w(this,ur,null),c(this,Ei).classList.add("show"),c(this,Ai)._reportTelemetry({action:"alt_text_tooltip"})},o))}),e.addEventListener("mouseleave",()=>{var a;c(this,ur)&&(clearTimeout(c(this,ur)),w(this,ur,null)),(a=c(this,Ei))==null||a.classList.remove("show")})}t.innerText=c(this,wi)?await ai._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):c(this,yi),t.parentNode||e.append(t);const r=c(this,Ai).getImageForAltText();r==null||r.setAttribute("aria-describedby",t.id)},ue(ai,"_l10nPromise",null);let Tp=ai;var dr,Jt,Tl,Mo,Dt,Do,kl,Pl,Wt,pd,Fo,ms,gd,Io,Si,zr,Rl,Ll,Vn,md,Bp,ye,zv,vd,Hv,Bv,T_,k_,Uv,$v,Vv,P_,R_,L_,M_,Wv,Zc;const Ne=class Ne{constructor(e){S(this,ye);S(this,dr,null);S(this,Jt,null);S(this,Tl,!1);S(this,Mo,!1);S(this,Dt,null);S(this,Do,null);S(this,kl,this.focusin.bind(this));S(this,Pl,this.focusout.bind(this));S(this,Wt,null);S(this,pd,"");S(this,Fo,!1);S(this,ms,null);S(this,gd,!1);S(this,Io,!1);S(this,Si,!1);S(this,zr,null);S(this,Rl,0);S(this,Ll,0);S(this,Vn,null);ue(this,"_initialOptions",Object.create(null));ue(this,"_isVisible",!0);ue(this,"_uiManager",null);ue(this,"_focusEventsAllowed",!0);ue(this,"_l10nPromise",null);S(this,md,!1);S(this,Bp,Ne._zIndex++);this.constructor===Ne&&De("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,o];const[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Ne.prototype._resizeWithKeyboard,t=Ca.TRANSLATE_SMALL,r=Ca.TRANSLATE_BIG;return xe(this,"_resizerKeyboardManager",new Lh([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],Ne.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return xe(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new CR({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t,r){if(Ne._l10nPromise||(Ne._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(s=>[s,e.get(s.replaceAll(/([A-Z])/g,o=>`-${o.toLowerCase()}`))]))),r!=null&&r.strings)for(const s of r.strings)Ne._l10nPromise.set(s,e.get(s));if(Ne._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);Ne._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){De("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return c(this,md)}set _isDraggable(e){var t;w(this,md,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=c(this,Bp)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):E(this,ye,Zc).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(c(this,Fo)?w(this,Fo,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,i){const[s,o]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(t+i)/o,this.fixAndSetPosition()}translate(e,t){E(this,ye,zv).call(this,this.parentDimensions,e,t)}translateInPage(e,t){c(this,ms)||w(this,ms,[this.x,this.y]),E(this,ye,zv).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){c(this,ms)||w(this,ms,[this.x,this.y]);const[r,i]=this.parentDimensions;if(this.x+=e/r,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:u,y:d}=this.div.getBoundingClientRect();this.parent.findNewParent(this,u,d)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:o}=this;const[a,l]=this.getBaseTranslation();s+=a,o+=l,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*o).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!c(this,ms)&&(c(this,ms)[0]!==this.x||c(this,ms)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:r}=Ne,i=r/e,s=r/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,r]=this.pageDimensions;let{x:i,y:s,width:o,height:a}=this;if(o*=t,a*=r,i*=t,s*=r,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(t-o,i)),s=Math.max(0,Math.min(r-a,s));break;case 90:i=Math.max(0,Math.min(t-a,i)),s=Math.min(r,Math.max(o,s));break;case 180:i=Math.min(t,Math.max(o,i)),s=Math.min(r,Math.max(a,s));break;case 270:i=Math.min(t,Math.max(a,i)),s=Math.max(0,Math.min(r-o,s));break}this.x=i/=t,this.y=s/=r;const[l,u]=this.getBaseTranslation();i+=l,s+=u;const{style:d}=this.div;d.left=`${(100*i).toFixed(2)}%`,d.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var r;return E(r=Ne,vd,Hv).call(r,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var r;return E(r=Ne,vd,Hv).call(r,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,r]}=this,i=t*e,s=r*e;return mn.isCSSRoundSupported?[Math.round(i),Math.round(s)]:[i,s]}setDims(e,t){const[r,i]=this.parentDimensions;this.div.style.width=`${(100*e/r).toFixed(2)}%`,c(this,Mo)||(this.div.style.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:r}=e,i=r.endsWith("%"),s=!c(this,Mo)&&t.endsWith("%");if(i&&s)return;const[o,a]=this.parentDimensions;i||(e.width=`${(100*parseFloat(r)/o).toFixed(2)}%`),!c(this,Mo)&&!s&&(e.height=`${(100*parseFloat(t)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=c(this,Jt))==null||e.finish()}async addEditToolbar(){return c(this,Wt)||c(this,Io)?c(this,Wt):(w(this,Wt,new Cv(this)),this.div.append(c(this,Wt).render()),c(this,Jt)&&c(this,Wt).addAltTextButton(await c(this,Jt).render()),c(this,Wt))}removeEditToolbar(){var e;c(this,Wt)&&(c(this,Wt).remove(),w(this,Wt,null),(e=c(this,Jt))==null||e.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){c(this,Jt)||(Tp.initialize(Ne._l10nPromise),w(this,Jt,new Tp(this)),await this.addEditToolbar())}get altTextData(){var e;return(e=c(this,Jt))==null?void 0:e.data}set altTextData(e){c(this,Jt)&&(c(this,Jt).data=e)}hasAltText(){var e;return!((e=c(this,Jt))!=null&&e.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=c(this,Tl)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.div.addEventListener("focusin",c(this,kl)),this.div.addEventListener("focusout",c(this,Pl));const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[r,i]=this.getInitialTranslation();return this.translate(r,i),Cp(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=mn.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(w(this,Fo,!0),this._isDraggable){E(this,ye,P_).call(this,e);return}E(this,ye,Vv).call(this,e)}moveInDOM(){c(this,zr)&&clearTimeout(c(this,zr)),w(this,zr,setTimeout(()=>{var e;w(this,zr,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition()}getRect(e,t,r=this.rotation){const i=this.parentScale,[s,o]=this.pageDimensions,[a,l]=this.pageTranslation,u=e/i,d=t/i,h=this.x*s,f=this.y*o,p=this.width*s,g=this.height*o;switch(r){case 0:return[h+u+a,o-f-d-g+l,h+u+p+a,o-f-d+l];case 90:return[h+d+a,o-f+u+l,h+d+g+a,o-f+u+p+l];case 180:return[h-u-p+a,o-f+d+l,h-u+a,o-f+d+g+l];case 270:return[h-d-g+a,o-f-u-p+l,h-d+a,o-f-u+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[r,i,s,o]=e,a=s-r,l=o-i;switch(this.rotation){case 0:return[r,t-o,a,l];case 90:return[r,t-i,l,a];case 180:return[s,t-i,a,l];case 270:return[s,t-o,l,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){w(this,Io,!0)}disableEditMode(){w(this,Io,!1)}isInEditMode(){return c(this,Io)}shouldGetKeyboardEvents(){return c(this,Si)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var e,t;(e=this.div)==null||e.addEventListener("focusin",c(this,kl)),(t=this.div)==null||t.addEventListener("focusout",c(this,Pl))}rotate(e){}serialize(e=!1,t=null){De("An editor must be serializable")}static deserialize(e,t,r){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r});i.rotation=e.rotation;const[s,o]=i.pageDimensions,[a,l,u,d]=i.getRectInCurrentCoords(e.rect,o);return i.x=a/s,i.y=l/o,i.width=u/s,i.height=d/o,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",c(this,kl)),this.div.removeEventListener("focusout",c(this,Pl)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),c(this,zr)&&(clearTimeout(c(this,zr)),w(this,zr,null)),E(this,ye,Zc).call(this),this.removeEditToolbar(),c(this,Vn)){for(const e of c(this,Vn).values())clearTimeout(e);w(this,Vn,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(E(this,ye,T_).call(this),c(this,Dt).classList.remove("hidden"),Cp(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),w(this,Do,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=c(this,Dt).children;if(!c(this,dr)){w(this,dr,Array.from(t));const o=E(this,ye,R_).bind(this),a=E(this,ye,L_).bind(this);for(const l of c(this,dr)){const u=l.getAttribute("data-resizer-name");l.setAttribute("role","spinbutton"),l.addEventListener("keydown",o),l.addEventListener("blur",a),l.addEventListener("focus",E(this,ye,M_).bind(this,u)),Ne._l10nPromise.get(`pdfjs-editor-resizer-label-${u}`).then(d=>l.setAttribute("aria-label",d))}}const r=c(this,dr)[0];let i=0;for(const o of t){if(o===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(c(this,dr).length/4);if(s!==i){if(s<i)for(let a=0;a<i-s;a++)c(this,Dt).append(c(this,Dt).firstChild);else if(s>i)for(let a=0;a<s-i;a++)c(this,Dt).firstChild.before(c(this,Dt).lastChild);let o=0;for(const a of t){const u=c(this,dr)[o++].getAttribute("data-resizer-name");Ne._l10nPromise.get(`pdfjs-editor-resizer-label-${u}`).then(d=>a.setAttribute("aria-label",d))}}E(this,ye,Wv).call(this,0),w(this,Si,!0),c(this,Dt).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){c(this,Si)&&E(this,ye,$v).call(this,c(this,pd),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){E(this,ye,Zc).call(this),this.div.focus()}select(){var e,t;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!c(this,Wt)){this.addEditToolbar().then(()=>{var r,i;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((i=c(this,Wt))==null||i.show())});return}(t=c(this,Wt))==null||t.show()}unselect(){var e,t,r,i;(e=c(this,Dt))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=c(this,Wt))==null||i.hide()}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return c(this,gd)}set isEditing(e){w(this,gd,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){w(this,Mo,!0);const r=e/t,{style:i}=this.div;i.aspectRatio=r,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){c(this,Vn)||w(this,Vn,new Map);const{action:r}=e;let i=c(this,Vn).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),c(this,Vn).delete(r),c(this,Vn).size===0&&w(this,Vn,null)},Ne._telemetryTimeout),c(this,Vn).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),w(this,Tl,!1)}disable(){this.div&&(this.div.tabIndex=-1),w(this,Tl,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};dr=new WeakMap,Jt=new WeakMap,Tl=new WeakMap,Mo=new WeakMap,Dt=new WeakMap,Do=new WeakMap,kl=new WeakMap,Pl=new WeakMap,Wt=new WeakMap,pd=new WeakMap,Fo=new WeakMap,ms=new WeakMap,gd=new WeakMap,Io=new WeakMap,Si=new WeakMap,zr=new WeakMap,Rl=new WeakMap,Ll=new WeakMap,Vn=new WeakMap,md=new WeakMap,Bp=new WeakMap,ye=new WeakSet,zv=function([e,t],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/t,this.fixAndSetPosition()},vd=new WeakSet,Hv=function(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Bv=function(e){switch(e){case 90:{const[t,r]=this.pageDimensions;return[0,-t/r,r/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,r]=this.pageDimensions;return[0,t/r,-r/t,0]}default:return[1,0,0,1]}},T_=function(){if(c(this,Dt))return;w(this,Dt,document.createElement("div")),c(this,Dt).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"];for(const t of e){const r=document.createElement("div");c(this,Dt).append(r),r.classList.add("resizer",t),r.setAttribute("data-resizer-name",t),r.addEventListener("pointerdown",E(this,ye,k_).bind(this,t)),r.addEventListener("contextmenu",An),r.tabIndex=-1}this.div.prepend(c(this,Dt))},k_=function(e,t){var g;t.preventDefault();const{isMac:r}=mn.platform;if(t.button!==0||t.ctrlKey&&r)return;(g=c(this,Jt))==null||g.toggle(!1);const i=E(this,ye,$v).bind(this,e),s=this._isDraggable;this._isDraggable=!1;const o={passive:!0,capture:!0};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",i,o),window.addEventListener("contextmenu",An);const a=this.x,l=this.y,u=this.width,d=this.height,h=this.parent.div.style.cursor,f=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const p=()=>{var v;this.parent.togglePointerEvents(!0),(v=c(this,Jt))==null||v.toggle(!0),this._isDraggable=s,window.removeEventListener("pointerup",p),window.removeEventListener("blur",p),window.removeEventListener("pointermove",i,o),window.removeEventListener("contextmenu",An),this.parent.div.style.cursor=h,this.div.style.cursor=f,E(this,ye,Uv).call(this,a,l,u,d)};window.addEventListener("pointerup",p),window.addEventListener("blur",p)},Uv=function(e,t,r,i){const s=this.x,o=this.y,a=this.width,l=this.height;s===e&&o===t&&a===r&&l===i||this.addCommands({cmd:()=>{this.width=a,this.height=l,this.x=s,this.y=o;const[u,d]=this.parentDimensions;this.setDims(u*a,d*l),this.fixAndSetPosition()},undo:()=>{this.width=r,this.height=i,this.x=e,this.y=t;const[u,d]=this.parentDimensions;this.setDims(u*r,d*i),this.fixAndSetPosition()},mustExec:!0})},$v=function(e,t){const[r,i]=this.parentDimensions,s=this.x,o=this.y,a=this.width,l=this.height,u=Ne.MIN_SIZE/r,d=Ne.MIN_SIZE/i,h=B=>Math.round(B*1e4)/1e4,f=E(this,ye,Bv).call(this,this.rotation),p=(B,M)=>[f[0]*B+f[2]*M,f[1]*B+f[3]*M],g=E(this,ye,Bv).call(this,360-this.rotation),v=(B,M)=>[g[0]*B+g[2]*M,g[1]*B+g[3]*M];let _,m,y=!1,A=!1;switch(e){case"topLeft":y=!0,_=(B,M)=>[0,0],m=(B,M)=>[B,M];break;case"topMiddle":_=(B,M)=>[B/2,0],m=(B,M)=>[B/2,M];break;case"topRight":y=!0,_=(B,M)=>[B,0],m=(B,M)=>[0,M];break;case"middleRight":A=!0,_=(B,M)=>[B,M/2],m=(B,M)=>[0,M/2];break;case"bottomRight":y=!0,_=(B,M)=>[B,M],m=(B,M)=>[0,0];break;case"bottomMiddle":_=(B,M)=>[B/2,M],m=(B,M)=>[B/2,0];break;case"bottomLeft":y=!0,_=(B,M)=>[0,M],m=(B,M)=>[B,0];break;case"middleLeft":A=!0,_=(B,M)=>[0,M/2],m=(B,M)=>[B,M/2];break}const x=_(a,l),C=m(a,l);let k=p(...C);const b=h(s+k[0]),R=h(o+k[1]);let O=1,N=1,[F,K]=this.screenToPageTranslation(t.movementX,t.movementY);if([F,K]=v(F/r,K/i),y){const B=Math.hypot(a,l);O=N=Math.max(Math.min(Math.hypot(C[0]-x[0]-F,C[1]-x[1]-K)/B,1/a,1/l),u/a,d/l)}else A?O=Math.max(u,Math.min(1,Math.abs(C[0]-x[0]-F)))/a:N=Math.max(d,Math.min(1,Math.abs(C[1]-x[1]-K)))/l;const H=h(a*O),V=h(l*N);k=p(...m(H,V));const te=b-k[0],ce=R-k[1];this.width=H,this.height=V,this.x=te,this.y=ce,this.setDims(r*H,i*V),this.fixAndSetPosition()},Vv=function(e){const{isMac:t}=mn.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},P_=function(e){const t=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let r,i;t&&(this.div.classList.add("moving"),r={passive:!0,capture:!0},w(this,Rl,e.clientX),w(this,Ll,e.clientY),i=o=>{const{clientX:a,clientY:l}=o,[u,d]=this.screenToPageTranslation(a-c(this,Rl),l-c(this,Ll));w(this,Rl,a),w(this,Ll,l),this._uiManager.dragSelectedEditors(u,d)},window.addEventListener("pointermove",i,r));const s=()=>{window.removeEventListener("pointerup",s),window.removeEventListener("blur",s),t&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",i,r)),w(this,Fo,!1),this._uiManager.endDragSession()||E(this,ye,Vv).call(this,e)};window.addEventListener("pointerup",s),window.addEventListener("blur",s)},R_=function(e){Ne._resizerKeyboardManager.exec(this,e)},L_=function(e){var t;c(this,Si)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==c(this,Dt)&&E(this,ye,Zc).call(this)},M_=function(e){w(this,pd,c(this,Si)?e:"")},Wv=function(e){if(c(this,dr))for(const t of c(this,dr))t.tabIndex=e},Zc=function(){if(w(this,Si,!1),E(this,ye,Wv).call(this,-1),c(this,Do)){const{savedX:e,savedY:t,savedWidth:r,savedHeight:i}=c(this,Do);E(this,ye,Uv).call(this,e,t,r,i),w(this,Do,null)}},S(Ne,vd),ue(Ne,"_borderLineWidth",-1),ue(Ne,"_colorManager",new Rv),ue(Ne,"_zIndex",1),ue(Ne,"_telemetryTimeout",1e3);let Re=Ne;class CR extends Re{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const Q1=3285377520,Un=4294901760,Lr=65535;class D_{constructor(e){this.h1=e?e&4294967295:Q1,this.h2=e?e&4294967295:Q1}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let v=0,_=e.length;v<_;v++){const m=e.charCodeAt(v);m<=255?t[r++]=m:(t[r++]=m>>>8,t[r++]=m&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,o=new Uint32Array(t.buffer,0,i);let a=0,l=0,u=this.h1,d=this.h2;const h=3432918353,f=461845907,p=h&Lr,g=f&Lr;for(let v=0;v<i;v++)v&1?(a=o[v],a=a*h&Un|a*p&Lr,a=a<<15|a>>>17,a=a*f&Un|a*g&Lr,u^=a,u=u<<13|u>>>19,u=u*5+3864292196):(l=o[v],l=l*h&Un|l*p&Lr,l=l<<15|l>>>17,l=l*f&Un|l*g&Lr,d^=l,d=d<<13|d>>>19,d=d*5+3864292196);switch(a=0,s){case 3:a^=t[i*4+2]<<16;case 2:a^=t[i*4+1]<<8;case 1:a^=t[i*4],a=a*h&Un|a*p&Lr,a=a<<15|a>>>17,a=a*f&Un|a*g&Lr,i&1?u^=a:d^=a}this.h1=u,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Un|e*36045&Lr,t=t*4283543511&Un|((t<<16|e>>>16)*2950163797&Un)>>>16,e^=t>>>1,e=e*444984403&Un|e*60499&Lr,t=t*3301882366&Un|((t<<16|e>>>16)*3120437893&Un)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Gv=Object.freeze({map:null,hash:"",transfer:void 0});var No,Ft,Up,F_;class Y0{constructor(){S(this,Up);S(this,No,!1);S(this,Ft,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const r=c(this,Ft).get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return c(this,Ft).get(e)}remove(e){if(c(this,Ft).delete(e),c(this,Ft).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of c(this,Ft).values())if(t instanceof Re)return;this.onAnnotationEditor(null)}}setValue(e,t){const r=c(this,Ft).get(e);let i=!1;if(r!==void 0)for(const[s,o]of Object.entries(t))r[s]!==o&&(i=!0,r[s]=o);else i=!0,c(this,Ft).set(e,t);i&&E(this,Up,F_).call(this),t instanceof Re&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return c(this,Ft).has(e)}getAll(){return c(this,Ft).size>0?$0(c(this,Ft)):null}setAll(e){for(const[t,r]of Object.entries(e))this.setValue(t,r)}get size(){return c(this,Ft).size}resetModified(){c(this,No)&&(w(this,No,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new I_(this)}get serializable(){if(c(this,Ft).size===0)return Gv;const e=new Map,t=new D_,r=[],i=Object.create(null);let s=!1;for(const[o,a]of c(this,Ft)){const l=a instanceof Re?a.serialize(!1,i):a;l&&(e.set(o,l),t.update(`${o}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const o of e.values())o.bitmap&&r.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:Gv}get editorStats(){let e=null;const t=new Map;for(const r of c(this,Ft).values()){if(!(r instanceof Re))continue;const i=r.telemetryFinalData;if(!i)continue;const{type:s}=i;t.has(s)||t.set(s,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const o=e[s]||(e[s]=new Map);for(const[a,l]of Object.entries(i)){if(a==="type")continue;let u=o.get(a);u||(u=new Map,o.set(a,u));const d=u.get(l)??0;u.set(l,d+1)}}for(const[r,i]of t)e[r]=i.computeTelemetryFinalData(e[r]);return e}}No=new WeakMap,Ft=new WeakMap,Up=new WeakSet,F_=function(){c(this,No)||(w(this,No,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var yd;class I_ extends Y0{constructor(t){super();S(this,yd);const{map:r,hash:i,transfer:s}=t.serializable,o=structuredClone(r,s?{transfer:s}:null);w(this,yd,{map:o,hash:i,transfer:s})}get print(){De("Should not call PrintAnnotationStorage.print")}get serializable(){return c(this,yd)}}yd=new WeakMap;var Ml;class TR{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){S(this,Ml,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),c(this,Ml).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||c(this,Ml).has(e.loadedName))){if(yt(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:i,style:s}=e,o=new FontFace(r,i,s);this.addNativeFontFace(o);try{await o.load(),c(this,Ml).add(r),t==null||t(e)}catch{me(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}De("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw me(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return xe(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(Kt||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),xe(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(yt(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:t,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return xe(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(x,C){return x.charCodeAt(C)<<24|x.charCodeAt(C+1)<<16|x.charCodeAt(C+2)<<8|x.charCodeAt(C+3)&255}function i(x,C,k,b){const R=x.substring(0,C),O=x.substring(C+k);return R+b+O}let s,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let u=0;function d(x,C){if(++u>30){me("Load test font never loaded."),C();return}if(l.font="30px "+x,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){C();return}setTimeout(d.bind(null,x,C))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=i(f,976,h.length,h);const g=16,v=1482184792;let _=r(f,g);for(s=0,o=h.length-3;s<o;s+=4)_=_-v+r(h,s)|0;s<h.length&&(_=_-v+r(h+"XXX",s)|0),f=i(f,g,4,uR(_));const m=`url(data:font/opentype;base64,${btoa(f)});`,y=`@font-face {font-family:"${h}";src:${m}}`;this.insertRule(y);const A=this._document.createElement("div");A.style.visibility="hidden",A.style.width=A.style.height="10px",A.style.position="absolute",A.style.top=A.style.left="0px";for(const x of[e.loadedName,h]){const C=this._document.createElement("span");C.textContent="Hi",C.style.fontFamily=x,A.append(C)}this._document.body.append(A),d(h,()=>{A.remove(),t.complete()})}}Ml=new WeakMap;class kR{constructor(e,{disableFontFace:t=!1,inspectFont:r=null}){this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this.disableFontFace=t===!0,this._inspectFont=r}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const e=i_(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`;let r;if(!this.cssFontInfo)r=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),r=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${t}}`}return(i=this._inspectFont)==null||i.call(this,this,t),r}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let r;try{r=e.get(this.loadedName+"_path_"+t)}catch(s){me(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(r)||r.length===0)return this.compiledGlyphs[t]=function(s,o){};const i=[];for(let s=0,o=r.length;s<o;)switch(r[s++]){case ri.BEZIER_CURVE_TO:{const[a,l,u,d,h,f]=r.slice(s,s+6);i.push(p=>p.bezierCurveTo(a,l,u,d,h,f)),s+=6}break;case ri.MOVE_TO:{const[a,l]=r.slice(s,s+2);i.push(u=>u.moveTo(a,l)),s+=2}break;case ri.LINE_TO:{const[a,l]=r.slice(s,s+2);i.push(u=>u.lineTo(a,l)),s+=2}break;case ri.QUADRATIC_CURVE_TO:{const[a,l,u,d]=r.slice(s,s+4);i.push(h=>h.quadraticCurveTo(a,l,u,d)),s+=4}break;case ri.RESTORE:i.push(a=>a.restore());break;case ri.SAVE:i.push(a=>a.save());break;case ri.SCALE:yt(i.length===2,"Scale command is only valid at the third position.");break;case ri.TRANSFORM:{const[a,l,u,d,h,f]=r.slice(s,s+6);i.push(p=>p.transform(a,l,u,d,h,f)),s+=6}break;case ri.TRANSLATE:{const[a,l]=r.slice(s,s+2);i.push(u=>u.translate(a,l)),s+=2}break}return this.compiledGlyphs[t]=function(o,a){i[0](o),i[1](o),o.scale(a,-a);for(let l=2,u=i.length;l<u;l++)i[l](o)}}}if(Kt){var Xv=Promise.withResolvers(),Eu=null;(async()=>{const e=await sf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await sf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await sf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await sf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let s,o;return new Map(Object.entries({fs:e,http:t,https:r,url:i,canvas:s,path2d:o}))})().then(e=>{Eu=e,Xv.resolve()},e=>{me(`loadPackages: ${e}`),Eu=new Map,Xv.resolve()})}class ei{static get promise(){return Xv.promise}static get(e){return Eu==null?void 0:Eu.get(e)}}const N_=function(n){return ei.get("fs").promises.readFile(n).then(t=>new Uint8Array(t))};class PR extends Eg{}class RR extends Ag{_createCanvas(e,t){return ei.get("canvas").createCanvas(e,t)}}class LR extends Sg{_fetchData(e,t){return N_(e).then(r=>({cMapData:r,compressionType:t}))}}class MR extends _g{_fetchData(e){return N_(e)}}const nn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Kv(n,e){if(!e)return;const t=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,r),n.clip(i)}class Mh{constructor(){this.constructor===Mh&&De("Cannot initialize BaseShadingPattern.")}getPattern(){De("Abstract method `getPattern` called.")}}class DR extends Mh{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,i){let s;if(i===nn.STROKE||i===nn.FILL){const o=t.current.getClippedPathBoundingBox(i,Ke(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,u=t.cachedCanvases.getCanvas("pattern",a,l,!0),d=u.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-o[0],-o[1]),r=J.transform(r,[1,0,0,1,o[0],o[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),Kv(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),s=e.createPattern(u.canvas,"no-repeat");const h=new DOMMatrix(r);s.setTransform(h)}else Kv(e,this._bbox),s=this._createGradient(e);return s}}function pm(n,e,t,r,i,s,o,a){const l=e.coords,u=e.colors,d=n.data,h=n.width*4;let f;l[t+1]>l[r+1]&&(f=t,t=r,r=f,f=s,s=o,o=f),l[r+1]>l[i+1]&&(f=r,r=i,i=f,f=o,o=a,a=f),l[t+1]>l[r+1]&&(f=t,t=r,r=f,f=s,s=o,o=f);const p=(l[t]+e.offsetX)*e.scaleX,g=(l[t+1]+e.offsetY)*e.scaleY,v=(l[r]+e.offsetX)*e.scaleX,_=(l[r+1]+e.offsetY)*e.scaleY,m=(l[i]+e.offsetX)*e.scaleX,y=(l[i+1]+e.offsetY)*e.scaleY;if(g>=y)return;const A=u[s],x=u[s+1],C=u[s+2],k=u[o],b=u[o+1],R=u[o+2],O=u[a],N=u[a+1],F=u[a+2],K=Math.round(g),H=Math.round(y);let V,te,ce,B,M,W,Q,ae;for(let ee=K;ee<=H;ee++){if(ee<_){const Z=ee<g?0:(g-ee)/(g-_);V=p-(p-v)*Z,te=A-(A-k)*Z,ce=x-(x-b)*Z,B=C-(C-R)*Z}else{let Z;ee>y?Z=1:_===y?Z=0:Z=(_-ee)/(_-y),V=v-(v-m)*Z,te=k-(k-O)*Z,ce=b-(b-N)*Z,B=R-(R-F)*Z}let fe;ee<g?fe=0:ee>y?fe=1:fe=(g-ee)/(g-y),M=p-(p-m)*fe,W=A-(A-O)*fe,Q=x-(x-N)*fe,ae=C-(C-F)*fe;const pe=Math.round(Math.min(V,M)),Ie=Math.round(Math.max(V,M));let ge=h*ee+pe*4;for(let Z=pe;Z<=Ie;Z++)fe=(V-Z)/(V-M),fe<0?fe=0:fe>1&&(fe=1),d[ge++]=te-(te-W)*fe|0,d[ge++]=ce-(ce-Q)*fe|0,d[ge++]=B-(B-ae)*fe|0,d[ge++]=255}}function FR(n,e,t){const r=e.coords,i=e.colors;let s,o;switch(e.type){case"lattice":const a=e.verticesPerRow,l=Math.floor(r.length/a)-1,u=a-1;for(s=0;s<l;s++){let d=s*a;for(let h=0;h<u;h++,d++)pm(n,t,r[d],r[d+1],r[d+a],i[d],i[d+1],i[d+a]),pm(n,t,r[d+a+1],r[d+1],r[d+a],i[d+a+1],i[d+1],i[d+a])}break;case"triangles":for(s=0,o=r.length;s<o;s+=3)pm(n,t,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class IR extends Mh{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,r){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-a,d=Math.ceil(this._bounds[3])-l,h=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),p=u/h,g=d/f,v={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/p,scaleY:1/g},_=h+2*2,m=f+2*2,y=r.getCanvas("mesh",_,m,!1),A=y.context,x=A.createImageData(h,f);if(t){const k=x.data;for(let b=0,R=k.length;b<R;b+=4)k[b]=t[0],k[b+1]=t[1],k[b+2]=t[2],k[b+3]=255}for(const k of this._figures)FR(x,k,v);return A.putImageData(x,2,2),{canvas:y.canvas,offsetX:a-2*p,offsetY:l-2*g,scaleX:p,scaleY:g}}getPattern(e,t,r,i){Kv(e,this._bbox);let s;if(i===nn.SHADING)s=J.singularValueDecompose2dScale(Ke(e));else if(s=J.singularValueDecompose2dScale(t.baseTransform),this.matrix){const a=J.singularValueDecompose2dScale(this.matrix);s=[s[0]*a[0],s[1]*a[1]]}const o=this._createMeshCanvas(s,i===nn.SHADING?null:this._background,t.cachedCanvases);return i!==nn.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class NR extends Mh{getPattern(){return"hotpink"}}function OR(n){switch(n[0]){case"RadialAxial":return new DR(n);case"Mesh":return new IR(n);case"Dummy":return new NR}throw new Error(`Unknown IR type: ${n[0]}`)}const J1={COLORED:1,UNCOLORED:2},$p=class $p{constructor(e,t,r,i,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=r,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(e){const t=this.operatorList,r=this.bbox,i=this.xstep,s=this.ystep,o=this.paintType,a=this.tilingType,l=this.color,u=this.canvasGraphicsFactory;vg("TilingType: "+a);const d=r[0],h=r[1],f=r[2],p=r[3],g=J.singularValueDecompose2dScale(this.matrix),v=J.singularValueDecompose2dScale(this.baseTransform),_=[g[0]*v[0],g[1]*v[1]],m=this.getSizeAndScale(i,this.ctx.canvas.width,_[0]),y=this.getSizeAndScale(s,this.ctx.canvas.height,_[1]),A=e.cachedCanvases.getCanvas("pattern",m.size,y.size,!0),x=A.context,C=u.createCanvasGraphics(x);C.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(C,o,l);let k=d,b=h,R=f,O=p;return d<0&&(k=0,R+=Math.abs(d)),h<0&&(b=0,O+=Math.abs(h)),x.translate(-(m.scale*k),-(y.scale*b)),C.transform(m.scale,0,0,y.scale,0,0),x.save(),this.clipBbox(C,k,b,R,O),C.baseTransform=Ke(C.ctx),C.executeOperatorList(t),C.endDrawing(),{canvas:A.canvas,scaleX:m.scale,scaleY:y.scale,offsetX:k,offsetY:b}}getSizeAndScale(e,t,r){e=Math.abs(e);const i=Math.max($p.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,t,r,i,s){const o=i-t,a=s-r;e.ctx.rect(t,r,o,a),e.current.updateRectMinMax(Ke(e.ctx),[t,r,i,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){const i=e.ctx,s=e.current;switch(t){case J1.COLORED:const o=this.ctx;i.fillStyle=o.fillStyle,i.strokeStyle=o.strokeStyle,s.fillColor=o.fillStyle,s.strokeColor=o.strokeStyle;break;case J1.UNCOLORED:const a=J.makeHexColor(r[0],r[1],r[2]);i.fillStyle=a,i.strokeStyle=a,s.fillColor=a,s.strokeColor=a;break;default:throw new cR(`Unsupported paint type: ${t}`)}}getPattern(e,t,r,i){let s=r;i!==nn.SHADING&&(s=J.transform(s,t.baseTransform),this.matrix&&(s=J.transform(s,this.matrix)));const o=this.createPatternCanvas(t);let a=new DOMMatrix(s);a=a.translate(o.offsetX,o.offsetY),a=a.scale(1/o.scaleX,1/o.scaleY);const l=e.createPattern(o.canvas,"repeat");return l.setTransform(a),l}};ue($p,"MAX_PATTERN_SIZE",3e3);let qv=$p;function jR({src:n,srcPos:e=0,dest:t,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const a=mn.isLittleEndian?4278190080:255,[l,u]=o?[s,a]:[a,s],d=r>>3,h=r&7,f=n.length;t=new Uint32Array(t.buffer);let p=0;for(let g=0;g<i;g++){for(const _=e+d;e<_;e++){const m=e<f?n[e]:255;t[p++]=m&128?u:l,t[p++]=m&64?u:l,t[p++]=m&32?u:l,t[p++]=m&16?u:l,t[p++]=m&8?u:l,t[p++]=m&4?u:l,t[p++]=m&2?u:l,t[p++]=m&1?u:l}if(h===0)continue;const v=e<f?n[e++]:255;for(let _=0;_<h;_++)t[p++]=v&1<<7-_?u:l}return{srcPos:e,destPos:p}}const Z1=16,eE=100,zR=15,tE=10,nE=1e3,hn=16;function HR(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(r,i){e.translate(r,i),this.__originalTranslate(r,i)},n.scale=function(r,i){e.scale(r,i),this.__originalScale(r,i)},n.transform=function(r,i,s,o,a,l){e.transform(r,i,s,o,a,l),this.__originalTransform(r,i,s,o,a,l)},n.setTransform=function(r,i,s,o,a,l){e.setTransform(r,i,s,o,a,l),this.__originalSetTransform(r,i,s,o,a,l)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(r){e.rotate(r),this.__originalRotate(r)},n.clip=function(r){e.clip(r),this.__originalClip(r)},n.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},n.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},n.bezierCurveTo=function(t,r,i,s,o,a){e.bezierCurveTo(t,r,i,s,o,a),this.__originalBezierCurveTo(t,r,i,s,o,a)},n.rect=function(t,r,i,s){e.rect(t,r,i,s),this.__originalRect(t,r,i,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class BR{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,r)):(i=this.canvasFactory.create(t,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function of(n,e,t,r,i,s,o,a,l,u){const[d,h,f,p,g,v]=Ke(n);if(h===0&&f===0){const y=o*d+g,A=Math.round(y),x=a*p+v,C=Math.round(x),k=(o+l)*d+g,b=Math.abs(Math.round(k)-A)||1,R=(a+u)*p+v,O=Math.abs(Math.round(R)-C)||1;return n.setTransform(Math.sign(d),0,0,Math.sign(p),A,C),n.drawImage(e,t,r,i,s,0,0,b,O),n.setTransform(d,h,f,p,g,v),[b,O]}if(d===0&&p===0){const y=a*f+g,A=Math.round(y),x=o*h+v,C=Math.round(x),k=(a+u)*f+g,b=Math.abs(Math.round(k)-A)||1,R=(o+l)*h+v,O=Math.abs(Math.round(R)-C)||1;return n.setTransform(0,Math.sign(h),Math.sign(f),0,A,C),n.drawImage(e,t,r,i,s,0,0,O,b),n.setTransform(d,h,f,p,g,v),[O,b]}n.drawImage(e,t,r,i,s,o,a,l,u);const _=Math.hypot(d,h),m=Math.hypot(f,p);return[_*l,m*u]}function UR(n){const{width:e,height:t}=n;if(e>nE||t>nE)return null;const r=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let o=new Uint8Array(s*(t+1)),a,l,u;const d=e+7&-8;let h=new Uint8Array(d*t),f=0;for(const m of n.data){let y=128;for(;y>0;)h[f++]=m&y?0:255,y>>=1}let p=0;for(f=0,h[f]!==0&&(o[0]=1,++p),l=1;l<e;l++)h[f]!==h[f+1]&&(o[l]=h[f]?2:1,++p),f++;for(h[f]!==0&&(o[l]=2,++p),a=1;a<t;a++){f=a*d,u=a*s,h[f-d]!==h[f]&&(o[u]=h[f]?1:8,++p);let m=(h[f]?4:0)+(h[f-d]?8:0);for(l=1;l<e;l++)m=(m>>2)+(h[f+1]?4:0)+(h[f-d+1]?8:0),i[m]&&(o[u+l]=i[m],++p),f++;if(h[f-d]!==h[f]&&(o[u+l]=h[f]?2:4,++p),p>r)return null}for(f=d*(t-1),u=a*s,h[f]!==0&&(o[u]=8,++p),l=1;l<e;l++)h[f]!==h[f+1]&&(o[u+l]=h[f]?4:8,++p),f++;if(h[f]!==0&&(o[u+l]=4,++p),p>r)return null;const g=new Int32Array([0,s,-1,0,-s,0,0,0,1]),v=new Path2D;for(a=0;p&&a<=t;a++){let m=a*s;const y=m+e;for(;m<y&&!o[m];)m++;if(m===y)continue;v.moveTo(m%s,a);const A=m;let x=o[m];do{const C=g[x];do m+=C;while(!o[m]);const k=o[m];k!==5&&k!==10?(x=k,o[m]=0):(x=k&51*x>>4,o[m]&=x>>2|x<<2),v.lineTo(m%s,m/s|0),o[m]||--p}while(A!==m);--a}return h=null,o=null,function(m){m.save(),m.scale(1/e,-1/t),m.translate(0,-t),m.fill(v),m.beginPath(),m.restore()}}class rE{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=n_,this.textMatrixScale=1,this.fontMatrix=wv,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=$t.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,r){[t,r]=J.applyTransform([t,r],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(e,t){const r=J.applyTransform(t,e),i=J.applyTransform(t.slice(2),e),s=J.applyTransform([t[0],t[3]],e),o=J.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,r[0],i[0],s[0],o[0]),this.minY=Math.min(this.minY,r[1],i[1],s[1],o[1]),this.maxX=Math.max(this.maxX,r[0],i[0],s[0],o[0]),this.maxY=Math.max(this.maxY,r[1],i[1],s[1],o[1])}updateScalingPathMinMax(e,t){J.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,r,i,s,o,a,l,u,d){const h=J.bezierBoundingBox(t,r,i,s,o,a,l,u,d);d||this.updateRectMinMax(e,h)}getPathBoundingBox(e=nn.FILL,t=null){const r=[this.minX,this.minY,this.maxX,this.maxY];if(e===nn.STROKE){t||De("Stroke bounding box must include transform.");const i=J.singularValueDecompose2dScale(t),s=i[0]*this.lineWidth/2,o=i[1]*this.lineWidth/2;r[0]-=s,r[1]-=o,r[2]+=s,r[3]+=o}return r}updateClipFromPath(){const e=J.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=nn.FILL,t=null){return J.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function iE(n,e){if(typeof ImageData<"u"&&e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,r=e.width,i=t%hn,s=(t-i)/hn,o=i===0?s:s+1,a=n.createImageData(r,hn);let l=0,u;const d=e.data,h=a.data;let f,p,g,v;if(e.kind===xf.GRAYSCALE_1BPP){const _=d.byteLength,m=new Uint32Array(h.buffer,0,h.byteLength>>2),y=m.length,A=r+7>>3,x=4294967295,C=mn.isLittleEndian?4278190080:255;for(f=0;f<o;f++){for(g=f<s?hn:i,u=0,p=0;p<g;p++){const k=_-l;let b=0;const R=k>A?r:k*8-7,O=R&-8;let N=0,F=0;for(;b<O;b+=8)F=d[l++],m[u++]=F&128?x:C,m[u++]=F&64?x:C,m[u++]=F&32?x:C,m[u++]=F&16?x:C,m[u++]=F&8?x:C,m[u++]=F&4?x:C,m[u++]=F&2?x:C,m[u++]=F&1?x:C;for(;b<R;b++)N===0&&(F=d[l++],N=128),m[u++]=F&N?x:C,N>>=1}for(;u<y;)m[u++]=0;n.putImageData(a,0,f*hn)}}else if(e.kind===xf.RGBA_32BPP){for(p=0,v=r*hn*4,f=0;f<s;f++)h.set(d.subarray(l,l+v)),l+=v,n.putImageData(a,0,p),p+=hn;f<o&&(v=r*i*4,h.set(d.subarray(l,l+v)),n.putImageData(a,0,p))}else if(e.kind===xf.RGB_24BPP)for(g=hn,v=r*g,f=0;f<o;f++){for(f>=s&&(g=i,v=r*g),u=0,p=v;p--;)h[u++]=d[l++],h[u++]=d[l++],h[u++]=d[l++],h[u++]=255;n.putImageData(a,0,f*hn)}else throw new Error(`bad image kind: ${e.kind}`)}function sE(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,r=e.width,i=t%hn,s=(t-i)/hn,o=i===0?s:s+1,a=n.createImageData(r,hn);let l=0;const u=e.data,d=a.data;for(let h=0;h<o;h++){const f=h<s?hn:i;({srcPos:l}=jR({src:u,srcPos:l,dest:d,width:r,height:f,nonBlackColor:0})),n.putImageData(a,0,h*hn)}}function Uc(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of t)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function af(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!Kt){const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function oE(n,e){if(e)return!0;const t=J.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*Xs.PDF_TO_CSS_UNITS);return t[0]<=r&&t[1]<=r}const $R=["butt","round","square"],VR=["miter","round","bevel"],WR={},aE={};var qs,Yv,Qv;const iw=class iw{constructor(e,t,r,i,s,{optionalContentConfig:o,markedContentStack:a=null},l,u){S(this,qs);this.ctx=e,this.current=new rE(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new BR(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=a,r){const l=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Ke(this.compositeCtx))}this.ctx.save(),af(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Ke(this.ctx)}executeOperatorList(e,t,r,i){const s=e.argsArray,o=e.fnArray;let a=t||0;const l=s.length;if(l===a)return a;const u=l-a>tE&&typeof r=="function",d=u?Date.now()+zR:0;let h=0;const f=this.commonObjs,p=this.objs;let g;for(;;){if(i!==void 0&&a===i.nextBreakPoint)return i.breakIt(a,r),a;if(g=o[a],g!==ar.dependency)this[g].apply(this,s[a]);else for(const v of s[a]){const _=v.startsWith("g_")?f:p;if(!_.has(v))return _.get(v,r),a}if(a++,a===l)return a;if(u&&++h>tE){if(Date.now()>d)return r(),a;h=0}}}endDrawing(){E(this,qs,Yv).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),E(this,qs,Qv).call(this)}_scaleImage(e,t){const r=e.width,i=e.height;let s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),a=r,l=i,u="prescale1",d,h;for(;s>2&&a>1||o>2&&l>1;){let f=a,p=l;s>2&&a>1&&(f=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),s/=a/f),o>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/p),d=this.cachedCanvases.getCanvas(u,f,p),h=d.context,h.clearRect(0,0,f,p),h.drawImage(e,0,0,a,l,0,0,f,p),e=d.canvas,a=f,l=p,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:r,height:i}=e,s=this.current.fillColor,o=this.current.patternFill,a=Ke(t);let l,u,d,h;if((e.bitmap||e.data)&&e.count>1){const R=e.bitmap||e.data.buffer;u=JSON.stringify(o?a:[a.slice(0,4),s]),l=this._cachedBitmapsMap.get(R),l||(l=new Map,this._cachedBitmapsMap.set(R,l));const O=l.get(u);if(O&&!o){const N=Math.round(Math.min(a[0],a[2])+a[4]),F=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:O,offsetX:N,offsetY:F}}d=O}d||(h=this.cachedCanvases.getCanvas("maskCanvas",r,i),sE(h.context,e));let f=J.transform(a,[1/r,0,0,-1/i,0,0]);f=J.transform(f,[1,0,0,1,0,-i]);const[p,g,v,_]=J.getAxialAlignedBoundingBox([0,0,r,i],f),m=Math.round(v-p)||1,y=Math.round(_-g)||1,A=this.cachedCanvases.getCanvas("fillCanvas",m,y),x=A.context,C=p,k=g;x.translate(-C,-k),x.transform(...f),d||(d=this._scaleImage(h.canvas,ii(x)),d=d.img,l&&o&&l.set(u,d)),x.imageSmoothingEnabled=oE(Ke(x),e.interpolate),of(x,d,0,0,d.width,d.height,0,0,r,i),x.globalCompositeOperation="source-in";const b=J.transform(ii(x),[1,0,0,1,-C,-k]);return x.fillStyle=o?s.getPattern(t,this,b,nn.FILL):s,x.fillRect(0,0,r,i),l&&!o&&(this.cachedCanvases.delete("fillCanvas"),l.set(u,A.canvas)),{canvas:A.canvas,offsetX:Math.round(C),offsetY:Math.round(k)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=$R[e]}setLineJoin(e){this.ctx.lineJoin=VR[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,r]of e)switch(t){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.current.fillAlpha=r,this.ctx.globalAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,e,t);this.suspendedCtx=this.ctx,this.ctx=i.context;const s=this.ctx;s.setTransform(...Ke(this.suspendedCtx)),Uc(this.suspendedCtx,s),HR(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Uc(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,i){const s=i[0],o=i[1],a=i[2]-s,l=i[3]-o;a===0||l===0||(this.genericComposeSMask(t.context,r,a,l,t.subtype,t.backdrop,t.transferMap,s,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,i,s,o,a,l,u,d,h){let f=e.canvas,p=l-d,g=u-h;if(o){if(p<0||g<0||p+r>f.width||g+i>f.height){const _=this.cachedCanvases.getCanvas("maskExtension",r,i),m=_.context;m.drawImage(f,-p,-g),o.some(y=>y!==0)&&(m.globalCompositeOperation="destination-atop",m.fillStyle=J.makeHexColor(...o),m.fillRect(0,0,r,i),m.globalCompositeOperation="source-over"),f=_.canvas,p=g=0}else if(o.some(_=>_!==0)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const _=new Path2D;_.rect(p,g,r,i),e.clip(_),e.globalCompositeOperation="destination-atop",e.fillStyle=J.makeHexColor(...o),e.fillRect(p,g,r,i),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&a?t.filter=this.filterFactory.addAlphaFilter(a):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(a));const v=new Path2D;v.rect(l,u,r,i),t.clip(v),t.globalCompositeOperation="destination-in",t.drawImage(f,p,g,r,i,l,u,r,i),t.restore()}save(){this.inSMaskMode?(Uc(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Uc(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,r,i,s,o){this.ctx.transform(e,t,r,i,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r){const i=this.ctx,s=this.current;let o=s.x,a=s.y,l,u;const d=Ke(i),h=d[0]===0&&d[3]===0||d[1]===0&&d[2]===0,f=h?r.slice(0):null;for(let p=0,g=0,v=e.length;p<v;p++)switch(e[p]|0){case ar.rectangle:o=t[g++],a=t[g++];const _=t[g++],m=t[g++],y=o+_,A=a+m;i.moveTo(o,a),_===0||m===0?i.lineTo(y,A):(i.lineTo(y,a),i.lineTo(y,A),i.lineTo(o,A)),h||s.updateRectMinMax(d,[o,a,y,A]),i.closePath();break;case ar.moveTo:o=t[g++],a=t[g++],i.moveTo(o,a),h||s.updatePathMinMax(d,o,a);break;case ar.lineTo:o=t[g++],a=t[g++],i.lineTo(o,a),h||s.updatePathMinMax(d,o,a);break;case ar.curveTo:l=o,u=a,o=t[g+4],a=t[g+5],i.bezierCurveTo(t[g],t[g+1],t[g+2],t[g+3],o,a),s.updateCurvePathMinMax(d,l,u,t[g],t[g+1],t[g+2],t[g+3],o,a,f),g+=6;break;case ar.curveTo2:l=o,u=a,i.bezierCurveTo(o,a,t[g],t[g+1],t[g+2],t[g+3]),s.updateCurvePathMinMax(d,l,u,o,a,t[g],t[g+1],t[g+2],t[g+3],f),o=t[g+2],a=t[g+3],g+=4;break;case ar.curveTo3:l=o,u=a,o=t[g+2],a=t[g+3],i.bezierCurveTo(t[g],t[g+1],o,a,o,a),s.updateCurvePathMinMax(d,l,u,t[g],t[g+1],o,a,o,a,f),g+=4;break;case ar.closePath:i.closePath();break}h&&s.updateScalingPathMinMax(d,f),s.setCurrentPoint(o,a)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,r=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof r=="object"&&(r!=null&&r.getPattern)?(t.save(),t.strokeStyle=r.getPattern(t,this,ii(t),nn.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;let s=!1;i&&(t.save(),t.fillStyle=r.getPattern(t,this,ii(t),nn.FILL),s=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),s&&t.restore(),e&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=WR}eoClip(){this.pendingClip=aE}beginText(){this.current.textMatrix=n_,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const r of e)t.setTransform(...r.transform),t.translate(r.x,r.y),r.addToPath(t,r.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var d;const r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=r.fontMatrix||wv,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&me("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=t,r.isType3Font)return;const s=r.loadedName||"sans-serif",o=((d=r.systemFontInfo)==null?void 0:d.css)||`"${s}", ${r.fallbackName}`;let a="normal";r.black?a="900":r.bold&&(a="bold");const l=r.italic?"italic":"normal";let u=t;t<Z1?u=Z1:t>eE&&(u=eE),this.current.fontSizeScale=t/u,this.ctx.font=`${l} ${a} ${u}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,r,i,s,o){this.current.textMatrix=[e,t,r,i,s,o],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,r,i){const s=this.ctx,o=this.current,a=o.font,l=o.textRenderingMode,u=o.fontSize/o.fontSizeScale,d=l&$t.FILL_STROKE_MASK,h=!!(l&$t.ADD_TO_PATH_FLAG),f=o.patternFill&&!a.missingFile;let p;(a.disableFontFace||h||f)&&(p=a.getPathGenerator(this.commonObjs,e)),a.disableFontFace||f?(s.save(),s.translate(t,r),s.beginPath(),p(s,u),i&&s.setTransform(...i),(d===$t.FILL||d===$t.FILL_STROKE)&&s.fill(),(d===$t.STROKE||d===$t.FILL_STROKE)&&s.stroke(),s.restore()):((d===$t.FILL||d===$t.FILL_STROKE)&&s.fillText(e,t,r),(d===$t.STROKE||d===$t.FILL_STROKE)&&s.strokeText(e,t,r)),h&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Ke(s),x:t,y:r,fontSize:u,addToPath:p})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){r=!0;break}return xe(this,"isFontSubpixelAAEnabled",r)}showText(e){const t=this.current,r=t.font;if(r.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(i===0)return;const s=this.ctx,o=t.fontSizeScale,a=t.charSpacing,l=t.wordSpacing,u=t.fontDirection,d=t.textHScale*u,h=e.length,f=r.vertical,p=f?1:-1,g=r.defaultVMetrics,v=i*t.fontMatrix[0],_=t.textRenderingMode===$t.FILL&&!r.disableFontFace&&!t.patternFill;s.save(),s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),u>0?s.scale(d,-1):s.scale(d,1);let m;if(t.patternFill){s.save();const k=t.fillColor.getPattern(s,this,ii(s),nn.FILL);m=Ke(s),s.restore(),s.fillStyle=k}let y=t.lineWidth;const A=t.textMatrixScale;if(A===0||y===0){const k=t.textRenderingMode&$t.FILL_STROKE_MASK;(k===$t.STROKE||k===$t.FILL_STROKE)&&(y=this.getSinglePixelWidth())}else y/=A;if(o!==1&&(s.scale(o,o),y/=o),s.lineWidth=y,r.isInvalidPDFjsFont){const k=[];let b=0;for(const R of e)k.push(R.unicode),b+=R.width;s.fillText(k.join(""),0,0),t.x+=b*v*d,s.restore(),this.compose();return}let x=0,C;for(C=0;C<h;++C){const k=e[C];if(typeof k=="number"){x+=p*k*i/1e3;continue}let b=!1;const R=(k.isSpace?l:0)+a,O=k.fontChar,N=k.accent;let F,K,H=k.width;if(f){const te=k.vmetric||g,ce=-(k.vmetric?te[1]:H*.5)*v,B=te[2]*v;H=te?-te[0]:H,F=ce/o,K=(x+B)/o}else F=x/o,K=0;if(r.remeasure&&H>0){const te=s.measureText(O).width*1e3/i*o;if(H<te&&this.isFontSubpixelAAEnabled){const ce=H/te;b=!0,s.save(),s.scale(ce,1),F/=ce}else H!==te&&(F+=(H-te)/2e3*i/o)}if(this.contentVisible&&(k.isInFont||r.missingFile)){if(_&&!N)s.fillText(O,F,K);else if(this.paintChar(O,F,K,m),N){const te=F+i*N.offset.x/o,ce=K-i*N.offset.y/o;this.paintChar(N.fontChar,te,ce,m)}}const V=f?H*v-R*u:H*v+R*u;x+=V,b&&s.restore()}f?t.y-=x:t.x+=x*d,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,r=this.current,i=r.font,s=r.fontSize,o=r.fontDirection,a=i.vertical?1:-1,l=r.charSpacing,u=r.wordSpacing,d=r.textHScale*o,h=r.fontMatrix||wv,f=e.length,p=r.textRenderingMode===$t.INVISIBLE;let g,v,_,m;if(!(p||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...r.textMatrix),t.translate(r.x,r.y),t.scale(d,o),g=0;g<f;++g){if(v=e[g],typeof v=="number"){m=a*v*s/1e3,this.ctx.translate(m,0),r.x+=m*d;continue}const y=(v.isSpace?u:0)+l,A=i.charProcOperatorList[v.operatorListId];if(!A){me(`Type3 character "${v.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=v,this.save(),t.scale(s,s),t.transform(...h),this.executeOperatorList(A),this.restore()),_=J.applyTransform([v.width,0],h)[0]*s+y,t.translate(_,0),r.x+=_*d}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,r,i,s,o){this.ctx.rect(r,i,s-r,o-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const r=e[1],i=this.baseTransform||Ke(this.ctx),s={createCanvasGraphics:o=>new iw(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new qv(e,r,this.ctx,s,i)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,r){const i=J.makeHexColor(e,t,r);this.ctx.strokeStyle=i,this.current.strokeColor=i}setFillRGBColor(e,t,r){const i=J.makeHexColor(e,t,r);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1}_getPattern(e,t=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=OR(this.getObject(e)),this.cachedPatterns.set(e,r)),t&&(r.matrix=t),r}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const r=this._getPattern(e);t.fillStyle=r.getPattern(t,this,ii(t),nn.SHADING);const i=ii(t);if(i){const{width:s,height:o}=t.canvas,[a,l,u,d]=J.getAxialAlignedBoundingBox([0,0,s,o],i);this.ctx.fillRect(a,l,u-a,d-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){De("Should not call beginInlineImage")}beginImageData(){De("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Ke(this.ctx),t)){const r=t[2]-t[0],i=t[3]-t[1];this.ctx.rect(t[0],t[1],r,i),this.current.updateRectMinMax(Ke(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||vg("TODO: Support non-isolated groups."),e.knockout&&me("Knockout groups not supported.");const r=Ke(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=J.getAxialAlignedBoundingBox(e.bbox,Ke(t));const s=[0,0,t.canvas.width,t.canvas.height];i=J.intersect(i,s)||[0,0,0,0];const o=Math.floor(i[0]),a=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-o,1),u=Math.max(Math.ceil(i[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,u]);let d="groupAt"+this.groupLevel;e.smask&&(d+="_smask_"+this.smaskCounter++%2);const h=this.cachedCanvases.getCanvas(d,l,u),f=h.context;f.translate(-o,-a),f.transform(...r),e.smask?this.smaskStack.push({canvas:h.canvas,context:f,offsetX:o,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,a),t.save()),Uc(t,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=Ke(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const s=J.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],i);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,r,i,s){if(E(this,qs,Yv).call(this),af(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const o=t[2]-t[0],a=t[3]-t[1];if(s&&this.annotationCanvasMap){r=r.slice(),r[4]-=t[0],r[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=o,t[3]=a;const[l,u]=J.singularValueDecompose2dScale(Ke(this.ctx)),{viewportScale:d}=this,h=Math.ceil(o*this.outputScaleX*d),f=Math.ceil(a*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(h,f);const{canvas:p,context:g}=this.annotationCanvas;this.annotationCanvasMap.set(e,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=g,this.ctx.save(),this.ctx.setTransform(l,0,0,-u,0,a*u),af(this.ctx)}else af(this.ctx),this.ctx.rect(t[0],t[1],o,a),this.ctx.clip(),this.endPath()}this.current=new rE(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),E(this,qs,Qv).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const r=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=UR(e)),i.compiled)){i.compiled(r);return}const s=this._createMaskCanvas(e),o=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(o,s.offsetX,s.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r=0,i=0,s,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const l=Ke(a);a.transform(t,r,i,s,0,0);const u=this._createMaskCanvas(e);a.setTransform(1,0,0,1,u.offsetX-l[4],u.offsetY-l[5]);for(let d=0,h=o.length;d<h;d+=2){const f=J.transform(l,[t,r,i,s,o[d],o[d+1]]),[p,g]=J.applyTransform([0,0],f);a.drawImage(u.canvas,p,g)}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;for(const s of e){const{data:o,width:a,height:l,transform:u}=s,d=this.cachedCanvases.getCanvas("maskCanvas",a,l),h=d.context;h.save();const f=this.getObject(o,s);sE(h,f),h.globalCompositeOperation="source-in",h.fillStyle=i?r.getPattern(h,this,ii(t),nn.FILL):r,h.fillRect(0,0,a,l),h.restore(),t.save(),t.transform(...u),t.scale(1,-1),of(t,d.canvas,0,0,a,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){me("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,r,i){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){me("Dependent image isn't ready yet");return}const o=s.width,a=s.height,l=[];for(let u=0,d=i.length;u<d;u+=2)l.push({transform:[t,0,0,r,i[u],i[u+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,r=e.height,i=this.ctx;if(this.save(),!Kt){const{filter:a}=i;a!=="none"&&a!==""&&(i.filter="none")}i.scale(1/t,-1/r);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",t,r).context;iE(l,e),s=this.applyTransferMapsToCanvas(l)}const o=this._scaleImage(s,ii(i));i.imageSmoothingEnabled=oE(Ke(i),e.interpolate),of(i,o.img,0,0,o.paintWidth,o.paintHeight,0,-r,t,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const r=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const s=e.width,o=e.height,l=this.cachedCanvases.getCanvas("inlineImage",s,o).context;iE(l,e),i=this.applyTransferMapsToCanvas(l)}for(const s of t)r.save(),r.transform(...s.transform),r.scale(1,-1),of(r,i,s.x,s.y,s.w,s.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(t||(this.pendingClip===aE?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Ke(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:r,c:i,d:s}=this.ctx.getTransform();let o,a;if(r===0&&i===0){const l=Math.abs(t),u=Math.abs(s);if(l===u)if(e===0)o=a=1/l;else{const d=l*e;o=a=d<1?1/d:1}else if(e===0)o=1/l,a=1/u;else{const d=l*e,h=u*e;o=d<1?1/d:1,a=h<1?1/h:1}}else{const l=Math.abs(t*s-r*i),u=Math.hypot(t,r),d=Math.hypot(i,s);if(e===0)o=d/l,a=u/l;else{const h=e*l;o=d>h?d/h:1,a=u>h?u/h:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:r}=this.current,[i,s]=this.getScaleForStroking();if(t.lineWidth=r||1,i===1&&s===1){t.stroke();return}const o=t.getLineDash();if(e&&t.save(),t.scale(i,s),o.length>0){const a=Math.max(i,s);t.setLineDash(o.map(l=>l/a)),t.lineDashOffset/=a}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};qs=new WeakSet,Yv=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Qv=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let vl=iw;for(const n in ar)vl.prototype[n]!==void 0&&(vl.prototype[ar[n]]=vl.prototype[n]);var wd,Ed;class Ui{static get workerPort(){return c(this,wd)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");w(this,wd,e)}static get workerSrc(){return c(this,Ed)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");w(this,Ed,e)}}wd=new WeakMap,Ed=new WeakMap,S(Ui,wd,null),S(Ui,Ed,"");const lf={UNKNOWN:0,DATA:1,ERROR:2},ot={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function xn(n){switch(n instanceof Error||typeof n=="object"&&n!==null||De('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Ia(n.message);case"MissingPDFException":return new Fa(n.message);case"PasswordException":return new Av(n.message,n.code);case"UnexpectedResponseException":return new yg(n.message,n.status);case"UnknownErrorException":return new Sv(n.message,n.details);default:return new Sv(n.message,n.toString())}}var Zr,O_,j_,Lf;class eu{constructor(e,t,r){S(this,Zr);this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=i=>{const s=i.data;if(s.targetName!==this.sourceName)return;if(s.stream){E(this,Zr,j_).call(this,s);return}if(s.callback){const a=s.callbackId,l=this.callbackCapabilities[a];if(!l)throw new Error(`Cannot resolve callback ${a}`);if(delete this.callbackCapabilities[a],s.callback===lf.DATA)l.resolve(s.data);else if(s.callback===lf.ERROR)l.reject(xn(s.reason));else throw new Error("Unexpected callback case");return}const o=this.actionHandler[s.action];if(!o)throw new Error(`Unknown action from worker: ${s.action}`);if(s.callbackId){const a=this.sourceName,l=s.sourceName;new Promise(function(u){u(o(s.data))}).then(function(u){r.postMessage({sourceName:a,targetName:l,callback:lf.DATA,callbackId:s.callbackId,data:u})},function(u){r.postMessage({sourceName:a,targetName:l,callback:lf.ERROR,callbackId:s.callbackId,reason:xn(u)})});return}if(s.streamId){E(this,Zr,O_).call(this,s);return}o(s.data)},r.addEventListener("message",this._onComObjOnMessage)}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},r)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,t,r,i){const s=this.streamId++,o=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:u=>{const d=Promise.withResolvers();return this.streamControllers[s]={controller:u,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:a,action:e,streamId:s,data:t,desiredSize:u.desiredSize},i),d.promise},pull:u=>{const d=Promise.withResolvers();return this.streamControllers[s].pullCall=d,l.postMessage({sourceName:o,targetName:a,stream:ot.PULL,streamId:s,desiredSize:u.desiredSize}),d.promise},cancel:u=>{yt(u instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[s].cancelCall=d,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:o,targetName:a,stream:ot.CANCEL,streamId:s,reason:xn(u)}),d.promise}},r)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}Zr=new WeakSet,O_=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this,a=this.actionHandler[e.action],l={enqueue(u,d=1,h){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=d,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:ot.ENQUEUE,streamId:t,chunk:u},h)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:ot.CLOSE,streamId:t}),delete o.streamSinks[t])},error(u){yt(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:ot.ERROR,streamId:t,reason:xn(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,new Promise(function(u){u(a(e.data,l))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:ot.START_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:r,targetName:i,stream:ot.START_COMPLETE,streamId:t,reason:xn(u)})})},j_=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case ot.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(xn(e.reason));break;case ot.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(xn(e.reason));break;case ot.PULL:if(!a){s.postMessage({sourceName:r,targetName:i,stream:ot.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,new Promise(function(l){var u;l((u=a.onPull)==null?void 0:u.call(a))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:ot.PULL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:r,targetName:i,stream:ot.PULL_COMPLETE,streamId:t,reason:xn(l)})});break;case ot.ENQUEUE:if(yt(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case ot.CLOSE:if(yt(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),E(this,Zr,Lf).call(this,o,t);break;case ot.ERROR:yt(o,"error should have stream controller"),o.controller.error(xn(e.reason)),E(this,Zr,Lf).call(this,o,t);break;case ot.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(xn(e.reason)),E(this,Zr,Lf).call(this,o,t);break;case ot.CANCEL:if(!a)break;new Promise(function(l){var u;l((u=a.onCancel)==null?void 0:u.call(a,xn(e.reason)))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:ot.CANCEL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:r,targetName:i,stream:ot.CANCEL_COMPLETE,streamId:t,reason:xn(l)})}),a.sinkCapability.reject(xn(e.reason)),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Lf=async function(e,t){var r,i,s;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var Oo,Ad;class GR{constructor({parsedData:e,rawData:t}){S(this,Oo);S(this,Ad);w(this,Oo,e),w(this,Ad,t)}getRaw(){return c(this,Ad)}get(e){return c(this,Oo).get(e)??null}getAll(){return $0(c(this,Oo))}has(e){return c(this,Oo).has(e)}}Oo=new WeakMap,Ad=new WeakMap;const ss=Symbol("INTERNAL");var Sd,_d,bd,Dl;class XR{constructor(e,{name:t,intent:r,usage:i}){S(this,Sd,!1);S(this,_d,!1);S(this,bd,!1);S(this,Dl,!0);w(this,Sd,!!(e&Kn.DISPLAY)),w(this,_d,!!(e&Kn.PRINT)),this.name=t,this.intent=r,this.usage=i}get visible(){if(c(this,bd))return c(this,Dl);if(!c(this,Dl))return!1;const{print:e,view:t}=this.usage;return c(this,Sd)?(t==null?void 0:t.viewState)!=="OFF":c(this,_d)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,r=!1){e!==ss&&De("Internal method `_setVisible` called."),w(this,bd,r),w(this,Dl,t)}}Sd=new WeakMap,_d=new WeakMap,bd=new WeakMap,Dl=new WeakMap;var vs,Me,Fl,Il,xd,Jv;class KR{constructor(e,t=Kn.DISPLAY){S(this,xd);S(this,vs,null);S(this,Me,new Map);S(this,Fl,null);S(this,Il,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,w(this,Il,e.order);for(const r of e.groups)c(this,Me).set(r.id,new XR(t,r));if(e.baseState==="OFF")for(const r of c(this,Me).values())r._setVisible(ss,!1);for(const r of e.on)c(this,Me).get(r)._setVisible(ss,!0);for(const r of e.off)c(this,Me).get(r)._setVisible(ss,!1);w(this,Fl,this.getHash())}}isVisible(e){if(c(this,Me).size===0)return!0;if(!e)return vg("Optional content group not defined."),!0;if(e.type==="OCG")return c(this,Me).has(e.id)?c(this,Me).get(e.id).visible:(me(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return E(this,xd,Jv).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!c(this,Me).has(t))return me(`Optional content group not found: ${t}`),!0;if(c(this,Me).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!c(this,Me).has(t))return me(`Optional content group not found: ${t}`),!0;if(!c(this,Me).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!c(this,Me).has(t))return me(`Optional content group not found: ${t}`),!0;if(!c(this,Me).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!c(this,Me).has(t))return me(`Optional content group not found: ${t}`),!0;if(c(this,Me).get(t).visible)return!1}return!0}return me(`Unknown optional content policy ${e.policy}.`),!0}return me(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0){const r=c(this,Me).get(e);if(!r){me(`Optional content group not found: ${e}`);return}r._setVisible(ss,!!t,!0),w(this,vs,null)}setOCGState({state:e,preserveRB:t}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=c(this,Me).get(i);if(s)switch(r){case"ON":s._setVisible(ss,!0);break;case"OFF":s._setVisible(ss,!1);break;case"Toggle":s._setVisible(ss,!s.visible);break}}w(this,vs,null)}get hasInitialVisibility(){return c(this,Fl)===null||this.getHash()===c(this,Fl)}getOrder(){return c(this,Me).size?c(this,Il)?c(this,Il).slice():[...c(this,Me).keys()]:null}getGroups(){return c(this,Me).size>0?$0(c(this,Me)):null}getGroup(e){return c(this,Me).get(e)||null}getHash(){if(c(this,vs)!==null)return c(this,vs);const e=new D_;for(const[t,r]of c(this,Me))e.update(`${t}:${r.visible}`);return w(this,vs,e.hexdigest())}}vs=new WeakMap,Me=new WeakMap,Fl=new WeakMap,Il=new WeakMap,xd=new WeakSet,Jv=function(e){const t=e.length;if(t<2)return!0;const r=e[0];for(let i=1;i<t;i++){const s=e[i];let o;if(Array.isArray(s))o=E(this,xd,Jv).call(this,s);else if(c(this,Me).has(s))o=c(this,Me).get(s).visible;else return me(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return r==="And"};class qR{constructor(e,{disableRange:t=!1,disableStream:r=!1}){yt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,u)=>{this._onReceiveData({begin:l,chunk:u})}),e.addProgressListener((l,u)=>{this._onProgress({loaded:l,total:u})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});yt(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,r,i,s;e.total===void 0?(r=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||r.call(t,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){yt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new YR(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new QR(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class YR{constructor(e,t,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=K0(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class QR{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function JR(n){let e=!0,t=r("filename\\*","i").exec(n);if(t){t=t[1];let d=a(t);return d=unescape(d),d=l(d),d=u(d),s(d)}if(t=o(n),t){const d=u(t);return s(d)}if(t=r("filename","i").exec(n),t){t=t[1];let d=a(t);return d=u(d),s(d)}function r(d,h){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function i(d,h){if(d){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const f=new TextDecoder(d,{fatal:!0}),p=wg(h);h=f.decode(p),e=!1}catch{}}return h}function s(d){return e&&/[\x80-\xff]/.test(d)&&(d=i("utf-8",d),e&&(d=i("iso-8859-1",d))),d}function o(d){const h=[];let f;const p=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(d))!==null;){let[,v,_,m]=f;if(v=parseInt(v,10),v in h){if(v===0)break;continue}h[v]=[_,m]}const g=[];for(let v=0;v<h.length&&v in h;++v){let[_,m]=h[v];m=a(m),_&&(m=unescape(m),v===0&&(m=l(m))),g.push(m)}return g.join("")}function a(d){if(d.startsWith('"')){const h=d.slice(1).split('\\"');for(let f=0;f<h.length;++f){const p=h[f].indexOf('"');p!==-1&&(h[f]=h[f].slice(0,p),h.length=f+1),h[f]=h[f].replaceAll(/\\(.)/g,"$1")}d=h.join('"')}return d}function l(d){const h=d.indexOf("'");if(h===-1)return d;const f=d.slice(0,h),g=d.slice(h+1).replace(/^[^']*'/,"");return i(f,g)}function u(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,f,p,g){if(p==="q"||p==="Q")return g=g.replaceAll("_"," "),g=g.replaceAll(/=([0-9a-fA-F]{2})/g,function(v,_){return String.fromCharCode(parseInt(_,16))}),i(f,g);try{g=atob(g)}catch{}return i(f,g)})}return""}function Q0({getResponseHeader:n,isHttp:e,rangeChunkSize:t,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*t)||r||!e||n("Accept-Ranges")!=="bytes"||(n("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function J0(n){const e=n("Content-Disposition");if(e){let t=JR(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(K0(t))return t}return null}function xg(n,e){return n===404||n===0&&e.startsWith("file:")?new Fa('Missing PDF "'+e+'".'):new yg(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function z_(n){return n===200||n===206}function H_(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function B_(n){const e=new Headers;for(const t in n){const r=n[t];r!==void 0&&e.append(t,r)}return e}function U_(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(me(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class lE{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return yt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new ZR(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new eL(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class ZR{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=B_(this._stream.httpHeaders);const r=t.url;fetch(r,H_(this._headers,this._withCredentials,this._abortController)).then(i=>{if(!z_(i.status))throw xg(i.status,r);this._reader=i.body.getReader(),this._headersCapability.resolve();const s=l=>i.headers.get(l),{allowRangeRequests:o,suggestedLength:a}=Q0({getResponseHeader:s,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=a||this._contentLength,this._filename=J0(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ia("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:U_(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class eL{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController,this._headers=B_(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${r-1}`);const s=i.url;fetch(s,H_(this._headers,this._withCredentials,this._abortController)).then(o=>{if(!z_(o.status))throw xg(o.status,s);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:U_(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const gm=200,mm=206;function tL(n){const e=n.response;return typeof e!="string"?e:wg(e).buffer}class nL{constructor(e,t={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,r){const i={begin:e,end:t};for(const s in r)i[s]=r[s];return this.request(i)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const s in this.httpHeaders){const o=this.httpHeaders[s];o!==void 0&&t.setRequestHeader(s,o)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=mm):i.expectedStatus=gm,t.responseType="arraybuffer",e.onError&&(t.onerror=function(s){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,t))}onStateChange(e,t){var l,u,d;const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){(l=r.onError)==null||l.call(r,i.status);return}const s=i.status||gm;if(!(s===gm&&r.expectedStatus===mm)&&s!==r.expectedStatus){(u=r.onError)==null||u.call(r,i.status);return}const a=tL(i);if(s===mm){const h=i.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);r.onDone({begin:parseInt(f[1],10),chunk:a})}else a?r.onDone({begin:0,chunk:a}):(d=r.onError)==null||d.call(r,i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class rL{constructor(e){this._source=e,this._manager=new nL(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return yt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new iL(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const r=new sL(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class iL{constructor(e,t){this._manager=e;const r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(r),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),r=o=>t.getResponseHeader(o),{allowRangeRequests:i,suggestedLength:s}=Q0({getResponseHeader:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=J0(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=xg(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class sL{constructor(e,t,r){this._manager=e;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,r,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=xg(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const $_=/^file:\/\/\/[a-zA-Z]:\//;function oL(n){const e=ei.get("url"),t=e.parse(n);return t.protocol==="file:"||t.host?t:/^[a-z]:[/\\]/i.test(n)?e.parse(`file:///${n}`):(t.host||(t.protocol="file:"),t)}class aL{constructor(e){this.source=e,this.url=oL(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return yt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new uL(this):new lL(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=this.isFsUrl?new dL(this,e,t):new cL(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class V_{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Ia("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class W_{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function kp(n,e){return{protocol:n.protocol,auth:n.auth,host:n.hostname,port:n.port,path:n.path,method:"GET",headers:e}}class lL extends V_{constructor(e){super(e);const t=r=>{if(r.statusCode===404){const a=new Fa(`Missing PDF "${this._url}".`);this._storedError=a,this._headersCapability.reject(a);return}this._headersCapability.resolve(),this._setReadableStream(r);const i=a=>this._readableStream.headers[a.toLowerCase()],{allowRangeRequests:s,suggestedLength:o}=Q0({getResponseHeader:i,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=o||this._contentLength,this._filename=J0(i)};if(this._request=null,this._url.protocol==="http:"){const r=ei.get("http");this._request=r.request(kp(this._url,e.httpHeaders),t)}else{const r=ei.get("https");this._request=r.request(kp(this._url,e.httpHeaders),t)}this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class cL extends W_{constructor(e,t,r){super(e),this._httpHeaders={};for(const s in e.httpHeaders){const o=e.httpHeaders[s];o!==void 0&&(this._httpHeaders[s]=o)}this._httpHeaders.Range=`bytes=${t}-${r-1}`;const i=s=>{if(s.statusCode===404){const o=new Fa(`Missing PDF "${this._url}".`);this._storedError=o;return}this._setReadableStream(s)};if(this._request=null,this._url.protocol==="http:"){const s=ei.get("http");this._request=s.request(kp(this._url,this._httpHeaders),i)}else{const s=ei.get("https");this._request=s.request(kp(this._url,this._httpHeaders),i)}this._request.on("error",s=>{this._storedError=s}),this._request.end()}}class uL extends V_{constructor(e){super(e);let t=decodeURIComponent(this._url.path);$_.test(this._url.href)&&(t=t.replace(/^\//,""));const r=ei.get("fs");r.promises.lstat(t).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(t)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new Fa(`Missing PDF "${t}".`)),this._storedError=i,this._headersCapability.reject(i)})}}class dL extends W_{constructor(e,t,r){super(e);let i=decodeURIComponent(this._url.path);$_.test(this._url.href)&&(i=i.replace(/^\//,""));const s=ei.get("fs");this._setReadableStream(s.createReadStream(i,{start:t,end:r-1}))}}const hL=1e5,cn=30,fL=.8;var _E,ys,dn,Cd,Td,jo,_i,kd,Pd,zo,Nl,Ol,ws,jl,Rd,zl,Ho,Ld,Md,fn,Bo,Uo,Hl,Yi,G_,X_,Zv,Vs,Mf,K_;let Pp=(fn=class{constructor({textContentSource:e,container:t,viewport:r}){S(this,Yi);S(this,ys,Promise.withResolvers());S(this,dn,null);S(this,Cd,!1);S(this,Td,!!((_E=globalThis.FontInspector)!=null&&_E.enabled));S(this,jo,null);S(this,_i,null);S(this,kd,0);S(this,Pd,0);S(this,zo,null);S(this,Nl,null);S(this,Ol,0);S(this,ws,0);S(this,jl,Object.create(null));S(this,Rd,[]);S(this,zl,null);S(this,Ho,[]);S(this,Ld,new WeakMap);S(this,Md,null);if(e instanceof ReadableStream)w(this,zl,e);else if(typeof e=="object")w(this,zl,new ReadableStream({start(l){l.enqueue(e),l.close()}}));else throw new Error('No "textContentSource" parameter specified.');w(this,dn,w(this,Nl,t)),w(this,ws,r.scale*(globalThis.devicePixelRatio||1)),w(this,Ol,r.rotation),w(this,_i,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:o,pageY:a}=r.rawDims;w(this,Md,[1,0,0,-1,-o,a+s]),w(this,Pd,i),w(this,kd,s),xa(t,r),c(this,ys).promise.catch(()=>{}).then(()=>{c(fn,Hl).delete(this),w(this,_i,null),w(this,jl,null)})}render(){const e=()=>{c(this,zo).read().then(({value:t,done:r})=>{if(r){c(this,ys).resolve();return}c(this,jo)??w(this,jo,t.lang),Object.assign(c(this,jl),t.styles),E(this,Yi,G_).call(this,t.items),e()},c(this,ys).reject)};return w(this,zo,c(this,zl).getReader()),c(fn,Hl).add(this),e(),c(this,ys).promise}update({viewport:e,onBefore:t=null}){var s;const r=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==c(this,Ol)&&(t==null||t(),w(this,Ol,i),xa(c(this,Nl),{rotation:i})),r!==c(this,ws)){t==null||t(),w(this,ws,r);const o={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:E(s=fn,Vs,Mf).call(s,c(this,jo))};for(const a of c(this,Ho))o.properties=c(this,Ld).get(a),o.div=a,E(this,Yi,Zv).call(this,o)}}cancel(){var t;const e=new Ia("TextLayer task cancelled.");(t=c(this,zo))==null||t.cancel(e).catch(()=>{}),w(this,zo,null),c(this,ys).reject(e)}get textDivs(){return c(this,Ho)}get textContentItemsStr(){return c(this,Rd)}static cleanup(){if(!(c(this,Hl).size>0)){c(this,Bo).clear();for(const{canvas:e}of c(this,Uo).values())e.remove();c(this,Uo).clear()}}},ys=new WeakMap,dn=new WeakMap,Cd=new WeakMap,Td=new WeakMap,jo=new WeakMap,_i=new WeakMap,kd=new WeakMap,Pd=new WeakMap,zo=new WeakMap,Nl=new WeakMap,Ol=new WeakMap,ws=new WeakMap,jl=new WeakMap,Rd=new WeakMap,zl=new WeakMap,Ho=new WeakMap,Ld=new WeakMap,Md=new WeakMap,Bo=new WeakMap,Uo=new WeakMap,Hl=new WeakMap,Yi=new WeakSet,G_=function(e){var i,s;if(c(this,Cd))return;(s=c(this,_i)).ctx||(s.ctx=E(i=fn,Vs,Mf).call(i,c(this,jo)));const t=c(this,Ho),r=c(this,Rd);for(const o of e){if(t.length>hL){me("Ignoring additional textDivs for performance reasons."),w(this,Cd,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=c(this,dn);w(this,dn,document.createElement("span")),c(this,dn).classList.add("markedContent"),o.id!==null&&c(this,dn).setAttribute("id",`${o.id}`),a.append(c(this,dn))}else o.type==="endMarkedContent"&&w(this,dn,c(this,dn).parentNode);continue}r.push(o.str),E(this,Yi,X_).call(this,o)}},X_=function(e){var v;const t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};c(this,Ho).push(t);const i=J.transform(c(this,Md),e.transform);let s=Math.atan2(i[1],i[0]);const o=c(this,jl)[e.fontName];o.vertical&&(s+=Math.PI/2);const a=c(this,Td)&&o.fontSubstitution||o.fontFamily,l=Math.hypot(i[2],i[3]),u=l*E(v=fn,Vs,K_).call(v,a,c(this,jo));let d,h;s===0?(d=i[4],h=i[5]-u):(d=i[4]+u*Math.sin(s),h=i[5]-u*Math.cos(s));const f="calc(var(--scale-factor)*",p=t.style;c(this,dn)===c(this,Nl)?(p.left=`${(100*d/c(this,Pd)).toFixed(2)}%`,p.top=`${(100*h/c(this,kd)).toFixed(2)}%`):(p.left=`${f}${d.toFixed(2)}px)`,p.top=`${f}${h.toFixed(2)}px)`),p.fontSize=`${f}${l.toFixed(2)}px)`,p.fontFamily=a,r.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,c(this,Td)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let g=!1;if(e.str.length>1)g=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const _=Math.abs(e.transform[0]),m=Math.abs(e.transform[3]);_!==m&&Math.max(_,m)/Math.min(_,m)>1.5&&(g=!0)}if(g&&(r.canvasWidth=o.vertical?e.height:e.width),c(this,Ld).set(t,r),c(this,_i).div=t,c(this,_i).properties=r,E(this,Yi,Zv).call(this,c(this,_i)),r.hasText&&c(this,dn).append(t),r.hasEOL){const _=document.createElement("br");_.setAttribute("role","presentation"),c(this,dn).append(_)}},Zv=function(e){const{div:t,properties:r,ctx:i,prevFontSize:s,prevFontFamily:o}=e,{style:a}=t;let l="";if(r.canvasWidth!==0&&r.hasText){const{fontFamily:u}=a,{canvasWidth:d,fontSize:h}=r;(s!==h||o!==u)&&(i.font=`${h*c(this,ws)}px ${u}`,e.prevFontSize=h,e.prevFontFamily=u);const{width:f}=i.measureText(t.textContent);f>0&&(l=`scaleX(${d*c(this,ws)/f})`)}r.angle!==0&&(l=`rotate(${r.angle}deg) ${l}`),l.length>0&&(a.transform=l)},Vs=new WeakSet,Mf=function(e=null){let t=c(this,Uo).get(e||(e=""));if(!t){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1}),c(this,Uo).set(e,t)}return t},K_=function(e,t){const r=c(this,Bo).get(e);if(r)return r;const i=E(this,Vs,Mf).call(this,t),s=i.font;i.canvas.width=i.canvas.height=cn,i.font=`${cn}px ${e}`;const o=i.measureText("");let a=o.fontBoundingBoxAscent,l=Math.abs(o.fontBoundingBoxDescent);if(a){const h=a/(a+l);return c(this,Bo).set(e,h),i.canvas.width=i.canvas.height=0,i.font=s,h}i.strokeStyle="red",i.clearRect(0,0,cn,cn),i.strokeText("g",0,0);let u=i.getImageData(0,0,cn,cn).data;l=0;for(let h=u.length-1-3;h>=0;h-=4)if(u[h]>0){l=Math.ceil(h/4/cn);break}i.clearRect(0,0,cn,cn),i.strokeText("A",0,cn),u=i.getImageData(0,0,cn,cn).data,a=0;for(let h=0,f=u.length;h<f;h+=4)if(u[h]>0){a=cn-Math.floor(h/4/cn);break}i.canvas.width=i.canvas.height=0,i.font=s;const d=a?a/(a+l):fL;return c(this,Bo).set(e,d),d},S(fn,Vs),S(fn,Bo,new Map),S(fn,Uo,new Map),S(fn,Hl,new Set),fn);function pL(){c_("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:n,container:e,viewport:t,...r}=arguments[0],i=Object.keys(r);i.length>0&&me("Ignoring `renderTextLayer` parameters: "+i.join(", "));const s=new Pp({textContentSource:n,container:e,viewport:t}),{textDivs:o,textContentItemsStr:a}=s;return{promise:s.render(),textDivs:o,textContentItemsStr:a}}function gL(){c_("`updateTextLayer`, please use `TextLayer` instead.")}class Uu{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};function i(s){var l;if(!s)return;let o=null;const a=s.name;if(a==="#text")o=s.value;else if(Uu.shouldBuildText(a))(l=s==null?void 0:s.attributes)!=null&&l.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&t.push({str:o}),!!s.children)for(const u of s.children)i(u)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const mL=65536,vL=100,yL=5e3,wL=Kt?RR:vR,EL=Kt?LR:a_,AL=Kt?PR:mR,SL=Kt?MR:l_;function _L(n){if(typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n}),typeof n!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!n.url&&!n.data&&!n.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const e=new ey,{docId:t}=e,r=n.url?bL(n.url):null,i=n.data?xL(n.data):null,s=n.httpHeaders||null,o=n.withCredentials===!0,a=n.password??null,l=n.range instanceof q_?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:mL;let d=n.worker instanceof yl?n.worker:null;const h=n.verbosity,f=typeof n.docBaseUrl=="string"&&!X0(n.docBaseUrl)?n.docBaseUrl:null,p=typeof n.cMapUrl=="string"?n.cMapUrl:null,g=n.cMapPacked!==!1,v=n.CMapReaderFactory||EL,_=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,m=n.StandardFontDataFactory||SL,y=n.stopAtErrors!==!0,A=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,x=n.isEvalSupported!==!1,C=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Kt,k=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,b=typeof n.disableFontFace=="boolean"?n.disableFontFace:Kt,R=n.fontExtraProperties===!0,O=n.enableXfa===!0,N=n.ownerDocument||globalThis.document,F=n.disableRange===!0,K=n.disableStream===!0,H=n.disableAutoFetch===!0,V=n.pdfBug===!0,te=l?l.length:n.length??NaN,ce=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Kt&&!b,B=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:v===a_&&m===l_&&p&&_&&Qc(p,document.baseURI)&&Qc(_,document.baseURI),M=n.canvasFactory||new wL({ownerDocument:N}),W=n.filterFactory||new AL({docId:t,ownerDocument:N}),Q=null;sR(h);const ae={canvasFactory:M,filterFactory:W};if(B||(ae.cMapReaderFactory=new v({baseUrl:p,isCompressed:g}),ae.standardFontDataFactory=new m({baseUrl:_})),!d){const pe={verbosity:h,port:Ui.workerPort};d=pe.port?yl.fromPort(pe):new yl(pe),e._worker=d}const ee={docId:t,apiVersion:"4.3.136",data:i,password:a,disableAutoFetch:H,rangeChunkSize:u,length:te,docBaseUrl:f,enableXfa:O,evaluatorOptions:{maxImageSize:A,disableFontFace:b,ignoreErrors:y,isEvalSupported:x,isOffscreenCanvasSupported:C,canvasMaxAreaInBytes:k,fontExtraProperties:R,useSystemFonts:ce,cMapUrl:B?p:null,standardFontDataUrl:B?_:null}},fe={disableFontFace:b,fontExtraProperties:R,ownerDocument:N,pdfBug:V,styleElement:Q,loadingParams:{disableAutoFetch:H,enableXfa:O}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const pe=d.messageHandler.sendWithPromise("GetDocRequest",ee,i?[i.buffer]:null);let Ie;return l?Ie=new qR(l,{disableRange:F,disableStream:K}):i||(Ie=(Z=>Kt?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&Qc(Z.url)?new lE(Z):new aL(Z):Qc(Z.url)?new lE(Z):new rL(Z))({url:r,length:te,httpHeaders:s,withCredentials:o,rangeChunkSize:u,disableRange:F,disableStream:K})),pe.then(ge=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const Z=new eu(t,ge,d.port),Ze=new PL(Z,e,Ie,fe,ae);e._transport=Ze,Z.send("Ready",null)})}).catch(e._capability.reject),e}function bL(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(Kt&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function xL(n){if(Kt&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return wg(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function cE(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var Vp;const Wp=class Wp{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${bn(Wp,Vp)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(i){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Vp=new WeakMap,S(Wp,Vp,0);let ey=Wp,q_=class{constructor(e,t,r=!1,i=null){this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const r of this._rangeListeners)r(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){De("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class CL{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return xe(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Es,bi,Jn,Ka,Df;class TL{constructor(e,t,r,i=!1){S(this,Jn);S(this,Es,null);S(this,bi,!1);this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=i?new q1:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new Y_,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new Rh({viewBox:this.view,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return xe(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:r="display",annotationMode:i=ds.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:u=null,printAnnotationStorage:d=null}){var A,x;(A=this._stats)==null||A.time("Overall");const h=this._transport.getRenderingIntent(r,i,d),{renderingIntent:f,cacheKey:p}=h;w(this,bi,!1),E(this,Jn,Df).call(this),a||(a=this._transport.getOptionalContentConfig(f));let g=this._intentStates.get(p);g||(g=Object.create(null),this._intentStates.set(p,g)),g.streamReaderCancelTimeout&&(clearTimeout(g.streamReaderCancelTimeout),g.streamReaderCancelTimeout=null);const v=!!(f&Kn.PRINT);g.displayReadyCapability||(g.displayReadyCapability=Promise.withResolvers(),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(x=this._stats)==null||x.time("Page Request"),this._pumpOperatorList(h));const _=C=>{var k;g.renderTasks.delete(m),(this._maybeCleanupAfterRender||v)&&w(this,bi,!0),E(this,Jn,Ka).call(this,!v),C?(m.capability.reject(C),this._abortOperatorList({intentState:g,reason:C instanceof Error?C:new Error(C)})):m.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(k=globalThis.Stats)!=null&&k.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},m=new ny({callback:_,params:{canvasContext:e,viewport:t,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:g.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!v,pdfBug:this._pdfBug,pageColors:u});(g.renderTasks||(g.renderTasks=new Set)).add(m);const y=m.task;return Promise.all([g.displayReadyCapability.promise,a]).then(([C,k])=>{var b;if(this.destroyed){_();return}if((b=this._stats)==null||b.time("Rendering"),!(k.renderingIntent&f))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");m.initializeGraphics({transparency:C,optionalContentConfig:k}),m.operatorListChanged()}).catch(_),y}getOperatorList({intent:e="display",annotationMode:t=ds.ENABLE,printAnnotationStorage:r=null}={}){var l;function i(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(a))}const s=this._transport.getRenderingIntent(e,t,r,!0);let o=this._intentStates.get(s.cacheKey);o||(o=Object.create(null),this._intentStates.set(s.cacheKey,o));let a;return o.opListReadCapability||(a=Object.create(null),a.operatorListChanged=i,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(a),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(l=this._stats)==null||l.time("Page Request"),this._pumpOperatorList(s)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>Uu.textContent(r));const t=this.streamTextContent(e);return new Promise(function(r,i){function s(){o.read().then(function({value:l,done:u}){if(u){r(a);return}a.lang??(a.lang=l.lang),Object.assign(a.styles,l.styles),a.items.push(...l.items),s()},i)}const o=t.getReader(),a={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),w(this,bi,!1),E(this,Jn,Df).call(this),Promise.all(e)}cleanup(e=!1){w(this,bi,!0);const t=E(this,Jn,Ka).call(this,!1);return e&&t&&this._stats&&(this._stats=new q1),t}_startRenderPage(e,t){var i,s;const r=this._intentStates.get(t);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=r.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let r=0,i=e.length;r<i;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();e.lastChunk&&E(this,Jn,Ka).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r}){const{map:i,transfer:s}=r,a=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:i},s).getReader(),l=this._intentStates.get(t);l.streamReader=a;const u=()=>{a.read().then(({value:d,done:h})=>{if(h){l.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,l),u())},d=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const h of l.renderTasks)h.operatorListChanged();E(this,Jn,Ka).call(this,!0)}if(l.displayReadyCapability)l.displayReadyCapability.reject(d);else if(l.opListReadCapability)l.opListReadCapability.reject(d);else throw d}})};u()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof G0){let i=vL;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new Ia(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}Es=new WeakMap,bi=new WeakMap,Jn=new WeakSet,Ka=function(e=!1){if(E(this,Jn,Df).call(this),!c(this,bi)||this.destroyed)return!1;if(e)return w(this,Es,setTimeout(()=>{w(this,Es,null),E(this,Jn,Ka).call(this,!1)},yL)),!1;for(const{renderTasks:t,operatorList:r}of this._intentStates.values())if(t.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),w(this,bi,!1),!0},Df=function(){c(this,Es)&&(clearTimeout(c(this,Es)),w(this,Es,null))};var $o,Gp;class kL{constructor(){S(this,$o,new Set);S(this,Gp,Promise.resolve())}postMessage(e,t){const r={data:structuredClone(e,t?{transfer:t}:null)};c(this,Gp).then(()=>{for(const i of c(this,$o))i.call(this,r)})}addEventListener(e,t){c(this,$o).add(t)}removeEventListener(e,t){c(this,$o).delete(t)}terminate(){c(this,$o).clear()}}$o=new WeakMap,Gp=new WeakMap;const di={isWorkerDisabled:!1,fakeWorkerId:0};Kt&&(di.isWorkerDisabled=!0,Ui.workerSrc||(Ui.workerSrc="./pdf.worker.mjs")),di.isSameOrigin=function(n,e){let t;try{if(t=new URL(n),!t.origin||t.origin==="null")return!1}catch{return!1}const r=new URL(e,t);return t.origin===r.origin},di.createCDNWrapper=function(n){const e=`await import("${n}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};var Vo,Bl,Ff;const Cn=class Cn{constructor({name:e=null,port:t=null,verbosity:r=oR()}={}){var i;if(this.name=e,this.destroyed=!1,this.verbosity=r,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((i=c(Cn,Vo))!=null&&i.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(c(Cn,Vo)||w(Cn,Vo,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return Kt?Promise.all([ei.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new eu("main","worker",e),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!di.isWorkerDisabled&&!c(Cn,Bl,Ff)){let{workerSrc:e}=Cn;try{di.isSameOrigin(window.location.href,e)||(e=di.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),r=new eu("main","worker",t),i=()=>{t.removeEventListener("error",s),r.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=()=>{this._webWorker||i()};t.addEventListener("error",s),r.on("test",a=>{if(t.removeEventListener("error",s),this.destroyed){i();return}a?(this._messageHandler=r,this._port=t,this._webWorker=t,this._readyCapability.resolve(),r.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),r.destroy(),t.terminate())}),r.on("ready",a=>{if(t.removeEventListener("error",s),this.destroyed){i();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const a=new Uint8Array;r.send("test",a,[a.buffer])};o();return}catch{vg("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){di.isWorkerDisabled||(me("Setting up fake worker."),di.isWorkerDisabled=!0),Cn._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new kL;this._port=t;const r=`fake${di.fakeWorkerId++}`,i=new eu(r+"_worker",r,t);e.setup(i,t);const s=new eu(r,r+"_worker",t);this._messageHandler=s,this._readyCapability.resolve(),s.send("configure",{verbosity:this.verbosity})}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=c(Cn,Vo))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var r;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(r=c(this,Vo))==null?void 0:r.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Cn(e)}static get workerSrc(){if(Ui.workerSrc)return Ui.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return xe(this,"_setupFakeWorkerGlobal",(async()=>c(this,Bl,Ff)?c(this,Bl,Ff):(await import(this.workerSrc)).WorkerMessageHandler)())}};Vo=new WeakMap,Bl=new WeakSet,Ff=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},S(Cn,Bl),S(Cn,Vo);let yl=Cn;var xi,Hr,Ul,$l,Br,Wo,tu;class PL{constructor(e,t,r,i,s){S(this,Wo);S(this,xi,new Map);S(this,Hr,new Map);S(this,Ul,new Map);S(this,$l,new Map);S(this,Br,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new Y_,this.fontLoader=new TR({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return xe(this,"annotationStorage",new Y0)}getRenderingIntent(e,t=ds.ENABLE,r=null,i=!1){let s=Kn.DISPLAY,o=Gv;switch(e){case"any":s=Kn.ANY;break;case"display":break;case"print":s=Kn.PRINT;break;default:me(`getRenderingIntent - invalid intent: ${e}`)}switch(t){case ds.DISABLE:s+=Kn.ANNOTATIONS_DISABLE;break;case ds.ENABLE:break;case ds.ENABLE_FORMS:s+=Kn.ANNOTATIONS_FORMS;break;case ds.ENABLE_STORAGE:s+=Kn.ANNOTATIONS_STORAGE,o=(s&Kn.PRINT&&r instanceof I_?r:this.annotationStorage).serializable;break;default:me(`getRenderingIntent - invalid annotationMode: ${t}`)}return i&&(s+=Kn.OPLIST),{renderingIntent:s,cacheKey:`${s}_${o.hash}`,annotationStorageSerializable:o}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=c(this,Br))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of c(this,Hr).values())e.push(i._destroy());c(this,Hr).clear(),c(this,Ul).clear(),c(this,$l).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i;this.commonObjs.clear(),this.fontLoader.clear(),c(this,xi).clear(),this.filterFactory.destroy(),Pp.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Ia("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,i)=>{yt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){i.close();return}yt(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",r=>{const i=Promise.withResolvers(),s=this._fullReader;return s.headersReady.then(()=>{var o;(!s.isStreamingSupported||!s.isRangeSupported)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),s.onProgress=a=>{var l;(l=t.onProgress)==null||l.call(t,{loaded:a.loaded,total:a.total})}),i.resolve({isStreamingSupported:s.isStreamingSupported,isRangeSupported:s.isRangeSupported,contentLength:s.contentLength})},i.reject),i.promise}),e.on("GetRangeReader",(r,i)=>{yt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:o,done:a}){if(a){i.close();return}yt(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{s.cancel(o),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new CL(r,this))}),e.on("DocException",function(r){let i;switch(r.name){case"PasswordException":i=new Av(r.message,r.code);break;case"InvalidPDFException":i=new r_(r.message);break;case"MissingPDFException":i=new Fa(r.message);break;case"UnexpectedResponseException":i=new yg(r.message,r.status);break;case"UnknownErrorException":i=new Sv(r.message,r.details);break;default:De("DocException - expected a valid Error.")}t._capability.reject(i)}),e.on("PasswordRequest",r=>{if(w(this,Br,Promise.withResolvers()),t.onPassword){const i=s=>{s instanceof Error?c(this,Br).reject(s):c(this,Br).resolve({password:s})};try{t.onPassword(i,r.code)}catch(s){c(this,Br).reject(s)}}else c(this,Br).reject(new Av(r.message,r.code));return c(this,Br).promise}),e.on("DataLoaded",r=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;c(this,Hr).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{var o;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":const{disableFontFace:a,fontExtraProperties:l,pdfBug:u}=this._params;if("error"in s){const p=s.error;me(`Error during font loading: ${p}`),this.commonObjs.resolve(r,p);break}const d=u&&((o=globalThis.FontInspector)!=null&&o.enabled)?(p,g)=>globalThis.FontInspector.fontAdded(p,g):null,h=new kR(s,{disableFontFace:a,inspectFont:d});this.fontLoader.bind(h).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!l&&h.data&&(h.data=null),this.commonObjs.resolve(r,h)});break;case"CopyLocalImage":const{imageRef:f}=s;yt(f,"The imageRef must be defined.");for(const p of c(this,Hr).values())for(const[,g]of p.objs)if((g==null?void 0:g.ref)===f)return g.dataLen?(this.commonObjs.resolve(r,structuredClone(g)),g.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,o])=>{var l;if(this.destroyed)return;const a=c(this,Hr).get(i);if(!a.objs.has(r)){if(a._intentStates.size===0){(l=o==null?void 0:o.bitmap)==null||l.close();return}switch(s){case"Image":a.objs.resolve(r,o),(o==null?void 0:o.dataLen)>tR&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(r,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:r.loaded,total:r.total})}),e.on("FetchBuiltInCMap",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(r):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(r):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&me("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,r=c(this,Ul).get(t);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&c(this,$l).set(s.refStr,e);const o=new TL(t,s,this,this._params.pdfBug);return c(this,Hr).set(t,o),o});return c(this,Ul).set(t,i),i}getPageIndex(e){return cE(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return E(this,Wo,tu).call(this,"GetFieldObjects")}hasJSActions(){return E(this,Wo,tu).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return E(this,Wo,tu).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return E(this,Wo,tu).call(this,"GetOptionalContentConfig").then(t=>new KR(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=c(this,xi).get(e);if(t)return t;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,o;return{info:i[0],metadata:i[1]?new GR(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return c(this,xi).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of c(this,Hr).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),c(this,xi).clear(),this.filterFactory.destroy(!0),Pp.cleanup()}}cachedPageNumber(e){if(!cE(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return c(this,$l).get(t)??null}}xi=new WeakMap,Hr=new WeakMap,Ul=new WeakMap,$l=new WeakMap,Br=new WeakMap,Wo=new WeakSet,tu=function(e,t=null){const r=c(this,xi).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,t);return c(this,xi).set(e,i),i};const cf=Symbol("INITIAL_DATA");var hr,Dd,ty;class Y_{constructor(){S(this,Dd);S(this,hr,Object.create(null))}get(e,t=null){if(t){const i=E(this,Dd,ty).call(this,e);return i.promise.then(()=>t(i.data)),null}const r=c(this,hr)[e];if(!r||r.data===cf)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=c(this,hr)[e];return!!t&&t.data!==cf}resolve(e,t=null){const r=E(this,Dd,ty).call(this,e);r.data=t,r.resolve()}clear(){var e;for(const t in c(this,hr)){const{data:r}=c(this,hr)[t];(e=r==null?void 0:r.bitmap)==null||e.close()}w(this,hr,Object.create(null))}*[Symbol.iterator](){for(const e in c(this,hr)){const{data:t}=c(this,hr)[e];t!==cf&&(yield[e,t])}}}hr=new WeakMap,Dd=new WeakSet,ty=function(e){var t;return(t=c(this,hr))[e]||(t[e]={...Promise.withResolvers(),data:cf})};var As;class RL{constructor(e){S(this,As,null);w(this,As,e),this.onContinue=null}get promise(){return c(this,As).capability.promise}cancel(e=0){c(this,As).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=c(this,As).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=c(this,As);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}As=new WeakMap;var Go;const go=class go{constructor({callback:e,params:t,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:l,filterFactory:u,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:f=null}){this.callback=e,this.params=t,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=u,this._pdfBug=h,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new RL(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var a,l;if(this.cancelled)return;if(this._canvas){if(c(go,Go).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");c(go,Go).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:i,transform:s,background:o}=this.params;this.gfx=new vl(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:i,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,t=0){var r;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),c(go,Go).delete(this._canvas),this.callback(e||new G0(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),c(go,Go).delete(this._canvas),this.callback())))}};Go=new WeakMap,S(go,Go,new WeakSet);let ny=go;const LL="4.3.136",ML="0cec64437";function uE(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function $c(n){return Math.max(0,Math.min(255,255*n))}class dE{static CMYK_G([e,t,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=$c(e),[e,e,e]}static G_HTML([e]){const t=uE(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map($c)}static RGB_HTML(e){return`#${e.map(uE).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,r,i]){return[$c(1-Math.min(1,e+i)),$c(1-Math.min(1,r+i)),$c(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){const i=1-e,s=1-t,o=1-r,a=Math.min(i,s,o);return["CMYK",i,s,o,a]}}class Q_{static setupStorage(e,t,r,i,s){const o=i.getValue(t,{value:null});switch(r.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(o.value===r.attributes.xfaOn?e.setAttribute("checked",!0):o.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",a=>{i.setValue(t,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const a of r.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const l=a.target.options,u=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:i,linkService:s}){const{attributes:o}=t,a=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${i}`);for(const[l,u]of Object.entries(o))if(u!=null)switch(l){case"class":u.length&&e.setAttribute(l,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!a||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,u)}a&&s.addLinkAttributes(e,o.href,o.newWindow),r&&o.dataId&&this.setupStorage(e,o.dataId,t,r)}static render(e){var h,f;const t=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",o=document.createElement(i.name);i.attributes&&this.setAttributes({html:o,element:i,intent:s,linkService:r});const a=s!=="richText",l=e.div;if(l.append(o),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=p}a&&l.setAttribute("class","xfaLayer xfaFont");const u=[];if(i.children.length===0){if(i.value){const p=document.createTextNode(i.value);o.append(p),a&&Uu.shouldBuildText(i.name)&&u.push(p)}return{textDivs:u}}const d=[[i,-1,o]];for(;d.length>0;){const[p,g,v]=d.at(-1);if(g+1===p.children.length){d.pop();continue}const _=p.children[++d.at(-1)[1]];if(_===null)continue;const{name:m}=_;if(m==="#text"){const A=document.createTextNode(_.value);u.push(A),v.append(A);continue}const y=(h=_==null?void 0:_.attributes)!=null&&h.xmlns?document.createElementNS(_.attributes.xmlns,m):document.createElement(m);if(v.append(y),_.attributes&&this.setAttributes({html:y,element:_,storage:t,intent:s,linkService:r}),((f=_.children)==null?void 0:f.length)>0)d.push([_,-1,y]);else if(_.value){const A=document.createTextNode(_.value);a&&Uu.shouldBuildText(m)&&u.push(A),y.append(A)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Dh=1e3,DL=9,Ta=new WeakSet;function $i(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class FL{static create(e){switch(e.data.annotationType){case ht.LINK:return new J_(e);case ht.TEXT:return new IL(e);case ht.WIDGET:switch(e.data.fieldType){case"Tx":return new NL(e);case"Btn":return e.data.radioButton?new tb(e):e.data.checkBox?new jL(e):new zL(e);case"Ch":return new HL(e);case"Sig":return new OL(e)}return new Na(e);case ht.POPUP:return new iy(e);case ht.FREETEXT:return new ob(e);case ht.LINE:return new UL(e);case ht.SQUARE:return new $L(e);case ht.CIRCLE:return new VL(e);case ht.POLYLINE:return new ab(e);case ht.CARET:return new GL(e);case ht.INK:return new lb(e);case ht.POLYGON:return new WL(e);case ht.HIGHLIGHT:return new XL(e);case ht.UNDERLINE:return new KL(e);case ht.SQUIGGLY:return new qL(e);case ht.STRIKEOUT:return new YL(e);case ht.STAMP:return new cb(e);case ht.FILEATTACHMENT:return new QL(e);default:return new st(e)}}}var Xo,Vl,Wl,Fd,ry;const sw=class sw{constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){S(this,Fd);S(this,Xo,null);S(this,Vl,!1);S(this,Wl,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:r}){return!!(e!=null&&e.str||t!=null&&t.str||r!=null&&r.str)}get hasPopupData(){return sw._hasPopupData(this.data)}updateEdited(e){var r;if(!this.container)return;c(this,Xo)||w(this,Xo,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&E(this,Fd,ry).call(this,t),(r=c(this,Wl))==null||r.popup.updateEdited(e)}resetEdited(){var e;c(this,Xo)&&(E(this,Fd,ry).call(this,c(this,Xo).rect),(e=c(this,Wl))==null||e.popup.resetEdited(),w(this,Xo,null))}_createContainer(e){const{data:t,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof Na||(s.tabIndex=Dh);const{style:o}=s;if(o.zIndex=this.parent.zIndex++,t.popupRef&&s.setAttribute("aria-haspopup","dialog"),t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof iy){const{rotation:v}=t;return!t.hasOwnCanvas&&v!==0&&this.setRotation(v,s),s}const{width:a,height:l}=$i(t.rect);if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const v=t.borderStyle.horizontalCornerRadius,_=t.borderStyle.verticalCornerRadius;if(v>0||_>0){const y=`calc(${v}px * var(--scale-factor)) / calc(${_}px * var(--scale-factor))`;o.borderRadius=y}else if(this instanceof tb){const y=`calc(${a}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;o.borderRadius=y}switch(t.borderStyle.style){case Bc.SOLID:o.borderStyle="solid";break;case Bc.DASHED:o.borderStyle="dashed";break;case Bc.BEVELED:me("Unimplemented border style: beveled");break;case Bc.INSET:me("Unimplemented border style: inset");break;case Bc.UNDERLINE:o.borderBottomStyle="solid";break}const m=t.borderColor||null;m?(w(this,Vl,!0),o.borderColor=J.makeHexColor(m[0]|0,m[1]|0,m[2]|0)):o.borderWidth=0}const u=J.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:d,pageHeight:h,pageX:f,pageY:p}=i.rawDims;o.left=`${100*(u[0]-f)/d}%`,o.top=`${100*(u[1]-p)/h}%`;const{rotation:g}=t;return t.hasOwnCanvas||g===0?(o.width=`${100*a/d}%`,o.height=`${100*l/h}%`):this.setRotation(g,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims,{width:s,height:o}=$i(this.data.rect);let a,l;e%180===0?(a=100*s/r,l=100*o/i):(a=100*o/r,l=100*s/i),t.style.width=`${a}%`,t.style.height=`${l}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,r,i)=>{const s=i.detail[t],o=s[0],a=s.slice(1);i.target.style[r]=dE[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[r]:dE[`${o}_rgb`](a)})};return xe(this,"_commonActions",{display:t=>{const{display:r}=t.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){const r=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||r[i];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const r=this._commonActions;for(const[i,s]of Object.entries(t)){const o=r[i];if(o){const a={detail:{[i]:s},target:e};o(a),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,r,i,s]=this.data.rect;if(e.length===1){const[,{x:v,y:_},{x:m,y}]=e[0];if(i===v&&s===_&&t===m&&r===y)return}const{style:o}=this.container;let a;if(c(this,Vl)){const{borderColor:v,borderWidth:_}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${v}" stroke-width="${_}">`],this.container.classList.add("hasBorder")}const l=i-t,u=s-r,{svgFactory:d}=this,h=d.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0);const f=d.createElement("defs");h.append(f);const p=d.createElement("clipPath"),g=`clippath_${this.data.id}`;p.setAttribute("id",g),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(const[,{x:v,y:_},{x:m,y}]of e){const A=d.createElement("rect"),x=(m-t)/l,C=(s-_)/u,k=(v-m)/l,b=(_-y)/u;A.setAttribute("x",x),A.setAttribute("y",C),A.setAttribute("width",k),A.setAttribute("height",b),p.append(A),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${x}" y="${C}" width="${k}" height="${b}"/>`)}c(this,Vl)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(h),this.container.style.clipPath=`url(#${g})`}_createPopup(){const{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");const r=w(this,Wl,new iy({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(r.render())}render(){De("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:o,exportValues:a}of i){if(s===-1||o===t)continue;const l=typeof a=="string"?a:null,u=document.querySelector(`[data-element-id="${o}"]`);if(u&&!Ta.has(u)){me(`_getElementsByName - element not allowed: ${o}`);continue}r.push({id:o,exportValue:l,domElement:u})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,o=i.getAttribute("data-element-id");o!==t&&Ta.has(i)&&r.push({id:o,exportValue:s,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};Xo=new WeakMap,Vl=new WeakMap,Wl=new WeakMap,Fd=new WeakSet,ry=function(e){const{container:{style:t},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}}}=this;r==null||r.splice(0,4,...e);const{width:u,height:d}=$i(e);t.left=`${100*(e[0]-a)/s}%`,t.top=`${100*(o-e[3]+l)/o}%`,i===0?(t.width=`${100*u/s}%`,t.height=`${100*d/o}%`):this.setRotation(i)};let st=sw;var Fn,uo,Z_,eb;class J_ extends st{constructor(t,r=null){super(t,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});S(this,Fn);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let s=!1;return t.url?(r.addLinkAttributes(i,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(i,t.action),s=!0):t.attachment?(E(this,Fn,Z_).call(this,i,t.attachment,t.attachmentDest),s=!0):t.setOCGState?(E(this,Fn,eb).call(this,i,t.setOCGState),s=!0):t.dest?(this._bindLink(i,t.dest),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),s=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}_bindLink(t,r){t.href=this.linkService.getDestinationHash(r),t.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&E(this,Fn,uo).call(this)}_bindNamedAction(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(r),!1),E(this,Fn,uo).call(this)}_bindJSAction(t,r){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(r.actions)){const o=i.get(s);o&&(t[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:s}}),!1})}t.onclick||(t.onclick=()=>!1),E(this,Fn,uo).call(this)}_bindResetFormAction(t,r){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),E(this,Fn,uo).call(this),!this._fieldObjects){me('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var h;i==null||i();const{fields:s,refs:o,include:a}=r,l=[];if(s.length!==0||o.length!==0){const f=new Set(o);for(const p of s){const g=this._fieldObjects[p]||[];for(const{id:v}of g)f.add(v)}for(const p of Object.values(this._fieldObjects))for(const g of p)f.has(g.id)===a&&l.push(g)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const u=this.annotationStorage,d=[];for(const f of l){const{id:p}=f;switch(d.push(p),f.type){case"text":{const v=f.defaultValue||"";u.setValue(p,{value:v});break}case"checkbox":case"radiobutton":{const v=f.defaultValue===f.exportValues;u.setValue(p,{value:v});break}case"combobox":case"listbox":{const v=f.defaultValue||"";u.setValue(p,{value:v});break}default:continue}const g=document.querySelector(`[data-element-id="${p}"]`);if(g){if(!Ta.has(g)){me(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}Fn=new WeakSet,uo=function(){this.container.setAttribute("data-internal-link","")},Z_=function(t,r,i=null){t.href=this.linkService.getAnchorUrl(""),r.description&&(t.title=r.description),t.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(r.content,r.filename,i),!1},E(this,Fn,uo).call(this)},eb=function(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(r),!1),E(this,Fn,uo).call(this)};class IL extends st{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Na extends st{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return mn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,i,s){r.includes("mouse")?e.addEventListener(r,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(r,o=>{var a;if(r==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}s&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o)}}))})}_setEventListeners(e,t,r,i){var s,o,a;for(const[l,u]of r)(u==="Action"||(s=this.data.actions)!=null&&s[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,u,i),u==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):u==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":J.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||DL,s=e.style;let o;const a=2,l=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a),d=Math.round(u/(dm*i))||1,h=u/d;o=Math.min(i,l(h/dm))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(i,l(u/dm))}s.fontSize=`calc(${o}px * var(--scale-factor))`,s.color=J.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class NL extends Na{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,i){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=r),s.setValue(o.id,{[i]:r})}render(){var i,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let a=o.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let u=o.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:a,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=u??a,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type="text",r.setAttribute("value",u??a),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),Ta.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=Dh,this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",f=>{e.setValue(t,{value:f.target.value}),this.setPropertyOnSiblings(r,"value",f.target.value,"value"),d.formattedValue=null}),r.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue??"";r.value=d.userValue=p,d.formattedValue=null});let h=f=>{const{formattedValue:p}=d;p!=null&&(f.target.value=p),f.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",p=>{var v;if(d.focused)return;const{target:g}=p;d.userValue&&(g.value=d.userValue),d.lastCommittedValue=g.value,d.commitKey=1,(v=this.data.actions)!=null&&v.Focus||(d.focused=!0)}),r.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const g={value(v){d.userValue=v.detail.value??"",e.setValue(t,{value:d.userValue.toString()}),v.target.value=d.userValue},formattedValue(v){const{formattedValue:_}=v.detail;d.formattedValue=_,_!=null&&v.target!==document.activeElement&&(v.target.value=_),e.setValue(t,{formattedValue:_})},selRange(v){v.target.setSelectionRange(...v.detail.selRange)},charLimit:v=>{var A;const{charLimit:_}=v.detail,{target:m}=v;if(_===0){m.removeAttribute("maxLength");return}m.setAttribute("maxLength",_);let y=d.userValue;!y||y.length<=_||(y=y.slice(0,_),m.value=d.userValue=y,e.setValue(t,{value:y}),(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:y,willCommit:!0,commitKey:1,selStart:m.selectionStart,selEnd:m.selectionEnd}}))}};this._dispatchEventFromSandbox(g,p)}),r.addEventListener("keydown",p=>{var _;d.commitKey=1;let g=-1;if(p.key==="Escape"?g=0:p.key==="Enter"&&!this.data.multiLine?g=2:p.key==="Tab"&&(d.commitKey=3),g===-1)return;const{value:v}=p.target;d.lastCommittedValue!==v&&(d.lastCommittedValue=v,d.userValue=v,(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,willCommit:!0,commitKey:g,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const f=h;h=null,r.addEventListener("blur",p=>{var v,_;if(!d.focused||!p.relatedTarget)return;(v=this.data.actions)!=null&&v.Blur||(d.focused=!1);const{value:g}=p.target;d.userValue=g,d.lastCommittedValue!==g&&((_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:g,willCommit:!0,commitKey:d.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}})),f(p)}),(s=this.data.actions)!=null&&s.Keystroke&&r.addEventListener("beforeinput",p=>{var C;d.lastCommittedValue=null;const{data:g,target:v}=p,{value:_,selectionStart:m,selectionEnd:y}=v;let A=m,x=y;switch(p.inputType){case"deleteWordBackward":{const k=_.substring(0,m).match(/\w*[^\w]*$/);k&&(A-=k[0].length);break}case"deleteWordForward":{const k=_.substring(m).match(/^[^\w]*\w*/);k&&(x+=k[0].length);break}case"deleteContentBackward":m===y&&(A-=1);break;case"deleteContentForward":m===y&&(x+=1);break}p.preventDefault(),(C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:_,change:g||"",willCommit:!1,selStart:A,selEnd:x}})}),this._setEventListeners(r,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(h&&r.addEventListener("blur",h),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${p}px * var(--scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class OL extends Na{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class jL extends Na{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Ta.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=Dh,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const u of this._getElementsByName(a,r)){const d=l&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=d),e.setValue(u.id,{value:d})}e.setValue(r,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue||"Off";o.target.checked=a===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const a={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class tb extends Na{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(r,{value:i})),i)for(const o of this._getElementsByName(t.fieldName,r))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(Ta.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=Dh,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const u of this._getElementsByName(a,r))e.setValue(u.id,{value:!1});e.setValue(r,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue;o.target.checked=a!=null&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;s.addEventListener("updatefromsandbox",a=>{const l={value:u=>{const d=o===u.detail.value;for(const h of this._getElementsByName(u.target.name)){const f=d&&h.id===r;h.domElement&&(h.domElement.checked=f),e.setValue(h.id,{value:f})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class zL extends J_{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class HL extends Na{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");Ta.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=Dh;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",d=>{const h=this.data.defaultFieldValue;for(const f of i.options)f.selected=f.value===h});for(const d of this.data.options){const h=document.createElement("option");h.textContent=d.displayValue,h.value=d.exportValue,r.value.includes(d.exportValue)&&(h.setAttribute("selected",!0),s=!1),i.append(h)}let o=null;if(s){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),i.prepend(d),o=()=>{d.remove(),i.removeEventListener("input",o),o=null},i.addEventListener("input",o)}const a=d=>{const h=d?"value":"textContent",{options:f,multiple:p}=i;return p?Array.prototype.filter.call(f,g=>g.selected).map(g=>g[h]):f.selectedIndex===-1?null:f[f.selectedIndex][h]};let l=a(!1);const u=d=>{const h=d.target.options;return Array.prototype.map.call(h,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",d=>{const h={value(f){o==null||o();const p=f.detail.value,g=new Set(Array.isArray(p)?p:[p]);for(const v of i.options)v.selected=g.has(v.value);e.setValue(t,{value:a(!0)}),l=a(!1)},multipleSelection(f){i.multiple=!0},remove(f){const p=i.options,g=f.detail.remove;p[g].selected=!1,i.remove(g),p.length>0&&Array.prototype.findIndex.call(p,_=>_.selected)===-1&&(p[0].selected=!0),e.setValue(t,{value:a(!0),items:u(f)}),l=a(!1)},clear(f){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),l=a(!1)},insert(f){const{index:p,displayValue:g,exportValue:v}=f.detail.insert,_=i.children[p],m=document.createElement("option");m.textContent=g,m.value=v,_?_.before(m):i.append(m),e.setValue(t,{value:a(!0),items:u(f)}),l=a(!1)},items(f){const{items:p}=f.detail;for(;i.length!==0;)i.remove(0);for(const g of p){const{displayValue:v,exportValue:_}=g,m=document.createElement("option");m.textContent=v,m.value=_,i.append(m)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:a(!0),items:u(f)}),l=a(!1)},indices(f){const p=new Set(f.detail.indices);for(const g of f.target.options)g.selected=p.has(g.index);e.setValue(t,{value:a(!0)}),l=a(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(h,d)}),i.addEventListener("input",d=>{var p;const h=a(!0),f=a(!1);e.setValue(t,{value:h}),d.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:f,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):i.addEventListener("input",function(d){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class iy extends st{constructor(e){const{data:t,elements:r}=e;super(e,{isRenderable:st._hasPopupData(t)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new BL({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const r of this.elements)r.popup=e,t.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(r=>`${s_}${r}`).join(",")),this.container}}var Gl,Xp,Kp,Xl,Ko,et,Ci,qo,Id,Nd,Kl,Ti,fr,ki,Od,Pi,jd,Yo,Qo,Fe,If,sy,nb,rb,ib,sb,Nf,Of,oy;class BL{constructor({container:e,color:t,elements:r,titleObj:i,modificationDate:s,contentsObj:o,richText:a,parent:l,rect:u,parentRect:d,open:h}){S(this,Fe);S(this,Gl,E(this,Fe,ib).bind(this));S(this,Xp,E(this,Fe,oy).bind(this));S(this,Kp,E(this,Fe,Of).bind(this));S(this,Xl,E(this,Fe,Nf).bind(this));S(this,Ko,null);S(this,et,null);S(this,Ci,null);S(this,qo,null);S(this,Id,null);S(this,Nd,null);S(this,Kl,null);S(this,Ti,!1);S(this,fr,null);S(this,ki,null);S(this,Od,null);S(this,Pi,null);S(this,jd,null);S(this,Yo,null);S(this,Qo,!1);var f;w(this,et,e),w(this,jd,i),w(this,Ci,o),w(this,Pi,a),w(this,Nd,l),w(this,Ko,t),w(this,Od,u),w(this,Kl,d),w(this,Id,r),w(this,qo,u_.toDateObject(s)),this.trigger=r.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",c(this,Xl)),p.addEventListener("mouseenter",c(this,Kp)),p.addEventListener("mouseleave",c(this,Xp)),p.classList.add("popupTriggerArea");for(const p of r)(f=p.container)==null||f.addEventListener("keydown",c(this,Gl));c(this,et).hidden=!0,h&&E(this,Fe,Nf).call(this)}render(){if(c(this,fr))return;const e=w(this,fr,document.createElement("div"));if(e.className="popup",c(this,Ko)){const s=e.style.outlineColor=J.makeHexColor(...c(this,Ko));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:e.style.backgroundColor=J.makeHexColor(...c(this,Ko).map(a=>Math.floor(.7*(255-a)+a)))}const t=document.createElement("span");t.className="header";const r=document.createElement("h1");if(t.append(r),{dir:r.dir,str:r.textContent}=c(this,jd),e.append(t),c(this,qo)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),s.setAttribute("data-l10n-args",JSON.stringify({date:c(this,qo).toLocaleDateString(),time:c(this,qo).toLocaleTimeString()})),t.append(s)}const i=c(this,Fe,If);if(i)Q_.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(c(this,Ci));e.append(s)}c(this,et).append(e)}_formatContents({str:e,dir:t}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=t;const i=e.split(/(?:\r\n?|\n)/);for(let s=0,o=i.length;s<o;++s){const a=i[s];r.append(document.createTextNode(a)),s<o-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popupContent:t}){var r;c(this,Yo)||w(this,Yo,{contentsObj:c(this,Ci),richText:c(this,Pi)}),e&&w(this,ki,null),t&&(w(this,Pi,E(this,Fe,rb).call(this,t)),w(this,Ci,null)),(r=c(this,fr))==null||r.remove(),w(this,fr,null)}resetEdited(){var e;c(this,Yo)&&({contentsObj:bn(this,Ci)._,richText:bn(this,Pi)._}=c(this,Yo),w(this,Yo,null),(e=c(this,fr))==null||e.remove(),w(this,fr,null),w(this,ki,null))}forceHide(){w(this,Qo,this.isVisible),c(this,Qo)&&(c(this,et).hidden=!0)}maybeShow(){c(this,Qo)&&(c(this,fr)||E(this,Fe,Of).call(this),w(this,Qo,!1),c(this,et).hidden=!1)}get isVisible(){return c(this,et).hidden===!1}}Gl=new WeakMap,Xp=new WeakMap,Kp=new WeakMap,Xl=new WeakMap,Ko=new WeakMap,et=new WeakMap,Ci=new WeakMap,qo=new WeakMap,Id=new WeakMap,Nd=new WeakMap,Kl=new WeakMap,Ti=new WeakMap,fr=new WeakMap,ki=new WeakMap,Od=new WeakMap,Pi=new WeakMap,jd=new WeakMap,Yo=new WeakMap,Qo=new WeakMap,Fe=new WeakSet,If=function(){const e=c(this,Pi),t=c(this,Ci);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&c(this,Pi).html||null},sy=function(){var e,t,r;return((r=(t=(e=c(this,Fe,If))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.fontSize)||0},nb=function(){var e,t,r;return((r=(t=(e=c(this,Fe,If))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.color)||null},rb=function(e){const t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:c(this,Fe,nb),fontSize:c(this,Fe,sy)?`calc(${c(this,Fe,sy)}px * var(--scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:i});return r},ib=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&c(this,Ti))&&E(this,Fe,Nf).call(this)},sb=function(){if(c(this,ki)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:i,pageY:s}}}=c(this,Nd);let o=!!c(this,Kl),a=o?c(this,Kl):c(this,Od);for(const g of c(this,Id))if(!a||J.intersect(g.data.rect,a)!==null){a=g.data.rect,o=!0;break}const l=J.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),d=o?a[2]-a[0]+5:0,h=l[0]+d,f=l[1];w(this,ki,[100*(h-i)/t,100*(f-s)/r]);const{style:p}=c(this,et);p.left=`${c(this,ki)[0]}%`,p.top=`${c(this,ki)[1]}%`},Nf=function(){w(this,Ti,!c(this,Ti)),c(this,Ti)?(E(this,Fe,Of).call(this),c(this,et).addEventListener("click",c(this,Xl)),c(this,et).addEventListener("keydown",c(this,Gl))):(E(this,Fe,oy).call(this),c(this,et).removeEventListener("click",c(this,Xl)),c(this,et).removeEventListener("keydown",c(this,Gl)))},Of=function(){c(this,fr)||this.render(),this.isVisible?c(this,Ti)&&c(this,et).classList.add("focused"):(E(this,Fe,sb).call(this),c(this,et).hidden=!1,c(this,et).style.zIndex=parseInt(c(this,et).style.zIndex)+1e3)},oy=function(){c(this,et).classList.remove("focused"),!(c(this,Ti)||!this.isVisible)&&(c(this,et).hidden=!0,c(this,et).style.zIndex=parseInt(c(this,et).style.zIndex)-1e3)};class ob extends st{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=be.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var zd;class UL extends st{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,zd,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:r,height:i}=$i(t.rect),s=this.svgFactory.create(r,i,!0),o=w(this,zd,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,zd)}addHighlightArea(){this.container.classList.add("highlightArea")}}zd=new WeakMap;var Hd;class $L extends st{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,Hd,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:r,height:i}=$i(t.rect),s=this.svgFactory.create(r,i,!0),o=t.borderStyle.width,a=w(this,Hd,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",r-o),a.setAttribute("height",i-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,Hd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Hd=new WeakMap;var Bd;class VL extends st{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,Bd,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:r,height:i}=$i(t.rect),s=this.svgFactory.create(r,i,!0),o=t.borderStyle.width,a=w(this,Bd,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",r/2),a.setAttribute("cy",i/2),a.setAttribute("rx",r/2-o/2),a.setAttribute("ry",i/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,Bd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Bd=new WeakMap;var Ud;class ab extends st{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,Ud,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const t=this.data,{width:r,height:i}=$i(t.rect),s=this.svgFactory.create(r,i,!0);let o=[];for(const l of t.vertices){const u=l.x-t.rect[0],d=t.rect[3]-l.y;o.push(u+","+d)}o=o.join(" ");const a=w(this,Ud,this.svgFactory.createElement(this.svgElementName));return a.setAttribute("points",o),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,Ud)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ud=new WeakMap;class WL extends ab{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class GL extends st{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var $d;class lb extends st{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,$d,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=be.INK}render(){this.container.classList.add(this.containerClassName);const t=this.data,{width:r,height:i}=$i(t.rect),s=this.svgFactory.create(r,i,!0);for(const o of t.inkLists){let a=[];for(const u of o){const d=u.x-t.rect[0],h=t.rect[3]-u.y;a.push(`${d},${h}`)}a=a.join(" ");const l=this.svgFactory.createElement(this.svgElementName);c(this,$d).push(l),l.setAttribute("points",a),l.setAttribute("stroke-width",t.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),!t.popupRef&&this.hasPopupData&&this._createPopup(),s.append(l)}return this.container.append(s),this.container}getElementsToTriggerPopup(){return c(this,$d)}addHighlightArea(){this.container.classList.add("highlightArea")}}$d=new WeakMap;class XL extends st{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class KL extends st{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class qL extends st{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class YL extends st{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class cb extends st{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Vd,Wd,ay;class QL extends st{constructor(t){var i;super(t,{isRenderable:!0});S(this,Wd);S(this,Vd,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",E(this,Wd,ay).bind(this)),w(this,Vd,i);const{isMac:s}=mn.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&E(this,Wd,ay).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return c(this,Vd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Vd=new WeakMap,Wd=new WeakSet,ay=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Gd,Jo,ql,Pa,ub,ly,bE;let JL=(bE=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:o}){S(this,Pa);S(this,Gd,null);S(this,Jo,null);S(this,ql,new Map);this.div=e,w(this,Gd,t),w(this,Jo,r),this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=i}async render(e){var o;const{annotations:t}=e,r=this.div;xa(r,this.viewport);const i=new Map,s={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new W0,annotationStorage:e.annotationStorage||new Y0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of t){if(a.noHTML)continue;const l=a.annotationType===ht.POPUP;if(l){const h=i.get(a.id);if(!h)continue;s.elements=h}else{const{width:h,height:f}=$i(a.rect);if(h<=0||f<=0)continue}s.data=a;const u=FL.create(s);if(!u.isRenderable)continue;if(!l&&a.popupRef){const h=i.get(a.popupRef);h?h.push(u):i.set(a.popupRef,[u])}const d=u.render();a.hidden&&(d.style.visibility="hidden"),E(this,Pa,ub).call(this,d,a.id),u.annotationEditorType>0&&(c(this,ql).set(u.data.id,u),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(u))}E(this,Pa,ly).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,xa(t,{rotation:e.rotation}),E(this,Pa,ly).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(c(this,ql).values())}getEditableAnnotation(e){return c(this,ql).get(e)}},Gd=new WeakMap,Jo=new WeakMap,ql=new WeakMap,Pa=new WeakSet,ub=function(e,t){var i;const r=e.firstChild||e;r.id=`${s_}${t}`,this.div.append(e),(i=c(this,Gd))==null||i.moveElementInDOM(this.div,e,r,!1)},ly=function(){if(!c(this,Jo))return;const e=this.div;for(const[t,r]of c(this,Jo)){const i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:s}=i;s?s.nodeName==="CANVAS"?s.replaceWith(r):s.classList.contains("annotationContent")?s.after(r):s.before(r):i.append(r)}c(this,Jo).clear()},bE);const uf=/\r\n?|\n/g;var Xd,Kd,qd,Yd,Qd,pr,kn,Jd,Pn,Yl,ct,db,hb,fb,jf,Wi,zf,Hf,pb,uy,gb;const ze=class ze extends Re{constructor(t){super({...t,name:"freeTextEditor"});S(this,ct);S(this,Xd,this.editorDivBlur.bind(this));S(this,Kd,this.editorDivFocus.bind(this));S(this,qd,this.editorDivInput.bind(this));S(this,Yd,this.editorDivKeydown.bind(this));S(this,Qd,this.editorDivPaste.bind(this));S(this,pr);S(this,kn,"");S(this,Jd,`${this.id}-editor`);S(this,Pn);S(this,Yl,null);w(this,pr,t.color||ze._defaultColor||Re._defaultLineColor),w(this,Pn,t.fontSize||ze._defaultFontSize)}static get _keyboardManager(){const t=ze.prototype,r=o=>o.isEmpty(),i=Ca.TRANSLATE_SMALL,s=Ca.TRANSLATE_BIG;return xe(this,"_keyboardManager",new Lh([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:r}]]))}static initialize(t,r){Re.initialize(t,r,{strings:["pdfjs-free-text-default-content"]});const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,r){switch(t){case oe.FREETEXT_SIZE:ze._defaultFontSize=r;break;case oe.FREETEXT_COLOR:ze._defaultColor=r;break}}updateParams(t,r){switch(t){case oe.FREETEXT_SIZE:E(this,ct,db).call(this,r);break;case oe.FREETEXT_COLOR:E(this,ct,hb).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[oe.FREETEXT_SIZE,ze._defaultFontSize],[oe.FREETEXT_COLOR,ze._defaultColor||Re._defaultLineColor]]}get propertiesToUpdate(){return[[oe.FREETEXT_SIZE,c(this,Pn)],[oe.FREETEXT_COLOR,c(this,pr)]]}_translateEmpty(t,r){this._uiManager.translateSelectedEditors(t,r,!0)}getInitialTranslation(){const t=this.parentScale;return[-ze._internalPadding*t,-(ze._internalPadding+c(this,Pn))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(be.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",c(this,Yd)),this.editorDiv.addEventListener("focus",c(this,Kd)),this.editorDiv.addEventListener("blur",c(this,Xd)),this.editorDiv.addEventListener("input",c(this,qd)),this.editorDiv.addEventListener("paste",c(this,Qd)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",c(this,Jd)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",c(this,Yd)),this.editorDiv.removeEventListener("focus",c(this,Kd)),this.editorDiv.removeEventListener("blur",c(this,Xd)),this.editorDiv.removeEventListener("input",c(this,qd)),this.editorDiv.removeEventListener("paste",c(this,Qd)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=c(this,kn),r=w(this,kn,E(this,ct,fb).call(this).trimEnd());if(t===r)return;const i=s=>{if(w(this,kn,s),!s){this.remove();return}E(this,ct,Hf).call(this),this._uiManager.rebuild(this),E(this,ct,jf).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(t)},mustExec:!1}),E(this,ct,jf).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){ze._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,r;this.width&&(t=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",c(this,Jd)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),Re._l10nPromise.get("pdfjs-free-text-default-content").then(s=>{var o;return(o=this.editorDiv)==null?void 0:o.setAttribute("default-content",s)}),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${c(this,Pn)}px * var(--scale-factor))`,i.color=c(this,pr),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Cp(this,this.div,["dblclick","keydown"]),this.width){const[s,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=c(this,Yl);let[l,u]=this.getInitialTranslation();[l,u]=this.pageTranslationToScreen(l,u);const[d,h]=this.pageDimensions,[f,p]=this.pageTranslation;let g,v;switch(this.rotation){case 0:g=t+(a[0]-f)/d,v=r+this.height-(a[1]-p)/h;break;case 90:g=t+(a[0]-f)/d,v=r-(a[1]-p)/h,[l,u]=[u,-l];break;case 180:g=t-this.width+(a[0]-f)/d,v=r-(a[1]-p)/h,[l,u]=[-l,-u];break;case 270:g=t+(a[0]-f-this.height*h)/d,v=r+(a[1]-p-this.width*d)/h,[l,u]=[-u,l];break}this.setAt(g*s,v*o,l,u)}else this.setAt(t*s,r*o,this.width*s,this.height*o);E(this,ct,Hf).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var g,v,_;const r=t.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const s=E(g=ze,Wi,uy).call(g,r.getData("text")||"").replaceAll(uf,`
`);if(!s)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!s.includes(`
`)){a.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:l,startOffset:u}=a,d=[],h=[];if(l.nodeType===Node.TEXT_NODE){const m=l.parentElement;if(h.push(l.nodeValue.slice(u).replaceAll(uf,"")),m!==this.editorDiv){let y=d;for(const A of this.editorDiv.childNodes){if(A===m){y=h;continue}y.push(E(v=ze,Wi,zf).call(v,A))}}d.push(l.nodeValue.slice(0,u).replaceAll(uf,""))}else if(l===this.editorDiv){let m=d,y=0;for(const A of this.editorDiv.childNodes)y++===u&&(m=h),m.push(E(_=ze,Wi,zf).call(_,A))}w(this,kn,`${d.join(`
`)}${s}${h.join(`
`)}`),E(this,ct,Hf).call(this);const f=new Range;let p=d.reduce((m,y)=>m+y.length,0);for(const{firstChild:m}of this.editorDiv.childNodes)if(m.nodeType===Node.TEXT_NODE){const y=m.nodeValue.length;if(p<=y){f.setStart(m,p),f.setEnd(m,p);break}p-=y}o.removeAllRanges(),o.addRange(f)}get contentDiv(){return this.editorDiv}static deserialize(t,r,i){var a;let s=null;if(t instanceof ob){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:d,rotation:h,id:f},textContent:p,textPosition:g,parent:{page:{pageNumber:v}}}=t;if(!p||p.length===0)return null;s=t={annotationType:be.FREETEXT,color:Array.from(u),fontSize:l,value:p.join(`
`),position:g,pageIndex:v-1,rect:d.slice(0),rotation:h,id:f,deleted:!1}}const o=super.deserialize(t,r,i);return w(o,Pn,t.fontSize),w(o,pr,J.makeHexColor(...t.color)),w(o,kn,E(a=ze,Wi,uy).call(a,t.value)),o.annotationElementId=t.id||null,w(o,Yl,s),o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const r=ze._internalPadding*this.parentScale,i=this.getRect(r,r),s=Re._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:c(this,pr)),o={annotationType:be.FREETEXT,color:s,fontSize:c(this,Pn),value:E(this,ct,pb).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?o:this.annotationElementId&&!E(this,ct,gb).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){const r=super.renderAnnotationElement(t);if(this.deleted)return r;const{style:i}=r;i.fontSize=`calc(${c(this,Pn)}px * var(--scale-factor))`,i.color=c(this,pr),r.replaceChildren();for(const o of c(this,kn).split(`
`)){const a=document.createElement("div");a.append(o?document.createTextNode(o):document.createElement("br")),r.append(a)}const s=ze._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:c(this,kn)}),r}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Xd=new WeakMap,Kd=new WeakMap,qd=new WeakMap,Yd=new WeakMap,Qd=new WeakMap,pr=new WeakMap,kn=new WeakMap,Jd=new WeakMap,Pn=new WeakMap,Yl=new WeakMap,ct=new WeakSet,db=function(t){const r=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-c(this,Pn))*this.parentScale),w(this,Pn,s),E(this,ct,jf).call(this)},i=c(this,Pn);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:oe.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},hb=function(t){const r=s=>{w(this,pr,this.editorDiv.style.color=s)},i=c(this,pr);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:oe.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},fb=function(){var r;const t=[];this.editorDiv.normalize();for(const i of this.editorDiv.childNodes)t.push(E(r=ze,Wi,zf).call(r,i));return t.join(`
`)},jf=function(){const[t,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:o}=this,a=o.style.display,l=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),i=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/r):(this.width=i.height/t,this.height=i.width/r),this.fixAndSetPosition()},Wi=new WeakSet,zf=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(uf,"")},Hf=function(){if(this.editorDiv.replaceChildren(),!!c(this,kn))for(const t of c(this,kn).split(`
`)){const r=document.createElement("div");r.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(r)}},pb=function(){return c(this,kn).replaceAll(" "," ")},uy=function(t){return t.replaceAll(" "," ")},gb=function(t){const{value:r,fontSize:i,color:s,pageIndex:o}=c(this,Yl);return this._hasBeenMoved||t.value!==r||t.fontSize!==i||t.color.some((a,l)=>a!==s[l])||t.pageIndex!==o},S(ze,Wi),ue(ze,"_freeTextDefaultContent",""),ue(ze,"_internalPadding",0),ue(ze,"_defaultColor",null),ue(ze,"_defaultFontSize",10),ue(ze,"_type","freetext"),ue(ze,"_editorType",be.FREETEXT);let cy=ze;var Zd,Ss,gr,on,mb,Bf,vb,yb,hy;class dy{constructor(e,t=0,r=0,i=!0){S(this,on);S(this,Zd);S(this,Ss,[]);S(this,gr,[]);let s=1/0,o=-1/0,a=1/0,l=-1/0;const d=10**-4;for(const{x:m,y,width:A,height:x}of e){const C=Math.floor((m-t)/d)*d,k=Math.ceil((m+A+t)/d)*d,b=Math.floor((y-t)/d)*d,R=Math.ceil((y+x+t)/d)*d,O=[C,b,R,!0],N=[k,b,R,!1];c(this,Ss).push(O,N),s=Math.min(s,C),o=Math.max(o,k),a=Math.min(a,b),l=Math.max(l,R)}const h=o-s+2*r,f=l-a+2*r,p=s-r,g=a-r,v=c(this,Ss).at(i?-1:-2),_=[v[0],v[2]];for(const m of c(this,Ss)){const[y,A,x]=m;m[0]=(y-p)/h,m[1]=(A-g)/f,m[2]=(x-g)/f}w(this,Zd,{x:p,y:g,width:h,height:f,lastPoint:_})}getOutlines(){c(this,Ss).sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);const e=[];for(const t of c(this,Ss))t[3]?(e.push(...E(this,on,hy).call(this,t)),E(this,on,vb).call(this,t)):(E(this,on,yb).call(this,t),e.push(...E(this,on,hy).call(this,t)));return E(this,on,mb).call(this,e)}}Zd=new WeakMap,Ss=new WeakMap,gr=new WeakMap,on=new WeakSet,mb=function(e){const t=[],r=new Set;for(const o of e){const[a,l,u]=o;t.push([a,l,o],[a,u,o])}t.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=t.length;o<a;o+=2){const l=t[o][2],u=t[o+1][2];l.push(u),u.push(l),r.add(l),r.add(u)}const i=[];let s;for(;r.size>0;){const o=r.values().next().value;let[a,l,u,d,h]=o;r.delete(o);let f=a,p=l;for(s=[a,u],i.push(s);;){let g;if(r.has(d))g=d;else if(r.has(h))g=h;else break;r.delete(g),[a,l,u,d,h]=g,f!==a&&(s.push(f,p,a,p===l?l:u),f=a),p=p===l?u:l}s.push(f,p)}return new ZL(i,c(this,Zd))},Bf=function(e){const t=c(this,gr);let r=0,i=t.length-1;for(;r<=i;){const s=r+i>>1,o=t[s][0];if(o===e)return s;o<e?r=s+1:i=s-1}return i+1},vb=function([,e,t]){const r=E(this,on,Bf).call(this,e);c(this,gr).splice(r,0,[e,t])},yb=function([,e,t]){const r=E(this,on,Bf).call(this,e);for(let i=r;i<c(this,gr).length;i++){const[s,o]=c(this,gr)[i];if(s!==e)break;if(s===e&&o===t){c(this,gr).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,o]=c(this,gr)[i];if(s!==e)break;if(s===e&&o===t){c(this,gr).splice(i,1);return}}},hy=function(e){const[t,r,i]=e,s=[[t,r,i]],o=E(this,on,Bf).call(this,i);for(let a=0;a<o;a++){const[l,u]=c(this,gr)[a];for(let d=0,h=s.length;d<h;d++){const[,f,p]=s[d];if(!(u<=f||p<=l)){if(f>=l){if(p>u)s[d][1]=u;else{if(h===1)return[];s.splice(d,1),d--,h--}continue}s[d][2]=l,p>u&&s.push([t,u,p])}}}return s};class wb{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof py}}var eh,Ql;class ZL extends wb{constructor(t,r){super();S(this,eh);S(this,Ql);w(this,Ql,t),w(this,eh,r)}toSVGPath(){const t=[];for(const r of c(this,Ql)){let[i,s]=r;t.push(`M${i} ${s}`);for(let o=2;o<r.length;o+=2){const a=r[o],l=r[o+1];a===i?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${a}`),i=a)}t.push("Z")}return t.join(" ")}serialize([t,r,i,s],o){const a=[],l=i-t,u=s-r;for(const d of c(this,Ql)){const h=new Array(d.length);for(let f=0;f<d.length;f+=2)h[f]=t+d[f]*l,h[f+1]=s-d[f+1]*u;a.push(h)}return a}get box(){return c(this,eh)}}eh=new WeakMap,Ql=new WeakMap;var Ur,Ri,Jl,Zl,$r,Ae,Zo,ea,th,nh,ec,tc,_s,rh,qp,Yp,ih,fy;const li=class li{constructor({x:e,y:t},r,i,s,o,a=0){S(this,ih);S(this,Ur);S(this,Ri,[]);S(this,Jl);S(this,Zl);S(this,$r,[]);S(this,Ae,new Float64Array(18));S(this,Zo);S(this,ea);S(this,th);S(this,nh);S(this,ec);S(this,tc);S(this,_s,[]);w(this,Ur,r),w(this,tc,s*i),w(this,Zl,o),c(this,Ae).set([NaN,NaN,NaN,NaN,e,t],6),w(this,Jl,a),w(this,nh,c(li,rh)*i),w(this,th,c(li,Yp)*i),w(this,ec,i),c(this,_s).push(e,t)}get free(){return!0}isEmpty(){return isNaN(c(this,Ae)[8])}add({x:e,y:t}){var O;w(this,Zo,e),w(this,ea,t);const[r,i,s,o]=c(this,Ur);let[a,l,u,d]=c(this,Ae).subarray(8,12);const h=e-u,f=t-d,p=Math.hypot(h,f);if(p<c(this,th))return!1;const g=p-c(this,nh),v=g/p,_=v*h,m=v*f;let y=a,A=l;a=u,l=d,u+=_,d+=m,(O=c(this,_s))==null||O.push(e,t);const x=-m/g,C=_/g,k=x*c(this,tc),b=C*c(this,tc);return c(this,Ae).set(c(this,Ae).subarray(2,8),0),c(this,Ae).set([u+k,d+b],4),c(this,Ae).set(c(this,Ae).subarray(14,18),12),c(this,Ae).set([u-k,d-b],16),isNaN(c(this,Ae)[6])?(c(this,$r).length===0&&(c(this,Ae).set([a+k,l+b],2),c(this,$r).push(NaN,NaN,NaN,NaN,(a+k-r)/s,(l+b-i)/o),c(this,Ae).set([a-k,l-b],14),c(this,Ri).push(NaN,NaN,NaN,NaN,(a-k-r)/s,(l-b-i)/o)),c(this,Ae).set([y,A,a,l,u,d],6),!this.isEmpty()):(c(this,Ae).set([y,A,a,l,u,d],6),Math.abs(Math.atan2(A-l,y-a)-Math.atan2(m,_))<Math.PI/2?([a,l,u,d]=c(this,Ae).subarray(2,6),c(this,$r).push(NaN,NaN,NaN,NaN,((a+u)/2-r)/s,((l+d)/2-i)/o),[a,l,y,A]=c(this,Ae).subarray(14,18),c(this,Ri).push(NaN,NaN,NaN,NaN,((y+a)/2-r)/s,((A+l)/2-i)/o),!0):([y,A,a,l,u,d]=c(this,Ae).subarray(0,6),c(this,$r).push(((y+5*a)/6-r)/s,((A+5*l)/6-i)/o,((5*a+u)/6-r)/s,((5*l+d)/6-i)/o,((a+u)/2-r)/s,((l+d)/2-i)/o),[u,d,a,l,y,A]=c(this,Ae).subarray(12,18),c(this,Ri).push(((y+5*a)/6-r)/s,((A+5*l)/6-i)/o,((5*a+u)/6-r)/s,((5*l+d)/6-i)/o,((a+u)/2-r)/s,((l+d)/2-i)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=c(this,$r),t=c(this,Ri),r=c(this,Ae).subarray(4,6),i=c(this,Ae).subarray(16,18),[s,o,a,l]=c(this,Ur),[u,d,h,f]=E(this,ih,fy).call(this);if(isNaN(c(this,Ae)[6])&&!this.isEmpty())return`M${(c(this,Ae)[2]-s)/a} ${(c(this,Ae)[3]-o)/l} L${(c(this,Ae)[4]-s)/a} ${(c(this,Ae)[5]-o)/l} L${u} ${d} L${h} ${f} L${(c(this,Ae)[16]-s)/a} ${(c(this,Ae)[17]-o)/l} L${(c(this,Ae)[14]-s)/a} ${(c(this,Ae)[15]-o)/l} Z`;const p=[];p.push(`M${e[4]} ${e[5]}`);for(let g=6;g<e.length;g+=6)isNaN(e[g])?p.push(`L${e[g+4]} ${e[g+5]}`):p.push(`C${e[g]} ${e[g+1]} ${e[g+2]} ${e[g+3]} ${e[g+4]} ${e[g+5]}`);p.push(`L${(r[0]-s)/a} ${(r[1]-o)/l} L${u} ${d} L${h} ${f} L${(i[0]-s)/a} ${(i[1]-o)/l}`);for(let g=t.length-6;g>=6;g-=6)isNaN(t[g])?p.push(`L${t[g+4]} ${t[g+5]}`):p.push(`C${t[g]} ${t[g+1]} ${t[g+2]} ${t[g+3]} ${t[g+4]} ${t[g+5]}`);return p.push(`L${t[4]} ${t[5]} Z`),p.join(" ")}getOutlines(){var m;const e=c(this,$r),t=c(this,Ri),r=c(this,Ae),i=r.subarray(4,6),s=r.subarray(16,18),[o,a,l,u]=c(this,Ur),d=new Float64Array((((m=c(this,_s))==null?void 0:m.length)??0)+2);for(let y=0,A=d.length-2;y<A;y+=2)d[y]=(c(this,_s)[y]-o)/l,d[y+1]=(c(this,_s)[y+1]-a)/u;d[d.length-2]=(c(this,Zo)-o)/l,d[d.length-1]=(c(this,ea)-a)/u;const[h,f,p,g]=E(this,ih,fy).call(this);if(isNaN(r[6])&&!this.isEmpty()){const y=new Float64Array(36);return y.set([NaN,NaN,NaN,NaN,(r[2]-o)/l,(r[3]-a)/u,NaN,NaN,NaN,NaN,(r[4]-o)/l,(r[5]-a)/u,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(r[16]-o)/l,(r[17]-a)/u,NaN,NaN,NaN,NaN,(r[14]-o)/l,(r[15]-a)/u],0),new py(y,d,c(this,Ur),c(this,ec),c(this,Jl),c(this,Zl))}const v=new Float64Array(c(this,$r).length+24+c(this,Ri).length);let _=e.length;for(let y=0;y<_;y+=2){if(isNaN(e[y])){v[y]=v[y+1]=NaN;continue}v[y]=e[y],v[y+1]=e[y+1]}v.set([NaN,NaN,NaN,NaN,(i[0]-o)/l,(i[1]-a)/u,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(s[0]-o)/l,(s[1]-a)/u],_),_+=24;for(let y=t.length-6;y>=6;y-=6)for(let A=0;A<6;A+=2){if(isNaN(t[y+A])){v[_]=v[_+1]=NaN,_+=2;continue}v[_]=t[y+A],v[_+1]=t[y+A+1],_+=2}return v.set([NaN,NaN,NaN,NaN,t[4],t[5]],_),new py(v,d,c(this,Ur),c(this,ec),c(this,Jl),c(this,Zl))}};Ur=new WeakMap,Ri=new WeakMap,Jl=new WeakMap,Zl=new WeakMap,$r=new WeakMap,Ae=new WeakMap,Zo=new WeakMap,ea=new WeakMap,th=new WeakMap,nh=new WeakMap,ec=new WeakMap,tc=new WeakMap,_s=new WeakMap,rh=new WeakMap,qp=new WeakMap,Yp=new WeakMap,ih=new WeakSet,fy=function(){const e=c(this,Ae).subarray(4,6),t=c(this,Ae).subarray(16,18),[r,i,s,o]=c(this,Ur);return[(c(this,Zo)+(e[0]-t[0])/2-r)/s,(c(this,ea)+(e[1]-t[1])/2-i)/o,(c(this,Zo)+(t[0]-e[0])/2-r)/s,(c(this,ea)+(t[1]-e[1])/2-i)/o]},S(li,rh,8),S(li,qp,2),S(li,Yp,c(li,rh)+c(li,qp));let Rp=li;var nc,ta,Li,sh,Rn,oh,nt,vn,nu,ru,Eb;class py extends wb{constructor(t,r,i,s,o,a){super();S(this,vn);S(this,nc);S(this,ta,null);S(this,Li);S(this,sh);S(this,Rn);S(this,oh);S(this,nt);w(this,nt,t),w(this,Rn,r),w(this,nc,i),w(this,oh,s),w(this,Li,o),w(this,sh,a),E(this,vn,Eb).call(this,a);const{x:l,y:u,width:d,height:h}=c(this,ta);for(let f=0,p=t.length;f<p;f+=2)t[f]=(t[f]-l)/d,t[f+1]=(t[f+1]-u)/h;for(let f=0,p=r.length;f<p;f+=2)r[f]=(r[f]-l)/d,r[f+1]=(r[f+1]-u)/h}toSVGPath(){const t=[`M${c(this,nt)[4]} ${c(this,nt)[5]}`];for(let r=6,i=c(this,nt).length;r<i;r+=6){if(isNaN(c(this,nt)[r])){t.push(`L${c(this,nt)[r+4]} ${c(this,nt)[r+5]}`);continue}t.push(`C${c(this,nt)[r]} ${c(this,nt)[r+1]} ${c(this,nt)[r+2]} ${c(this,nt)[r+3]} ${c(this,nt)[r+4]} ${c(this,nt)[r+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,r,i,s],o){const a=i-t,l=s-r;let u,d;switch(o){case 0:u=E(this,vn,nu).call(this,c(this,nt),t,s,a,-l),d=E(this,vn,nu).call(this,c(this,Rn),t,s,a,-l);break;case 90:u=E(this,vn,ru).call(this,c(this,nt),t,r,a,l),d=E(this,vn,ru).call(this,c(this,Rn),t,r,a,l);break;case 180:u=E(this,vn,nu).call(this,c(this,nt),i,r,-a,l),d=E(this,vn,nu).call(this,c(this,Rn),i,r,-a,l);break;case 270:u=E(this,vn,ru).call(this,c(this,nt),i,s,-a,-l),d=E(this,vn,ru).call(this,c(this,Rn),i,s,-a,-l);break}return{outline:Array.from(u),points:[Array.from(d)]}}get box(){return c(this,ta)}getNewOutline(t,r){const{x:i,y:s,width:o,height:a}=c(this,ta),[l,u,d,h]=c(this,nc),f=o*d,p=a*h,g=i*d+l,v=s*h+u,_=new Rp({x:c(this,Rn)[0]*f+g,y:c(this,Rn)[1]*p+v},c(this,nc),c(this,oh),t,c(this,sh),r??c(this,Li));for(let m=2;m<c(this,Rn).length;m+=2)_.add({x:c(this,Rn)[m]*f+g,y:c(this,Rn)[m+1]*p+v});return _.getOutlines()}}nc=new WeakMap,ta=new WeakMap,Li=new WeakMap,sh=new WeakMap,Rn=new WeakMap,oh=new WeakMap,nt=new WeakMap,vn=new WeakSet,nu=function(t,r,i,s,o){const a=new Float64Array(t.length);for(let l=0,u=t.length;l<u;l+=2)a[l]=r+t[l]*s,a[l+1]=i+t[l+1]*o;return a},ru=function(t,r,i,s,o){const a=new Float64Array(t.length);for(let l=0,u=t.length;l<u;l+=2)a[l]=r+t[l+1]*s,a[l+1]=i+t[l]*o;return a},Eb=function(t){const r=c(this,nt);let i=r[4],s=r[5],o=i,a=s,l=i,u=s,d=i,h=s;const f=t?Math.max:Math.min;for(let m=6,y=r.length;m<y;m+=6){if(isNaN(r[m]))o=Math.min(o,r[m+4]),a=Math.min(a,r[m+5]),l=Math.max(l,r[m+4]),u=Math.max(u,r[m+5]),h<r[m+5]?(d=r[m+4],h=r[m+5]):h===r[m+5]&&(d=f(d,r[m+4]));else{const A=J.bezierBoundingBox(i,s,...r.slice(m,m+6));o=Math.min(o,A[0]),a=Math.min(a,A[1]),l=Math.max(l,A[2]),u=Math.max(u,A[3]),h<A[3]?(d=A[2],h=A[3]):h===A[3]&&(d=f(d,A[2]))}i=r[m+4],s=r[m+5]}const p=o-c(this,Li),g=a-c(this,Li),v=l-o+2*c(this,Li),_=u-a+2*c(this,Li);w(this,ta,{x:p,y:g,width:v,height:_,lastPoint:[d,h]})};var ah,lh,mr,na,rc,pt,ch,ic,uh,dh,bs,sc,je,gy,my,Ab,ho,Sb,os;const ci=class ci{constructor({editor:e=null,uiManager:t=null}){S(this,je);S(this,ah,E(this,je,Ab).bind(this));S(this,lh,E(this,je,Sb).bind(this));S(this,mr,null);S(this,na,null);S(this,rc);S(this,pt,null);S(this,ch,!1);S(this,ic,!1);S(this,uh,null);S(this,dh);S(this,bs,null);S(this,sc);var r;e?(w(this,ic,!1),w(this,sc,oe.HIGHLIGHT_COLOR),w(this,uh,e)):(w(this,ic,!0),w(this,sc,oe.HIGHLIGHT_DEFAULT_COLOR)),w(this,bs,(e==null?void 0:e._uiManager)||t),w(this,dh,c(this,bs)._eventBus),w(this,rc,(e==null?void 0:e.color)||((r=c(this,bs))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return xe(this,"_keyboardManager",new Lh([[["Escape","mac+Escape"],ci.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],ci.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],ci.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],ci.prototype._moveToPrevious],[["Home","mac+Home"],ci.prototype._moveToBeginning],[["End","mac+End"],ci.prototype._moveToEnd]]))}renderButton(){const e=w(this,mr,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0),e.addEventListener("click",E(this,je,ho).bind(this)),e.addEventListener("keydown",c(this,ah));const t=w(this,na,document.createElement("span"));return t.className="swatch",t.setAttribute("aria-hidden",!0),t.style.backgroundColor=c(this,rc),e.append(t),e}renderMainDropdown(){const e=w(this,pt,E(this,je,gy).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===c(this,mr)){E(this,je,ho).call(this,e);return}const t=e.target.getAttribute("data-color");t&&E(this,je,my).call(this,t,e)}_moveToNext(e){var t,r;if(!c(this,je,os)){E(this,je,ho).call(this,e);return}if(e.target===c(this,mr)){(t=c(this,pt).firstChild)==null||t.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var t,r;if(e.target===((t=c(this,pt))==null?void 0:t.firstChild)||e.target===c(this,mr)){c(this,je,os)&&this._hideDropdownFromKeyboard();return}c(this,je,os)||E(this,je,ho).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var t;if(!c(this,je,os)){E(this,je,ho).call(this,e);return}(t=c(this,pt).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!c(this,je,os)){E(this,je,ho).call(this,e);return}(t=c(this,pt).lastChild)==null||t.focus()}hideDropdown(){var e;(e=c(this,pt))==null||e.classList.add("hidden"),window.removeEventListener("pointerdown",c(this,lh))}_hideDropdownFromKeyboard(){var e;if(!c(this,ic)){if(!c(this,je,os)){(e=c(this,uh))==null||e.unselect();return}this.hideDropdown(),c(this,mr).focus({preventScroll:!0,focusVisible:c(this,ch)})}}updateColor(e){if(c(this,na)&&(c(this,na).style.backgroundColor=e),!c(this,pt))return;const t=c(this,bs).highlightColors.values();for(const r of c(this,pt).children)r.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=c(this,mr))==null||e.remove(),w(this,mr,null),w(this,na,null),(t=c(this,pt))==null||t.remove(),w(this,pt,null)}};ah=new WeakMap,lh=new WeakMap,mr=new WeakMap,na=new WeakMap,rc=new WeakMap,pt=new WeakMap,ch=new WeakMap,ic=new WeakMap,uh=new WeakMap,dh=new WeakMap,bs=new WeakMap,sc=new WeakMap,je=new WeakSet,gy=function(){const e=document.createElement("div");e.addEventListener("contextmenu",An),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[t,r]of c(this,bs).highlightColors){const i=document.createElement("button");i.tabIndex="0",i.role="option",i.setAttribute("data-color",r),i.title=t,i.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${t}`);const s=document.createElement("span");i.append(s),s.className="swatch",s.style.backgroundColor=r,i.setAttribute("aria-selected",r===c(this,rc)),i.addEventListener("click",E(this,je,my).bind(this,r)),e.append(i)}return e.addEventListener("keydown",c(this,ah)),e},my=function(e,t){t.stopPropagation(),c(this,dh).dispatch("switchannotationeditorparams",{source:this,type:c(this,sc),value:e})},Ab=function(e){ci._keyboardManager.exec(this,e)},ho=function(e){if(c(this,je,os)){this.hideDropdown();return}if(w(this,ch,e.detail===0),window.addEventListener("pointerdown",c(this,lh)),c(this,pt)){c(this,pt).classList.remove("hidden");return}const t=w(this,pt,E(this,je,gy).call(this));c(this,mr).append(t)},Sb=function(e){var t;(t=c(this,pt))!=null&&t.contains(e.target)||this.hideDropdown()},os=function(){return c(this,pt)&&!c(this,pt).classList.contains("hidden")};let Lp=ci;var oc,hh,xs,ra,ac,Wn,fh,ph,ia,vr,Zt,Ln,Qp,lc,sa,gt,cc,Vr,gh,we,vy,yy,_b,bb,xb,wy,iu,Zn,qa,Cb,Uf,su,Tb,kb,Pb,Rb;const ke=class ke extends Re{constructor(t){super({...t,name:"highlightEditor"});S(this,we);S(this,oc,null);S(this,hh,0);S(this,xs);S(this,ra,null);S(this,ac,null);S(this,Wn,null);S(this,fh,null);S(this,ph,0);S(this,ia,null);S(this,vr,null);S(this,Zt,null);S(this,Ln,!1);S(this,Qp,E(this,we,Cb).bind(this));S(this,lc,null);S(this,sa);S(this,gt,null);S(this,cc,"");S(this,Vr);S(this,gh,"");this.color=t.color||ke._defaultColor,w(this,Vr,t.thickness||ke._defaultThickness),w(this,sa,t.opacity||ke._defaultOpacity),w(this,xs,t.boxes||null),w(this,gh,t.methodOfCreation||""),w(this,cc,t.text||""),this._isDraggable=!1,t.highlightId>-1?(w(this,Ln,!0),E(this,we,yy).call(this,t),E(this,we,iu).call(this)):(w(this,oc,t.anchorNode),w(this,hh,t.anchorOffset),w(this,fh,t.focusNode),w(this,ph,t.focusOffset),E(this,we,vy).call(this),E(this,we,iu).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=ke.prototype;return xe(this,"_keyboardManager",new Lh([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:c(this,Ln)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:c(this,Vr),methodOfCreation:c(this,gh)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,r){var i;Re.initialize(t,r),ke._defaultColor||(ke._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,r){switch(t){case oe.HIGHLIGHT_DEFAULT_COLOR:ke._defaultColor=r;break;case oe.HIGHLIGHT_THICKNESS:ke._defaultThickness=r;break}}translateInPage(t,r){}get toolbarPosition(){return c(this,lc)}updateParams(t,r){switch(t){case oe.HIGHLIGHT_COLOR:E(this,we,_b).call(this,r);break;case oe.HIGHLIGHT_THICKNESS:E(this,we,bb).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[oe.HIGHLIGHT_DEFAULT_COLOR,ke._defaultColor],[oe.HIGHLIGHT_THICKNESS,ke._defaultThickness]]}get propertiesToUpdate(){return[[oe.HIGHLIGHT_COLOR,this.color||ke._defaultColor],[oe.HIGHLIGHT_THICKNESS,c(this,Vr)||ke._defaultThickness],[oe.HIGHLIGHT_FREE,c(this,Ln)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(w(this,ac,new Lp({editor:this})),t.addColorPicker(c(this,ac))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(E(this,we,su).call(this))}getBaseTranslation(){return[0,0]}getRect(t,r){return super.getRect(t,r,E(this,we,su).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){E(this,we,wy).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(E(this,we,iu).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?E(this,we,wy).call(this):t&&(E(this,we,iu).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),r&&this.select()}rotate(t){var s,o,a;const{drawLayer:r}=this.parent;let i;c(this,Ln)?(t=(t-this.rotation+360)%360,i=E(s=ke,Zn,qa).call(s,c(this,vr).box,t)):i=E(o=ke,Zn,qa).call(o,this,t),r.rotate(c(this,Zt),t),r.rotate(c(this,gt),t),r.updateBox(c(this,Zt),i),r.updateBox(c(this,gt),E(a=ke,Zn,qa).call(a,c(this,Wn).box,t))}render(){if(this.div)return this.div;const t=super.render();c(this,cc)&&(t.setAttribute("aria-label",c(this,cc)),t.setAttribute("role","mark")),c(this,Ln)?t.classList.add("free"):this.div.addEventListener("keydown",c(this,Qp));const r=w(this,ia,document.createElement("div"));t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=c(this,ra);const[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),Cp(this,c(this,ia),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.parent.drawLayer.addClass(c(this,gt),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(c(this,gt),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:E(this,we,Uf).call(this,!0);break;case 1:case 3:E(this,we,Uf).call(this,!1);break}}select(){var t,r;super.select(),c(this,gt)&&((t=this.parent)==null||t.drawLayer.removeClass(c(this,gt),"hovered"),(r=this.parent)==null||r.drawLayer.addClass(c(this,gt),"selected"))}unselect(){var t;super.unselect(),c(this,gt)&&((t=this.parent)==null||t.drawLayer.removeClass(c(this,gt),"selected"),c(this,Ln)||E(this,we,Uf).call(this,!1))}get _mustFixPosition(){return!c(this,Ln)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(c(this,Zt),t),this.parent.drawLayer.show(c(this,gt),t))}static startHighlighting(t,r,{target:i,x:s,y:o}){const{x:a,y:l,width:u,height:d}=i.getBoundingClientRect(),h=v=>{E(this,Zn,Pb).call(this,t,v)},f={capture:!0,passive:!1},p=v=>{v.preventDefault(),v.stopPropagation()},g=v=>{i.removeEventListener("pointermove",h),window.removeEventListener("blur",g),window.removeEventListener("pointerup",g),window.removeEventListener("pointerdown",p,f),window.removeEventListener("contextmenu",An),E(this,Zn,Rb).call(this,t,v)};window.addEventListener("blur",g),window.addEventListener("pointerup",g),window.addEventListener("pointerdown",p,f),window.addEventListener("contextmenu",An),i.addEventListener("pointermove",h),this._freeHighlight=new Rp({x:s,y:o},[a,l,u,d],t.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(t,r,i){var v;const s=super.deserialize(t,r,i),{rect:[o,a,l,u],color:d,quadPoints:h}=t;s.color=J.makeHexColor(...d),w(s,sa,t.opacity);const[f,p]=s.pageDimensions;s.width=(l-o)/f,s.height=(u-a)/p;const g=w(s,xs,[]);for(let _=0;_<h.length;_+=8)g.push({x:(h[4]-l)/f,y:(u-(1-h[_+5]))/p,width:(h[_+2]-h[_])/f,height:(h[_+5]-h[_+1])/p});return E(v=s,we,vy).call(v),s}serialize(t=!1){if(this.isEmpty()||t)return null;const r=this.getRect(0,0),i=Re._colorManager.convert(this.color);return{annotationType:be.HIGHLIGHT,color:i,opacity:c(this,sa),thickness:c(this,Vr),quadPoints:E(this,we,Tb).call(this),outlines:E(this,we,kb).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:E(this,we,su).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};oc=new WeakMap,hh=new WeakMap,xs=new WeakMap,ra=new WeakMap,ac=new WeakMap,Wn=new WeakMap,fh=new WeakMap,ph=new WeakMap,ia=new WeakMap,vr=new WeakMap,Zt=new WeakMap,Ln=new WeakMap,Qp=new WeakMap,lc=new WeakMap,sa=new WeakMap,gt=new WeakMap,cc=new WeakMap,Vr=new WeakMap,gh=new WeakMap,we=new WeakSet,vy=function(){const t=new dy(c(this,xs),.001);w(this,vr,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=c(this,vr).box;const r=new dy(c(this,xs),.0025,.001,this._uiManager.direction==="ltr");w(this,Wn,r.getOutlines());const{lastPoint:i}=c(this,Wn).box;w(this,lc,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},yy=function({highlightOutlines:t,highlightId:r,clipPathId:i}){var h,f;if(w(this,vr,t),w(this,Wn,t.getNewOutline(c(this,Vr)/2+1.5,.0025)),r>=0)w(this,Zt,r),w(this,ra,i),this.parent.drawLayer.finalizeLine(r,t),w(this,gt,this.parent.drawLayer.highlightOutline(c(this,Wn)));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(c(this,Zt),t),this.parent.drawLayer.updateBox(c(this,Zt),E(h=ke,Zn,qa).call(h,c(this,vr).box,(p-this.rotation+360)%360)),this.parent.drawLayer.updateLine(c(this,gt),c(this,Wn)),this.parent.drawLayer.updateBox(c(this,gt),E(f=ke,Zn,qa).call(f,c(this,Wn).box,p))}const{x:o,y:a,width:l,height:u}=t.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=l,this.height=u;break;case 90:{const[p,g]=this.parentDimensions;this.x=a,this.y=1-o,this.width=l*g/p,this.height=u*p/g;break}case 180:this.x=1-o,this.y=1-a,this.width=l,this.height=u;break;case 270:{const[p,g]=this.parentDimensions;this.x=1-a,this.y=o,this.width=l*g/p,this.height=u*p/g;break}}const{lastPoint:d}=c(this,Wn).box;w(this,lc,[(d[0]-o)/l,(d[1]-a)/u])},_b=function(t){const r=s=>{var o,a;this.color=s,(o=this.parent)==null||o.drawLayer.changeColor(c(this,Zt),s),(a=c(this,ac))==null||a.updateColor(s)},i=this.color;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:oe.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},bb=function(t){const r=c(this,Vr),i=s=>{w(this,Vr,s),E(this,we,xb).call(this,s)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:oe.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},xb=function(t){if(!c(this,Ln))return;E(this,we,yy).call(this,{highlightOutlines:c(this,vr).getNewOutline(t/2)}),this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)},wy=function(){c(this,Zt)===null||!this.parent||(this.parent.drawLayer.remove(c(this,Zt)),w(this,Zt,null),this.parent.drawLayer.remove(c(this,gt)),w(this,gt,null))},iu=function(t=this.parent){c(this,Zt)===null&&({id:bn(this,Zt)._,clipPathId:bn(this,ra)._}=t.drawLayer.highlight(c(this,vr),this.color,c(this,sa)),w(this,gt,t.drawLayer.highlightOutline(c(this,Wn))),c(this,ia)&&(c(this,ia).style.clipPath=c(this,ra)))},Zn=new WeakSet,qa=function({x:t,y:r,width:i,height:s},o){switch(o){case 90:return{x:1-r-s,y:t,width:s,height:i};case 180:return{x:1-t-i,y:1-r-s,width:i,height:s};case 270:return{x:r,y:1-t-i,width:s,height:i}}return{x:t,y:r,width:i,height:s}},Cb=function(t){ke._keyboardManager.exec(this,t)},Uf=function(t){if(!c(this,oc))return;const r=window.getSelection();t?r.setPosition(c(this,oc),c(this,hh)):r.setPosition(c(this,fh),c(this,ph))},su=function(){return c(this,Ln)?this.rotation:0},Tb=function(){if(c(this,Ln))return null;const[t,r]=this.pageDimensions,i=c(this,xs),s=new Array(i.length*8);let o=0;for(const{x:a,y:l,width:u,height:d}of i){const h=a*t,f=(1-l-d)*r;s[o]=s[o+4]=h,s[o+1]=s[o+3]=f,s[o+2]=s[o+6]=h+u*t,s[o+5]=s[o+7]=f+d*r,o+=8}return s},kb=function(t){return c(this,vr).serialize(t,E(this,we,su).call(this))},Pb=function(t,r){this._freeHighlight.add(r)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},Rb=function(t,r){this._freeHighlight.isEmpty()?t.drawLayer.removeFreeHighlight(this._freeHighlightId):t.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},S(ke,Zn),ue(ke,"_defaultColor",null),ue(ke,"_defaultOpacity",1),ue(ke,"_defaultThickness",12),ue(ke,"_l10nPromise"),ue(ke,"_type","highlight"),ue(ke,"_editorType",be.HIGHLIGHT),ue(ke,"_freeHighlightId",-1),ue(ke,"_freeHighlight",null),ue(ke,"_freeHighlightClipId","");let Mp=ke;var oa,aa,mh,vh,yh,la,Wr,Mi,Gn,ca,ua,da,ha,fa,Cs,$,Lb,Mb,Db,Fb,Ay,Ib,Sy,Nb,Ob,jb,zb,Hb,fo,_y,$f,Vf,Ya,by,Wf,Qi,Bb,xy,Ub,$b,Cy,Gf,ou;const Xe=class Xe extends Re{constructor(t){super({...t,name:"inkEditor"});S(this,$);S(this,oa,0);S(this,aa,0);S(this,mh,this.canvasPointermove.bind(this));S(this,vh,this.canvasPointerleave.bind(this));S(this,yh,this.canvasPointerup.bind(this));S(this,la,this.canvasPointerdown.bind(this));S(this,Wr,null);S(this,Mi,new Path2D);S(this,Gn,!1);S(this,ca,!1);S(this,ua,!1);S(this,da,null);S(this,ha,0);S(this,fa,0);S(this,Cs,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,r){Re.initialize(t,r)}static updateDefaultParams(t,r){switch(t){case oe.INK_THICKNESS:Xe._defaultThickness=r;break;case oe.INK_COLOR:Xe._defaultColor=r;break;case oe.INK_OPACITY:Xe._defaultOpacity=r/100;break}}updateParams(t,r){switch(t){case oe.INK_THICKNESS:E(this,$,Lb).call(this,r);break;case oe.INK_COLOR:E(this,$,Mb).call(this,r);break;case oe.INK_OPACITY:E(this,$,Db).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[oe.INK_THICKNESS,Xe._defaultThickness],[oe.INK_COLOR,Xe._defaultColor||Re._defaultLineColor],[oe.INK_OPACITY,Math.round(Xe._defaultOpacity*100)]]}get propertiesToUpdate(){return[[oe.INK_THICKNESS,this.thickness||Xe._defaultThickness],[oe.INK_COLOR,this.color||Xe._defaultColor||Re._defaultLineColor],[oe.INK_OPACITY,Math.round(100*(this.opacity??Xe._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(E(this,$,$f).call(this),E(this,$,Vf).call(this)),this.isAttachedToDOM||(this.parent.add(this),E(this,$,Ya).call(this)),E(this,$,ou).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,c(this,Wr)&&(clearTimeout(c(this,Wr)),w(this,Wr,null)),c(this,da).disconnect(),w(this,da,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,r]=this.parentDimensions,i=this.width*t,s=this.height*r;this.setDimensions(i,s)}enableEditMode(){c(this,Gn)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",c(this,la)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",c(this,la)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){c(this,Gn)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),w(this,Gn,!0),this.div.classList.add("disabled"),E(this,$,ou).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||c(this,Gn)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),E(this,$,Ib).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),E(this,$,Sy).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),E(this,$,_y).call(this,t)}canvasPointerleave(t){E(this,$,_y).call(this,t)}get isResizable(){return!this.isEmpty()&&c(this,Gn)}render(){if(this.div)return this.div;let t,r;this.width&&(t=this.x,r=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,s,o,a]=E(this,$,Fb).call(this);if(this.setAt(i,s,0,0),this.setDims(o,a),E(this,$,$f).call(this),this.width){const[l,u]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*u),this.setAt(t*l,r*u,this.width*l,this.height*u),w(this,ua,!0),E(this,$,Ya).call(this),this.setDims(this.width*l,this.height*u),E(this,$,fo).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return E(this,$,Vf).call(this),this.div}setDimensions(t,r){const i=Math.round(t),s=Math.round(r);if(c(this,ha)===i&&c(this,fa)===s)return;w(this,ha,i),w(this,fa,s),this.canvas.style.visibility="hidden";const[o,a]=this.parentDimensions;this.width=t/o,this.height=r/a,this.fixAndSetPosition(),c(this,Gn)&&E(this,$,by).call(this,t,r),E(this,$,Ya).call(this),E(this,$,fo).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(t,r,i){var _,m,y;if(t instanceof lb)return null;const s=super.deserialize(t,r,i);s.thickness=t.thickness,s.color=J.makeHexColor(...t.color),s.opacity=t.opacity;const[o,a]=s.pageDimensions,l=s.width*o,u=s.height*a,d=s.parentScale,h=t.thickness/2;w(s,Gn,!0),w(s,ha,Math.round(l)),w(s,fa,Math.round(u));const{paths:f,rect:p,rotation:g}=t;for(let{bezier:A}of f){A=E(_=Xe,Qi,Ub).call(_,A,p,g);const x=[];s.paths.push(x);let C=d*(A[0]-h),k=d*(A[1]-h);for(let R=2,O=A.length;R<O;R+=6){const N=d*(A[R]-h),F=d*(A[R+1]-h),K=d*(A[R+2]-h),H=d*(A[R+3]-h),V=d*(A[R+4]-h),te=d*(A[R+5]-h);x.push([[C,k],[N,F],[K,H],[V,te]]),C=V,k=te}const b=E(this,Qi,Bb).call(this,x);s.bezierPath2D.push(b)}const v=E(m=s,$,Cy).call(m);return w(s,aa,Math.max(Re.MIN_SIZE,v[2]-v[0])),w(s,oa,Math.max(Re.MIN_SIZE,v[3]-v[1])),E(y=s,$,by).call(y,l,u),s}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),r=Re._colorManager.convert(this.ctx.strokeStyle);return{annotationType:be.INK,color:r,thickness:this.thickness,opacity:this.opacity,paths:E(this,$,$b).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};oa=new WeakMap,aa=new WeakMap,mh=new WeakMap,vh=new WeakMap,yh=new WeakMap,la=new WeakMap,Wr=new WeakMap,Mi=new WeakMap,Gn=new WeakMap,ca=new WeakMap,ua=new WeakMap,da=new WeakMap,ha=new WeakMap,fa=new WeakMap,Cs=new WeakMap,$=new WeakSet,Lb=function(t){const r=s=>{this.thickness=s,E(this,$,ou).call(this)},i=this.thickness;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:oe.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Mb=function(t){const r=s=>{this.color=s,E(this,$,fo).call(this)},i=this.color;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:oe.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Db=function(t){const r=s=>{this.opacity=s,E(this,$,fo).call(this)};t/=100;const i=this.opacity;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:oe.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Fb=function(){const{parentRotation:t,parentDimensions:[r,i]}=this;switch(t){case 90:return[0,i,i,r];case 180:return[r,i,r,i];case 270:return[r,0,i,r];default:return[0,0,r,i]}},Ay=function(){const{ctx:t,color:r,opacity:i,thickness:s,parentScale:o,scaleFactor:a}=this;t.lineWidth=s*o/a,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${r}${_R(i)}`},Ib=function(t,r){this.canvas.addEventListener("contextmenu",An),this.canvas.addEventListener("pointerleave",c(this,vh)),this.canvas.addEventListener("pointermove",c(this,mh)),this.canvas.addEventListener("pointerup",c(this,yh)),this.canvas.removeEventListener("pointerdown",c(this,la)),this.isEditing=!0,c(this,ua)||(w(this,ua,!0),E(this,$,Ya).call(this),this.thickness||(this.thickness=Xe._defaultThickness),this.color||(this.color=Xe._defaultColor||Re._defaultLineColor),this.opacity??(this.opacity=Xe._defaultOpacity)),this.currentPath.push([t,r]),w(this,ca,!1),E(this,$,Ay).call(this),w(this,Cs,()=>{E(this,$,jb).call(this),c(this,Cs)&&window.requestAnimationFrame(c(this,Cs))}),window.requestAnimationFrame(c(this,Cs))},Sy=function(t,r){const[i,s]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===i&&r===s)return;const o=this.currentPath;let a=c(this,Mi);if(o.push([t,r]),w(this,ca,!0),o.length<=2){a.moveTo(...o[0]),a.lineTo(t,r);return}o.length===3&&(w(this,Mi,a=new Path2D),a.moveTo(...o[0])),E(this,$,zb).call(this,a,...o.at(-3),...o.at(-2),t,r)},Nb=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);c(this,Mi).lineTo(...t)},Ob=function(t,r){w(this,Cs,null),t=Math.min(Math.max(t,0),this.canvas.width),r=Math.min(Math.max(r,0),this.canvas.height),E(this,$,Sy).call(this,t,r),E(this,$,Nb).call(this);let i;if(this.currentPath.length!==1)i=E(this,$,Hb).call(this);else{const u=[t,r];i=[[u,u.slice(),u.slice(),u]]}const s=c(this,Mi),o=this.currentPath;this.currentPath=[],w(this,Mi,new Path2D);const a=()=>{this.allRawPaths.push(o),this.paths.push(i),this.bezierPath2D.push(s),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(E(this,$,$f).call(this),E(this,$,Vf).call(this)),E(this,$,ou).call(this))};this.addCommands({cmd:a,undo:l,mustExec:!0})},jb=function(){if(!c(this,ca))return;w(this,ca,!1);const t=Math.ceil(this.thickness*this.parentScale),r=this.currentPath.slice(-3),i=r.map(a=>a[0]),s=r.map(a=>a[1]);Math.min(...i)-t,Math.max(...i)+t,Math.min(...s)-t,Math.max(...s)+t;const{ctx:o}=this;o.save(),o.clearRect(0,0,this.canvas.width,this.canvas.height);for(const a of this.bezierPath2D)o.stroke(a);o.stroke(c(this,Mi)),o.restore()},zb=function(t,r,i,s,o,a,l){const u=(r+s)/2,d=(i+o)/2,h=(s+a)/2,f=(o+l)/2;t.bezierCurveTo(u+2*(s-u)/3,d+2*(o-d)/3,h+2*(s-h)/3,f+2*(o-f)/3,h,f)},Hb=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const r=[];let i,[s,o]=t[0];for(i=1;i<t.length-2;i++){const[p,g]=t[i],[v,_]=t[i+1],m=(p+v)/2,y=(g+_)/2,A=[s+2*(p-s)/3,o+2*(g-o)/3],x=[m+2*(p-m)/3,y+2*(g-y)/3];r.push([[s,o],A,x,[m,y]]),[s,o]=[m,y]}const[a,l]=t[i],[u,d]=t[i+1],h=[s+2*(a-s)/3,o+2*(l-o)/3],f=[u+2*(a-u)/3,d+2*(l-d)/3];return r.push([[s,o],h,f,[u,d]]),r},fo=function(){if(this.isEmpty()){E(this,$,Wf).call(this);return}E(this,$,Ay).call(this);const{canvas:t,ctx:r}=this;r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,t.width,t.height),E(this,$,Wf).call(this);for(const i of this.bezierPath2D)r.stroke(i)},_y=function(t){this.canvas.removeEventListener("pointerleave",c(this,vh)),this.canvas.removeEventListener("pointermove",c(this,mh)),this.canvas.removeEventListener("pointerup",c(this,yh)),this.canvas.addEventListener("pointerdown",c(this,la)),c(this,Wr)&&clearTimeout(c(this,Wr)),w(this,Wr,setTimeout(()=>{w(this,Wr,null),this.canvas.removeEventListener("contextmenu",An)},10)),E(this,$,Ob).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},$f=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Vf=function(){w(this,da,new ResizeObserver(t=>{const r=t[0].contentRect;r.width&&r.height&&this.setDimensions(r.width,r.height)})),c(this,da).observe(this.div)},Ya=function(){if(!c(this,ua))return;const[t,r]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*r),E(this,$,Wf).call(this)},by=function(t,r){const i=E(this,$,Gf).call(this),s=(t-i)/c(this,aa),o=(r-i)/c(this,oa);this.scaleFactor=Math.min(s,o)},Wf=function(){const t=E(this,$,Gf).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},Qi=new WeakSet,Bb=function(t){const r=new Path2D;for(let i=0,s=t.length;i<s;i++){const[o,a,l,u]=t[i];i===0&&r.moveTo(...o),r.bezierCurveTo(a[0],a[1],l[0],l[1],u[0],u[1])}return r},xy=function(t,r,i){const[s,o,a,l]=r;switch(i){case 0:for(let u=0,d=t.length;u<d;u+=2)t[u]+=s,t[u+1]=l-t[u+1];break;case 90:for(let u=0,d=t.length;u<d;u+=2){const h=t[u];t[u]=t[u+1]+s,t[u+1]=h+o}break;case 180:for(let u=0,d=t.length;u<d;u+=2)t[u]=a-t[u],t[u+1]+=o;break;case 270:for(let u=0,d=t.length;u<d;u+=2){const h=t[u];t[u]=a-t[u+1],t[u+1]=l-h}break;default:throw new Error("Invalid rotation")}return t},Ub=function(t,r,i){const[s,o,a,l]=r;switch(i){case 0:for(let u=0,d=t.length;u<d;u+=2)t[u]-=s,t[u+1]=l-t[u+1];break;case 90:for(let u=0,d=t.length;u<d;u+=2){const h=t[u];t[u]=t[u+1]-o,t[u+1]=h-s}break;case 180:for(let u=0,d=t.length;u<d;u+=2)t[u]=a-t[u],t[u+1]-=o;break;case 270:for(let u=0,d=t.length;u<d;u+=2){const h=t[u];t[u]=l-t[u+1],t[u+1]=a-h}break;default:throw new Error("Invalid rotation")}return t},$b=function(t,r,i,s){var d,h;const o=[],a=this.thickness/2,l=t*r+a,u=t*i+a;for(const f of this.paths){const p=[],g=[];for(let v=0,_=f.length;v<_;v++){const[m,y,A,x]=f[v];if(m[0]===x[0]&&m[1]===x[1]&&_===1){const H=t*m[0]+l,V=t*m[1]+u;p.push(H,V),g.push(H,V);break}const C=t*m[0]+l,k=t*m[1]+u,b=t*y[0]+l,R=t*y[1]+u,O=t*A[0]+l,N=t*A[1]+u,F=t*x[0]+l,K=t*x[1]+u;v===0&&(p.push(C,k),g.push(C,k)),p.push(b,R,O,N,F,K),g.push(b,R),v===_-1&&g.push(F,K)}o.push({bezier:E(d=Xe,Qi,xy).call(d,p,s,this.rotation),points:E(h=Xe,Qi,xy).call(h,g,s,this.rotation)})}return o},Cy=function(){let t=1/0,r=-1/0,i=1/0,s=-1/0;for(const o of this.paths)for(const[a,l,u,d]of o){const h=J.bezierBoundingBox(...a,...l,...u,...d);t=Math.min(t,h[0]),i=Math.min(i,h[1]),r=Math.max(r,h[2]),s=Math.max(s,h[3])}return[t,i,r,s]},Gf=function(){return c(this,Gn)?Math.ceil(this.thickness*this.parentScale):0},ou=function(t=!1){if(this.isEmpty())return;if(!c(this,Gn)){E(this,$,fo).call(this);return}const r=E(this,$,Cy).call(this),i=E(this,$,Gf).call(this);w(this,aa,Math.max(Re.MIN_SIZE,r[2]-r[0])),w(this,oa,Math.max(Re.MIN_SIZE,r[3]-r[1]));const s=Math.ceil(i+c(this,aa)*this.scaleFactor),o=Math.ceil(i+c(this,oa)*this.scaleFactor),[a,l]=this.parentDimensions;this.width=s/a,this.height=o/l,this.setAspectRatio(s,o);const u=this.translationX,d=this.translationY;this.translationX=-r[0],this.translationY=-r[1],E(this,$,Ya).call(this),E(this,$,fo).call(this),w(this,ha,s),w(this,fa,o),this.setDims(s,o);const h=t?i/this.scaleFactor/2:0;this.translate(u-this.translationX-h,d-this.translationY-h)},S(Xe,Qi),ue(Xe,"_defaultColor",null),ue(Xe,"_defaultOpacity",1),ue(Xe,"_defaultThickness",1),ue(Xe,"_type","ink"),ue(Xe,"_editorType",be.INK);let Ey=Xe;var It,Nt,Ts,Di,ks,uc,Gr,pa,Xr,yr,wh,Te,au,lu,Xf,ky,Vb,Wb,Py,Kf,Gb;const Su=class Su extends Re{constructor(t){super({...t,name:"stampEditor"});S(this,Te);S(this,It,null);S(this,Nt,null);S(this,Ts,null);S(this,Di,null);S(this,ks,null);S(this,uc,"");S(this,Gr,null);S(this,pa,null);S(this,Xr,null);S(this,yr,!1);S(this,wh,!1);w(this,Di,t.bitmapUrl),w(this,ks,t.bitmapFile)}static initialize(t,r){Re.initialize(t,r)}static get supportedTypes(){return xe(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(r=>`image/${r}`))}static get supportedTypesStr(){return xe(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,r){r.pasteEditor(be.STAMP,{bitmapFile:t.getAsFile()})}remove(){var t,r;c(this,Nt)&&(w(this,It,null),this._uiManager.imageManager.deleteId(c(this,Nt)),(t=c(this,Gr))==null||t.remove(),w(this,Gr,null),(r=c(this,pa))==null||r.disconnect(),w(this,pa,null),c(this,Xr)&&(clearTimeout(c(this,Xr)),w(this,Xr,null))),super.remove()}rebuild(){if(!this.parent){c(this,Nt)&&E(this,Te,Xf).call(this);return}super.rebuild(),this.div!==null&&(c(this,Nt)&&c(this,Gr)===null&&E(this,Te,Xf).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(c(this,Ts)||c(this,It)||c(this,Di)||c(this,ks)||c(this,Nt))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,r;if(this.width&&(t=this.x,r=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),c(this,It)?E(this,Te,ky).call(this):E(this,Te,Xf).call(this),this.width){const[i,s]=this.parentDimensions;this.setAt(t*i,r*s,this.width*i,this.height*s)}return this.div}getImageForAltText(){return c(this,Gr)}static deserialize(t,r,i){if(t instanceof cb)return null;const s=super.deserialize(t,r,i),{rect:o,bitmapUrl:a,bitmapId:l,isSvg:u,accessibilityData:d}=t;l&&i.imageManager.isValidId(l)?w(s,Nt,l):w(s,Di,a),w(s,yr,u);const[h,f]=s.pageDimensions;return s.width=(o[2]-o[0])/h,s.height=(o[3]-o[1])/f,d&&(s.altTextData=d),s}serialize(t=!1,r=null){if(this.isEmpty())return null;const i={annotationType:be.STAMP,bitmapId:c(this,Nt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:c(this,yr),structTreeParentId:this._structTreeParentId};if(t)return i.bitmapUrl=E(this,Te,Kf).call(this,!0),i.accessibilityData=this.altTextData,i;const{decorative:s,altText:o}=this.altTextData;if(!s&&o&&(i.accessibilityData={type:"Figure",alt:o}),r===null)return i;r.stamps||(r.stamps=new Map);const a=c(this,yr)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(c(this,Nt)))r.stamps.set(c(this,Nt),{area:a,serialized:i}),i.bitmap=E(this,Te,Kf).call(this,!1);else if(c(this,yr)){const l=r.stamps.get(c(this,Nt));a>l.area&&(l.area=a,l.serialized.bitmap.close(),l.serialized.bitmap=E(this,Te,Kf).call(this,!1))}return i}};It=new WeakMap,Nt=new WeakMap,Ts=new WeakMap,Di=new WeakMap,ks=new WeakMap,uc=new WeakMap,Gr=new WeakMap,pa=new WeakMap,Xr=new WeakMap,yr=new WeakMap,wh=new WeakMap,Te=new WeakSet,au=function(t,r=!1){if(!t){this.remove();return}w(this,It,t.bitmap),r||(w(this,Nt,t.id),w(this,yr,t.isSvg)),t.file&&w(this,uc,t.file.name),E(this,Te,ky).call(this)},lu=function(){w(this,Ts,null),this._uiManager.enableWaiting(!1),c(this,Gr)&&this.div.focus()},Xf=function(){if(c(this,Nt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(c(this,Nt)).then(r=>E(this,Te,au).call(this,r,!0)).finally(()=>E(this,Te,lu).call(this));return}if(c(this,Di)){const r=c(this,Di);w(this,Di,null),this._uiManager.enableWaiting(!0),w(this,Ts,this._uiManager.imageManager.getFromUrl(r).then(i=>E(this,Te,au).call(this,i)).finally(()=>E(this,Te,lu).call(this)));return}if(c(this,ks)){const r=c(this,ks);w(this,ks,null),this._uiManager.enableWaiting(!0),w(this,Ts,this._uiManager.imageManager.getFromFile(r).then(i=>E(this,Te,au).call(this,i)).finally(()=>E(this,Te,lu).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Su.supportedTypesStr,w(this,Ts,new Promise(r=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(t.files[0]);E(this,Te,au).call(this,i)}r()}),t.addEventListener("cancel",()=>{this.remove(),r()})}).finally(()=>E(this,Te,lu).call(this))),t.click()},ky=function(){const{div:t}=this;let{width:r,height:i}=c(this,It);const[s,o]=this.pageDimensions,a=.75;if(this.width)r=this.width*s,i=this.height*o;else if(r>a*s||i>a*o){const h=Math.min(a*s/r,a*o/i);r*=h,i*=h}const[l,u]=this.parentDimensions;this.setDims(r*l/s,i*u/o),this._uiManager.enableWaiting(!1);const d=w(this,Gr,document.createElement("canvas"));t.append(d),t.hidden=!1,E(this,Te,Py).call(this,r,i),E(this,Te,Gb).call(this),c(this,wh)||(this.parent.addUndoableEditor(this),w(this,wh,!0)),this._reportTelemetry({action:"inserted_image"}),c(this,uc)&&d.setAttribute("aria-label",c(this,uc))},Vb=function(t,r){var a;const[i,s]=this.parentDimensions;this.width=t/i,this.height=r/s,this.setDims(t,r),(a=this._initialOptions)!=null&&a.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,c(this,Xr)!==null&&clearTimeout(c(this,Xr)),w(this,Xr,setTimeout(()=>{w(this,Xr,null),E(this,Te,Py).call(this,t,r)},200))},Wb=function(t,r){const{width:i,height:s}=c(this,It);let o=i,a=s,l=c(this,It);for(;o>2*t||a>2*r;){const u=o,d=a;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*r&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const h=new OffscreenCanvas(o,a);h.getContext("2d").drawImage(l,0,0,u,d,0,0,o,a),l=h.transferToImageBitmap()}return l},Py=function(t,r){t=Math.ceil(t),r=Math.ceil(r);const i=c(this,Gr);if(!i||i.width===t&&i.height===r)return;i.width=t,i.height=r;const s=c(this,yr)?c(this,It):E(this,Te,Wb).call(this,t,r);if(this._uiManager.hasMLManager&&!this.hasAltText()){const l=new OffscreenCanvas(t,r).getContext("2d");l.drawImage(s,0,0,s.width,s.height,0,0,t,r),this._uiManager.mlGuess({service:"image-to-text",request:{data:l.getImageData(0,0,t,r).data,width:t,height:r,channels:4}}).then(u=>{const d=(u==null?void 0:u.output)||"";this.parent&&d&&!this.hasAltText()&&(this.altTextData={altText:d,decorative:!1})})}const o=i.getContext("2d");o.filter=this._uiManager.hcmFilter,o.drawImage(s,0,0,s.width,s.height,0,0,t,r)},Kf=function(t){if(t){if(c(this,yr)){const s=this._uiManager.imageManager.getSvgUrl(c(this,Nt));if(s)return s}const r=document.createElement("canvas");return{width:r.width,height:r.height}=c(this,It),r.getContext("2d").drawImage(c(this,It),0,0),r.toDataURL()}if(c(this,yr)){const[r,i]=this.pageDimensions,s=Math.round(this.width*r*Xs.PDF_TO_CSS_UNITS),o=Math.round(this.height*i*Xs.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(s,o);return a.getContext("2d").drawImage(c(this,It),0,0,c(this,It).width,c(this,It).height,0,0,s,o),a.transferToImageBitmap()}return structuredClone(c(this,It))},Gb=function(){w(this,pa,new ResizeObserver(t=>{const r=t[0].contentRect;r.width&&r.height&&E(this,Te,Vb).call(this,r.width,r.height)})),c(this,pa).observe(this.div)},ue(Su,"_type","stamp"),ue(Su,"_editorType",be.STAMP);let Ty=Su;var ga,dc,Kr,ma,Fi,Ii,Ni,Mn,Ps,hc,fc,en,re,Rs,zt,Xb,Ly,My,Dy,qf;const sr=class sr{constructor({uiManager:e,pageIndex:t,div:r,accessibilityManager:i,annotationLayer:s,drawLayer:o,textLayer:a,viewport:l,l10n:u}){S(this,zt);S(this,ga);S(this,dc,!1);S(this,Kr,null);S(this,ma,null);S(this,Fi,null);S(this,Ii,null);S(this,Ni,null);S(this,Mn,new Map);S(this,Ps,!1);S(this,hc,!1);S(this,fc,!1);S(this,en,null);S(this,re);const d=[...c(sr,Rs).values()];if(!sr._initialized){sr._initialized=!0;for(const h of d)h.initialize(u,e)}e.registerEditorTypes(d),w(this,re,e),this.pageIndex=t,this.div=r,w(this,ga,i),w(this,Kr,s),this.viewport=l,w(this,en,a),this.drawLayer=o,c(this,re).addLayer(this)}get isEmpty(){return c(this,Mn).size===0}get isInvisible(){return this.isEmpty&&c(this,re).getMode()===be.NONE}updateToolbar(e){c(this,re).updateToolbar(e)}updateMode(e=c(this,re).getMode()){switch(E(this,zt,qf).call(this),e){case be.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case be.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case be.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const r of c(sr,Rs).values())t.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=c(this,en))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(c(this,re).getMode()!==be.INK)return;if(!e){for(const r of c(this,Mn).values())if(r.isEmpty()){r.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){c(this,re).setEditingState(e)}addCommands(e){c(this,re).addCommands(e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=c(this,Kr))==null||t.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const r of c(this,Mn).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(c(this,re).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!c(this,Kr))return;const t=c(this,Kr).getEditableAnnotations();for(const r of t){if(r.hide(),c(this,re).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}}disable(){var i;w(this,fc,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const s of c(this,Mn).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else t.set(s.annotationElementId,s);(i=this.getEditableAnnotation(s.annotationElementId))==null||i.show(),s.remove()}if(c(this,Kr)){const s=c(this,Kr).getEditableAnnotations();for(const o of s){const{id:a}=o.data;if(c(this,re).isDeletedAnnotationElement(a))continue;let l=t.get(a);if(l){l.resetAnnotationElement(o),l.show(!1),o.show();continue}l=e.get(a),l&&(c(this,re).addChangedExistingAnnotation(l),l.renderAnnotationElement(o),l.show(!1)),o.show()}}E(this,zt,qf).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const s of c(sr,Rs).values())r.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),w(this,fc,!1)}getEditableAnnotation(e){var t;return((t=c(this,Kr))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){c(this,re).getActive()!==e&&c(this,re).setActiveEditor(e)}enableTextSelection(){var e;this.div.tabIndex=-1,(e=c(this,en))!=null&&e.div&&!c(this,Ii)&&(w(this,Ii,E(this,zt,Xb).bind(this)),c(this,en).div.addEventListener("pointerdown",c(this,Ii)),c(this,en).div.classList.add("highlighting"))}disableTextSelection(){var e;this.div.tabIndex=0,(e=c(this,en))!=null&&e.div&&c(this,Ii)&&(c(this,en).div.removeEventListener("pointerdown",c(this,Ii)),w(this,Ii,null),c(this,en).div.classList.remove("highlighting"))}enableClick(){c(this,Fi)||(w(this,Fi,this.pointerdown.bind(this)),w(this,ma,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",c(this,Fi)),this.div.addEventListener("pointerup",c(this,ma)))}disableClick(){c(this,Fi)&&(this.div.removeEventListener("pointerdown",c(this,Fi)),this.div.removeEventListener("pointerup",c(this,ma)),w(this,Fi,null),w(this,ma,null))}attach(e){c(this,Mn).set(e.id,e);const{annotationElementId:t}=e;t&&c(this,re).isDeletedAnnotationElement(t)&&c(this,re).removeDeletedAnnotationElement(e)}detach(e){var t;c(this,Mn).delete(e.id),(t=c(this,ga))==null||t.removePointerInTextLayer(e.contentDiv),!c(this,fc)&&e.annotationElementId&&c(this,re).addDeletedAnnotationElement(e)}remove(e){this.detach(e),c(this,re).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,c(this,hc)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(c(this,re).addDeletedAnnotationElement(e.annotationElementId),Re.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),c(this,re).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),c(this,re).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!c(this,Ni)&&(e._focusEventsAllowed=!1,w(this,Ni,setTimeout(()=>{w(this,Ni,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0}),t.focus())},0))),e._structTreeParentId=(r=c(this,ga))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:t,undo:r,mustExec:!1})}getNextId(){return c(this,re).getId()}canCreateNewEmptyEditor(){var e;return(e=c(this,zt,Ly))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){c(this,re).updateToolbar(e),c(this,re).updateMode(e);const{offsetX:r,offsetY:i}=E(this,zt,Dy).call(this),s=this.getNextId(),o=E(this,zt,My).call(this,{parent:this,id:s,x:r,y:i,uiManager:c(this,re),isCentered:!0,...t});o&&this.add(o)}deserialize(e){var t;return((t=c(sr,Rs).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,c(this,re)))||null}createAndAddNewEditor(e,t,r={}){const i=this.getNextId(),s=E(this,zt,My).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:c(this,re),isCentered:t,...r});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(E(this,zt,Dy).call(this),!0)}setSelected(e){c(this,re).setSelected(e)}toggleSelected(e){c(this,re).toggleSelected(e)}isSelected(e){return c(this,re).isSelected(e)}unselect(e){c(this,re).unselect(e)}pointerup(e){const{isMac:t}=mn.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&c(this,Ps)){if(w(this,Ps,!1),!c(this,dc)){w(this,dc,!0);return}if(c(this,re).getMode()===be.STAMP){c(this,re).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(c(this,re).getMode()===be.HIGHLIGHT&&this.enableTextSelection(),c(this,Ps)){w(this,Ps,!1);return}const{isMac:t}=mn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;w(this,Ps,!0);const r=c(this,re).getActive();w(this,dc,!r||r.isEmpty())}findNewParent(e,t,r){const i=c(this,re).findParent(t,r);return i===null||i===this?!1:(i.changeParent(e),!0)}destroy(){var e,t;((e=c(this,re).getActive())==null?void 0:e.parent)===this&&(c(this,re).commitOrRemove(),c(this,re).setActiveEditor(null)),c(this,Ni)&&(clearTimeout(c(this,Ni)),w(this,Ni,null));for(const r of c(this,Mn).values())(t=c(this,ga))==null||t.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,c(this,Mn).clear(),c(this,re).removeLayer(this)}render({viewport:e}){this.viewport=e,xa(this.div,e);for(const t of c(this,re).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){c(this,re).commitOrRemove(),E(this,zt,qf).call(this);const t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,xa(this.div,{rotation:r}),t!==r)for(const i of c(this,Mn).values())i.rotate(r);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return c(this,re).viewParameters.realScale}};ga=new WeakMap,dc=new WeakMap,Kr=new WeakMap,ma=new WeakMap,Fi=new WeakMap,Ii=new WeakMap,Ni=new WeakMap,Mn=new WeakMap,Ps=new WeakMap,hc=new WeakMap,fc=new WeakMap,en=new WeakMap,re=new WeakMap,Rs=new WeakMap,zt=new WeakSet,Xb=function(e){if(c(this,re).unselectAll(),e.target===c(this,en).div){const{isMac:t}=mn.platform;if(e.button!==0||e.ctrlKey&&t)return;c(this,re).showAllEditors("highlight",!0,!0),c(this,en).div.classList.add("free"),Mp.startHighlighting(this,c(this,re).direction==="ltr",e),c(this,en).div.addEventListener("pointerup",()=>{c(this,en).div.classList.remove("free")},{once:!0}),e.preventDefault()}},Ly=function(){return c(sr,Rs).get(c(this,re).getMode())},My=function(e){const t=c(this,zt,Ly);return t?new t.prototype.constructor(e):null},Dy=function(){const{x:e,y:t,width:r,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,e),o=Math.max(0,t),a=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,t+i),u=(s+a)/2-e,d=(o+l)/2-t,[h,f]=this.viewport.rotation%180===0?[u,d]:[d,u];return{offsetX:h,offsetY:f}},qf=function(){w(this,hc,!0);for(const e of c(this,Mn).values())e.isEmpty()&&e.remove();w(this,hc,!1)},ue(sr,"_initialized",!1),S(sr,Rs,new Map([cy,Ey,Ty,Mp].map(e=>[e._editorType,e])));let Ry=sr;var qr,Eh,mt,Ls,Ah,Iy,Ra,Ny,Kb;const Rt=class Rt{constructor({pageIndex:e}){S(this,Ra);S(this,qr,null);S(this,Eh,0);S(this,mt,new Map);S(this,Ls,new Map);this.pageIndex=e}setParent(e){if(!c(this,qr)){w(this,qr,e);return}if(c(this,qr)!==e){if(c(this,mt).size>0)for(const t of c(this,mt).values())t.remove(),e.append(t);w(this,qr,e)}}static get _svgFactory(){return xe(this,"_svgFactory",new W0)}highlight(e,t,r,i=!1){const s=bn(this,Eh)._++,o=E(this,Ra,Ny).call(this,e.box);o.classList.add("highlight"),e.free&&o.classList.add("free");const a=Rt._svgFactory.createElement("defs");o.append(a);const l=Rt._svgFactory.createElement("path");a.append(l);const u=`path_p${this.pageIndex}_${s}`;l.setAttribute("id",u),l.setAttribute("d",e.toSVGPath()),i&&c(this,Ls).set(s,l);const d=E(this,Ra,Kb).call(this,a,u),h=Rt._svgFactory.createElement("use");return o.append(h),o.setAttribute("fill",t),o.setAttribute("fill-opacity",r),h.setAttribute("href",`#${u}`),c(this,mt).set(s,o),{id:s,clipPathId:`url(#${d})`}}highlightOutline(e){const t=bn(this,Eh)._++,r=E(this,Ra,Ny).call(this,e.box);r.classList.add("highlightOutline");const i=Rt._svgFactory.createElement("defs");r.append(i);const s=Rt._svgFactory.createElement("path");i.append(s);const o=`path_p${this.pageIndex}_${t}`;s.setAttribute("id",o),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke");let a;if(e.free){r.classList.add("free");const d=Rt._svgFactory.createElement("mask");i.append(d),a=`mask_p${this.pageIndex}_${t}`,d.setAttribute("id",a),d.setAttribute("maskUnits","objectBoundingBox");const h=Rt._svgFactory.createElement("rect");d.append(h),h.setAttribute("width","1"),h.setAttribute("height","1"),h.setAttribute("fill","white");const f=Rt._svgFactory.createElement("use");d.append(f),f.setAttribute("href",`#${o}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}const l=Rt._svgFactory.createElement("use");r.append(l),l.setAttribute("href",`#${o}`),a&&l.setAttribute("mask",`url(#${a})`);const u=l.cloneNode();return r.append(u),l.classList.add("mainOutline"),u.classList.add("secondaryOutline"),c(this,mt).set(t,r),t}finalizeLine(e,t){const r=c(this,Ls).get(e);c(this,Ls).delete(e),this.updateBox(e,t.box),r.setAttribute("d",t.toSVGPath())}updateLine(e,t){c(this,mt).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(e){this.remove(e),c(this,Ls).delete(e)}updatePath(e,t){c(this,Ls).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var r;E(r=Rt,Ah,Iy).call(r,c(this,mt).get(e),t)}show(e,t){c(this,mt).get(e).classList.toggle("hidden",!t)}rotate(e,t){c(this,mt).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){c(this,mt).get(e).setAttribute("fill",t)}changeOpacity(e,t){c(this,mt).get(e).setAttribute("fill-opacity",t)}addClass(e,t){c(this,mt).get(e).classList.add(t)}removeClass(e,t){c(this,mt).get(e).classList.remove(t)}remove(e){c(this,qr)!==null&&(c(this,mt).get(e).remove(),c(this,mt).delete(e))}destroy(){w(this,qr,null);for(const e of c(this,mt).values())e.remove();c(this,mt).clear()}};qr=new WeakMap,Eh=new WeakMap,mt=new WeakMap,Ls=new WeakMap,Ah=new WeakSet,Iy=function(e,{x:t=0,y:r=0,width:i=1,height:s=1}={}){const{style:o}=e;o.top=`${100*r}%`,o.left=`${100*t}%`,o.width=`${100*i}%`,o.height=`${100*s}%`},Ra=new WeakSet,Ny=function(e){var r;const t=Rt._svgFactory.create(1,1,!0);return c(this,qr).append(t),t.setAttribute("aria-hidden",!0),E(r=Rt,Ah,Iy).call(r,t,e),t},Kb=function(e,t){const r=Rt._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${t}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=Rt._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i},S(Rt,Ah);let Fy=Rt;var eM=ie.AbortException,tM=ie.AnnotationEditorLayer,nM=ie.AnnotationEditorParamsType,rM=ie.AnnotationEditorType,iM=ie.AnnotationEditorUIManager,qb=ie.AnnotationLayer,Yb=ie.AnnotationMode,sM=ie.CMapCompressionType,oM=ie.ColorPicker,aM=ie.DOMSVGFactory,lM=ie.DrawLayer,cM=ie.FeatureTest,Z0=ie.GlobalWorkerOptions,uM=ie.ImageKind,dM=ie.InvalidPDFException,hM=ie.MissingPDFException,fM=ie.OPS,pM=ie.Outliner,gM=ie.PDFDataRangeTransport,mM=ie.PDFDateString,vM=ie.PDFWorker,yM=ie.PasswordResponses,wM=ie.PermissionFlag,EM=ie.PixelsPerInch,AM=ie.RenderingCancelledException,Qb=ie.TextLayer,SM=ie.UnexpectedResponseException,_M=ie.Util,bM=ie.VerbosityLevel,xM=ie.XfaLayer,CM=ie.build,TM=ie.createValidAbsoluteUrl,kM=ie.fetchData,Jb=ie.getDocument,PM=ie.getFilenameFromUrl,RM=ie.getPdfFilenameFromUrl,LM=ie.getXfaPageViewport,MM=ie.isDataScheme,DM=ie.isPdfFile,FM=ie.noContextMenu,IM=ie.normalizeUnicode,NM=ie.renderTextLayer,OM=ie.setLayerDimensions,jM=ie.shadow,zM=ie.updateTextLayer,HM=ie.version;const BM=Object.freeze(Object.defineProperty({__proto__:null,AbortException:eM,AnnotationEditorLayer:tM,AnnotationEditorParamsType:nM,AnnotationEditorType:rM,AnnotationEditorUIManager:iM,AnnotationLayer:qb,AnnotationMode:Yb,CMapCompressionType:sM,ColorPicker:oM,DOMSVGFactory:aM,DrawLayer:lM,FeatureTest:cM,GlobalWorkerOptions:Z0,ImageKind:uM,InvalidPDFException:dM,MissingPDFException:hM,OPS:fM,Outliner:pM,PDFDataRangeTransport:gM,PDFDateString:mM,PDFWorker:vM,PasswordResponses:yM,PermissionFlag:wM,PixelsPerInch:EM,RenderingCancelledException:AM,TextLayer:Qb,UnexpectedResponseException:SM,Util:_M,VerbosityLevel:bM,XfaLayer:xM,build:CM,createValidAbsoluteUrl:TM,fetchData:kM,getDocument:Jb,getFilenameFromUrl:PM,getPdfFilenameFromUrl:RM,getXfaPageViewport:LM,isDataScheme:MM,isPdfFile:DM,noContextMenu:FM,normalizeUnicode:IM,renderTextLayer:NM,setLayerDimensions:OM,shadow:jM,updateTextLayer:zM,version:HM},Symbol.toStringTag,{value:"Module"}));var At=function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))},UM=["onCopy","onCut","onPaste"],$M=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],VM=["onFocus","onBlur"],WM=["onInput","onInvalid","onReset","onSubmit"],GM=["onLoad","onError"],XM=["onKeyDown","onKeyPress","onKeyUp"],KM=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],qM=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],YM=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],QM=["onSelect"],JM=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],ZM=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],e2=["onScroll"],t2=["onWheel"],n2=["onAnimationStart","onAnimationEnd","onAnimationIteration"],r2=["onTransitionEnd"],i2=["onToggle"],s2=["onChange"],o2=At(At(At(At(At(At(At(At(At(At(At(At(At(At(At(At(At(At([],UM,!0),$M,!0),VM,!0),WM,!0),GM,!0),XM,!0),KM,!0),qM,!0),YM,!0),QM,!0),JM,!0),ZM,!0),e2,!0),t2,!0),n2,!0),r2,!0),s2,!0),i2,!0);function Zb(n,e){var t={};return o2.forEach(function(r){var i=n[r];i&&(e?t[r]=function(s){return i(s,e(r))}:t[r]=i)}),t}function Fh(n){var e=!1,t=new Promise(function(r,i){n.then(function(s){return!e&&r(s)}).catch(function(s){return!e&&i(s)})});return{promise:t,cancel:function(){e=!0}}}function ex(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=ex(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Cg(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=ex(n))&&(r&&(r+=" "),r+=e);return r}var a2="Invariant failed";function Oe(n,e){if(!n)throw new Error(a2)}var l2=function(){},c2=l2;const Xt=Hy(c2);var hE=Object.prototype.hasOwnProperty;function fE(n,e,t){for(t of n.keys())if(wl(t,e))return t}function wl(n,e){var t,r,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&wl(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(i=r,i&&typeof i=="object"&&(i=fE(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(i=r[0],i&&typeof i=="object"&&(i=fE(e,i),!i)||!wl(r[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(hE.call(n,t)&&++r&&!hE.call(e,t)||!(t in e)||!wl(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}const tx=T.createContext(null);function El({children:n,type:e}){return D.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:n})}const u2="noopener noreferrer nofollow";class d2{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Oe(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Oe(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{Oe(this.pdfDocument),Oe(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{Oe(Array.isArray(t));const r=t[0];new Promise(i=>{Oe(this.pdfDocument),r instanceof Object?this.pdfDocument.getPageIndex(r).then(s=>{i(s)}).catch(()=>{Oe(!1)}):typeof r=="number"?i(r):Oe(!1)}).then(i=>{const s=i+1;Oe(this.pdfViewer),Oe(s>=1&&s<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:i,pageNumber:s})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;Oe(this.pdfViewer),Oe(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,r){e.href=t,e.rel=this.externalLinkRel||u2,e.target=r?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const pE={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Tg=typeof document<"u",nx=Tg&&window.location.protocol==="file:";function h2(n){return typeof n<"u"}function ao(n){return h2(n)&&n!==null}function f2(n){return typeof n=="string"}function p2(n){return n instanceof ArrayBuffer}function g2(n){return Oe(Tg),n instanceof Blob}function Oy(n){return f2(n)&&/^data:/.test(n)}function gE(n){Oe(Oy(n));const[e="",t=""]=n.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function m2(){return Tg&&window.devicePixelRatio||1}const rx="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function mE(){Xt(!nx,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${rx}`)}function v2(){Xt(!nx,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${rx}`)}function ka(n){n&&n.cancel&&n.cancel()}function jy(n,e){return Object.defineProperty(n,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function y2(n){return n.name==="RenderingCancelledException"}function w2(n){return new Promise((e,t)=>{const r=new FileReader;r.onload=()=>{if(!r.result)return t(new Error("Error while reading a file."));e(r.result)},r.onerror=i=>{if(!i.target)return t(new Error("Error while reading a file."));const{error:s}=i.target;if(!s)return t(new Error("Error while reading a file."));switch(s.code){case s.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case s.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case s.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},r.readAsArrayBuffer(n)})}function E2(n,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function Sc(){return T.useReducer(E2,{value:void 0,error:void 0})}var A2=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(a,l)}u((r=r.apply(n,e||[])).next())})},vE=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const{PDFDataRangeTransport:S2}=BM,_2=(n,e)=>{switch(e){case pE.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case pE.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function yE(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const b2=T.forwardRef(function(e,t){var{children:r,className:i,error:s="Failed to load PDF file.",externalLinkRel:o,externalLinkTarget:a,file:l,inputRef:u,imageResourcesPath:d,loading:h="Loading PDF…",noData:f="No PDF file specified.",onItemClick:p,onLoadError:g,onLoadProgress:v,onLoadSuccess:_,onPassword:m=_2,onSourceError:y,onSourceSuccess:A,options:x,renderMode:C,rotate:k}=e,b=vE(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[R,O]=Sc(),{value:N,error:F}=R,[K,H]=Sc(),{value:V,error:te}=K,ce=T.useRef(new d2),B=T.useRef([]),M=T.useRef(void 0),W=T.useRef(void 0);l&&l!==M.current&&yE(l)&&(Xt(!wl(l,M.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),M.current=l),x&&x!==W.current&&(Xt(!wl(x,W.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),W.current=x);const Q=T.useRef({scrollPageIntoView:Se=>{const{dest:Ct,pageNumber:_n,pageIndex:Tr=_n-1}=Se;if(p){p({dest:Ct,pageIndex:Tr,pageNumber:_n});return}const Oa=B.current[Tr];if(Oa){Oa.scrollIntoView();return}Xt(!1,`An internal link leading to page ${_n} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});T.useImperativeHandle(t,()=>({linkService:ce,pages:B,viewer:Q}),[]);function ae(){A&&A()}function ee(){F&&(Xt(!1,F.toString()),y&&y(F))}function fe(){O({type:"RESET"})}T.useEffect(fe,[l,O]);const pe=T.useCallback(()=>A2(this,void 0,void 0,function*(){if(!l)return null;if(typeof l=="string")return Oy(l)?{data:gE(l)}:(mE(),{url:l});if(l instanceof S2)return{range:l};if(p2(l))return{data:l};if(Tg&&g2(l))return{data:yield w2(l)};if(Oe(typeof l=="object"),Oe(yE(l)),"url"in l&&typeof l.url=="string"){if(Oy(l.url)){const{url:Se}=l,Ct=vE(l,["url"]),_n=gE(Se);return Object.assign({data:_n},Ct)}mE()}return l}),[l]);T.useEffect(()=>{const Se=Fh(pe());return Se.promise.then(Ct=>{O({type:"RESOLVE",value:Ct})}).catch(Ct=>{O({type:"REJECT",error:Ct})}),()=>{ka(Se)}},[pe,O]),T.useEffect(()=>{if(!(typeof N>"u")){if(N===!1){ee();return}ae()}},[N]);function Ie(){V&&(_&&_(V),B.current=new Array(V.numPages),ce.current.setDocument(V))}function ge(){te&&(Xt(!1,te.toString()),g&&g(te))}function Z(){H({type:"RESET"})}T.useEffect(Z,[H,N]);function Ze(){if(!N)return;const Se=Object.assign(Object.assign({},N),x),Ct=Jb(Se);v&&(Ct.onProgress=v),m&&(Ct.onPassword=m);const _n=Ct;return _n.promise.then(Tr=>{H({type:"RESOLVE",value:Tr})}).catch(Tr=>{_n.destroyed||H({type:"REJECT",error:Tr})}),()=>{_n.destroy()}}T.useEffect(Ze,[x,H,N]),T.useEffect(()=>{if(!(typeof V>"u")){if(V===!1){ge();return}Ie()}},[V]);function ti(){ce.current.setViewer(Q.current),ce.current.setExternalLinkRel(o),ce.current.setExternalLinkTarget(a)}T.useEffect(ti,[o,a]);function $e(Se,Ct){B.current[Se]=Ct}function no(Se){delete B.current[Se]}const ut=T.useMemo(()=>({imageResourcesPath:d,linkService:ce.current,onItemClick:p,pdf:V,registerPage:$e,renderMode:C,rotate:k,unregisterPage:no}),[d,p,V,C,k]),dt=T.useMemo(()=>Zb(b,()=>V),[b,V]);function Sn(){return D.jsx(tx.Provider,{value:ut,children:r})}function Cr(){return l?V==null?D.jsx(El,{type:"loading",children:typeof h=="function"?h():h}):V===!1?D.jsx(El,{type:"error",children:typeof s=="function"?s():s}):Sn():D.jsx(El,{type:"no-data",children:typeof f=="function"?f():f})}return D.jsx("div",Object.assign({className:Cg("react-pdf__Document",i),ref:u,style:{"--scale-factor":"1"}},dt,{children:Cr()}))});function ix(){return T.useContext(tx)}function sx(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(Boolean);if(t.length<=1){var r=t[0];return r||null}return function(s){t.forEach(function(o){typeof o=="function"?o(s):o&&(o.current=s)})}}const ox=T.createContext(null),ax={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},x2=/^H(\d+)$/;function C2(n){return n in ax}function kg(n){return"children"in n}function lx(n){return kg(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function T2(n){const e={};if(kg(n)){const{role:t}=n,r=t.match(x2);if(r)e.role="heading",e["aria-level"]=Number(r[1]);else if(C2(t)){const i=ax[t];i&&(e.role=i)}}return e}function cx(n){const e={};if(kg(n)){if(n.alt!==void 0&&(e["aria-label"]=n.alt),n.lang!==void 0&&(e.lang=n.lang),lx(n)){const[t]=n.children;if(t){const r=cx(t);return Object.assign(Object.assign({},e),r)}}}else"id"in n&&(e["aria-owns"]=n.id);return e}function k2(n){return n?Object.assign(Object.assign({},T2(n)),cx(n)):null}function ux({className:n,node:e}){const t=T.useMemo(()=>k2(e),[e]),r=T.useMemo(()=>!kg(e)||lx(e)?null:e.children.map((i,s)=>D.jsx(ux,{node:i},s)),[e]);return D.jsx("span",Object.assign({className:n},t,{children:r}))}function Pg(){return T.useContext(ox)}function P2(){const n=Pg();Oe(n);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=n,[r,i]=Sc(),{value:s,error:o}=r,{customTextRenderer:a,page:l}=n;function u(){s&&t&&t(s)}function d(){o&&(Xt(!1,o.toString()),e&&e(o))}function h(){i({type:"RESET"})}T.useEffect(h,[i,l]);function f(){if(a||!l)return;const p=Fh(l.getStructTree()),g=p;return p.promise.then(v=>{i({type:"RESOLVE",value:v})}).catch(v=>{i({type:"REJECT",error:v})}),()=>ka(g)}return T.useEffect(f,[a,l,i]),T.useEffect(()=>{if(s!==void 0){if(s===!1){d();return}u()}},[s]),s?D.jsx(ux,{className:"react-pdf__Page__structTree structTree",node:s}):null}const wE=Yb;function R2(n){const e=Pg();Oe(e);const t=Object.assign(Object.assign({},e),n),{_className:r,canvasBackground:i,devicePixelRatio:s=m2(),onRenderError:o,onRenderSuccess:a,page:l,renderForms:u,renderTextLayer:d,rotate:h,scale:f}=t,{canvasRef:p}=n;Oe(l);const g=T.useRef(null);function v(){l&&a&&a(jy(l,f))}function _(C){y2(C)||(Xt(!1,C.toString()),o&&o(C))}const m=T.useMemo(()=>l.getViewport({scale:f*s,rotation:h}),[s,l,h,f]),y=T.useMemo(()=>l.getViewport({scale:f,rotation:h}),[l,h,f]);function A(){if(!l)return;l.cleanup();const{current:C}=g;if(!C)return;C.width=m.width,C.height=m.height,C.style.width=`${Math.floor(y.width)}px`,C.style.height=`${Math.floor(y.height)}px`,C.style.visibility="hidden";const k={annotationMode:u?wE.ENABLE_FORMS:wE.ENABLE,canvasContext:C.getContext("2d",{alpha:!1}),viewport:m};i&&(k.background=i);const b=l.render(k),R=b;return b.promise.then(()=>{C.style.visibility="",v()}).catch(_),()=>ka(R)}T.useEffect(A,[i,g,s,l,u,m,y]);const x=T.useCallback(()=>{const{current:C}=g;C&&(C.width=0,C.height=0)},[g]);return T.useEffect(()=>x,[x]),D.jsx("canvas",{className:`${r}__canvas`,dir:"ltr",ref:sx(p,g),style:{display:"block",userSelect:"none"},children:d?D.jsx(P2,{}):null})}function L2(n){return"str"in n}function M2(){const n=Pg();Oe(n);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:r,onRenderTextLayerError:i,onRenderTextLayerSuccess:s,page:o,pageIndex:a,pageNumber:l,rotate:u,scale:d}=n;Oe(o);const[h,f]=Sc(),{value:p,error:g}=h,v=T.useRef(null),_=T.useRef(void 0);Xt(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function m(){p&&r&&r(p)}function y(){g&&(Xt(!1,g.toString()),t&&t(g))}function A(){f({type:"RESET"})}T.useEffect(A,[o,f]);function x(){if(!o)return;const F=Fh(o.getTextContent()),K=F;return F.promise.then(H=>{f({type:"RESOLVE",value:H})}).catch(H=>{f({type:"REJECT",error:H})}),()=>ka(K)}T.useEffect(x,[o,f]),T.useEffect(()=>{if(p!==void 0){if(p===!1){y();return}m()}},[p]);const C=T.useCallback(()=>{s&&s()},[s]),k=T.useCallback(F=>{Xt(!1,F.toString()),i&&i(F)},[i]);function b(){const F=_.current;F&&F.classList.add("active")}function R(){const F=_.current;F&&F.classList.remove("active")}const O=T.useMemo(()=>o.getViewport({scale:d,rotation:u}),[o,u,d]);function N(){if(!o||!p)return;const{current:F}=v;if(!F)return;F.innerHTML="";const K=o.streamTextContent({includeMarkedContent:!0}),H={container:F,textContentSource:K,viewport:O},V=new Qb(H),te=V;return V.render().then(()=>{const ce=document.createElement("div");ce.className="endOfContent",F.append(ce),_.current=ce;const B=F.querySelectorAll('[role="presentation"]');if(e){let M=0;p.items.forEach((W,Q)=>{if(!L2(W))return;const ae=B[M];if(!ae)return;const ee=e(Object.assign({pageIndex:a,pageNumber:l,itemIndex:Q},W));ae.innerHTML=ee,M+=W.str&&W.hasEOL?2:1})}C()}).catch(k),()=>ka(te)}return T.useLayoutEffect(N,[e,k,C,o,a,l,p,O]),D.jsx("div",{className:Cg("react-pdf__Page__textContent","textLayer"),onMouseUp:R,onMouseDown:b,ref:v})}function D2(){const n=ix(),e=Pg();Oe(e);const t=Object.assign(Object.assign({},n),e),{imageResourcesPath:r,linkService:i,onGetAnnotationsError:s,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:a,onRenderAnnotationLayerSuccess:l,page:u,pdf:d,renderForms:h,rotate:f,scale:p=1}=t;Oe(d),Oe(u),Oe(i);const[g,v]=Sc(),{value:_,error:m}=g,y=T.useRef(null);Xt(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function A(){_&&o&&o(_)}function x(){m&&(Xt(!1,m.toString()),s&&s(m))}function C(){v({type:"RESET"})}T.useEffect(C,[v,u]);function k(){if(!u)return;const F=Fh(u.getAnnotations()),K=F;return F.promise.then(H=>{v({type:"RESOLVE",value:H})}).catch(H=>{v({type:"REJECT",error:H})}),()=>{ka(K)}}T.useEffect(k,[v,u,h]),T.useEffect(()=>{if(_!==void 0){if(_===!1){x();return}A()}},[_]);function b(){l&&l()}function R(F){Xt(!1,`${F}`),a&&a(F)}const O=T.useMemo(()=>u.getViewport({scale:p,rotation:f}),[u,f,p]);function N(){if(!d||!u||!i||!_)return;const{current:F}=y;if(!F)return;const K=O.clone({dontFlip:!0}),H={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:F,l10n:null,page:u,viewport:K},V={annotations:_,annotationStorage:d.annotationStorage,div:F,imageResourcesPath:r,linkService:i,page:u,renderForms:h,viewport:K};F.innerHTML="";try{new qb(H).render(V),b()}catch(te){R(te)}return()=>{}}return T.useEffect(N,[_,r,i,u,h,O]),D.jsx("div",{className:Cg("react-pdf__Page__annotations","annotationLayer"),ref:y})}var F2=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const EE=1;function I2(n){const e=ix(),t=Object.assign(Object.assign({},e),n),{_className:r="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:s,canvasRef:o,children:a,className:l,customRenderer:u,customTextRenderer:d,devicePixelRatio:h,error:f="Failed to load the page.",height:p,inputRef:g,loading:v="Loading page…",noData:_="No page specified.",onGetAnnotationsError:m,onGetAnnotationsSuccess:y,onGetStructTreeError:A,onGetStructTreeSuccess:x,onGetTextError:C,onGetTextSuccess:k,onLoadError:b,onLoadSuccess:R,onRenderAnnotationLayerError:O,onRenderAnnotationLayerSuccess:N,onRenderError:F,onRenderSuccess:K,onRenderTextLayerError:H,onRenderTextLayerSuccess:V,pageIndex:te,pageNumber:ce,pdf:B,registerPage:M,renderAnnotationLayer:W=!0,renderForms:Q=!1,renderMode:ae="canvas",renderTextLayer:ee=!0,rotate:fe,scale:pe=EE,unregisterPage:Ie,width:ge}=t,Z=F2(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Ze,ti]=Sc(),{value:$e,error:no}=Ze,ut=T.useRef(null);Oe(B);const dt=ao(ce)?ce-1:te??null,Sn=ce??(ao(te)?te+1:null),Cr=fe??($e?$e.rotate:null),Se=T.useMemo(()=>{if(!$e)return null;let Zi=1;const Hn=pe??EE;if(ge||p){const ni=$e.getViewport({scale:1,rotation:Cr});ge?Zi=ge/ni.width:p&&(Zi=p/ni.height)}return Hn*Zi},[p,$e,Cr,pe,ge]);function Ct(){return()=>{ao(dt)&&i&&Ie&&Ie(dt)}}T.useEffect(Ct,[i,B,dt,Ie]);function _n(){if(R){if(!$e||!Se)return;R(jy($e,Se))}if(i&&M){if(!ao(dt)||!ut.current)return;M(dt,ut.current)}}function Tr(){no&&(Xt(!1,no.toString()),b&&b(no))}function Oa(){ti({type:"RESET"})}T.useEffect(Oa,[ti,B,dt]);function Dg(){if(!B||!Sn)return;const Zi=Fh(B.getPage(Sn)),Hn=Zi;return Zi.promise.then(ni=>{ti({type:"RESOLVE",value:ni})}).catch(ni=>{ti({type:"REJECT",error:ni})}),()=>ka(Hn)}T.useEffect(Dg,[ti,B,dt,Sn,M]),T.useEffect(()=>{if($e!==void 0){if($e===!1){Tr();return}_n()}},[$e,Se]);const ro=T.useMemo(()=>$e&&ao(dt)&&Sn&&ao(Cr)&&ao(Se)?{_className:r,canvasBackground:s,customTextRenderer:d,devicePixelRatio:h,onGetAnnotationsError:m,onGetAnnotationsSuccess:y,onGetStructTreeError:A,onGetStructTreeSuccess:x,onGetTextError:C,onGetTextSuccess:k,onRenderAnnotationLayerError:O,onRenderAnnotationLayerSuccess:N,onRenderError:F,onRenderSuccess:K,onRenderTextLayerError:H,onRenderTextLayerSuccess:V,page:$e,pageIndex:dt,pageNumber:Sn,renderForms:Q,renderTextLayer:ee,rotate:Cr,scale:Se}:null,[r,s,d,h,m,y,A,x,C,k,O,N,F,K,H,V,$e,dt,Sn,Q,ee,Cr,Se]),io=T.useMemo(()=>Zb(Z,()=>$e&&(Se?jy($e,Se):void 0)),[Z,$e,Se]),so=`${dt}@${Se}/${Cr}`;function Tc(){switch(ae){case"custom":return Oe(u),D.jsx(u,{},`${so}_custom`);case"none":return null;case"canvas":default:return D.jsx(R2,{canvasRef:o},`${so}_canvas`)}}function kr(){return ee?D.jsx(M2,{},`${so}_text`):null}function oo(){return W?D.jsx(D2,{},`${so}_annotations`):null}function Nh(){return D.jsxs(ox.Provider,{value:ro,children:[Tc(),kr(),oo(),a]})}function ja(){return Sn?B===null||$e===void 0||$e===null?D.jsx(El,{type:"loading",children:typeof v=="function"?v():v}):B===!1||$e===!1?D.jsx(El,{type:"error",children:typeof f=="function"?f():f}):Nh():D.jsx(El,{type:"no-data",children:typeof _=="function"?_():_})}return D.jsx("div",Object.assign({className:Cg(r,l),"data-page-number":Sn,ref:sx(g,ut),style:{"--scale-factor":`${Se}`,backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},io,{children:ja()}))}v2();Z0.workerSrc="pdf.worker.mjs";Z0.workerSrc=new URL("/assets/pdf.worker.min-l1Cnq-yx.mjs",import.meta.url).toString();const N2={cMapUrl:"/cmaps/",standardFontDataUrl:"/standard_fonts/"},O2=800,j2=()=>{const[n,e]=T.useState();function t({numPages:r}){e(r)}return D.jsxs(D.Fragment,{children:[D.jsxs("a",{href:"/Ruairidh_Taylor_CV.pdf",download:!0,className:"text-slate-400 font-bold py-2 inline-flex items-center gap-2",children:[D.jsx(KP,{className:"text-slate-400"}),D.jsx("span",{children:"Download"})]}),D.jsx(b2,{file:"/Ruairidh_Taylor_CV.pdf",onLoadSuccess:t,options:N2,className:"pb-8",children:Array.from(new Array(n),(r,i)=>D.jsx(I2,{pageNumber:i+1,width:O2},`page_${i+1}`))})]})},z2=({cert:n})=>D.jsxs("div",{className:"h-full rounded-lg bg-slate-800 border border-slate-700 p-2 duration-250 hover:bg-slate-700 overflow-hidden",children:[D.jsx("div",{className:"py-2 flex justify-center items-center",children:D.jsx("img",{className:"rounded-lg object-cover object-center w-44 h-44",src:n.badge,alt:"badge"})}),D.jsx("p",{className:"my-4 text-xl font-bold text-slate-200",children:n.name}),D.jsxs("p",{className:"mb-4 text-sm text-slate-300",children:[n.startDate.toDateString(),n.endTime!==void 0?` - ${n.endTime.toDateString()}`:""]})]}),H2=()=>(AE.sort((n,e)=>e.startDate.getTime()-n.startDate.getTime()),D.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-6 w-[70%]",children:AE.map(n=>D.jsx(z2,{cert:n}))})),AE=[{name:"GitHub Actions",startDate:new Date(2024,5,9),endTime:new Date(2027,5,9),badge:"/github-actions.png"},{name:"GitHub Foundations",startDate:new Date(2024,4,30),endTime:new Date(2027,4,30),badge:"/github-foundations.png"},{name:"AWS Cloud Practitioner",startDate:new Date(2024,4,13),endTime:new Date(2027,4,13),badge:"/aws-certified-cloud-practitioner.png"},{name:"Cloud Digital Leader",startDate:new Date(2024,4,5),endTime:new Date(2027,4,5),badge:"/cloud-digital-leader-certification.png"},{name:"Green Software for Practitioners",startDate:new Date(2023,9,9),badge:"/lfc131-green-software-for-practitioners.png"},{name:"Microsoft Azure Fundamentals",startDate:new Date(2023,7,7),badge:"/microsoft-certified-fundamentals-badge.svg"}],df=()=>D.jsx("div",{children:"ErrorPage"}),SE=({route:n})=>{const t=kh().pathname===n.path;return D.jsx(ZS,{to:n.path,className:`flex text-slate-300 hover:text-slate-400 cursor-pointer transition-colors duration-300 ${t&&"font-semibold"}`,children:n.id})};var B2=Object.defineProperty,U2=(n,e,t)=>e in n?B2(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,vm=(n,e,t)=>(U2(n,typeof e!="symbol"?e+"":e,t),t);let $2=class{constructor(){vm(this,"current",this.detect()),vm(this,"handoffState","pending"),vm(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Yf=new $2;function V2(n){typeof queueMicrotask=="function"?queueMicrotask(n):Promise.resolve().then(n).catch(e=>setTimeout(()=>{throw e}))}function Ih(){let n=[],e={addEventListener(t,r,i,s){return t.addEventListener(r,i,s),e.add(()=>t.removeEventListener(r,i,s))},requestAnimationFrame(...t){let r=requestAnimationFrame(...t);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...t){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...t))},setTimeout(...t){let r=setTimeout(...t);return e.add(()=>clearTimeout(r))},microTask(...t){let r={current:!0};return V2(()=>{r.current&&t[0]()}),e.add(()=>{r.current=!1})},style(t,r,i){let s=t.style.getPropertyValue(r);return Object.assign(t.style,{[r]:i}),this.add(()=>{Object.assign(t.style,{[r]:s})})},group(t){let r=Ih();return t(r),this.add(()=>r.dispose())},add(t){return n.includes(t)||n.push(t),()=>{let r=n.indexOf(t);if(r>=0)for(let i of n.splice(r,1))i()}},dispose(){for(let t of n.splice(0))t()}};return e}function dx(){let[n]=T.useState(Ih);return T.useEffect(()=>()=>n.dispose(),[n]),n}let $s=(n,e)=>{Yf.isServer?T.useEffect(n,e):T.useLayoutEffect(n,e)};function Ao(n){let e=T.useRef(n);return $s(()=>{e.current=n},[n]),e}let zi=function(n){let e=Ao(n);return it.useCallback((...t)=>e.current(...t),[e])};function Au(...n){return Array.from(new Set(n.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function Sr(n,e,...t){if(n in e){let i=e[n];return typeof i=="function"?i(...t):i}let r=new Error(`Tried to handle "${n}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Sr),r}var hx=(n=>(n[n.None=0]="None",n[n.RenderStrategy=1]="RenderStrategy",n[n.Static=2]="Static",n))(hx||{}),Fs=(n=>(n[n.Unmount=0]="Unmount",n[n.Hidden=1]="Hidden",n))(Fs||{});function fx({ourProps:n,theirProps:e,slot:t,defaultTag:r,features:i,visible:s=!0,name:o,mergeRefs:a}){a=a??W2;let l=px(e,n);if(s)return hf(l,t,r,o,a);let u=i??0;if(u&2){let{static:d=!1,...h}=l;if(d)return hf(h,t,r,o,a)}if(u&1){let{unmount:d=!0,...h}=l;return Sr(d?0:1,{0(){return null},1(){return hf({...h,hidden:!0,style:{display:"none"}},t,r,o,a)}})}return hf(l,t,r,o,a)}function hf(n,e={},t,r,i){let{as:s=t,children:o,refName:a="ref",...l}=ym(n,["unmount","static"]),u=n.ref!==void 0?{[a]:n.ref}:{},d=typeof o=="function"?o(e):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let h={};if(e){let f=!1,p=[];for(let[g,v]of Object.entries(e))typeof v=="boolean"&&(f=!0),v===!0&&p.push(g.replace(/([A-Z])/g,_=>`-${_.toLowerCase()}`));if(f){h["data-headlessui-state"]=p.join(" ");for(let g of p)h[`data-${g}`]=""}}if(s===T.Fragment&&(Object.keys(Va(l)).length>0||Object.keys(Va(h)).length>0))if(!T.isValidElement(d)||Array.isArray(d)&&d.length>1){if(Object.keys(Va(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Va(l)).concat(Object.keys(Va(h))).map(f=>`  - ${f}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(f=>`  - ${f}`).join(`
`)].join(`
`))}else{let f=d.props,p=f==null?void 0:f.className,g=typeof p=="function"?(...m)=>Au(p(...m),l.className):Au(p,l.className),v=g?{className:g}:{},_=px(d.props,Va(ym(l,["ref"])));for(let m in h)m in _&&delete h[m];return T.cloneElement(d,Object.assign({},_,h,u,{ref:i(d.ref,u.ref)},v))}return T.createElement(s,Object.assign({},ym(l,["ref"]),s!==T.Fragment&&u,s!==T.Fragment&&h),d)}function W2(...n){return n.every(e=>e==null)?void 0:e=>{for(let t of n)t!=null&&(typeof t=="function"?t(e):t.current=e)}}function px(...n){if(n.length===0)return{};if(n.length===1)return n[0];let e={},t={};for(let r of n)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(t[i]!=null||(t[i]=[]),t[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])for(let r in t)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(t[r]=[i=>{var s;return(s=i==null?void 0:i.preventDefault)==null?void 0:s.call(i)}]);for(let r in t)Object.assign(e,{[r](i,...s){let o=t[r];for(let a of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return e}function ew(n){var e;return Object.assign(T.forwardRef(n),{displayName:(e=n.displayName)!=null?e:n.name})}function Va(n){let e=Object.assign({},n);for(let t in e)e[t]===void 0&&delete e[t];return e}function ym(n,e=[]){let t=Object.assign({},n);for(let r of e)r in t&&delete t[r];return t}let G2=Symbol();function gx(...n){let e=T.useRef(n);T.useEffect(()=>{e.current=n},[n]);let t=zi(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return n.every(r=>r==null||(r==null?void 0:r[G2]))?void 0:t}function X2(n,e,t=!0){let r=Ao(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&e()});T.useEffect(()=>{if(!t)return;let i=n===null?null:n instanceof HTMLElement?n:n.current;if(!i)return;let s=Ih();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}return()=>s.dispose()},[n,r,t])}let tw=T.createContext(null);tw.displayName="OpenClosedContext";var hi=(n=>(n[n.Open=1]="Open",n[n.Closed=2]="Closed",n[n.Closing=4]="Closing",n[n.Opening=8]="Opening",n))(hi||{});function mx(){return T.useContext(tw)}function K2({value:n,children:e}){return it.createElement(tw.Provider,{value:n},e)}function q2(){let n=typeof document>"u";return"useSyncExternalStore"in Am?(e=>e.useSyncExternalStore)(Am)(()=>()=>{},()=>!1,()=>!n):!1}function vx(){let n=q2(),[e,t]=T.useState(Yf.isHandoffComplete);return e&&Yf.isHandoffComplete===!1&&t(!1),T.useEffect(()=>{e!==!0&&t(!0)},[e]),T.useEffect(()=>Yf.handoff(),[]),n?!1:e}function nw(){let n=T.useRef(!1);return $s(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function Y2(n=0){let[e,t]=T.useState(n),r=nw(),i=T.useCallback(l=>{r.current&&t(u=>u|l)},[e,r]),s=T.useCallback(l=>!!(e&l),[e]),o=T.useCallback(l=>{r.current&&t(u=>u&~l)},[t,r]),a=T.useCallback(l=>{r.current&&t(u=>u^l)},[t]);return{flags:e,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:a}}function yx(n){let e={called:!1};return(...t)=>{if(!e.called)return e.called=!0,n(...t)}}function wm(n,...e){n&&e.length>0&&n.classList.add(...e)}function Em(n,...e){n&&e.length>0&&n.classList.remove(...e)}function Q2(n,e){let t=yx(e),r=Ih();if(!n)return r.dispose;let{transitionDuration:i,transitionDelay:s}=getComputedStyle(n),[o,a]=[i,s].map(u=>{let[d=0]=u.split(",").filter(Boolean).map(h=>h.includes("ms")?parseFloat(h):parseFloat(h)*1e3).sort((h,f)=>f-h);return d}),l=o+a;if(l!==0){let u=r.group(d=>{let h=d.setTimeout(()=>{t(),d.dispose()},l);d.addEventListener(n,"transitionrun",f=>{f.target===f.currentTarget&&(h(),d.addEventListener(n,"transitioncancel",p=>{p.target===p.currentTarget&&(t(),u())}))})});r.addEventListener(n,"transitionend",d=>{d.target===d.currentTarget&&(t(),r.dispose())})}else t();return r.dispose}function J2(n,{direction:e,done:t,classes:r,inFlight:i}){let s=Ih(),o=t!==void 0?yx(t):()=>{};e==="enter"&&(n.removeAttribute("hidden"),n.style.display="");let a=Sr(e,{enter:()=>r.enter,leave:()=>r.leave}),l=Sr(e,{enter:()=>r.enterTo,leave:()=>r.leaveTo}),u=Sr(e,{enter:()=>r.enterFrom,leave:()=>r.leaveFrom});return Z2(n,{prepare(){Em(n,...r.base,...r.enter,...r.enterTo,...r.enterFrom,...r.leave,...r.leaveFrom,...r.leaveTo,...r.entered),wm(n,...r.base,...a,...u)},inFlight:i}),i&&(i.current=!0),s.nextFrame(()=>{s.add(Q2(n,()=>(Em(n,...r.base,...a),wm(n,...r.base,...r.entered,...l),i&&(i.current=!1),o()))),Em(n,...r.base,...a,...u),wm(n,...r.base,...a,...l)}),s.dispose}function Z2(n,{inFlight:e,prepare:t}){if(e!=null&&e.current){t();return}let r=n.style.transition;n.style.transition="none",t(),n.offsetHeight,n.style.transition=r}function eD({container:n,direction:e,classes:t,onStart:r,onStop:i}){let s=nw(),o=dx(),a=T.useRef(!1);$s(()=>{if(e==="idle"||!s.current)return;r.current(e);let l=n.current;return l?o.add(J2(l,{direction:e,classes:t.current,inFlight:a,done(){i.current(e)}})):i.current(e),o.dispose},[e])}function ns(n=""){return n.split(/\s+/).filter(e=>e.length>1)}function wx(n){var e;return!!(n.enter||n.enterFrom||n.enterTo||n.leave||n.leaveFrom||n.leaveTo)||((e=n.as)!=null?e:Ax)!==T.Fragment||it.Children.count(n.children)===1}let Rg=T.createContext(null);Rg.displayName="TransitionContext";var tD=(n=>(n.Visible="visible",n.Hidden="hidden",n))(tD||{});function nD(){let n=T.useContext(Rg);if(n===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return n}function rD(){let n=T.useContext(Lg);if(n===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return n}let Lg=T.createContext(null);Lg.displayName="NestingContext";function Mg(n){return"children"in n?Mg(n.children):n.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function Ex(n,e){let t=Ao(n),r=T.useRef([]),i=nw(),s=dx(),o=zi((p,g=Fs.Hidden)=>{let v=r.current.findIndex(({el:_})=>_===p);v!==-1&&(Sr(g,{[Fs.Unmount](){r.current.splice(v,1)},[Fs.Hidden](){r.current[v].state="hidden"}}),s.microTask(()=>{var _;!Mg(r)&&i.current&&((_=t.current)==null||_.call(t))}))}),a=zi(p=>{let g=r.current.find(({el:v})=>v===p);return g?g.state!=="visible"&&(g.state="visible"):r.current.push({el:p,state:"visible"}),()=>o(p,Fs.Unmount)}),l=T.useRef([]),u=T.useRef(Promise.resolve()),d=T.useRef({enter:[],leave:[],idle:[]}),h=zi((p,g,v)=>{l.current.splice(0),e&&(e.chains.current[g]=e.chains.current[g].filter(([_])=>_!==p)),e==null||e.chains.current[g].push([p,new Promise(_=>{l.current.push(_)})]),e==null||e.chains.current[g].push([p,new Promise(_=>{Promise.all(d.current[g].map(([m,y])=>y)).then(()=>_())})]),g==="enter"?u.current=u.current.then(()=>e==null?void 0:e.wait.current).then(()=>v(g)):v(g)}),f=zi((p,g,v)=>{Promise.all(d.current[g].splice(0).map(([_,m])=>m)).then(()=>{var _;(_=l.current.shift())==null||_()}).then(()=>v(g))});return T.useMemo(()=>({children:r,register:a,unregister:o,onStart:h,onStop:f,wait:u,chains:d}),[a,o,r,h,f,d,u])}let Ax=T.Fragment,Sx=hx.RenderStrategy;function iD(n,e){var t,r,i;let{beforeEnter:s,afterEnter:o,beforeLeave:a,afterLeave:l,enter:u,enterFrom:d,enterTo:h,entered:f,leave:p,leaveFrom:g,leaveTo:v,..._}=n,m=T.useRef(null),y=wx(n),A=gx(...y?[m,e]:e===null?[]:[e]),x=(t=_.unmount)==null||t?Fs.Unmount:Fs.Hidden,{show:C,appear:k,initial:b}=nD(),[R,O]=T.useState(C?"visible":"hidden"),N=rD(),{register:F,unregister:K}=N;$s(()=>F(m),[F,m]),$s(()=>{if(x===Fs.Hidden&&m.current){if(C&&R!=="visible"){O("visible");return}return Sr(R,{hidden:()=>K(m),visible:()=>F(m)})}},[R,m,F,K,C,x]);let H=Ao({base:ns(_.className),enter:ns(u),enterFrom:ns(d),enterTo:ns(h),entered:ns(f),leave:ns(p),leaveFrom:ns(g),leaveTo:ns(v)}),V=Ao({beforeEnter:s,afterEnter:o,beforeLeave:a,afterLeave:l}),te=vx();$s(()=>{if(y&&te&&R==="visible"&&m.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[m,R,te,y]);let ce=b&&!k,B=k&&C&&b,M=B?"enter":!te||ce?"idle":C?"enter":"leave",W=Y2(0),Q=zi(ge=>Sr(ge,{enter:()=>{var Z,Ze;W.addFlag(hi.Opening),(Ze=(Z=V.current).beforeEnter)==null||Ze.call(Z)},leave:()=>{var Z,Ze;W.addFlag(hi.Closing),(Ze=(Z=V.current).beforeLeave)==null||Ze.call(Z)},idle:()=>{}})),ae=zi(ge=>Sr(ge,{enter:()=>{var Z,Ze;W.removeFlag(hi.Opening),(Ze=(Z=V.current).afterEnter)==null||Ze.call(Z)},leave:()=>{var Z,Ze;W.removeFlag(hi.Closing),(Ze=(Z=V.current).afterLeave)==null||Ze.call(Z)},idle:()=>{}})),ee=T.useRef(!1),fe=Ex(()=>{ee.current||(O("hidden"),K(m))},N);eD({container:m,classes:H,direction:M,onStart:Ao(ge=>{ee.current=!0,fe.onStart(m,ge,Q)}),onStop:Ao(ge=>{ee.current=!1,fe.onStop(m,ge,ae),ge==="leave"&&!Mg(fe)&&(O("hidden"),K(m))})});let pe=_,Ie={ref:A};return B?pe={...pe,className:Au(_.className,...H.current.enter,...H.current.enterFrom)}:ee.current?(pe.className=Au(_.className,(r=m.current)==null?void 0:r.className),pe.className===""&&delete pe.className):(pe.className=Au(_.className,(i=m.current)==null?void 0:i.className,...Sr(M,{enter:[...H.current.enterTo,...H.current.entered],leave:H.current.leaveTo,idle:[]})),pe.className===""&&delete pe.className),it.createElement(Lg.Provider,{value:fe},it.createElement(K2,{value:Sr(R,{visible:hi.Open,hidden:hi.Closed})|W.flags},fx({ourProps:Ie,theirProps:pe,defaultTag:Ax,features:Sx,visible:R==="visible",name:"Transition.Child"})))}function sD(n,e){let{show:t,appear:r=!1,unmount:i=!0,...s}=n,o=T.useRef(null),a=wx(n),l=gx(...a?[o,e]:e===null?[]:[e]);vx();let u=mx();if(t===void 0&&u!==null&&(t=(u&hi.Open)===hi.Open),t===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[d,h]=T.useState(t?"visible":"hidden"),f=Ex(()=>{t||h("hidden")}),[p,g]=T.useState(!0),v=T.useRef([t]);$s(()=>{p!==!1&&v.current[v.current.length-1]!==t&&(v.current.push(t),g(!1))},[v,t]);let _=T.useMemo(()=>({show:t,appear:r,initial:p}),[t,r,p]);X2(o,()=>h("hidden")),$s(()=>{t?h("visible"):!Mg(f)&&o.current!==null&&h("hidden")},[t,f]);let m={unmount:i},y=zi(()=>{var x;p&&g(!1),(x=n.beforeEnter)==null||x.call(n)}),A=zi(()=>{var x;p&&g(!1),(x=n.beforeLeave)==null||x.call(n)});return it.createElement(Lg.Provider,{value:f},it.createElement(Rg.Provider,{value:_},fx({ourProps:{...m,as:T.Fragment,children:it.createElement(_x,{ref:l,...m,...s,beforeEnter:y,beforeLeave:A})},theirProps:{},defaultTag:T.Fragment,features:Sx,visible:d==="visible",name:"Transition"})))}function oD(n,e){let t=T.useContext(Rg)!==null,r=mx()!==null;return it.createElement(it.Fragment,null,!t&&r?it.createElement(zy,{ref:e,...n}):it.createElement(_x,{ref:e,...n}))}let zy=ew(sD),_x=ew(iD),aD=ew(oD),lD=Object.assign(zy,{Child:aD,Root:zy});const cD=()=>{const n=bx.routes[0].children,[e,t]=T.useState(!1);return D.jsx("div",{className:"flex flex-col",children:D.jsxs("nav",{className:" bg-slate-800/90 py-4 border-b border-slate-700 w-full fixed top-0 left-0 right-0 z-10",children:[D.jsxs("div",{className:"flex flex-row justify-around",children:[D.jsx("div",{className:"flex items-center",children:D.jsx(ZS,{to:"/",className:"cursor-pointer",children:D.jsx("h3",{className:"text-2xl font-medium text-slate-100 hover:text-slate-400",children:"Ruairidh Taylor"})})}),D.jsx("div",{className:"items-center hidden space-x-8 lg:flex",children:n.map(r=>D.jsx(SE,{route:r},r.id))}),D.jsxs("ul",{className:"lg:flex hidden flex-col md:flex-row items-end md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[D.jsx("li",{children:D.jsx("a",{href:"https://www.github.com/ruairidht",target:"_blank","aria-label":"Github",className:"text-slate-200 hover:text-slate-400",children:D.jsx(xp,{size:28})})}),D.jsx("li",{children:D.jsx("a",{href:"https://www.linkedin.com/in/ruairidht/",target:"_blank","aria-label":"linkedin",className:"text-slate-200 hover:text-slate-400",children:D.jsx(G1,{size:28})})})]}),D.jsx("div",{className:"-mr-2 flex lg:hidden",children:D.jsxs("button",{onClick:()=>t(!e),type:"button",className:"bg-gray-900 inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white","aria-controls":"mobile-menu","aria-expanded":"false",children:[D.jsx("span",{className:"sr-only",children:"Open main menu"}),e?D.jsx(qP,{}):D.jsx(XP,{})]})})]}),D.jsx(lD,{show:e,enter:"transition ease-out duration-100 transform",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"transition ease-in duration-75 transform",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:()=>D.jsxs("div",{className:"lg:hidden",id:"mobile-menu",children:[D.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:n.map(r=>D.jsx(SE,{route:r},r.id))}),D.jsxs("ul",{className:"px-2 flex flex-col md:flex-row items-end md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[D.jsx("li",{children:D.jsx("a",{href:"https://www.github.com/ruairidht",target:"_blank","aria-label":"Github",className:"text-slate-200 hover:text-slate-400",children:D.jsx(xp,{size:28})})}),D.jsx("li",{children:D.jsx("a",{href:"https://www.linkedin.com/in/ruairidht/",target:"_blank","aria-label":"linkedin",className:"text-slate-200 hover:text-slate-400",children:D.jsx(G1,{size:28})})})]})]})})]})})},uD=()=>D.jsxs(D.Fragment,{children:[D.jsx(cD,{}),D.jsx(vP,{})]}),bx=xP([{path:"/",element:D.jsx(uD,{}),children:[{path:"/",element:D.jsx(zP,{}),errorElement:D.jsx(df,{}),id:"Home"},{path:"/experience",element:D.jsx(QP,{}),errorElement:D.jsx(df,{}),id:"Experience"},{path:"/certifications",element:D.jsx(H2,{}),errorElement:D.jsx(df,{}),id:"Certifications"},{path:"/cv",element:D.jsx(j2,{}),errorElement:D.jsx(df,{}),id:"CV"}]}]);Sm.createRoot(document.getElementById("root")).render(D.jsx(it.StrictMode,{children:D.jsx("div",{className:"w-full h-screen",children:D.jsx("div",{className:"flex flex-col items-center justify-center mt-24",children:D.jsx(FP,{router:bx})})})}));

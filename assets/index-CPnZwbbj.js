var gk=Object.defineProperty;var mk=(n,e,t)=>e in n?gk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var se=(n,e,t)=>(mk(n,typeof e!="symbol"?e+"":e,t),t),Vv=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)};var c=(n,e,t)=>(Vv(n,e,"read from private field"),t?t.call(n):e.get(n)),m=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},E=(n,e,t,i)=>(Vv(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t);var hn=(n,e,t,i)=>({set _(r){E(n,e,r,t)},get _(){return c(n,e,i)}}),A=(n,e,t)=>(Vv(n,e,"access private method"),t);function SS(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function $w(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var bS={exports:{}},uv={},xS={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bf=Symbol.for("react.element"),vk=Symbol.for("react.portal"),yk=Symbol.for("react.fragment"),wk=Symbol.for("react.strict_mode"),Ek=Symbol.for("react.profiler"),Ak=Symbol.for("react.provider"),_k=Symbol.for("react.context"),Sk=Symbol.for("react.forward_ref"),bk=Symbol.for("react.suspense"),xk=Symbol.for("react.memo"),Ck=Symbol.for("react.lazy"),pA=Symbol.iterator;function kk(n){return n===null||typeof n!="object"?null:(n=pA&&n[pA]||n["@@iterator"],typeof n=="function"?n:null)}var CS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kS=Object.assign,TS={};function Oc(n,e,t){this.props=n,this.context=e,this.refs=TS,this.updater=t||CS}Oc.prototype.isReactComponent={};Oc.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Oc.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function PS(){}PS.prototype=Oc.prototype;function Vw(n,e,t){this.props=n,this.context=e,this.refs=TS,this.updater=t||CS}var Ww=Vw.prototype=new PS;Ww.constructor=Vw;kS(Ww,Oc.prototype);Ww.isPureReactComponent=!0;var gA=Array.isArray,RS=Object.prototype.hasOwnProperty,Gw={current:null},LS={key:!0,ref:!0,__self:!0,__source:!0};function MS(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)RS.call(e,i)&&!LS.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:bf,type:n,key:s,ref:o,props:r,_owner:Gw.current}}function Tk(n,e){return{$$typeof:bf,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Xw(n){return typeof n=="object"&&n!==null&&n.$$typeof===bf}function Pk(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var mA=/\/+/g;function Wv(n,e){return typeof n=="object"&&n!==null&&n.key!=null?Pk(""+n.key):e.toString(36)}function hp(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case bf:case vk:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+Wv(o,0):i,gA(r)?(t="",n!=null&&(t=n.replace(mA,"$&/")+"/"),hp(r,e,t,"",function(u){return u})):r!=null&&(Xw(r)&&(r=Tk(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(mA,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",gA(n))for(var a=0;a<n.length;a++){s=n[a];var l=i+Wv(s,a);o+=hp(s,e,t,l,r)}else if(l=kk(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=i+Wv(s,a++),o+=hp(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Bf(n,e,t){if(n==null)return n;var i=[],r=0;return hp(n,i,"","",function(s){return e.call(t,s,r++)}),i}function Rk(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Kt={current:null},dp={transition:null},Lk={ReactCurrentDispatcher:Kt,ReactCurrentBatchConfig:dp,ReactCurrentOwner:Gw};function DS(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:Bf,forEach:function(n,e,t){Bf(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Bf(n,function(){e++}),e},toArray:function(n){return Bf(n,function(e){return e})||[]},only:function(n){if(!Xw(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};de.Component=Oc;de.Fragment=yk;de.Profiler=Ek;de.PureComponent=Vw;de.StrictMode=wk;de.Suspense=bk;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lk;de.act=DS;de.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=kS({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Gw.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)RS.call(e,l)&&!LS.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}return{$$typeof:bf,type:n.type,key:r,ref:s,props:i,_owner:o}};de.createContext=function(n){return n={$$typeof:_k,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:Ak,_context:n},n.Consumer=n};de.createElement=MS;de.createFactory=function(n){var e=MS.bind(null,n);return e.type=n,e};de.createRef=function(){return{current:null}};de.forwardRef=function(n){return{$$typeof:Sk,render:n}};de.isValidElement=Xw;de.lazy=function(n){return{$$typeof:Ck,_payload:{_status:-1,_result:n},_init:Rk}};de.memo=function(n,e){return{$$typeof:xk,type:n,compare:e===void 0?null:e}};de.startTransition=function(n){var e=dp.transition;dp.transition={};try{n()}finally{dp.transition=e}};de.unstable_act=DS;de.useCallback=function(n,e){return Kt.current.useCallback(n,e)};de.useContext=function(n){return Kt.current.useContext(n)};de.useDebugValue=function(){};de.useDeferredValue=function(n){return Kt.current.useDeferredValue(n)};de.useEffect=function(n,e){return Kt.current.useEffect(n,e)};de.useId=function(){return Kt.current.useId()};de.useImperativeHandle=function(n,e,t){return Kt.current.useImperativeHandle(n,e,t)};de.useInsertionEffect=function(n,e){return Kt.current.useInsertionEffect(n,e)};de.useLayoutEffect=function(n,e){return Kt.current.useLayoutEffect(n,e)};de.useMemo=function(n,e){return Kt.current.useMemo(n,e)};de.useReducer=function(n,e,t){return Kt.current.useReducer(n,e,t)};de.useRef=function(n){return Kt.current.useRef(n)};de.useState=function(n){return Kt.current.useState(n)};de.useSyncExternalStore=function(n,e,t){return Kt.current.useSyncExternalStore(n,e,t)};de.useTransition=function(){return Kt.current.useTransition()};de.version="18.3.1";xS.exports=de;var R=xS.exports;const Cr=$w(R),Mk=SS({__proto__:null,default:Cr},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dk=R,Ik=Symbol.for("react.element"),Fk=Symbol.for("react.fragment"),Nk=Object.prototype.hasOwnProperty,Ok=Dk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jk={key:!0,ref:!0,__self:!0,__source:!0};function IS(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)Nk.call(e,i)&&!jk.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:Ik,type:n,key:s,ref:o,props:r,_owner:Ok.current}}uv.Fragment=Fk;uv.jsx=IS;uv.jsxs=IS;bS.exports=uv;var O=bS.exports,Cy={},FS={exports:{}},bn={},NS={exports:{}},OS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(M,G){var Y=M.length;M.push(G);e:for(;0<Y;){var oe=Y-1>>>1,J=M[oe];if(0<r(J,G))M[oe]=G,M[Y]=J,Y=oe;else break e}}function t(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var G=M[0],Y=M.pop();if(Y!==G){M[0]=Y;e:for(var oe=0,J=M.length,fe=J>>>1;oe<fe;){var Ae=2*(oe+1)-1,Me=M[Ae],_e=Ae+1,ie=M[_e];if(0>r(Me,Y))_e<J&&0>r(ie,Me)?(M[oe]=ie,M[_e]=Y,oe=_e):(M[oe]=Me,M[Ae]=Y,oe=Ae);else if(_e<J&&0>r(ie,Y))M[oe]=ie,M[_e]=Y,oe=_e;else break e}}return G}function r(M,G){var Y=M.sortIndex-G.sortIndex;return Y!==0?Y:M.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,d=null,f=3,p=!1,g=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(M){for(var G=t(u);G!==null;){if(G.callback===null)i(u);else if(G.startTime<=M)i(u),G.sortIndex=G.expirationTime,e(l,G);else break;G=t(u)}}function x(M){if(y=!1,_(M),!g)if(t(l)!==null)g=!0,le(C);else{var G=t(u);G!==null&&H(x,G.startTime-M)}}function C(M,G){g=!1,y&&(y=!1,v(L),L=-1),p=!0;var Y=f;try{for(_(G),d=t(l);d!==null&&(!(d.expirationTime>G)||M&&!I());){var oe=d.callback;if(typeof oe=="function"){d.callback=null,f=d.priorityLevel;var J=oe(d.expirationTime<=G);G=n.unstable_now(),typeof J=="function"?d.callback=J:d===t(l)&&i(l),_(G)}else i(l);d=t(l)}if(d!==null)var fe=!0;else{var Ae=t(u);Ae!==null&&H(x,Ae.startTime-G),fe=!1}return fe}finally{d=null,f=Y,p=!1}}var k=!1,b=null,L=-1,N=5,F=-1;function I(){return!(n.unstable_now()-F<N)}function K(){if(b!==null){var M=n.unstable_now();F=M;var G=!0;try{G=b(!0,M)}finally{G?B():(k=!1,b=null)}}else k=!1}var B;if(typeof w=="function")B=function(){w(K)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,Q=$.port2;$.port1.onmessage=K,B=function(){Q.postMessage(null)}}else B=function(){S(K,0)};function le(M){b=M,k||(k=!0,B())}function H(M,G){L=S(function(){M(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(M){M.callback=null},n.unstable_continueExecution=function(){g||p||(g=!0,le(C))},n.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<M?Math.floor(1e3/M):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(M){switch(f){case 1:case 2:case 3:var G=3;break;default:G=f}var Y=f;f=G;try{return M()}finally{f=Y}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(M,G){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var Y=f;f=M;try{return G()}finally{f=Y}},n.unstable_scheduleCallback=function(M,G,Y){var oe=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?oe+Y:oe):Y=oe,M){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=Y+J,M={id:h++,callback:G,priorityLevel:M,startTime:Y,expirationTime:J,sortIndex:-1},Y>oe?(M.sortIndex=Y,e(u,M),t(l)===null&&M===t(u)&&(y?(v(L),L=-1):y=!0,H(x,Y-oe))):(M.sortIndex=J,e(l,M),g||p||(g=!0,le(C))),M},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(M){var G=f;return function(){var Y=f;f=G;try{return M.apply(this,arguments)}finally{f=Y}}}})(OS);NS.exports=OS;var zk=NS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hk=R,Sn=zk;function j(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jS=new Set,Nu={};function Sa(n,e){Tc(n,e),Tc(n+"Capture",e)}function Tc(n,e){for(Nu[n]=e,n=0;n<e.length;n++)jS.add(e[n])}var Lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ky=Object.prototype.hasOwnProperty,Bk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vA={},yA={};function Uk(n){return ky.call(yA,n)?!0:ky.call(vA,n)?!1:Bk.test(n)?yA[n]=!0:(vA[n]=!0,!1)}function $k(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function Vk(n,e,t,i){if(e===null||typeof e>"u"||$k(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yt(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Rt[n]=new Yt(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Rt[e]=new Yt(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Rt[n]=new Yt(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Rt[n]=new Yt(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Rt[n]=new Yt(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Rt[n]=new Yt(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Rt[n]=new Yt(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Rt[n]=new Yt(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Rt[n]=new Yt(n,5,!1,n.toLowerCase(),null,!1,!1)});var Kw=/[\-:]([a-z])/g;function Yw(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Kw,Yw);Rt[e]=new Yt(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Kw,Yw);Rt[e]=new Yt(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Kw,Yw);Rt[e]=new Yt(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Rt[n]=new Yt(n,1,!1,n.toLowerCase(),null,!1,!1)});Rt.xlinkHref=new Yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Rt[n]=new Yt(n,1,!1,n.toLowerCase(),null,!0,!0)});function qw(n,e,t,i){var r=Rt.hasOwnProperty(e)?Rt[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Vk(e,t,r,i)&&(t=null),i||r===null?Uk(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var Fr=Hk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Uf=Symbol.for("react.element"),Ua=Symbol.for("react.portal"),$a=Symbol.for("react.fragment"),Qw=Symbol.for("react.strict_mode"),Ty=Symbol.for("react.profiler"),zS=Symbol.for("react.provider"),HS=Symbol.for("react.context"),Jw=Symbol.for("react.forward_ref"),Py=Symbol.for("react.suspense"),Ry=Symbol.for("react.suspense_list"),Zw=Symbol.for("react.memo"),$r=Symbol.for("react.lazy"),BS=Symbol.for("react.offscreen"),wA=Symbol.iterator;function Vc(n){return n===null||typeof n!="object"?null:(n=wA&&n[wA]||n["@@iterator"],typeof n=="function"?n:null)}var Ve=Object.assign,Gv;function ru(n){if(Gv===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Gv=e&&e[1]||""}return`
`+Gv+n}var Xv=!1;function Kv(n,e){if(!n||Xv)return"";Xv=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){i=u}n.call(e.prototype)}else{try{throw Error()}catch(u){i=u}n()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{Xv=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?ru(n):""}function Wk(n){switch(n.tag){case 5:return ru(n.type);case 16:return ru("Lazy");case 13:return ru("Suspense");case 19:return ru("SuspenseList");case 0:case 2:case 15:return n=Kv(n.type,!1),n;case 11:return n=Kv(n.type.render,!1),n;case 1:return n=Kv(n.type,!0),n;default:return""}}function Ly(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case $a:return"Fragment";case Ua:return"Portal";case Ty:return"Profiler";case Qw:return"StrictMode";case Py:return"Suspense";case Ry:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case HS:return(n.displayName||"Context")+".Consumer";case zS:return(n._context.displayName||"Context")+".Provider";case Jw:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Zw:return e=n.displayName||null,e!==null?e:Ly(n.type)||"Memo";case $r:e=n._payload,n=n._init;try{return Ly(n(e))}catch{}}return null}function Gk(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ly(e);case 8:return e===Qw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Rs(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function US(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Xk(n){var e=US(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function $f(n){n._valueTracker||(n._valueTracker=Xk(n))}function $S(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=US(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function Kp(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function My(n,e){var t=e.checked;return Ve({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function EA(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=Rs(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function VS(n,e){e=e.checked,e!=null&&qw(n,"checked",e,!1)}function Dy(n,e){VS(n,e);var t=Rs(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Iy(n,e.type,t):e.hasOwnProperty("defaultValue")&&Iy(n,e.type,Rs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function AA(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Iy(n,e,t){(e!=="number"||Kp(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var su=Array.isArray;function nl(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+Rs(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function Fy(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return Ve({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function _A(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(j(92));if(su(t)){if(1<t.length)throw Error(j(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Rs(t)}}function WS(n,e){var t=Rs(e.value),i=Rs(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function SA(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function GS(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ny(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?GS(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Vf,XS=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Vf=Vf||document.createElement("div"),Vf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Vf.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Ou(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Su={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kk=["Webkit","ms","Moz","O"];Object.keys(Su).forEach(function(n){Kk.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Su[e]=Su[n]})});function KS(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Su.hasOwnProperty(n)&&Su[n]?(""+e).trim():e+"px"}function YS(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=KS(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var Yk=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oy(n,e){if(e){if(Yk[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function jy(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zy=null;function eE(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Hy=null,il=null,rl=null;function bA(n){if(n=kf(n)){if(typeof Hy!="function")throw Error(j(280));var e=n.stateNode;e&&(e=gv(e),Hy(n.stateNode,n.type,e))}}function qS(n){il?rl?rl.push(n):rl=[n]:il=n}function QS(){if(il){var n=il,e=rl;if(rl=il=null,bA(n),e)for(n=0;n<e.length;n++)bA(e[n])}}function JS(n,e){return n(e)}function ZS(){}var Yv=!1;function e1(n,e,t){if(Yv)return n(e,t);Yv=!0;try{return JS(n,e,t)}finally{Yv=!1,(il!==null||rl!==null)&&(ZS(),QS())}}function ju(n,e){var t=n.stateNode;if(t===null)return null;var i=gv(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(j(231,e,typeof t));return t}var By=!1;if(Lr)try{var Wc={};Object.defineProperty(Wc,"passive",{get:function(){By=!0}}),window.addEventListener("test",Wc,Wc),window.removeEventListener("test",Wc,Wc)}catch{By=!1}function qk(n,e,t,i,r,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(h){this.onError(h)}}var bu=!1,Yp=null,qp=!1,Uy=null,Qk={onError:function(n){bu=!0,Yp=n}};function Jk(n,e,t,i,r,s,o,a,l){bu=!1,Yp=null,qk.apply(Qk,arguments)}function Zk(n,e,t,i,r,s,o,a,l){if(Jk.apply(this,arguments),bu){if(bu){var u=Yp;bu=!1,Yp=null}else throw Error(j(198));qp||(qp=!0,Uy=u)}}function ba(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function t1(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function xA(n){if(ba(n)!==n)throw Error(j(188))}function eT(n){var e=n.alternate;if(!e){if(e=ba(n),e===null)throw Error(j(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return xA(r),n;if(s===i)return xA(r),e;s=s.sibling}throw Error(j(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(j(189))}}if(t.alternate!==i)throw Error(j(190))}if(t.tag!==3)throw Error(j(188));return t.stateNode.current===t?n:e}function n1(n){return n=eT(n),n!==null?i1(n):null}function i1(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=i1(n);if(e!==null)return e;n=n.sibling}return null}var r1=Sn.unstable_scheduleCallback,CA=Sn.unstable_cancelCallback,tT=Sn.unstable_shouldYield,nT=Sn.unstable_requestPaint,Ke=Sn.unstable_now,iT=Sn.unstable_getCurrentPriorityLevel,tE=Sn.unstable_ImmediatePriority,s1=Sn.unstable_UserBlockingPriority,Qp=Sn.unstable_NormalPriority,rT=Sn.unstable_LowPriority,o1=Sn.unstable_IdlePriority,hv=null,Oi=null;function sT(n){if(Oi&&typeof Oi.onCommitFiberRoot=="function")try{Oi.onCommitFiberRoot(hv,n,void 0,(n.current.flags&128)===128)}catch{}}var oi=Math.clz32?Math.clz32:lT,oT=Math.log,aT=Math.LN2;function lT(n){return n>>>=0,n===0?32:31-(oT(n)/aT|0)|0}var Wf=64,Gf=4194304;function ou(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Jp(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=ou(a):(s&=o,s!==0&&(i=ou(s)))}else o=t&~r,o!==0?i=ou(o):s!==0&&(i=ou(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-oi(e),r=1<<t,i|=n[t],e&=~r;return i}function cT(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uT(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-oi(s),a=1<<o,l=r[o];l===-1?(!(a&t)||a&i)&&(r[o]=cT(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function $y(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function a1(){var n=Wf;return Wf<<=1,!(Wf&4194240)&&(Wf=64),n}function qv(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function xf(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-oi(e),n[e]=t}function hT(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-oi(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function nE(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-oi(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var xe=0;function l1(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var c1,iE,u1,h1,d1,Vy=!1,Xf=[],_s=null,Ss=null,bs=null,zu=new Map,Hu=new Map,Wr=[],dT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kA(n,e){switch(n){case"focusin":case"focusout":_s=null;break;case"dragenter":case"dragleave":Ss=null;break;case"mouseover":case"mouseout":bs=null;break;case"pointerover":case"pointerout":zu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hu.delete(e.pointerId)}}function Gc(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=kf(e),e!==null&&iE(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function fT(n,e,t,i,r){switch(e){case"focusin":return _s=Gc(_s,n,e,t,i,r),!0;case"dragenter":return Ss=Gc(Ss,n,e,t,i,r),!0;case"mouseover":return bs=Gc(bs,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return zu.set(s,Gc(zu.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Hu.set(s,Gc(Hu.get(s)||null,n,e,t,i,r)),!0}return!1}function f1(n){var e=Js(n.target);if(e!==null){var t=ba(e);if(t!==null){if(e=t.tag,e===13){if(e=t1(t),e!==null){n.blockedOn=e,d1(n.priority,function(){u1(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function fp(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Wy(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);zy=i,t.target.dispatchEvent(i),zy=null}else return e=kf(t),e!==null&&iE(e),n.blockedOn=t,!1;e.shift()}return!0}function TA(n,e,t){fp(n)&&t.delete(e)}function pT(){Vy=!1,_s!==null&&fp(_s)&&(_s=null),Ss!==null&&fp(Ss)&&(Ss=null),bs!==null&&fp(bs)&&(bs=null),zu.forEach(TA),Hu.forEach(TA)}function Xc(n,e){n.blockedOn===e&&(n.blockedOn=null,Vy||(Vy=!0,Sn.unstable_scheduleCallback(Sn.unstable_NormalPriority,pT)))}function Bu(n){function e(r){return Xc(r,n)}if(0<Xf.length){Xc(Xf[0],n);for(var t=1;t<Xf.length;t++){var i=Xf[t];i.blockedOn===n&&(i.blockedOn=null)}}for(_s!==null&&Xc(_s,n),Ss!==null&&Xc(Ss,n),bs!==null&&Xc(bs,n),zu.forEach(e),Hu.forEach(e),t=0;t<Wr.length;t++)i=Wr[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<Wr.length&&(t=Wr[0],t.blockedOn===null);)f1(t),t.blockedOn===null&&Wr.shift()}var sl=Fr.ReactCurrentBatchConfig,Zp=!0;function gT(n,e,t,i){var r=xe,s=sl.transition;sl.transition=null;try{xe=1,rE(n,e,t,i)}finally{xe=r,sl.transition=s}}function mT(n,e,t,i){var r=xe,s=sl.transition;sl.transition=null;try{xe=4,rE(n,e,t,i)}finally{xe=r,sl.transition=s}}function rE(n,e,t,i){if(Zp){var r=Wy(n,e,t,i);if(r===null)oy(n,e,i,eg,t),kA(n,i);else if(fT(r,n,e,t,i))i.stopPropagation();else if(kA(n,i),e&4&&-1<dT.indexOf(n)){for(;r!==null;){var s=kf(r);if(s!==null&&c1(s),s=Wy(n,e,t,i),s===null&&oy(n,e,i,eg,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else oy(n,e,i,null,t)}}var eg=null;function Wy(n,e,t,i){if(eg=null,n=eE(i),n=Js(n),n!==null)if(e=ba(n),e===null)n=null;else if(t=e.tag,t===13){if(n=t1(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return eg=n,null}function p1(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iT()){case tE:return 1;case s1:return 4;case Qp:case rT:return 16;case o1:return 536870912;default:return 16}default:return 16}}var Es=null,sE=null,pp=null;function g1(){if(pp)return pp;var n,e=sE,t=e.length,i,r="value"in Es?Es.value:Es.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return pp=r.slice(n,1<i?1-i:void 0)}function gp(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Kf(){return!0}function PA(){return!1}function xn(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Kf:PA,this.isPropagationStopped=PA,this}return Ve(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Kf)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Kf)},persist:function(){},isPersistent:Kf}),e}var jc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oE=xn(jc),Cf=Ve({},jc,{view:0,detail:0}),vT=xn(Cf),Qv,Jv,Kc,dv=Ve({},Cf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aE,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Kc&&(Kc&&n.type==="mousemove"?(Qv=n.screenX-Kc.screenX,Jv=n.screenY-Kc.screenY):Jv=Qv=0,Kc=n),Qv)},movementY:function(n){return"movementY"in n?n.movementY:Jv}}),RA=xn(dv),yT=Ve({},dv,{dataTransfer:0}),wT=xn(yT),ET=Ve({},Cf,{relatedTarget:0}),Zv=xn(ET),AT=Ve({},jc,{animationName:0,elapsedTime:0,pseudoElement:0}),_T=xn(AT),ST=Ve({},jc,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),bT=xn(ST),xT=Ve({},jc,{data:0}),LA=xn(xT),CT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PT(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=TT[n])?!!e[n]:!1}function aE(){return PT}var RT=Ve({},Cf,{key:function(n){if(n.key){var e=CT[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=gp(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?kT[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aE,charCode:function(n){return n.type==="keypress"?gp(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?gp(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),LT=xn(RT),MT=Ve({},dv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),MA=xn(MT),DT=Ve({},Cf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aE}),IT=xn(DT),FT=Ve({},jc,{propertyName:0,elapsedTime:0,pseudoElement:0}),NT=xn(FT),OT=Ve({},dv,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),jT=xn(OT),zT=[9,13,27,32],lE=Lr&&"CompositionEvent"in window,xu=null;Lr&&"documentMode"in document&&(xu=document.documentMode);var HT=Lr&&"TextEvent"in window&&!xu,m1=Lr&&(!lE||xu&&8<xu&&11>=xu),DA=" ",IA=!1;function v1(n,e){switch(n){case"keyup":return zT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function y1(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Va=!1;function BT(n,e){switch(n){case"compositionend":return y1(e);case"keypress":return e.which!==32?null:(IA=!0,DA);case"textInput":return n=e.data,n===DA&&IA?null:n;default:return null}}function UT(n,e){if(Va)return n==="compositionend"||!lE&&v1(n,e)?(n=g1(),pp=sE=Es=null,Va=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return m1&&e.locale!=="ko"?null:e.data;default:return null}}var $T={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function FA(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!$T[n.type]:e==="textarea"}function w1(n,e,t,i){qS(i),e=tg(e,"onChange"),0<e.length&&(t=new oE("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var Cu=null,Uu=null;function VT(n){R1(n,0)}function fv(n){var e=Xa(n);if($S(e))return n}function WT(n,e){if(n==="change")return e}var E1=!1;if(Lr){var ey;if(Lr){var ty="oninput"in document;if(!ty){var NA=document.createElement("div");NA.setAttribute("oninput","return;"),ty=typeof NA.oninput=="function"}ey=ty}else ey=!1;E1=ey&&(!document.documentMode||9<document.documentMode)}function OA(){Cu&&(Cu.detachEvent("onpropertychange",A1),Uu=Cu=null)}function A1(n){if(n.propertyName==="value"&&fv(Uu)){var e=[];w1(e,Uu,n,eE(n)),e1(VT,e)}}function GT(n,e,t){n==="focusin"?(OA(),Cu=e,Uu=t,Cu.attachEvent("onpropertychange",A1)):n==="focusout"&&OA()}function XT(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return fv(Uu)}function KT(n,e){if(n==="click")return fv(e)}function YT(n,e){if(n==="input"||n==="change")return fv(e)}function qT(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var li=typeof Object.is=="function"?Object.is:qT;function $u(n,e){if(li(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!ky.call(e,r)||!li(n[r],e[r]))return!1}return!0}function jA(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function zA(n,e){var t=jA(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=jA(t)}}function _1(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?_1(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function S1(){for(var n=window,e=Kp();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Kp(n.document)}return e}function cE(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function QT(n){var e=S1(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&_1(t.ownerDocument.documentElement,t)){if(i!==null&&cE(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=zA(t,s);var o=zA(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var JT=Lr&&"documentMode"in document&&11>=document.documentMode,Wa=null,Gy=null,ku=null,Xy=!1;function HA(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Xy||Wa==null||Wa!==Kp(i)||(i=Wa,"selectionStart"in i&&cE(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ku&&$u(ku,i)||(ku=i,i=tg(Gy,"onSelect"),0<i.length&&(e=new oE("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=Wa)))}function Yf(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Ga={animationend:Yf("Animation","AnimationEnd"),animationiteration:Yf("Animation","AnimationIteration"),animationstart:Yf("Animation","AnimationStart"),transitionend:Yf("Transition","TransitionEnd")},ny={},b1={};Lr&&(b1=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function pv(n){if(ny[n])return ny[n];if(!Ga[n])return n;var e=Ga[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in b1)return ny[n]=e[t];return n}var x1=pv("animationend"),C1=pv("animationiteration"),k1=pv("animationstart"),T1=pv("transitionend"),P1=new Map,BA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ds(n,e){P1.set(n,e),Sa(e,[n])}for(var iy=0;iy<BA.length;iy++){var ry=BA[iy],ZT=ry.toLowerCase(),eP=ry[0].toUpperCase()+ry.slice(1);Ds(ZT,"on"+eP)}Ds(x1,"onAnimationEnd");Ds(C1,"onAnimationIteration");Ds(k1,"onAnimationStart");Ds("dblclick","onDoubleClick");Ds("focusin","onFocus");Ds("focusout","onBlur");Ds(T1,"onTransitionEnd");Tc("onMouseEnter",["mouseout","mouseover"]);Tc("onMouseLeave",["mouseout","mouseover"]);Tc("onPointerEnter",["pointerout","pointerover"]);Tc("onPointerLeave",["pointerout","pointerover"]);Sa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tP=new Set("cancel close invalid load scroll toggle".split(" ").concat(au));function UA(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,Zk(i,e,void 0,n),n.currentTarget=null}function R1(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;UA(r,a,u),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;UA(r,a,u),s=l}}}if(qp)throw n=Uy,qp=!1,Uy=null,n}function De(n,e){var t=e[Jy];t===void 0&&(t=e[Jy]=new Set);var i=n+"__bubble";t.has(i)||(L1(e,n,2,!1),t.add(i))}function sy(n,e,t){var i=0;e&&(i|=4),L1(t,n,i,e)}var qf="_reactListening"+Math.random().toString(36).slice(2);function Vu(n){if(!n[qf]){n[qf]=!0,jS.forEach(function(t){t!=="selectionchange"&&(tP.has(t)||sy(t,!1,n),sy(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[qf]||(e[qf]=!0,sy("selectionchange",!1,e))}}function L1(n,e,t,i){switch(p1(e)){case 1:var r=gT;break;case 4:r=mT;break;default:r=rE}t=r.bind(null,e,t,n),r=void 0,!By||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function oy(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Js(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}e1(function(){var u=s,h=eE(t),d=[];e:{var f=P1.get(n);if(f!==void 0){var p=oE,g=n;switch(n){case"keypress":if(gp(t)===0)break e;case"keydown":case"keyup":p=LT;break;case"focusin":g="focus",p=Zv;break;case"focusout":g="blur",p=Zv;break;case"beforeblur":case"afterblur":p=Zv;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=RA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=wT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=IT;break;case x1:case C1:case k1:p=_T;break;case T1:p=NT;break;case"scroll":p=vT;break;case"wheel":p=jT;break;case"copy":case"cut":case"paste":p=bT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=MA}var y=(e&4)!==0,S=!y&&n==="scroll",v=y?f!==null?f+"Capture":null:f;y=[];for(var w=u,_;w!==null;){_=w;var x=_.stateNode;if(_.tag===5&&x!==null&&(_=x,v!==null&&(x=ju(w,v),x!=null&&y.push(Wu(w,x,_)))),S)break;w=w.return}0<y.length&&(f=new p(f,g,null,t,h),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",f&&t!==zy&&(g=t.relatedTarget||t.fromElement)&&(Js(g)||g[Mr]))break e;if((p||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=t.relatedTarget||t.toElement,p=u,g=g?Js(g):null,g!==null&&(S=ba(g),g!==S||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(y=RA,x="onMouseLeave",v="onMouseEnter",w="mouse",(n==="pointerout"||n==="pointerover")&&(y=MA,x="onPointerLeave",v="onPointerEnter",w="pointer"),S=p==null?f:Xa(p),_=g==null?f:Xa(g),f=new y(x,w+"leave",p,t,h),f.target=S,f.relatedTarget=_,x=null,Js(h)===u&&(y=new y(v,w+"enter",g,t,h),y.target=_,y.relatedTarget=S,x=y),S=x,p&&g)t:{for(y=p,v=g,w=0,_=y;_;_=Ia(_))w++;for(_=0,x=v;x;x=Ia(x))_++;for(;0<w-_;)y=Ia(y),w--;for(;0<_-w;)v=Ia(v),_--;for(;w--;){if(y===v||v!==null&&y===v.alternate)break t;y=Ia(y),v=Ia(v)}y=null}else y=null;p!==null&&$A(d,f,p,y,!1),g!==null&&S!==null&&$A(d,S,g,y,!0)}}e:{if(f=u?Xa(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var C=WT;else if(FA(f))if(E1)C=YT;else{C=XT;var k=GT}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=KT);if(C&&(C=C(n,u))){w1(d,C,t,h);break e}k&&k(n,f,u),n==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&Iy(f,"number",f.value)}switch(k=u?Xa(u):window,n){case"focusin":(FA(k)||k.contentEditable==="true")&&(Wa=k,Gy=u,ku=null);break;case"focusout":ku=Gy=Wa=null;break;case"mousedown":Xy=!0;break;case"contextmenu":case"mouseup":case"dragend":Xy=!1,HA(d,t,h);break;case"selectionchange":if(JT)break;case"keydown":case"keyup":HA(d,t,h)}var b;if(lE)e:{switch(n){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Va?v1(n,t)&&(L="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(L="onCompositionStart");L&&(m1&&t.locale!=="ko"&&(Va||L!=="onCompositionStart"?L==="onCompositionEnd"&&Va&&(b=g1()):(Es=h,sE="value"in Es?Es.value:Es.textContent,Va=!0)),k=tg(u,L),0<k.length&&(L=new LA(L,n,null,t,h),d.push({event:L,listeners:k}),b?L.data=b:(b=y1(t),b!==null&&(L.data=b)))),(b=HT?BT(n,t):UT(n,t))&&(u=tg(u,"onBeforeInput"),0<u.length&&(h=new LA("onBeforeInput","beforeinput",null,t,h),d.push({event:h,listeners:u}),h.data=b))}R1(d,e)})}function Wu(n,e,t){return{instance:n,listener:e,currentTarget:t}}function tg(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=ju(n,t),s!=null&&i.unshift(Wu(n,s,r)),s=ju(n,e),s!=null&&i.push(Wu(n,s,r))),n=n.return}return i}function Ia(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function $A(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,l=a.alternate,u=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&u!==null&&(a=u,r?(l=ju(t,s),l!=null&&o.unshift(Wu(t,l,a))):r||(l=ju(t,s),l!=null&&o.push(Wu(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var nP=/\r\n?/g,iP=/\u0000|\uFFFD/g;function VA(n){return(typeof n=="string"?n:""+n).replace(nP,`
`).replace(iP,"")}function Qf(n,e,t){if(e=VA(e),VA(n)!==e&&t)throw Error(j(425))}function ng(){}var Ky=null,Yy=null;function qy(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Qy=typeof setTimeout=="function"?setTimeout:void 0,rP=typeof clearTimeout=="function"?clearTimeout:void 0,WA=typeof Promise=="function"?Promise:void 0,sP=typeof queueMicrotask=="function"?queueMicrotask:typeof WA<"u"?function(n){return WA.resolve(null).then(n).catch(oP)}:Qy;function oP(n){setTimeout(function(){throw n})}function ay(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),Bu(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);Bu(e)}function xs(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function GA(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var zc=Math.random().toString(36).slice(2),Ni="__reactFiber$"+zc,Gu="__reactProps$"+zc,Mr="__reactContainer$"+zc,Jy="__reactEvents$"+zc,aP="__reactListeners$"+zc,lP="__reactHandles$"+zc;function Js(n){var e=n[Ni];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Mr]||t[Ni]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=GA(n);n!==null;){if(t=n[Ni])return t;n=GA(n)}return e}n=t,t=n.parentNode}return null}function kf(n){return n=n[Ni]||n[Mr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Xa(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(j(33))}function gv(n){return n[Gu]||null}var Zy=[],Ka=-1;function Is(n){return{current:n}}function Fe(n){0>Ka||(n.current=Zy[Ka],Zy[Ka]=null,Ka--)}function Le(n,e){Ka++,Zy[Ka]=n.current,n.current=e}var Ls={},zt=Is(Ls),sn=Is(!1),fa=Ls;function Pc(n,e){var t=n.type.contextTypes;if(!t)return Ls;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function on(n){return n=n.childContextTypes,n!=null}function ig(){Fe(sn),Fe(zt)}function XA(n,e,t){if(zt.current!==Ls)throw Error(j(168));Le(zt,e),Le(sn,t)}function M1(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(j(108,Gk(n)||"Unknown",r));return Ve({},t,i)}function rg(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ls,fa=zt.current,Le(zt,n),Le(sn,sn.current),!0}function KA(n,e,t){var i=n.stateNode;if(!i)throw Error(j(169));t?(n=M1(n,e,fa),i.__reactInternalMemoizedMergedChildContext=n,Fe(sn),Fe(zt),Le(zt,n)):Fe(sn),Le(sn,t)}var Yi=null,mv=!1,ly=!1;function D1(n){Yi===null?Yi=[n]:Yi.push(n)}function cP(n){mv=!0,D1(n)}function Fs(){if(!ly&&Yi!==null){ly=!0;var n=0,e=xe;try{var t=Yi;for(xe=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}Yi=null,mv=!1}catch(r){throw Yi!==null&&(Yi=Yi.slice(n+1)),r1(tE,Fs),r}finally{xe=e,ly=!1}}return null}var Ya=[],qa=0,sg=null,og=0,Fn=[],Nn=0,pa=null,br=1,xr="";function Ws(n,e){Ya[qa++]=og,Ya[qa++]=sg,sg=n,og=e}function I1(n,e,t){Fn[Nn++]=br,Fn[Nn++]=xr,Fn[Nn++]=pa,pa=n;var i=br;n=xr;var r=32-oi(i)-1;i&=~(1<<r),t+=1;var s=32-oi(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,br=1<<32-oi(e)+r|t<<r|i,xr=s+n}else br=1<<s|t<<r|i,xr=n}function uE(n){n.return!==null&&(Ws(n,1),I1(n,1,0))}function hE(n){for(;n===sg;)sg=Ya[--qa],Ya[qa]=null,og=Ya[--qa],Ya[qa]=null;for(;n===pa;)pa=Fn[--Nn],Fn[Nn]=null,xr=Fn[--Nn],Fn[Nn]=null,br=Fn[--Nn],Fn[Nn]=null}var _n=null,An=null,ze=!1,si=null;function F1(n,e){var t=jn(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function YA(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,_n=n,An=xs(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,_n=n,An=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=pa!==null?{id:br,overflow:xr}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=jn(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,_n=n,An=null,!0):!1;default:return!1}}function e0(n){return(n.mode&1)!==0&&(n.flags&128)===0}function t0(n){if(ze){var e=An;if(e){var t=e;if(!YA(n,e)){if(e0(n))throw Error(j(418));e=xs(t.nextSibling);var i=_n;e&&YA(n,e)?F1(i,t):(n.flags=n.flags&-4097|2,ze=!1,_n=n)}}else{if(e0(n))throw Error(j(418));n.flags=n.flags&-4097|2,ze=!1,_n=n}}}function qA(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;_n=n}function Jf(n){if(n!==_n)return!1;if(!ze)return qA(n),ze=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!qy(n.type,n.memoizedProps)),e&&(e=An)){if(e0(n))throw N1(),Error(j(418));for(;e;)F1(n,e),e=xs(e.nextSibling)}if(qA(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(j(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){An=xs(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}An=null}}else An=_n?xs(n.stateNode.nextSibling):null;return!0}function N1(){for(var n=An;n;)n=xs(n.nextSibling)}function Rc(){An=_n=null,ze=!1}function dE(n){si===null?si=[n]:si.push(n)}var uP=Fr.ReactCurrentBatchConfig;function Yc(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(j(309));var i=t.stateNode}if(!i)throw Error(j(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(j(284));if(!t._owner)throw Error(j(290,n))}return n}function Zf(n,e){throw n=Object.prototype.toString.call(e),Error(j(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function QA(n){var e=n._init;return e(n._payload)}function O1(n){function e(v,w){if(n){var _=v.deletions;_===null?(v.deletions=[w],v.flags|=16):_.push(w)}}function t(v,w){if(!n)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function i(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function r(v,w){return v=Ps(v,w),v.index=0,v.sibling=null,v}function s(v,w,_){return v.index=_,n?(_=v.alternate,_!==null?(_=_.index,_<w?(v.flags|=2,w):_):(v.flags|=2,w)):(v.flags|=1048576,w)}function o(v){return n&&v.alternate===null&&(v.flags|=2),v}function a(v,w,_,x){return w===null||w.tag!==6?(w=gy(_,v.mode,x),w.return=v,w):(w=r(w,_),w.return=v,w)}function l(v,w,_,x){var C=_.type;return C===$a?h(v,w,_.props.children,x,_.key):w!==null&&(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===$r&&QA(C)===w.type)?(x=r(w,_.props),x.ref=Yc(v,w,_),x.return=v,x):(x=_p(_.type,_.key,_.props,null,v.mode,x),x.ref=Yc(v,w,_),x.return=v,x)}function u(v,w,_,x){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=my(_,v.mode,x),w.return=v,w):(w=r(w,_.children||[]),w.return=v,w)}function h(v,w,_,x,C){return w===null||w.tag!==7?(w=da(_,v.mode,x,C),w.return=v,w):(w=r(w,_),w.return=v,w)}function d(v,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=gy(""+w,v.mode,_),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Uf:return _=_p(w.type,w.key,w.props,null,v.mode,_),_.ref=Yc(v,null,w),_.return=v,_;case Ua:return w=my(w,v.mode,_),w.return=v,w;case $r:var x=w._init;return d(v,x(w._payload),_)}if(su(w)||Vc(w))return w=da(w,v.mode,_,null),w.return=v,w;Zf(v,w)}return null}function f(v,w,_,x){var C=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return C!==null?null:a(v,w,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Uf:return _.key===C?l(v,w,_,x):null;case Ua:return _.key===C?u(v,w,_,x):null;case $r:return C=_._init,f(v,w,C(_._payload),x)}if(su(_)||Vc(_))return C!==null?null:h(v,w,_,x,null);Zf(v,_)}return null}function p(v,w,_,x,C){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(_)||null,a(w,v,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Uf:return v=v.get(x.key===null?_:x.key)||null,l(w,v,x,C);case Ua:return v=v.get(x.key===null?_:x.key)||null,u(w,v,x,C);case $r:var k=x._init;return p(v,w,_,k(x._payload),C)}if(su(x)||Vc(x))return v=v.get(_)||null,h(w,v,x,C,null);Zf(w,x)}return null}function g(v,w,_,x){for(var C=null,k=null,b=w,L=w=0,N=null;b!==null&&L<_.length;L++){b.index>L?(N=b,b=null):N=b.sibling;var F=f(v,b,_[L],x);if(F===null){b===null&&(b=N);break}n&&b&&F.alternate===null&&e(v,b),w=s(F,w,L),k===null?C=F:k.sibling=F,k=F,b=N}if(L===_.length)return t(v,b),ze&&Ws(v,L),C;if(b===null){for(;L<_.length;L++)b=d(v,_[L],x),b!==null&&(w=s(b,w,L),k===null?C=b:k.sibling=b,k=b);return ze&&Ws(v,L),C}for(b=i(v,b);L<_.length;L++)N=p(b,v,L,_[L],x),N!==null&&(n&&N.alternate!==null&&b.delete(N.key===null?L:N.key),w=s(N,w,L),k===null?C=N:k.sibling=N,k=N);return n&&b.forEach(function(I){return e(v,I)}),ze&&Ws(v,L),C}function y(v,w,_,x){var C=Vc(_);if(typeof C!="function")throw Error(j(150));if(_=C.call(_),_==null)throw Error(j(151));for(var k=C=null,b=w,L=w=0,N=null,F=_.next();b!==null&&!F.done;L++,F=_.next()){b.index>L?(N=b,b=null):N=b.sibling;var I=f(v,b,F.value,x);if(I===null){b===null&&(b=N);break}n&&b&&I.alternate===null&&e(v,b),w=s(I,w,L),k===null?C=I:k.sibling=I,k=I,b=N}if(F.done)return t(v,b),ze&&Ws(v,L),C;if(b===null){for(;!F.done;L++,F=_.next())F=d(v,F.value,x),F!==null&&(w=s(F,w,L),k===null?C=F:k.sibling=F,k=F);return ze&&Ws(v,L),C}for(b=i(v,b);!F.done;L++,F=_.next())F=p(b,v,L,F.value,x),F!==null&&(n&&F.alternate!==null&&b.delete(F.key===null?L:F.key),w=s(F,w,L),k===null?C=F:k.sibling=F,k=F);return n&&b.forEach(function(K){return e(v,K)}),ze&&Ws(v,L),C}function S(v,w,_,x){if(typeof _=="object"&&_!==null&&_.type===$a&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Uf:e:{for(var C=_.key,k=w;k!==null;){if(k.key===C){if(C=_.type,C===$a){if(k.tag===7){t(v,k.sibling),w=r(k,_.props.children),w.return=v,v=w;break e}}else if(k.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===$r&&QA(C)===k.type){t(v,k.sibling),w=r(k,_.props),w.ref=Yc(v,k,_),w.return=v,v=w;break e}t(v,k);break}else e(v,k);k=k.sibling}_.type===$a?(w=da(_.props.children,v.mode,x,_.key),w.return=v,v=w):(x=_p(_.type,_.key,_.props,null,v.mode,x),x.ref=Yc(v,w,_),x.return=v,v=x)}return o(v);case Ua:e:{for(k=_.key;w!==null;){if(w.key===k)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){t(v,w.sibling),w=r(w,_.children||[]),w.return=v,v=w;break e}else{t(v,w);break}else e(v,w);w=w.sibling}w=my(_,v.mode,x),w.return=v,v=w}return o(v);case $r:return k=_._init,S(v,w,k(_._payload),x)}if(su(_))return g(v,w,_,x);if(Vc(_))return y(v,w,_,x);Zf(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(t(v,w.sibling),w=r(w,_),w.return=v,v=w):(t(v,w),w=gy(_,v.mode,x),w.return=v,v=w),o(v)):t(v,w)}return S}var Lc=O1(!0),j1=O1(!1),ag=Is(null),lg=null,Qa=null,fE=null;function pE(){fE=Qa=lg=null}function gE(n){var e=ag.current;Fe(ag),n._currentValue=e}function n0(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function ol(n,e){lg=n,fE=Qa=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(nn=!0),n.firstContext=null)}function Hn(n){var e=n._currentValue;if(fE!==n)if(n={context:n,memoizedValue:e,next:null},Qa===null){if(lg===null)throw Error(j(308));Qa=n,lg.dependencies={lanes:0,firstContext:n}}else Qa=Qa.next=n;return e}var Zs=null;function mE(n){Zs===null?Zs=[n]:Zs.push(n)}function z1(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,mE(e)):(t.next=r.next,r.next=t),e.interleaved=t,Dr(n,i)}function Dr(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Vr=!1;function vE(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function H1(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function kr(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Cs(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,Ee&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Dr(n,t)}return r=i.interleaved,r===null?(e.next=e,mE(i)):(e.next=r.next,r.next=e),i.interleaved=e,Dr(n,t)}function mp(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,nE(n,t)}}function JA(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function cg(n,e,t,i){var r=n.updateQueue;Vr=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var h=n.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;o=0,h=u=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((i&f)===f){h!==null&&(h=h.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=n,y=a;switch(f=e,p=t,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(p,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,f=typeof g=="function"?g.call(p,d,f):g,f==null)break e;d=Ve({},d,f);break e;case 2:Vr=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,f=r.effects,f===null?r.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=p,l=d):h=h.next=p,o|=f;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;f=a,a=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(h===null&&(l=d),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=h,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);ma|=o,n.lanes=o,n.memoizedState=d}}function ZA(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(j(191,r));r.call(i)}}}var Tf={},ji=Is(Tf),Xu=Is(Tf),Ku=Is(Tf);function eo(n){if(n===Tf)throw Error(j(174));return n}function yE(n,e){switch(Le(Ku,e),Le(Xu,n),Le(ji,Tf),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ny(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Ny(e,n)}Fe(ji),Le(ji,e)}function Mc(){Fe(ji),Fe(Xu),Fe(Ku)}function B1(n){eo(Ku.current);var e=eo(ji.current),t=Ny(e,n.type);e!==t&&(Le(Xu,n),Le(ji,t))}function wE(n){Xu.current===n&&(Fe(ji),Fe(Xu))}var Ue=Is(0);function ug(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cy=[];function EE(){for(var n=0;n<cy.length;n++)cy[n]._workInProgressVersionPrimary=null;cy.length=0}var vp=Fr.ReactCurrentDispatcher,uy=Fr.ReactCurrentBatchConfig,ga=0,$e=null,ot=null,pt=null,hg=!1,Tu=!1,Yu=0,hP=0;function Lt(){throw Error(j(321))}function AE(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!li(n[t],e[t]))return!1;return!0}function _E(n,e,t,i,r,s){if(ga=s,$e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vp.current=n===null||n.memoizedState===null?gP:mP,n=t(i,r),Tu){s=0;do{if(Tu=!1,Yu=0,25<=s)throw Error(j(301));s+=1,pt=ot=null,e.updateQueue=null,vp.current=vP,n=t(i,r)}while(Tu)}if(vp.current=dg,e=ot!==null&&ot.next!==null,ga=0,pt=ot=$e=null,hg=!1,e)throw Error(j(300));return n}function SE(){var n=Yu!==0;return Yu=0,n}function mi(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?$e.memoizedState=pt=n:pt=pt.next=n,pt}function Bn(){if(ot===null){var n=$e.alternate;n=n!==null?n.memoizedState:null}else n=ot.next;var e=pt===null?$e.memoizedState:pt.next;if(e!==null)pt=e,ot=n;else{if(n===null)throw Error(j(310));ot=n,n={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},pt===null?$e.memoizedState=pt=n:pt=pt.next=n}return pt}function qu(n,e){return typeof e=="function"?e(n):e}function hy(n){var e=Bn(),t=e.queue;if(t===null)throw Error(j(311));t.lastRenderedReducer=n;var i=ot,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,u=s;do{var h=u.lane;if((ga&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:n(i,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,$e.lanes|=h,ma|=h}u=u.next}while(u!==null&&u!==s);l===null?o=i:l.next=a,li(i,e.memoizedState)||(nn=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,$e.lanes|=s,ma|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function dy(n){var e=Bn(),t=e.queue;if(t===null)throw Error(j(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);li(s,e.memoizedState)||(nn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function U1(){}function $1(n,e){var t=$e,i=Bn(),r=e(),s=!li(i.memoizedState,r);if(s&&(i.memoizedState=r,nn=!0),i=i.queue,bE(G1.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||pt!==null&&pt.memoizedState.tag&1){if(t.flags|=2048,Qu(9,W1.bind(null,t,i,r,e),void 0,null),gt===null)throw Error(j(349));ga&30||V1(t,e,r)}return r}function V1(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function W1(n,e,t,i){e.value=t,e.getSnapshot=i,X1(e)&&K1(n)}function G1(n,e,t){return t(function(){X1(e)&&K1(n)})}function X1(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!li(n,t)}catch{return!0}}function K1(n){var e=Dr(n,1);e!==null&&ai(e,n,1,-1)}function e_(n){var e=mi();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qu,lastRenderedState:n},e.queue=n,n=n.dispatch=pP.bind(null,$e,n),[e.memoizedState,n]}function Qu(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function Y1(){return Bn().memoizedState}function yp(n,e,t,i){var r=mi();$e.flags|=n,r.memoizedState=Qu(1|e,t,void 0,i===void 0?null:i)}function vv(n,e,t,i){var r=Bn();i=i===void 0?null:i;var s=void 0;if(ot!==null){var o=ot.memoizedState;if(s=o.destroy,i!==null&&AE(i,o.deps)){r.memoizedState=Qu(e,t,s,i);return}}$e.flags|=n,r.memoizedState=Qu(1|e,t,s,i)}function t_(n,e){return yp(8390656,8,n,e)}function bE(n,e){return vv(2048,8,n,e)}function q1(n,e){return vv(4,2,n,e)}function Q1(n,e){return vv(4,4,n,e)}function J1(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function Z1(n,e,t){return t=t!=null?t.concat([n]):null,vv(4,4,J1.bind(null,e,n),t)}function xE(){}function eb(n,e){var t=Bn();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&AE(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function tb(n,e){var t=Bn();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&AE(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function nb(n,e,t){return ga&21?(li(t,e)||(t=a1(),$e.lanes|=t,ma|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,nn=!0),n.memoizedState=t)}function dP(n,e){var t=xe;xe=t!==0&&4>t?t:4,n(!0);var i=uy.transition;uy.transition={};try{n(!1),e()}finally{xe=t,uy.transition=i}}function ib(){return Bn().memoizedState}function fP(n,e,t){var i=Ts(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},rb(n))sb(e,t);else if(t=z1(n,e,t,i),t!==null){var r=Xt();ai(t,n,i,r),ob(t,e,i)}}function pP(n,e,t){var i=Ts(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(rb(n))sb(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,li(a,o)){var l=e.interleaved;l===null?(r.next=r,mE(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=z1(n,e,r,i),t!==null&&(r=Xt(),ai(t,n,i,r),ob(t,e,i))}}function rb(n){var e=n.alternate;return n===$e||e!==null&&e===$e}function sb(n,e){Tu=hg=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function ob(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,nE(n,t)}}var dg={readContext:Hn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},gP={readContext:Hn,useCallback:function(n,e){return mi().memoizedState=[n,e===void 0?null:e],n},useContext:Hn,useEffect:t_,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,yp(4194308,4,J1.bind(null,e,n),t)},useLayoutEffect:function(n,e){return yp(4194308,4,n,e)},useInsertionEffect:function(n,e){return yp(4,2,n,e)},useMemo:function(n,e){var t=mi();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=mi();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=fP.bind(null,$e,n),[i.memoizedState,n]},useRef:function(n){var e=mi();return n={current:n},e.memoizedState=n},useState:e_,useDebugValue:xE,useDeferredValue:function(n){return mi().memoizedState=n},useTransition:function(){var n=e_(!1),e=n[0];return n=dP.bind(null,n[1]),mi().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=$e,r=mi();if(ze){if(t===void 0)throw Error(j(407));t=t()}else{if(t=e(),gt===null)throw Error(j(349));ga&30||V1(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,t_(G1.bind(null,i,s,n),[n]),i.flags|=2048,Qu(9,W1.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=mi(),e=gt.identifierPrefix;if(ze){var t=xr,i=br;t=(i&~(1<<32-oi(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=Yu++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=hP++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},mP={readContext:Hn,useCallback:eb,useContext:Hn,useEffect:bE,useImperativeHandle:Z1,useInsertionEffect:q1,useLayoutEffect:Q1,useMemo:tb,useReducer:hy,useRef:Y1,useState:function(){return hy(qu)},useDebugValue:xE,useDeferredValue:function(n){var e=Bn();return nb(e,ot.memoizedState,n)},useTransition:function(){var n=hy(qu)[0],e=Bn().memoizedState;return[n,e]},useMutableSource:U1,useSyncExternalStore:$1,useId:ib,unstable_isNewReconciler:!1},vP={readContext:Hn,useCallback:eb,useContext:Hn,useEffect:bE,useImperativeHandle:Z1,useInsertionEffect:q1,useLayoutEffect:Q1,useMemo:tb,useReducer:dy,useRef:Y1,useState:function(){return dy(qu)},useDebugValue:xE,useDeferredValue:function(n){var e=Bn();return ot===null?e.memoizedState=n:nb(e,ot.memoizedState,n)},useTransition:function(){var n=dy(qu)[0],e=Bn().memoizedState;return[n,e]},useMutableSource:U1,useSyncExternalStore:$1,useId:ib,unstable_isNewReconciler:!1};function Vn(n,e){if(n&&n.defaultProps){e=Ve({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function i0(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:Ve({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var yv={isMounted:function(n){return(n=n._reactInternals)?ba(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=Xt(),r=Ts(n),s=kr(i,r);s.payload=e,t!=null&&(s.callback=t),e=Cs(n,s,r),e!==null&&(ai(e,n,r,i),mp(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=Xt(),r=Ts(n),s=kr(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Cs(n,s,r),e!==null&&(ai(e,n,r,i),mp(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Xt(),i=Ts(n),r=kr(t,i);r.tag=2,e!=null&&(r.callback=e),e=Cs(n,r,i),e!==null&&(ai(e,n,i,t),mp(e,n,i))}};function n_(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!$u(t,i)||!$u(r,s):!0}function ab(n,e,t){var i=!1,r=Ls,s=e.contextType;return typeof s=="object"&&s!==null?s=Hn(s):(r=on(e)?fa:zt.current,i=e.contextTypes,s=(i=i!=null)?Pc(n,r):Ls),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=yv,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function i_(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&yv.enqueueReplaceState(e,e.state,null)}function r0(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},vE(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=Hn(s):(s=on(e)?fa:zt.current,r.context=Pc(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(i0(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&yv.enqueueReplaceState(r,r.state,null),cg(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function Dc(n,e){try{var t="",i=e;do t+=Wk(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function fy(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function s0(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var yP=typeof WeakMap=="function"?WeakMap:Map;function lb(n,e,t){t=kr(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){pg||(pg=!0,g0=i),s0(n,e)},t}function cb(n,e,t){t=kr(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){s0(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){s0(n,e),typeof i!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function r_(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new yP;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=MP.bind(null,n,e,t),e.then(n,n))}function s_(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function o_(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=kr(-1,1),e.tag=2,Cs(t,e,1))),t.lanes|=1),n)}var wP=Fr.ReactCurrentOwner,nn=!1;function Wt(n,e,t,i){e.child=n===null?j1(e,null,t,i):Lc(e,n.child,t,i)}function a_(n,e,t,i,r){t=t.render;var s=e.ref;return ol(e,r),i=_E(n,e,t,i,s,r),t=SE(),n!==null&&!nn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Ir(n,e,r)):(ze&&t&&uE(e),e.flags|=1,Wt(n,e,i,r),e.child)}function l_(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!DE(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,ub(n,e,s,i,r)):(n=_p(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:$u,t(o,i)&&n.ref===e.ref)return Ir(n,e,r)}return e.flags|=1,n=Ps(s,i),n.ref=e.ref,n.return=e,e.child=n}function ub(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if($u(s,i)&&n.ref===e.ref)if(nn=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(nn=!0);else return e.lanes=n.lanes,Ir(n,e,r)}return o0(n,e,t,i,r)}function hb(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(Za,En),En|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Le(Za,En),En|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,Le(Za,En),En|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,Le(Za,En),En|=i;return Wt(n,e,r,t),e.child}function db(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function o0(n,e,t,i,r){var s=on(t)?fa:zt.current;return s=Pc(e,s),ol(e,r),t=_E(n,e,t,i,s,r),i=SE(),n!==null&&!nn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Ir(n,e,r)):(ze&&i&&uE(e),e.flags|=1,Wt(n,e,t,r),e.child)}function c_(n,e,t,i,r){if(on(t)){var s=!0;rg(e)}else s=!1;if(ol(e,r),e.stateNode===null)wp(n,e),ab(e,t,i),r0(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=Hn(u):(u=on(t)?fa:zt.current,u=Pc(e,u));var h=t.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==u)&&i_(e,o,i,u),Vr=!1;var f=e.memoizedState;o.state=f,cg(e,i,o,r),l=e.memoizedState,a!==i||f!==l||sn.current||Vr?(typeof h=="function"&&(i0(e,t,h,i),l=e.memoizedState),(a=Vr||n_(e,t,a,i,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=u,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,H1(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:Vn(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Hn(l):(l=on(t)?fa:zt.current,l=Pc(e,l));var p=t.getDerivedStateFromProps;(h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&i_(e,o,i,l),Vr=!1,f=e.memoizedState,o.state=f,cg(e,i,o,r);var g=e.memoizedState;a!==d||f!==g||sn.current||Vr?(typeof p=="function"&&(i0(e,t,p,i),g=e.memoizedState),(u=Vr||n_(e,t,u,i,f,g,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=g),o.props=i,o.state=g,o.context=l,i=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),i=!1)}return a0(n,e,t,i,s,r)}function a0(n,e,t,i,r,s){db(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&KA(e,t,!1),Ir(n,e,s);i=e.stateNode,wP.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=Lc(e,n.child,null,s),e.child=Lc(e,null,a,s)):Wt(n,e,a,s),e.memoizedState=i.state,r&&KA(e,t,!0),e.child}function fb(n){var e=n.stateNode;e.pendingContext?XA(n,e.pendingContext,e.pendingContext!==e.context):e.context&&XA(n,e.context,!1),yE(n,e.containerInfo)}function u_(n,e,t,i,r){return Rc(),dE(r),e.flags|=256,Wt(n,e,t,i),e.child}var l0={dehydrated:null,treeContext:null,retryLane:0};function c0(n){return{baseLanes:n,cachePool:null,transitions:null}}function pb(n,e,t){var i=e.pendingProps,r=Ue.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),Le(Ue,r&1),n===null)return t0(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Av(o,i,0,null),n=da(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=c0(t),e.memoizedState=l0,n):CE(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return EP(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Ps(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Ps(a,s):(s=da(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?c0(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=l0,i}return s=n.child,n=s.sibling,i=Ps(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function CE(n,e){return e=Av({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function ep(n,e,t,i){return i!==null&&dE(i),Lc(e,n.child,null,t),n=CE(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function EP(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=fy(Error(j(422))),ep(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Av({mode:"visible",children:i.children},r,0,null),s=da(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Lc(e,n.child,null,o),e.child.memoizedState=c0(o),e.memoizedState=l0,s);if(!(e.mode&1))return ep(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(j(419)),i=fy(s,i,void 0),ep(n,e,o,i)}if(a=(o&n.childLanes)!==0,nn||a){if(i=gt,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Dr(n,r),ai(i,n,r,-1))}return ME(),i=fy(Error(j(421))),ep(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=DP.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,An=xs(r.nextSibling),_n=e,ze=!0,si=null,n!==null&&(Fn[Nn++]=br,Fn[Nn++]=xr,Fn[Nn++]=pa,br=n.id,xr=n.overflow,pa=e),e=CE(e,i.children),e.flags|=4096,e)}function h_(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),n0(n.return,e,t)}function py(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function gb(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(Wt(n,e,i.children,t),i=Ue.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&h_(n,t,e);else if(n.tag===19)h_(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Le(Ue,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&ug(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),py(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&ug(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}py(e,!0,t,null,s);break;case"together":py(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function wp(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Ir(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),ma|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(j(153));if(e.child!==null){for(n=e.child,t=Ps(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Ps(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function AP(n,e,t){switch(e.tag){case 3:fb(e),Rc();break;case 5:B1(e);break;case 1:on(e.type)&&rg(e);break;case 4:yE(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Le(ag,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Le(Ue,Ue.current&1),e.flags|=128,null):t&e.child.childLanes?pb(n,e,t):(Le(Ue,Ue.current&1),n=Ir(n,e,t),n!==null?n.sibling:null);Le(Ue,Ue.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return gb(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Le(Ue,Ue.current),i)break;return null;case 22:case 23:return e.lanes=0,hb(n,e,t)}return Ir(n,e,t)}var mb,u0,vb,yb;mb=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};u0=function(){};vb=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,eo(ji.current);var s=null;switch(t){case"input":r=My(n,r),i=My(n,i),s=[];break;case"select":r=Ve({},r,{value:void 0}),i=Ve({},i,{value:void 0}),s=[];break;case"textarea":r=Fy(n,r),i=Fy(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=ng)}Oy(t,i);var o;t=null;for(u in r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var a=r[u];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Nu.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var l=i[u];if(a=r!=null?r[u]:void 0,i.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Nu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&De("scroll",n),s||a===l||(s=[])):(s=s||[]).push(u,l))}t&&(s=s||[]).push("style",t);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};yb=function(n,e,t,i){t!==i&&(e.flags|=4)};function qc(n,e){if(!ze)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function Mt(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function _P(n,e,t){var i=e.pendingProps;switch(hE(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(e),null;case 1:return on(e.type)&&ig(),Mt(e),null;case 3:return i=e.stateNode,Mc(),Fe(sn),Fe(zt),EE(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Jf(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,si!==null&&(y0(si),si=null))),u0(n,e),Mt(e),null;case 5:wE(e);var r=eo(Ku.current);if(t=e.type,n!==null&&e.stateNode!=null)vb(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(j(166));return Mt(e),null}if(n=eo(ji.current),Jf(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[Ni]=e,i[Gu]=s,n=(e.mode&1)!==0,t){case"dialog":De("cancel",i),De("close",i);break;case"iframe":case"object":case"embed":De("load",i);break;case"video":case"audio":for(r=0;r<au.length;r++)De(au[r],i);break;case"source":De("error",i);break;case"img":case"image":case"link":De("error",i),De("load",i);break;case"details":De("toggle",i);break;case"input":EA(i,s),De("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},De("invalid",i);break;case"textarea":_A(i,s),De("invalid",i)}Oy(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Qf(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Qf(i.textContent,a,n),r=["children",""+a]):Nu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&De("scroll",i)}switch(t){case"input":$f(i),AA(i,s,!0);break;case"textarea":$f(i),SA(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=ng)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=GS(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[Ni]=e,n[Gu]=i,mb(n,e,!1,!1),e.stateNode=n;e:{switch(o=jy(t,i),t){case"dialog":De("cancel",n),De("close",n),r=i;break;case"iframe":case"object":case"embed":De("load",n),r=i;break;case"video":case"audio":for(r=0;r<au.length;r++)De(au[r],n);r=i;break;case"source":De("error",n),r=i;break;case"img":case"image":case"link":De("error",n),De("load",n),r=i;break;case"details":De("toggle",n),r=i;break;case"input":EA(n,i),r=My(n,i),De("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=Ve({},i,{value:void 0}),De("invalid",n);break;case"textarea":_A(n,i),r=Fy(n,i),De("invalid",n);break;default:r=i}Oy(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?YS(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&XS(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Ou(n,l):typeof l=="number"&&Ou(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Nu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&De("scroll",n):l!=null&&qw(n,s,l,o))}switch(t){case"input":$f(n),AA(n,i,!1);break;case"textarea":$f(n),SA(n);break;case"option":i.value!=null&&n.setAttribute("value",""+Rs(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?nl(n,!!i.multiple,s,!1):i.defaultValue!=null&&nl(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=ng)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Mt(e),null;case 6:if(n&&e.stateNode!=null)yb(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(j(166));if(t=eo(Ku.current),eo(ji.current),Jf(e)){if(i=e.stateNode,t=e.memoizedProps,i[Ni]=e,(s=i.nodeValue!==t)&&(n=_n,n!==null))switch(n.tag){case 3:Qf(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Qf(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[Ni]=e,e.stateNode=i}return Mt(e),null;case 13:if(Fe(Ue),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(ze&&An!==null&&e.mode&1&&!(e.flags&128))N1(),Rc(),e.flags|=98560,s=!1;else if(s=Jf(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(j(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(j(317));s[Ni]=e}else Rc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Mt(e),s=!1}else si!==null&&(y0(si),si=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||Ue.current&1?lt===0&&(lt=3):ME())),e.updateQueue!==null&&(e.flags|=4),Mt(e),null);case 4:return Mc(),u0(n,e),n===null&&Vu(e.stateNode.containerInfo),Mt(e),null;case 10:return gE(e.type._context),Mt(e),null;case 17:return on(e.type)&&ig(),Mt(e),null;case 19:if(Fe(Ue),s=e.memoizedState,s===null)return Mt(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)qc(s,!1);else{if(lt!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=ug(n),o!==null){for(e.flags|=128,qc(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Le(Ue,Ue.current&1|2),e.child}n=n.sibling}s.tail!==null&&Ke()>Ic&&(e.flags|=128,i=!0,qc(s,!1),e.lanes=4194304)}else{if(!i)if(n=ug(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),qc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ze)return Mt(e),null}else 2*Ke()-s.renderingStartTime>Ic&&t!==1073741824&&(e.flags|=128,i=!0,qc(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ke(),e.sibling=null,t=Ue.current,Le(Ue,i?t&1|2:t&1),e):(Mt(e),null);case 22:case 23:return LE(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?En&1073741824&&(Mt(e),e.subtreeFlags&6&&(e.flags|=8192)):Mt(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function SP(n,e){switch(hE(e),e.tag){case 1:return on(e.type)&&ig(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Mc(),Fe(sn),Fe(zt),EE(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return wE(e),null;case 13:if(Fe(Ue),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(j(340));Rc()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Fe(Ue),null;case 4:return Mc(),null;case 10:return gE(e.type._context),null;case 22:case 23:return LE(),null;case 24:return null;default:return null}}var tp=!1,Nt=!1,bP=typeof WeakSet=="function"?WeakSet:Set,U=null;function Ja(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){Ge(n,e,i)}else t.current=null}function h0(n,e,t){try{t()}catch(i){Ge(n,e,i)}}var d_=!1;function xP(n,e){if(Ky=Zp,n=S1(),cE(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,u=0,h=0,d=n,f=null;t:for(;;){for(var p;d!==t||r!==0&&d.nodeType!==3||(a=o+r),d!==s||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===n)break t;if(f===t&&++u===r&&(a=o),f===s&&++h===i&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(Yy={focusedElem:n,selectionRange:t},Zp=!1,U=e;U!==null;)if(e=U,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,U=n;else for(;U!==null;){e=U;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,S=g.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:Vn(e.type,y),S);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(x){Ge(e,e.return,x)}if(n=e.sibling,n!==null){n.return=e.return,U=n;break}U=e.return}return g=d_,d_=!1,g}function Pu(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&h0(e,t,s)}r=r.next}while(r!==i)}}function wv(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function d0(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function wb(n){var e=n.alternate;e!==null&&(n.alternate=null,wb(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Ni],delete e[Gu],delete e[Jy],delete e[aP],delete e[lP])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Eb(n){return n.tag===5||n.tag===3||n.tag===4}function f_(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Eb(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function f0(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=ng));else if(i!==4&&(n=n.child,n!==null))for(f0(n,e,t),n=n.sibling;n!==null;)f0(n,e,t),n=n.sibling}function p0(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(p0(n,e,t),n=n.sibling;n!==null;)p0(n,e,t),n=n.sibling}var Tt=null,ii=!1;function jr(n,e,t){for(t=t.child;t!==null;)Ab(n,e,t),t=t.sibling}function Ab(n,e,t){if(Oi&&typeof Oi.onCommitFiberUnmount=="function")try{Oi.onCommitFiberUnmount(hv,t)}catch{}switch(t.tag){case 5:Nt||Ja(t,e);case 6:var i=Tt,r=ii;Tt=null,jr(n,e,t),Tt=i,ii=r,Tt!==null&&(ii?(n=Tt,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Tt.removeChild(t.stateNode));break;case 18:Tt!==null&&(ii?(n=Tt,t=t.stateNode,n.nodeType===8?ay(n.parentNode,t):n.nodeType===1&&ay(n,t),Bu(n)):ay(Tt,t.stateNode));break;case 4:i=Tt,r=ii,Tt=t.stateNode.containerInfo,ii=!0,jr(n,e,t),Tt=i,ii=r;break;case 0:case 11:case 14:case 15:if(!Nt&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&h0(t,e,o),r=r.next}while(r!==i)}jr(n,e,t);break;case 1:if(!Nt&&(Ja(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){Ge(t,e,a)}jr(n,e,t);break;case 21:jr(n,e,t);break;case 22:t.mode&1?(Nt=(i=Nt)||t.memoizedState!==null,jr(n,e,t),Nt=i):jr(n,e,t);break;default:jr(n,e,t)}}function p_(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new bP),e.forEach(function(i){var r=IP.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function Un(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Tt=a.stateNode,ii=!1;break e;case 3:Tt=a.stateNode.containerInfo,ii=!0;break e;case 4:Tt=a.stateNode.containerInfo,ii=!0;break e}a=a.return}if(Tt===null)throw Error(j(160));Ab(s,o,r),Tt=null,ii=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){Ge(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_b(e,n),e=e.sibling}function _b(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Un(e,n),pi(n),i&4){try{Pu(3,n,n.return),wv(3,n)}catch(y){Ge(n,n.return,y)}try{Pu(5,n,n.return)}catch(y){Ge(n,n.return,y)}}break;case 1:Un(e,n),pi(n),i&512&&t!==null&&Ja(t,t.return);break;case 5:if(Un(e,n),pi(n),i&512&&t!==null&&Ja(t,t.return),n.flags&32){var r=n.stateNode;try{Ou(r,"")}catch(y){Ge(n,n.return,y)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&VS(r,s),jy(a,o);var u=jy(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?YS(r,d):h==="dangerouslySetInnerHTML"?XS(r,d):h==="children"?Ou(r,d):qw(r,h,d,u)}switch(a){case"input":Dy(r,s);break;case"textarea":WS(r,s);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?nl(r,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?nl(r,!!s.multiple,s.defaultValue,!0):nl(r,!!s.multiple,s.multiple?[]:"",!1))}r[Gu]=s}catch(y){Ge(n,n.return,y)}}break;case 6:if(Un(e,n),pi(n),i&4){if(n.stateNode===null)throw Error(j(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(y){Ge(n,n.return,y)}}break;case 3:if(Un(e,n),pi(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{Bu(e.containerInfo)}catch(y){Ge(n,n.return,y)}break;case 4:Un(e,n),pi(n);break;case 13:Un(e,n),pi(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(PE=Ke())),i&4&&p_(n);break;case 22:if(h=t!==null&&t.memoizedState!==null,n.mode&1?(Nt=(u=Nt)||h,Un(e,n),Nt=u):Un(e,n),pi(n),i&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!h&&n.mode&1)for(U=n,h=n.child;h!==null;){for(d=U=h;U!==null;){switch(f=U,p=f.child,f.tag){case 0:case 11:case 14:case 15:Pu(4,f,f.return);break;case 1:Ja(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){i=f,t=f.return;try{e=i,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){Ge(i,t,y)}}break;case 5:Ja(f,f.return);break;case 22:if(f.memoizedState!==null){m_(d);continue}}p!==null?(p.return=f,U=p):m_(d)}h=h.sibling}e:for(h=null,d=n;;){if(d.tag===5){if(h===null){h=d;try{r=d.stateNode,u?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=KS("display",o))}catch(y){Ge(n,n.return,y)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){Ge(n,n.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Un(e,n),pi(n),i&4&&p_(n);break;case 21:break;default:Un(e,n),pi(n)}}function pi(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(Eb(t)){var i=t;break e}t=t.return}throw Error(j(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Ou(r,""),i.flags&=-33);var s=f_(n);p0(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=f_(n);f0(n,a,o);break;default:throw Error(j(161))}}catch(l){Ge(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function CP(n,e,t){U=n,Sb(n)}function Sb(n,e,t){for(var i=(n.mode&1)!==0;U!==null;){var r=U,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||tp;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Nt;a=tp;var u=Nt;if(tp=o,(Nt=l)&&!u)for(U=r;U!==null;)o=U,l=o.child,o.tag===22&&o.memoizedState!==null?v_(r):l!==null?(l.return=o,U=l):v_(r);for(;s!==null;)U=s,Sb(s),s=s.sibling;U=r,tp=a,Nt=u}g_(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,U=s):g_(n)}}function g_(n){for(;U!==null;){var e=U;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Nt||wv(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Nt)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Vn(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&ZA(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}ZA(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Bu(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}Nt||e.flags&512&&d0(e)}catch(f){Ge(e,e.return,f)}}if(e===n){U=null;break}if(t=e.sibling,t!==null){t.return=e.return,U=t;break}U=e.return}}function m_(n){for(;U!==null;){var e=U;if(e===n){U=null;break}var t=e.sibling;if(t!==null){t.return=e.return,U=t;break}U=e.return}}function v_(n){for(;U!==null;){var e=U;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{wv(4,e)}catch(l){Ge(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Ge(e,r,l)}}var s=e.return;try{d0(e)}catch(l){Ge(e,s,l)}break;case 5:var o=e.return;try{d0(e)}catch(l){Ge(e,o,l)}}}catch(l){Ge(e,e.return,l)}if(e===n){U=null;break}var a=e.sibling;if(a!==null){a.return=e.return,U=a;break}U=e.return}}var kP=Math.ceil,fg=Fr.ReactCurrentDispatcher,kE=Fr.ReactCurrentOwner,zn=Fr.ReactCurrentBatchConfig,Ee=0,gt=null,Je=null,Pt=0,En=0,Za=Is(0),lt=0,Ju=null,ma=0,Ev=0,TE=0,Ru=null,tn=null,PE=0,Ic=1/0,Wi=null,pg=!1,g0=null,ks=null,np=!1,As=null,gg=0,Lu=0,m0=null,Ep=-1,Ap=0;function Xt(){return Ee&6?Ke():Ep!==-1?Ep:Ep=Ke()}function Ts(n){return n.mode&1?Ee&2&&Pt!==0?Pt&-Pt:uP.transition!==null?(Ap===0&&(Ap=a1()),Ap):(n=xe,n!==0||(n=window.event,n=n===void 0?16:p1(n.type)),n):1}function ai(n,e,t,i){if(50<Lu)throw Lu=0,m0=null,Error(j(185));xf(n,t,i),(!(Ee&2)||n!==gt)&&(n===gt&&(!(Ee&2)&&(Ev|=t),lt===4&&Gr(n,Pt)),an(n,i),t===1&&Ee===0&&!(e.mode&1)&&(Ic=Ke()+500,mv&&Fs()))}function an(n,e){var t=n.callbackNode;uT(n,e);var i=Jp(n,n===gt?Pt:0);if(i===0)t!==null&&CA(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&CA(t),e===1)n.tag===0?cP(y_.bind(null,n)):D1(y_.bind(null,n)),sP(function(){!(Ee&6)&&Fs()}),t=null;else{switch(l1(i)){case 1:t=tE;break;case 4:t=s1;break;case 16:t=Qp;break;case 536870912:t=o1;break;default:t=Qp}t=Lb(t,bb.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function bb(n,e){if(Ep=-1,Ap=0,Ee&6)throw Error(j(327));var t=n.callbackNode;if(al()&&n.callbackNode!==t)return null;var i=Jp(n,n===gt?Pt:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=mg(n,i);else{e=i;var r=Ee;Ee|=2;var s=Cb();(gt!==n||Pt!==e)&&(Wi=null,Ic=Ke()+500,ha(n,e));do try{RP();break}catch(a){xb(n,a)}while(!0);pE(),fg.current=s,Ee=r,Je!==null?e=0:(gt=null,Pt=0,e=lt)}if(e!==0){if(e===2&&(r=$y(n),r!==0&&(i=r,e=v0(n,r))),e===1)throw t=Ju,ha(n,0),Gr(n,i),an(n,Ke()),t;if(e===6)Gr(n,i);else{if(r=n.current.alternate,!(i&30)&&!TP(r)&&(e=mg(n,i),e===2&&(s=$y(n),s!==0&&(i=s,e=v0(n,s))),e===1))throw t=Ju,ha(n,0),Gr(n,i),an(n,Ke()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(j(345));case 2:Gs(n,tn,Wi);break;case 3:if(Gr(n,i),(i&130023424)===i&&(e=PE+500-Ke(),10<e)){if(Jp(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){Xt(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=Qy(Gs.bind(null,n,tn,Wi),e);break}Gs(n,tn,Wi);break;case 4:if(Gr(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-oi(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Ke()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*kP(i/1960))-i,10<i){n.timeoutHandle=Qy(Gs.bind(null,n,tn,Wi),i);break}Gs(n,tn,Wi);break;case 5:Gs(n,tn,Wi);break;default:throw Error(j(329))}}}return an(n,Ke()),n.callbackNode===t?bb.bind(null,n):null}function v0(n,e){var t=Ru;return n.current.memoizedState.isDehydrated&&(ha(n,e).flags|=256),n=mg(n,e),n!==2&&(e=tn,tn=t,e!==null&&y0(e)),n}function y0(n){tn===null?tn=n:tn.push.apply(tn,n)}function TP(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!li(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gr(n,e){for(e&=~TE,e&=~Ev,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-oi(e),i=1<<t;n[t]=-1,e&=~i}}function y_(n){if(Ee&6)throw Error(j(327));al();var e=Jp(n,0);if(!(e&1))return an(n,Ke()),null;var t=mg(n,e);if(n.tag!==0&&t===2){var i=$y(n);i!==0&&(e=i,t=v0(n,i))}if(t===1)throw t=Ju,ha(n,0),Gr(n,e),an(n,Ke()),t;if(t===6)throw Error(j(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Gs(n,tn,Wi),an(n,Ke()),null}function RE(n,e){var t=Ee;Ee|=1;try{return n(e)}finally{Ee=t,Ee===0&&(Ic=Ke()+500,mv&&Fs())}}function va(n){As!==null&&As.tag===0&&!(Ee&6)&&al();var e=Ee;Ee|=1;var t=zn.transition,i=xe;try{if(zn.transition=null,xe=1,n)return n()}finally{xe=i,zn.transition=t,Ee=e,!(Ee&6)&&Fs()}}function LE(){En=Za.current,Fe(Za)}function ha(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,rP(t)),Je!==null)for(t=Je.return;t!==null;){var i=t;switch(hE(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&ig();break;case 3:Mc(),Fe(sn),Fe(zt),EE();break;case 5:wE(i);break;case 4:Mc();break;case 13:Fe(Ue);break;case 19:Fe(Ue);break;case 10:gE(i.type._context);break;case 22:case 23:LE()}t=t.return}if(gt=n,Je=n=Ps(n.current,null),Pt=En=e,lt=0,Ju=null,TE=Ev=ma=0,tn=Ru=null,Zs!==null){for(e=0;e<Zs.length;e++)if(t=Zs[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}Zs=null}return n}function xb(n,e){do{var t=Je;try{if(pE(),vp.current=dg,hg){for(var i=$e.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}hg=!1}if(ga=0,pt=ot=$e=null,Tu=!1,Yu=0,kE.current=null,t===null||t.return===null){lt=1,Ju=e,Je=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=Pt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=s_(o);if(p!==null){p.flags&=-257,o_(p,o,a,s,e),p.mode&1&&r_(s,u,e),e=p,l=u;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){r_(s,u,e),ME();break e}l=Error(j(426))}}else if(ze&&a.mode&1){var S=s_(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),o_(S,o,a,s,e),dE(Dc(l,a));break e}}s=l=Dc(l,a),lt!==4&&(lt=2),Ru===null?Ru=[s]:Ru.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=lb(s,l,e);JA(s,v);break e;case 1:a=l;var w=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ks===null||!ks.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=cb(s,a,e);JA(s,x);break e}}s=s.return}while(s!==null)}Tb(t)}catch(C){e=C,Je===t&&t!==null&&(Je=t=t.return);continue}break}while(!0)}function Cb(){var n=fg.current;return fg.current=dg,n===null?dg:n}function ME(){(lt===0||lt===3||lt===2)&&(lt=4),gt===null||!(ma&268435455)&&!(Ev&268435455)||Gr(gt,Pt)}function mg(n,e){var t=Ee;Ee|=2;var i=Cb();(gt!==n||Pt!==e)&&(Wi=null,ha(n,e));do try{PP();break}catch(r){xb(n,r)}while(!0);if(pE(),Ee=t,fg.current=i,Je!==null)throw Error(j(261));return gt=null,Pt=0,lt}function PP(){for(;Je!==null;)kb(Je)}function RP(){for(;Je!==null&&!tT();)kb(Je)}function kb(n){var e=Rb(n.alternate,n,En);n.memoizedProps=n.pendingProps,e===null?Tb(n):Je=e,kE.current=null}function Tb(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=SP(t,e),t!==null){t.flags&=32767,Je=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{lt=6,Je=null;return}}else if(t=_P(t,e,En),t!==null){Je=t;return}if(e=e.sibling,e!==null){Je=e;return}Je=e=n}while(e!==null);lt===0&&(lt=5)}function Gs(n,e,t){var i=xe,r=zn.transition;try{zn.transition=null,xe=1,LP(n,e,t,i)}finally{zn.transition=r,xe=i}return null}function LP(n,e,t,i){do al();while(As!==null);if(Ee&6)throw Error(j(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(j(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(hT(n,s),n===gt&&(Je=gt=null,Pt=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||np||(np=!0,Lb(Qp,function(){return al(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=zn.transition,zn.transition=null;var o=xe;xe=1;var a=Ee;Ee|=4,kE.current=null,xP(n,t),_b(t,n),QT(Yy),Zp=!!Ky,Yy=Ky=null,n.current=t,CP(t),nT(),Ee=a,xe=o,zn.transition=s}else n.current=t;if(np&&(np=!1,As=n,gg=r),s=n.pendingLanes,s===0&&(ks=null),sT(t.stateNode),an(n,Ke()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(pg)throw pg=!1,n=g0,g0=null,n;return gg&1&&n.tag!==0&&al(),s=n.pendingLanes,s&1?n===m0?Lu++:(Lu=0,m0=n):Lu=0,Fs(),null}function al(){if(As!==null){var n=l1(gg),e=zn.transition,t=xe;try{if(zn.transition=null,xe=16>n?16:n,As===null)var i=!1;else{if(n=As,As=null,gg=0,Ee&6)throw Error(j(331));var r=Ee;for(Ee|=4,U=n.current;U!==null;){var s=U,o=s.child;if(U.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(U=u;U!==null;){var h=U;switch(h.tag){case 0:case 11:case 15:Pu(8,h,s)}var d=h.child;if(d!==null)d.return=h,U=d;else for(;U!==null;){h=U;var f=h.sibling,p=h.return;if(wb(h),h===u){U=null;break}if(f!==null){f.return=p,U=f;break}U=p}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var S=y.sibling;y.sibling=null,y=S}while(y!==null)}}U=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,U=o;else e:for(;U!==null;){if(s=U,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Pu(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,U=v;break e}U=s.return}}var w=n.current;for(U=w;U!==null;){o=U;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,U=_;else e:for(o=w;U!==null;){if(a=U,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:wv(9,a)}}catch(C){Ge(a,a.return,C)}if(a===o){U=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,U=x;break e}U=a.return}}if(Ee=r,Fs(),Oi&&typeof Oi.onPostCommitFiberRoot=="function")try{Oi.onPostCommitFiberRoot(hv,n)}catch{}i=!0}return i}finally{xe=t,zn.transition=e}}return!1}function w_(n,e,t){e=Dc(t,e),e=lb(n,e,1),n=Cs(n,e,1),e=Xt(),n!==null&&(xf(n,1,e),an(n,e))}function Ge(n,e,t){if(n.tag===3)w_(n,n,t);else for(;e!==null;){if(e.tag===3){w_(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ks===null||!ks.has(i))){n=Dc(t,n),n=cb(e,n,1),e=Cs(e,n,1),n=Xt(),e!==null&&(xf(e,1,n),an(e,n));break}}e=e.return}}function MP(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=Xt(),n.pingedLanes|=n.suspendedLanes&t,gt===n&&(Pt&t)===t&&(lt===4||lt===3&&(Pt&130023424)===Pt&&500>Ke()-PE?ha(n,0):TE|=t),an(n,e)}function Pb(n,e){e===0&&(n.mode&1?(e=Gf,Gf<<=1,!(Gf&130023424)&&(Gf=4194304)):e=1);var t=Xt();n=Dr(n,e),n!==null&&(xf(n,e,t),an(n,t))}function DP(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),Pb(n,t)}function IP(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(j(314))}i!==null&&i.delete(e),Pb(n,t)}var Rb;Rb=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||sn.current)nn=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return nn=!1,AP(n,e,t);nn=!!(n.flags&131072)}else nn=!1,ze&&e.flags&1048576&&I1(e,og,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;wp(n,e),n=e.pendingProps;var r=Pc(e,zt.current);ol(e,t),r=_E(null,e,i,n,r,t);var s=SE();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,on(i)?(s=!0,rg(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,vE(e),r.updater=yv,e.stateNode=r,r._reactInternals=e,r0(e,i,n,t),e=a0(null,e,i,!0,s,t)):(e.tag=0,ze&&s&&uE(e),Wt(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(wp(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=NP(i),n=Vn(i,n),r){case 0:e=o0(null,e,i,n,t);break e;case 1:e=c_(null,e,i,n,t);break e;case 11:e=a_(null,e,i,n,t);break e;case 14:e=l_(null,e,i,Vn(i.type,n),t);break e}throw Error(j(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Vn(i,r),o0(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Vn(i,r),c_(n,e,i,r,t);case 3:e:{if(fb(e),n===null)throw Error(j(387));i=e.pendingProps,s=e.memoizedState,r=s.element,H1(n,e),cg(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Dc(Error(j(423)),e),e=u_(n,e,i,t,r);break e}else if(i!==r){r=Dc(Error(j(424)),e),e=u_(n,e,i,t,r);break e}else for(An=xs(e.stateNode.containerInfo.firstChild),_n=e,ze=!0,si=null,t=j1(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Rc(),i===r){e=Ir(n,e,t);break e}Wt(n,e,i,t)}e=e.child}return e;case 5:return B1(e),n===null&&t0(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,qy(i,r)?o=null:s!==null&&qy(i,s)&&(e.flags|=32),db(n,e),Wt(n,e,o,t),e.child;case 6:return n===null&&t0(e),null;case 13:return pb(n,e,t);case 4:return yE(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=Lc(e,null,i,t):Wt(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Vn(i,r),a_(n,e,i,r,t);case 7:return Wt(n,e,e.pendingProps,t),e.child;case 8:return Wt(n,e,e.pendingProps.children,t),e.child;case 12:return Wt(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Le(ag,i._currentValue),i._currentValue=o,s!==null)if(li(s.value,o)){if(s.children===r.children&&!sn.current){e=Ir(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=kr(-1,t&-t),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),n0(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(j(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),n0(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Wt(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,ol(e,t),r=Hn(r),i=i(r),e.flags|=1,Wt(n,e,i,t),e.child;case 14:return i=e.type,r=Vn(i,e.pendingProps),r=Vn(i.type,r),l_(n,e,i,r,t);case 15:return ub(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Vn(i,r),wp(n,e),e.tag=1,on(i)?(n=!0,rg(e)):n=!1,ol(e,t),ab(e,i,r),r0(e,i,r,t),a0(null,e,i,!0,n,t);case 19:return gb(n,e,t);case 22:return hb(n,e,t)}throw Error(j(156,e.tag))};function Lb(n,e){return r1(n,e)}function FP(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(n,e,t,i){return new FP(n,e,t,i)}function DE(n){return n=n.prototype,!(!n||!n.isReactComponent)}function NP(n){if(typeof n=="function")return DE(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Jw)return 11;if(n===Zw)return 14}return 2}function Ps(n,e){var t=n.alternate;return t===null?(t=jn(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function _p(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")DE(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case $a:return da(t.children,r,s,e);case Qw:o=8,r|=8;break;case Ty:return n=jn(12,t,e,r|2),n.elementType=Ty,n.lanes=s,n;case Py:return n=jn(13,t,e,r),n.elementType=Py,n.lanes=s,n;case Ry:return n=jn(19,t,e,r),n.elementType=Ry,n.lanes=s,n;case BS:return Av(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case zS:o=10;break e;case HS:o=9;break e;case Jw:o=11;break e;case Zw:o=14;break e;case $r:o=16,i=null;break e}throw Error(j(130,n==null?n:typeof n,""))}return e=jn(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function da(n,e,t,i){return n=jn(7,n,i,e),n.lanes=t,n}function Av(n,e,t,i){return n=jn(22,n,i,e),n.elementType=BS,n.lanes=t,n.stateNode={isHidden:!1},n}function gy(n,e,t){return n=jn(6,n,null,e),n.lanes=t,n}function my(n,e,t){return e=jn(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function OP(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qv(0),this.expirationTimes=qv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qv(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function IE(n,e,t,i,r,s,o,a,l){return n=new OP(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=jn(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},vE(s),n}function jP(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ua,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function Mb(n){if(!n)return Ls;n=n._reactInternals;e:{if(ba(n)!==n||n.tag!==1)throw Error(j(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(on(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(n.tag===1){var t=n.type;if(on(t))return M1(n,t,e)}return e}function Db(n,e,t,i,r,s,o,a,l){return n=IE(t,i,!0,n,r,s,o,a,l),n.context=Mb(null),t=n.current,i=Xt(),r=Ts(t),s=kr(i,r),s.callback=e??null,Cs(t,s,r),n.current.lanes=r,xf(n,r,i),an(n,i),n}function _v(n,e,t,i){var r=e.current,s=Xt(),o=Ts(r);return t=Mb(t),e.context===null?e.context=t:e.pendingContext=t,e=kr(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=Cs(r,e,o),n!==null&&(ai(n,r,o,s),mp(n,r,o)),o}function vg(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function E_(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function FE(n,e){E_(n,e),(n=n.alternate)&&E_(n,e)}function zP(){return null}var Ib=typeof reportError=="function"?reportError:function(n){console.error(n)};function NE(n){this._internalRoot=n}Sv.prototype.render=NE.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(j(409));_v(n,e,null,null)};Sv.prototype.unmount=NE.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;va(function(){_v(null,n,null,null)}),e[Mr]=null}};function Sv(n){this._internalRoot=n}Sv.prototype.unstable_scheduleHydration=function(n){if(n){var e=h1();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Wr.length&&e!==0&&e<Wr[t].priority;t++);Wr.splice(t,0,n),t===0&&f1(n)}};function OE(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function bv(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function A_(){}function HP(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var u=vg(o);s.call(u)}}var o=Db(e,i,n,0,null,!1,!1,"",A_);return n._reactRootContainer=o,n[Mr]=o.current,Vu(n.nodeType===8?n.parentNode:n),va(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var u=vg(l);a.call(u)}}var l=IE(n,0,!1,null,null,!1,!1,"",A_);return n._reactRootContainer=l,n[Mr]=l.current,Vu(n.nodeType===8?n.parentNode:n),va(function(){_v(e,l,t,i)}),l}function xv(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=vg(o);a.call(l)}}_v(e,o,n,r)}else o=HP(t,e,n,r,i);return vg(o)}c1=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=ou(e.pendingLanes);t!==0&&(nE(e,t|1),an(e,Ke()),!(Ee&6)&&(Ic=Ke()+500,Fs()))}break;case 13:va(function(){var i=Dr(n,1);if(i!==null){var r=Xt();ai(i,n,1,r)}}),FE(n,1)}};iE=function(n){if(n.tag===13){var e=Dr(n,134217728);if(e!==null){var t=Xt();ai(e,n,134217728,t)}FE(n,134217728)}};u1=function(n){if(n.tag===13){var e=Ts(n),t=Dr(n,e);if(t!==null){var i=Xt();ai(t,n,e,i)}FE(n,e)}};h1=function(){return xe};d1=function(n,e){var t=xe;try{return xe=n,e()}finally{xe=t}};Hy=function(n,e,t){switch(e){case"input":if(Dy(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=gv(i);if(!r)throw Error(j(90));$S(i),Dy(i,r)}}}break;case"textarea":WS(n,t);break;case"select":e=t.value,e!=null&&nl(n,!!t.multiple,e,!1)}};JS=RE;ZS=va;var BP={usingClientEntryPoint:!1,Events:[kf,Xa,gv,qS,QS,RE]},Qc={findFiberByHostInstance:Js,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UP={bundleType:Qc.bundleType,version:Qc.version,rendererPackageName:Qc.rendererPackageName,rendererConfig:Qc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fr.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=n1(n),n===null?null:n.stateNode},findFiberByHostInstance:Qc.findFiberByHostInstance||zP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ip=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ip.isDisabled&&ip.supportsFiber)try{hv=ip.inject(UP),Oi=ip}catch{}}bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BP;bn.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!OE(e))throw Error(j(200));return jP(n,e,null,t)};bn.createRoot=function(n,e){if(!OE(n))throw Error(j(299));var t=!1,i="",r=Ib;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=IE(n,1,!1,null,null,t,!1,i,r),n[Mr]=e.current,Vu(n.nodeType===8?n.parentNode:n),new NE(e)};bn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(j(188)):(n=Object.keys(n).join(","),Error(j(268,n)));return n=n1(e),n=n===null?null:n.stateNode,n};bn.flushSync=function(n){return va(n)};bn.hydrate=function(n,e,t){if(!bv(e))throw Error(j(200));return xv(null,n,e,!0,t)};bn.hydrateRoot=function(n,e,t){if(!OE(n))throw Error(j(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=Ib;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=Db(e,null,n,1,t??null,r,!1,s,o),n[Mr]=e.current,Vu(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new Sv(e)};bn.render=function(n,e,t){if(!bv(e))throw Error(j(200));return xv(null,n,e,!1,t)};bn.unmountComponentAtNode=function(n){if(!bv(n))throw Error(j(40));return n._reactRootContainer?(va(function(){xv(null,null,n,!1,function(){n._reactRootContainer=null,n[Mr]=null})}),!0):!1};bn.unstable_batchedUpdates=RE;bn.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!bv(t))throw Error(j(200));if(n==null||n._reactInternals===void 0)throw Error(j(38));return xv(n,e,t,!1,i)};bn.version="18.3.1-next-f1338f8080-20240426";function Fb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fb)}catch(n){console.error(n)}}Fb(),FS.exports=bn;var jE=FS.exports;const $P=$w(jE),VP=SS({__proto__:null,default:$P},[jE]);var __=jE;Cy.createRoot=__.createRoot,Cy.hydrateRoot=__.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Be(){return Be=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Be.apply(this,arguments)}var Qe;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Qe||(Qe={}));const S_="popstate";function WP(n){n===void 0&&(n={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return Zu("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:ya(r)}return XP(e,t,null,n)}function he(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Fc(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GP(){return Math.random().toString(36).substr(2,8)}function b_(n,e){return{usr:n.state,key:n.key,idx:e}}function Zu(n,e,t,i){return t===void 0&&(t=null),Be({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Ns(e):e,{state:t,key:e&&e.key||i||GP()})}function ya(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Ns(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function XP(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=Qe.Pop,l=null,u=h();u==null&&(u=0,o.replaceState(Be({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function d(){a=Qe.Pop;let S=h(),v=S==null?null:S-u;u=S,l&&l({action:a,location:y.location,delta:v})}function f(S,v){a=Qe.Push;let w=Zu(y.location,S,v);u=h()+1;let _=b_(w,u),x=y.createHref(w);try{o.pushState(_,"",x)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;r.location.assign(x)}s&&l&&l({action:a,location:y.location,delta:1})}function p(S,v){a=Qe.Replace;let w=Zu(y.location,S,v);u=h();let _=b_(w,u),x=y.createHref(w);o.replaceState(_,"",x),s&&l&&l({action:a,location:y.location,delta:0})}function g(S){let v=r.location.origin!=="null"?r.location.origin:r.location.href,w=typeof S=="string"?S:ya(S);return w=w.replace(/ $/,"%20"),he(v,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,v)}let y={get action(){return a},get location(){return n(r,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(S_,d),l=S,()=>{r.removeEventListener(S_,d),l=null}},createHref(S){return e(r,S)},createURL:g,encodeLocation(S){let v=g(S);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:p,go(S){return o.go(S)}};return y}var je;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(je||(je={}));const KP=new Set(["lazy","caseSensitive","path","id","index","children"]);function YP(n){return n.index===!0}function w0(n,e,t,i){return t===void 0&&(t=[]),i===void 0&&(i={}),n.map((r,s)=>{let o=[...t,s],a=typeof r.id=="string"?r.id:o.join("-");if(he(r.index!==!0||!r.children,"Cannot specify children on an index route"),he(!i[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),YP(r)){let l=Be({},r,e(r),{id:a});return i[a]=l,l}else{let l=Be({},r,e(r),{id:a,children:void 0});return i[a]=l,r.children&&(l.children=w0(r.children,e,o,i)),l}})}function el(n,e,t){t===void 0&&(t="/");let i=typeof e=="string"?Ns(e):e,r=Hc(i.pathname||"/",t);if(r==null)return null;let s=Nb(n);QP(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let l=cR(r);o=oR(s[a],l)}return o}function qP(n,e){let{route:t,pathname:i,params:r}=n;return{id:t.id,pathname:i,params:r,data:e[t.id],handle:t.handle}}function Nb(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(he(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let u=Tr([i,l.relativePath]),h=t.concat(l);s.children&&s.children.length>0&&(he(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Nb(s.children,e,h,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:rR(u,s.index),routesMeta:h})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of Ob(s.path))r(s,o,l)}),e}function Ob(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=Ob(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function QP(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:sR(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const JP=/^:[\w-]+$/,ZP=3,eR=2,tR=1,nR=10,iR=-2,x_=n=>n==="*";function rR(n,e){let t=n.split("/"),i=t.length;return t.some(x_)&&(i+=iR),e&&(i+=eR),t.filter(r=>!x_(r)).reduce((r,s)=>r+(JP.test(s)?ZP:s===""?tR:nR),i)}function sR(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function oR(n,e){let{routesMeta:t}=n,i={},r="/",s=[];for(let o=0;o<t.length;++o){let a=t[o],l=o===t.length-1,u=r==="/"?e:e.slice(r.length)||"/",h=aR({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!h)return null;Object.assign(i,h.params);let d=a.route;s.push({params:i,pathname:Tr([r,h.pathname]),pathnameBase:dR(Tr([r,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(r=Tr([r,h.pathnameBase]))}return s}function aR(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=lR(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((u,h,d)=>{let{paramName:f,isOptional:p}=h;if(f==="*"){let y=a[d]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const g=a[d];return p&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:n}}function lR(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Fc(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function cR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fc(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Hc(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function uR(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?Ns(n):n;return{pathname:t?t.startsWith("/")?t:hR(t,e):e,search:fR(i),hash:pR(r)}}function hR(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function vy(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jb(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function zE(n,e){let t=jb(n);return e?t.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function HE(n,e,t,i){i===void 0&&(i=!1);let r;typeof n=="string"?r=Ns(n):(r=Be({},n),he(!r.pathname||!r.pathname.includes("?"),vy("?","pathname","search",r)),he(!r.pathname||!r.pathname.includes("#"),vy("#","pathname","hash",r)),he(!r.search||!r.search.includes("#"),vy("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=t;else{let d=e.length-1;if(!i&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;r.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=uR(r,a),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const Tr=n=>n.join("/").replace(/\/\/+/g,"/"),dR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),fR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,pR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class BE{constructor(e,t,i,r){r===void 0&&(r=!1),this.status=e,this.statusText=t||"",this.internal=r,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function UE(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const zb=["post","put","patch","delete"],gR=new Set(zb),mR=["get",...zb],vR=new Set(mR),yR=new Set([301,302,303,307,308]),wR=new Set([307,308]),yy={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ER={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Jc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},$E=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,AR=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),Hb="remix-router-transitions";function _R(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",i=!t;he(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r;if(n.mapRouteProperties)r=n.mapRouteProperties;else if(n.detectErrorBoundary){let T=n.detectErrorBoundary;r=P=>({hasErrorBoundary:T(P)})}else r=AR;let s={},o=w0(n.routes,r,void 0,s),a,l=n.basename||"/",u=n.unstable_dataStrategy||CR,h=Be({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},n.future),d=null,f=new Set,p=null,g=null,y=null,S=n.hydrationData!=null,v=el(o,n.history.location,l),w=null;if(v==null){let T=Dn(404,{pathname:n.history.location.pathname}),{matches:P,route:D}=F_(o);v=P,w={[D.id]:T}}let _,x=v.some(T=>T.route.lazy),C=v.some(T=>T.route.loader);if(x)_=!1;else if(!C)_=!0;else if(h.v7_partialHydration){let T=n.hydrationData?n.hydrationData.loaderData:null,P=n.hydrationData?n.hydrationData.errors:null,D=z=>z.route.loader?typeof z.route.loader=="function"&&z.route.loader.hydrate===!0?!1:T&&T[z.route.id]!==void 0||P&&P[z.route.id]!==void 0:!0;if(P){let z=v.findIndex(V=>P[V.route.id]!==void 0);_=v.slice(0,z+1).every(D)}else _=v.every(D)}else _=n.hydrationData!=null;let k,b={historyAction:n.history.action,location:n.history.location,matches:v,initialized:_,navigation:yy,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||w,fetchers:new Map,blockers:new Map},L=Qe.Pop,N=!1,F,I=!1,K=new Map,B=null,$=!1,Q=!1,le=[],H=[],M=new Map,G=0,Y=-1,oe=new Map,J=new Set,fe=new Map,Ae=new Map,Me=new Set,_e=new Map,ie=new Map,ci=!1;function Hi(){if(d=n.history.listen(T=>{let{action:P,location:D,delta:z}=T;if(ci){ci=!1;return}Fc(ie.size===0||z!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let V=uA({currentLocation:b.location,nextLocation:D,historyAction:P});if(V&&z!=null){ci=!0,n.history.go(z*-1),Of(V,{state:"blocked",location:D,proceed(){Of(V,{state:"proceeding",proceed:void 0,reset:void 0,location:D}),n.history.go(z)},reset(){let ae=new Map(b.blockers);ae.set(V,Jc),Ze({blockers:ae})}});return}return ge(P,D)}),t){jR(e,K);let T=()=>zR(e,K);e.addEventListener("pagehide",T),B=()=>e.removeEventListener("pagehide",T)}return b.initialized||ge(Qe.Pop,b.location,{initialHydration:!0}),k}function Ne(){d&&d(),B&&B(),f.clear(),F&&F.abort(),b.fetchers.forEach((T,P)=>Ra(P)),b.blockers.forEach((T,P)=>cA(P))}function zs(T){return f.add(T),()=>f.delete(T)}function Ze(T,P){P===void 0&&(P={}),b=Be({},b,T);let D=[],z=[];h.v7_fetcherPersist&&b.fetchers.forEach((V,ae)=>{V.state==="idle"&&(Me.has(ae)?z.push(ae):D.push(ae))}),[...f].forEach(V=>V(b,{deletedFetchers:z,unstable_viewTransitionOpts:P.viewTransitionOpts,unstable_flushSync:P.flushSync===!0})),h.v7_fetcherPersist&&(D.forEach(V=>b.fetchers.delete(V)),z.forEach(V=>Ra(V)))}function et(T,P,D){var z,V;let{flushSync:ae}=D===void 0?{}:D,q=b.actionData!=null&&b.navigation.formMethod!=null&&ri(b.navigation.formMethod)&&b.navigation.state==="loading"&&((z=T.state)==null?void 0:z._isRedirect)!==!0,W;P.actionData?Object.keys(P.actionData).length>0?W=P.actionData:W=null:q?W=b.actionData:W=null;let ce=P.loaderData?D_(b.loaderData,P.loaderData,P.matches||[],P.errors):b.loaderData,re=b.blockers;re.size>0&&(re=new Map(re),re.forEach((te,Oe)=>re.set(Oe,Jc)));let vt=N===!0||b.navigation.formMethod!=null&&ri(b.navigation.formMethod)&&((V=T.state)==null?void 0:V._isRedirect)!==!0;a&&(o=a,a=void 0),$||L===Qe.Pop||(L===Qe.Push?n.history.push(T,T.state):L===Qe.Replace&&n.history.replace(T,T.state));let yt;if(L===Qe.Pop){let te=K.get(b.location.pathname);te&&te.has(T.pathname)?yt={currentLocation:b.location,nextLocation:T}:K.has(T.pathname)&&(yt={currentLocation:T,nextLocation:b.location})}else if(I){let te=K.get(b.location.pathname);te?te.add(T.pathname):(te=new Set([T.pathname]),K.set(b.location.pathname,te)),yt={currentLocation:b.location,nextLocation:T}}Ze(Be({},P,{actionData:W,loaderData:ce,historyAction:L,location:T,initialized:!0,navigation:yy,revalidation:"idle",restoreScrollPosition:dA(T,P.matches||b.matches),preventScrollReset:vt,blockers:re}),{viewTransitionOpts:yt,flushSync:ae===!0}),L=Qe.Pop,N=!1,I=!1,$=!1,Q=!1,le=[],H=[]}async function cn(T,P){if(typeof T=="number"){n.history.go(T);return}let D=E0(b.location,b.matches,l,h.v7_prependBasename,T,h.v7_relativeSplatPath,P==null?void 0:P.fromRouteId,P==null?void 0:P.relative),{path:z,submission:V,error:ae}=C_(h.v7_normalizeFormMethod,!1,D,P),q=b.location,W=Zu(b.location,z,P&&P.state);W=Be({},W,n.history.encodeLocation(W));let ce=P&&P.replace!=null?P.replace:void 0,re=Qe.Push;ce===!0?re=Qe.Replace:ce===!1||V!=null&&ri(V.formMethod)&&V.formAction===b.location.pathname+b.location.search&&(re=Qe.Replace);let vt=P&&"preventScrollReset"in P?P.preventScrollReset===!0:void 0,yt=(P&&P.unstable_flushSync)===!0,te=uA({currentLocation:q,nextLocation:W,historyAction:re});if(te){Of(te,{state:"blocked",location:W,proceed(){Of(te,{state:"proceeding",proceed:void 0,reset:void 0,location:W}),cn(T,P)},reset(){let Oe=new Map(b.blockers);Oe.set(te,Jc),Ze({blockers:Oe})}});return}return await ge(re,W,{submission:V,pendingError:ae,preventScrollReset:vt,replace:P&&P.replace,enableViewTransition:P&&P.unstable_viewTransition,flushSync:yt})}function ui(){if(Bc(),Ze({revalidation:"loading"}),b.navigation.state!=="submitting"){if(b.navigation.state==="idle"){ge(b.historyAction,b.location,{startUninterruptedRevalidation:!0});return}ge(L||b.historyAction,b.navigation.location,{overrideNavigation:b.navigation})}}async function ge(T,P,D){F&&F.abort(),F=null,L=T,$=(D&&D.startUninterruptedRevalidation)===!0,dk(b.location,b.matches),N=(D&&D.preventScrollReset)===!0,I=(D&&D.enableViewTransition)===!0;let z=a||o,V=D&&D.overrideNavigation,ae=el(z,P,l),q=(D&&D.flushSync)===!0;if(!ae){let te=Dn(404,{pathname:P.pathname}),{matches:Oe,route:ct}=F_(z);$v(),et(P,{matches:Oe,loaderData:{},errors:{[ct.id]:te}},{flushSync:q});return}if(b.initialized&&!Q&&MR(b.location,P)&&!(D&&D.submission&&ri(D.submission.formMethod))){et(P,{matches:ae},{flushSync:q});return}F=new AbortController;let W=Fa(n.history,P,F.signal,D&&D.submission),ce;if(D&&D.pendingError)ce=[Mu(ae).route.id,{type:je.error,error:D.pendingError}];else if(D&&D.submission&&ri(D.submission.formMethod)){let te=await mt(W,P,D.submission,ae,{replace:D.replace,flushSync:q});if(te.shortCircuited)return;ce=te.pendingActionResult,V=wy(P,D.submission),q=!1,W=Fa(n.history,W.url,W.signal)}let{shortCircuited:re,loaderData:vt,errors:yt}=await un(W,P,ae,V,D&&D.submission,D&&D.fetcherSubmission,D&&D.replace,D&&D.initialHydration===!0,q,ce);re||(F=null,et(P,Be({matches:ae},I_(ce),{loaderData:vt,errors:yt})))}async function mt(T,P,D,z,V){V===void 0&&(V={}),Bc();let ae=NR(P,D);Ze({navigation:ae},{flushSync:V.flushSync===!0});let q,W=_0(z,P);if(!W.route.action&&!W.route.lazy)q={type:je.error,error:Dn(405,{method:T.method,pathname:P.pathname,routeId:W.route.id})};else if(q=(await Bs("action",T,[W],z))[0],T.signal.aborted)return{shortCircuited:!0};if(no(q)){let ce;return V&&V.replace!=null?ce=V.replace:ce=R_(q.response.headers.get("Location"),new URL(T.url),l)===b.location.pathname+b.location.search,await Hs(T,q,{submission:D,replace:ce}),{shortCircuited:!0}}if(to(q))throw Dn(400,{type:"defer-action"});if(On(q)){let ce=Mu(z,W.route.id);return(V&&V.replace)!==!0&&(L=Qe.Push),{pendingActionResult:[ce.route.id,q]}}return{pendingActionResult:[W.route.id,q]}}async function un(T,P,D,z,V,ae,q,W,ce,re){let vt=z||wy(P,V),yt=V||ae||j_(vt),te=a||o,[Oe,ct]=k_(n.history,b,D,yt,P,h.v7_partialHydration&&W===!0,h.unstable_skipActionErrorRevalidation,Q,le,H,Me,fe,J,te,l,re);if($v(me=>!(D&&D.some(Ht=>Ht.route.id===me))||Oe&&Oe.some(Ht=>Ht.route.id===me)),Y=++G,Oe.length===0&&ct.length===0){let me=aA();return et(P,Be({matches:D,loaderData:{},errors:re&&On(re[1])?{[re[0]]:re[1].error}:null},I_(re),me?{fetchers:new Map(b.fetchers)}:{}),{flushSync:ce}),{shortCircuited:!0}}if(!$&&(!h.v7_partialHydration||!W)){ct.forEach(Ht=>{let kn=b.fetchers.get(Ht.key),wt=Zc(void 0,kn?kn.data:void 0);b.fetchers.set(Ht.key,wt)});let me;re&&!On(re[1])?me={[re[0]]:re[1].data}:b.actionData&&(Object.keys(b.actionData).length===0?me=null:me=b.actionData),Ze(Be({navigation:vt},me!==void 0?{actionData:me}:{},ct.length>0?{fetchers:new Map(b.fetchers)}:{}),{flushSync:ce})}ct.forEach(me=>{M.has(me.key)&&Cn(me.key),me.controller&&M.set(me.key,me.controller)});let Uc=()=>ct.forEach(me=>Cn(me.key));F&&F.signal.addEventListener("abort",Uc);let{loaderResults:Or,fetcherResults:La}=await Us(b.matches,D,Oe,ct,T);if(T.signal.aborted)return{shortCircuited:!0};F&&F.signal.removeEventListener("abort",Uc),ct.forEach(me=>M.delete(me.key));let Ma=N_([...Or,...La]);if(Ma){if(Ma.idx>=Oe.length){let me=ct[Ma.idx-Oe.length].key;J.add(me)}return await Hs(T,Ma.result,{replace:q}),{shortCircuited:!0}}let{loaderData:Da,errors:fi}=M_(b,D,Oe,Or,re,ct,La,_e);_e.forEach((me,Ht)=>{me.subscribe(kn=>{(kn||me.done)&&_e.delete(Ht)})}),h.v7_partialHydration&&W&&b.errors&&Object.entries(b.errors).filter(me=>{let[Ht]=me;return!Oe.some(kn=>kn.route.id===Ht)}).forEach(me=>{let[Ht,kn]=me;fi=Object.assign(fi||{},{[Ht]:kn})});let jf=aA(),zf=lA(Y),Hf=jf||zf||ct.length>0;return Be({loaderData:Da,errors:fi},Hf?{fetchers:new Map(b.fetchers)}:{})}function hi(T,P,D,z){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");M.has(T)&&Cn(T);let V=(z&&z.unstable_flushSync)===!0,ae=a||o,q=E0(b.location,b.matches,l,h.v7_prependBasename,D,h.v7_relativeSplatPath,P,z==null?void 0:z.relative),W=el(ae,q,l);if(!W){$s(T,P,Dn(404,{pathname:q}),{flushSync:V});return}let{path:ce,submission:re,error:vt}=C_(h.v7_normalizeFormMethod,!0,q,z);if(vt){$s(T,P,vt,{flushSync:V});return}let yt=_0(W,ce);if(N=(z&&z.preventScrollReset)===!0,re&&ri(re.formMethod)){Pa(T,P,ce,yt,W,V,re);return}fe.set(T,{routeId:P,path:ce}),Uv(T,P,ce,yt,W,V,re)}async function Pa(T,P,D,z,V,ae,q){if(Bc(),fe.delete(T),!z.route.action&&!z.route.lazy){let wt=Dn(405,{method:q.formMethod,pathname:D,routeId:P});$s(T,P,wt,{flushSync:ae});return}let W=b.fetchers.get(T);di(T,OR(q,W),{flushSync:ae});let ce=new AbortController,re=Fa(n.history,D,ce.signal,q);M.set(T,ce);let vt=G,te=(await Bs("action",re,[z],V))[0];if(re.signal.aborted){M.get(T)===ce&&M.delete(T);return}if(h.v7_fetcherPersist&&Me.has(T)){if(no(te)||On(te)){di(T,zr(void 0));return}}else{if(no(te))if(M.delete(T),Y>vt){di(T,zr(void 0));return}else return J.add(T),di(T,Zc(q)),Hs(re,te,{fetcherSubmission:q});if(On(te)){$s(T,P,te.error);return}}if(to(te))throw Dn(400,{type:"defer-action"});let Oe=b.navigation.location||b.location,ct=Fa(n.history,Oe,ce.signal),Uc=a||o,Or=b.navigation.state!=="idle"?el(Uc,b.navigation.location,l):b.matches;he(Or,"Didn't find any matches after fetcher action");let La=++G;oe.set(T,La);let Ma=Zc(q,te.data);b.fetchers.set(T,Ma);let[Da,fi]=k_(n.history,b,Or,q,Oe,!1,h.unstable_skipActionErrorRevalidation,Q,le,H,Me,fe,J,Uc,l,[z.route.id,te]);fi.filter(wt=>wt.key!==T).forEach(wt=>{let $c=wt.key,fA=b.fetchers.get($c),pk=Zc(void 0,fA?fA.data:void 0);b.fetchers.set($c,pk),M.has($c)&&Cn($c),wt.controller&&M.set($c,wt.controller)}),Ze({fetchers:new Map(b.fetchers)});let jf=()=>fi.forEach(wt=>Cn(wt.key));ce.signal.addEventListener("abort",jf);let{loaderResults:zf,fetcherResults:Hf}=await Us(b.matches,Or,Da,fi,ct);if(ce.signal.aborted)return;ce.signal.removeEventListener("abort",jf),oe.delete(T),M.delete(T),fi.forEach(wt=>M.delete(wt.key));let me=N_([...zf,...Hf]);if(me){if(me.idx>=Da.length){let wt=fi[me.idx-Da.length].key;J.add(wt)}return Hs(ct,me.result)}let{loaderData:Ht,errors:kn}=M_(b,b.matches,Da,zf,void 0,fi,Hf,_e);if(b.fetchers.has(T)){let wt=zr(te.data);b.fetchers.set(T,wt)}lA(La),b.navigation.state==="loading"&&La>Y?(he(L,"Expected pending action"),F&&F.abort(),et(b.navigation.location,{matches:Or,loaderData:Ht,errors:kn,fetchers:new Map(b.fetchers)})):(Ze({errors:kn,loaderData:D_(b.loaderData,Ht,Or,kn),fetchers:new Map(b.fetchers)}),Q=!1)}async function Uv(T,P,D,z,V,ae,q){let W=b.fetchers.get(T);di(T,Zc(q,W?W.data:void 0),{flushSync:ae});let ce=new AbortController,re=Fa(n.history,D,ce.signal);M.set(T,ce);let vt=G,te=(await Bs("loader",re,[z],V))[0];if(to(te)&&(te=await Vb(te,re.signal,!0)||te),M.get(T)===ce&&M.delete(T),!re.signal.aborted){if(Me.has(T)){di(T,zr(void 0));return}if(no(te))if(Y>vt){di(T,zr(void 0));return}else{J.add(T),await Hs(re,te);return}if(On(te)){$s(T,P,te.error);return}he(!to(te),"Unhandled fetcher deferred data"),di(T,zr(te.data))}}async function Hs(T,P,D){let{submission:z,fetcherSubmission:V,replace:ae}=D===void 0?{}:D;P.response.headers.has("X-Remix-Revalidate")&&(Q=!0);let q=P.response.headers.get("Location");he(q,"Expected a Location header on the redirect Response"),q=R_(q,new URL(T.url),l);let W=Zu(b.location,q,{_isRedirect:!0});if(t){let Oe=!1;if(P.response.headers.has("X-Remix-Reload-Document"))Oe=!0;else if($E.test(q)){const ct=n.history.createURL(q);Oe=ct.origin!==e.location.origin||Hc(ct.pathname,l)==null}if(Oe){ae?e.location.replace(q):e.location.assign(q);return}}F=null;let ce=ae===!0?Qe.Replace:Qe.Push,{formMethod:re,formAction:vt,formEncType:yt}=b.navigation;!z&&!V&&re&&vt&&yt&&(z=j_(b.navigation));let te=z||V;if(wR.has(P.response.status)&&te&&ri(te.formMethod))await ge(ce,W,{submission:Be({},te,{formAction:q}),preventScrollReset:N});else{let Oe=wy(W,z);await ge(ce,W,{overrideNavigation:Oe,fetcherSubmission:V,preventScrollReset:N})}}async function Bs(T,P,D,z){try{let V=await kR(u,T,P,D,z,s,r);return await Promise.all(V.map((ae,q)=>{if(DR(ae)){let W=ae.result;return{type:je.redirect,response:RR(W,P,D[q].route.id,z,l,h.v7_relativeSplatPath)}}return PR(ae)}))}catch(V){return D.map(()=>({type:je.error,error:V}))}}async function Us(T,P,D,z,V){let[ae,...q]=await Promise.all([D.length?Bs("loader",V,D,P):[],...z.map(W=>{if(W.matches&&W.match&&W.controller){let ce=Fa(n.history,W.path,W.controller.signal);return Bs("loader",ce,[W.match],W.matches).then(re=>re[0])}else return Promise.resolve({type:je.error,error:Dn(404,{pathname:W.path})})})]);return await Promise.all([O_(T,D,ae,ae.map(()=>V.signal),!1,b.loaderData),O_(T,z.map(W=>W.match),q,z.map(W=>W.controller?W.controller.signal:null),!0)]),{loaderResults:ae,fetcherResults:q}}function Bc(){Q=!0,le.push(...$v()),fe.forEach((T,P)=>{M.has(P)&&(H.push(P),Cn(P))})}function di(T,P,D){D===void 0&&(D={}),b.fetchers.set(T,P),Ze({fetchers:new Map(b.fetchers)},{flushSync:(D&&D.flushSync)===!0})}function $s(T,P,D,z){z===void 0&&(z={});let V=Mu(b.matches,P);Ra(T),Ze({errors:{[V.route.id]:D},fetchers:new Map(b.fetchers)},{flushSync:(z&&z.flushSync)===!0})}function Nf(T){return h.v7_fetcherPersist&&(Ae.set(T,(Ae.get(T)||0)+1),Me.has(T)&&Me.delete(T)),b.fetchers.get(T)||ER}function Ra(T){let P=b.fetchers.get(T);M.has(T)&&!(P&&P.state==="loading"&&oe.has(T))&&Cn(T),fe.delete(T),oe.delete(T),J.delete(T),Me.delete(T),b.fetchers.delete(T)}function Nr(T){if(h.v7_fetcherPersist){let P=(Ae.get(T)||0)-1;P<=0?(Ae.delete(T),Me.add(T)):Ae.set(T,P)}else Ra(T);Ze({fetchers:new Map(b.fetchers)})}function Cn(T){let P=M.get(T);he(P,"Expected fetch controller: "+T),P.abort(),M.delete(T)}function Bi(T){for(let P of T){let D=Nf(P),z=zr(D.data);b.fetchers.set(P,z)}}function aA(){let T=[],P=!1;for(let D of J){let z=b.fetchers.get(D);he(z,"Expected fetcher: "+D),z.state==="loading"&&(J.delete(D),T.push(D),P=!0)}return Bi(T),P}function lA(T){let P=[];for(let[D,z]of oe)if(z<T){let V=b.fetchers.get(D);he(V,"Expected fetcher: "+D),V.state==="loading"&&(Cn(D),oe.delete(D),P.push(D))}return Bi(P),P.length>0}function uk(T,P){let D=b.blockers.get(T)||Jc;return ie.get(T)!==P&&ie.set(T,P),D}function cA(T){b.blockers.delete(T),ie.delete(T)}function Of(T,P){let D=b.blockers.get(T)||Jc;he(D.state==="unblocked"&&P.state==="blocked"||D.state==="blocked"&&P.state==="blocked"||D.state==="blocked"&&P.state==="proceeding"||D.state==="blocked"&&P.state==="unblocked"||D.state==="proceeding"&&P.state==="unblocked","Invalid blocker state transition: "+D.state+" -> "+P.state);let z=new Map(b.blockers);z.set(T,P),Ze({blockers:z})}function uA(T){let{currentLocation:P,nextLocation:D,historyAction:z}=T;if(ie.size===0)return;ie.size>1&&Fc(!1,"A router only supports one blocker at a time");let V=Array.from(ie.entries()),[ae,q]=V[V.length-1],W=b.blockers.get(ae);if(!(W&&W.state==="proceeding")&&q({currentLocation:P,nextLocation:D,historyAction:z}))return ae}function $v(T){let P=[];return _e.forEach((D,z)=>{(!T||T(z))&&(D.cancel(),P.push(z),_e.delete(z))}),P}function hk(T,P,D){if(p=T,y=P,g=D||null,!S&&b.navigation===yy){S=!0;let z=dA(b.location,b.matches);z!=null&&Ze({restoreScrollPosition:z})}return()=>{p=null,y=null,g=null}}function hA(T,P){return g&&g(T,P.map(z=>qP(z,b.loaderData)))||T.key}function dk(T,P){if(p&&y){let D=hA(T,P);p[D]=y()}}function dA(T,P){if(p){let D=hA(T,P),z=p[D];if(typeof z=="number")return z}return null}function fk(T){s={},a=w0(T,r,void 0,s)}return k={get basename(){return l},get future(){return h},get state(){return b},get routes(){return o},get window(){return e},initialize:Hi,subscribe:zs,enableScrollRestoration:hk,navigate:cn,fetch:hi,revalidate:ui,createHref:T=>n.history.createHref(T),encodeLocation:T=>n.history.encodeLocation(T),getFetcher:Nf,deleteFetcher:Nr,dispose:Ne,getBlocker:uk,deleteBlocker:cA,_internalFetchControllers:M,_internalActiveDeferreds:_e,_internalSetRoutes:fk},k}function SR(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function E0(n,e,t,i,r,s,o,a){let l,u;if(o){l=[];for(let d of e)if(l.push(d),d.route.id===o){u=d;break}}else l=e,u=e[e.length-1];let h=HE(r||".",zE(l,s),Hc(n.pathname,t)||n.pathname,a==="path");return r==null&&(h.search=n.search,h.hash=n.hash),(r==null||r===""||r===".")&&u&&u.route.index&&!VE(h.search)&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),i&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Tr([t,h.pathname])),ya(h)}function C_(n,e,t,i){if(!i||!SR(i))return{path:t};if(i.formMethod&&!FR(i.formMethod))return{path:t,error:Dn(405,{method:i.formMethod})};let r=()=>({path:t,error:Dn(400,{type:"invalid-body"})}),s=i.formMethod||"get",o=n?s.toUpperCase():s.toLowerCase(),a=Ub(t);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!ri(o))return r();let f=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((p,g)=>{let[y,S]=g;return""+p+y+"="+S+`
`},""):String(i.body);return{path:t,submission:{formMethod:o,formAction:a,formEncType:i.formEncType,formData:void 0,json:void 0,text:f}}}else if(i.formEncType==="application/json"){if(!ri(o))return r();try{let f=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:t,submission:{formMethod:o,formAction:a,formEncType:i.formEncType,formData:void 0,json:f,text:void 0}}}catch{return r()}}}he(typeof FormData=="function","FormData is not available in this environment");let l,u;if(i.formData)l=A0(i.formData),u=i.formData;else if(i.body instanceof FormData)l=A0(i.body),u=i.body;else if(i.body instanceof URLSearchParams)l=i.body,u=L_(l);else if(i.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(i.body),u=L_(l)}catch{return r()}let h={formMethod:o,formAction:a,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(ri(h.formMethod))return{path:t,submission:h};let d=Ns(t);return e&&d.search&&VE(d.search)&&l.append("index",""),d.search="?"+l,{path:ya(d),submission:h}}function bR(n,e){let t=n;if(e){let i=n.findIndex(r=>r.route.id===e);i>=0&&(t=n.slice(0,i))}return t}function k_(n,e,t,i,r,s,o,a,l,u,h,d,f,p,g,y){let S=y?On(y[1])?y[1].error:y[1].data:void 0,v=n.createURL(e.location),w=n.createURL(r),_=y&&On(y[1])?y[0]:void 0,x=_?bR(t,_):t,C=y?y[1].statusCode:void 0,k=o&&C&&C>=400,b=x.filter((N,F)=>{let{route:I}=N;if(I.lazy)return!0;if(I.loader==null)return!1;if(s)return typeof I.loader!="function"||I.loader.hydrate?!0:e.loaderData[I.id]===void 0&&(!e.errors||e.errors[I.id]===void 0);if(xR(e.loaderData,e.matches[F],N)||l.some($=>$===N.route.id))return!0;let K=e.matches[F],B=N;return T_(N,Be({currentUrl:v,currentParams:K.params,nextUrl:w,nextParams:B.params},i,{actionResult:S,unstable_actionStatus:C,defaultShouldRevalidate:k?!1:a||v.pathname+v.search===w.pathname+w.search||v.search!==w.search||Bb(K,B)}))}),L=[];return d.forEach((N,F)=>{if(s||!t.some(Q=>Q.route.id===N.routeId)||h.has(F))return;let I=el(p,N.path,g);if(!I){L.push({key:F,routeId:N.routeId,path:N.path,matches:null,match:null,controller:null});return}let K=e.fetchers.get(F),B=_0(I,N.path),$=!1;f.has(F)?$=!1:u.includes(F)?$=!0:K&&K.state!=="idle"&&K.data===void 0?$=a:$=T_(B,Be({currentUrl:v,currentParams:e.matches[e.matches.length-1].params,nextUrl:w,nextParams:t[t.length-1].params},i,{actionResult:S,unstable_actionStatus:C,defaultShouldRevalidate:k?!1:a})),$&&L.push({key:F,routeId:N.routeId,path:N.path,matches:I,match:B,controller:new AbortController})}),[b,L]}function xR(n,e,t){let i=!e||t.route.id!==e.route.id,r=n[t.route.id]===void 0;return i||r}function Bb(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function T_(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}async function P_(n,e,t){if(!n.lazy)return;let i=await n.lazy();if(!n.lazy)return;let r=t[n.id];he(r,"No route found in manifest");let s={};for(let o in i){let l=r[o]!==void 0&&o!=="hasErrorBoundary";Fc(!l,'Route "'+r.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!KP.has(o)&&(s[o]=i[o])}Object.assign(r,s),Object.assign(r,Be({},e(r),{lazy:void 0}))}function CR(n){return Promise.all(n.matches.map(e=>e.resolve()))}async function kR(n,e,t,i,r,s,o,a){let l=i.reduce((d,f)=>d.add(f.route.id),new Set),u=new Set,h=await n({matches:r.map(d=>{let f=l.has(d.route.id);return Be({},d,{shouldLoad:f,resolve:g=>(u.add(d.route.id),f?TR(e,t,d,s,o,g,a):Promise.resolve({type:je.data,result:void 0}))})}),request:t,params:r[0].params,context:a});return r.forEach(d=>he(u.has(d.route.id),'`match.resolve()` was not called for route id "'+d.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),h.filter((d,f)=>l.has(r[f].route.id))}async function TR(n,e,t,i,r,s,o){let a,l,u=h=>{let d,f=new Promise((y,S)=>d=S);l=()=>d(),e.signal.addEventListener("abort",l);let p=y=>typeof h!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+n+'" [routeId: '+t.route.id+"]"))):h({request:e,params:t.params,context:o},...y!==void 0?[y]:[]),g;return s?g=s(y=>p(y)):g=(async()=>{try{return{type:"data",result:await p()}}catch(y){return{type:"error",result:y}}})(),Promise.race([g,f])};try{let h=t.route[n];if(t.route.lazy)if(h){let d,[f]=await Promise.all([u(h).catch(p=>{d=p}),P_(t.route,r,i)]);if(d!==void 0)throw d;a=f}else if(await P_(t.route,r,i),h=t.route[n],h)a=await u(h);else if(n==="action"){let d=new URL(e.url),f=d.pathname+d.search;throw Dn(405,{method:e.method,pathname:f,routeId:t.route.id})}else return{type:je.data,result:void 0};else if(h)a=await u(h);else{let d=new URL(e.url),f=d.pathname+d.search;throw Dn(404,{pathname:f})}he(a.result!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(h){return{type:je.error,result:h}}finally{l&&e.signal.removeEventListener("abort",l)}return a}async function PR(n){let{result:e,type:t,status:i}=n;if($b(e)){let o;try{let a=e.headers.get("Content-Type");a&&/\bapplication\/json\b/.test(a)?e.body==null?o=null:o=await e.json():o=await e.text()}catch(a){return{type:je.error,error:a}}return t===je.error?{type:je.error,error:new BE(e.status,e.statusText,o),statusCode:e.status,headers:e.headers}:{type:je.data,data:o,statusCode:e.status,headers:e.headers}}if(t===je.error)return{type:je.error,error:e,statusCode:UE(e)?e.status:i};if(IR(e)){var r,s;return{type:je.deferred,deferredData:e,statusCode:(r=e.init)==null?void 0:r.status,headers:((s=e.init)==null?void 0:s.headers)&&new Headers(e.init.headers)}}return{type:je.data,data:e,statusCode:i}}function RR(n,e,t,i,r,s){let o=n.headers.get("Location");if(he(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!$E.test(o)){let a=i.slice(0,i.findIndex(l=>l.route.id===t)+1);o=E0(new URL(e.url),a,r,!0,o,s),n.headers.set("Location",o)}return n}function R_(n,e,t){if($E.test(n)){let i=n,r=i.startsWith("//")?new URL(e.protocol+i):new URL(i),s=Hc(r.pathname,t)!=null;if(r.origin===e.origin&&s)return r.pathname+r.search+r.hash}return n}function Fa(n,e,t,i){let r=n.createURL(Ub(e)).toString(),s={signal:t};if(i&&ri(i.formMethod)){let{formMethod:o,formEncType:a}=i;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(i.json)):a==="text/plain"?s.body=i.text:a==="application/x-www-form-urlencoded"&&i.formData?s.body=A0(i.formData):s.body=i.formData}return new Request(r,s)}function A0(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function L_(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function LR(n,e,t,i,r,s){let o={},a=null,l,u=!1,h={},d=i&&On(i[1])?i[1].error:void 0;return t.forEach((f,p)=>{let g=e[p].route.id;if(he(!no(f),"Cannot handle redirect results in processLoaderData"),On(f)){let y=f.error;d!==void 0&&(y=d,d=void 0),a=a||{};{let S=Mu(n,g);a[S.route.id]==null&&(a[S.route.id]=y)}o[g]=void 0,u||(u=!0,l=UE(f.error)?f.error.status:500),f.headers&&(h[g]=f.headers)}else to(f)?(r.set(g,f.deferredData),o[g]=f.deferredData.data,f.statusCode!=null&&f.statusCode!==200&&!u&&(l=f.statusCode),f.headers&&(h[g]=f.headers)):(o[g]=f.data,f.statusCode&&f.statusCode!==200&&!u&&(l=f.statusCode),f.headers&&(h[g]=f.headers))}),d!==void 0&&i&&(a={[i[0]]:d},o[i[0]]=void 0),{loaderData:o,errors:a,statusCode:l||200,loaderHeaders:h}}function M_(n,e,t,i,r,s,o,a){let{loaderData:l,errors:u}=LR(e,t,i,r,a);for(let h=0;h<s.length;h++){let{key:d,match:f,controller:p}=s[h];he(o!==void 0&&o[h]!==void 0,"Did not find corresponding fetcher result");let g=o[h];if(!(p&&p.signal.aborted))if(On(g)){let y=Mu(n.matches,f==null?void 0:f.route.id);u&&u[y.route.id]||(u=Be({},u,{[y.route.id]:g.error})),n.fetchers.delete(d)}else if(no(g))he(!1,"Unhandled fetcher revalidation redirect");else if(to(g))he(!1,"Unhandled fetcher deferred data");else{let y=zr(g.data);n.fetchers.set(d,y)}}return{loaderData:l,errors:u}}function D_(n,e,t,i){let r=Be({},e);for(let s of t){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(r[o]=e[o]):n[o]!==void 0&&s.route.loader&&(r[o]=n[o]),i&&i.hasOwnProperty(o))break}return r}function I_(n){return n?On(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Mu(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function F_(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Dn(n,e){let{pathname:t,routeId:i,method:r,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return n===400?(o="Bad Request",r&&t&&i?a="You made a "+r+' request to "'+t+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":s==="defer-action"?a="defer() is not supported in actions":s==="invalid-body"&&(a="Unable to encode submission body")):n===403?(o="Forbidden",a='Route "'+i+'" does not match URL "'+t+'"'):n===404?(o="Not Found",a='No route matches URL "'+t+'"'):n===405&&(o="Method Not Allowed",r&&t&&i?a="You made a "+r.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":r&&(a='Invalid request method "'+r.toUpperCase()+'"')),new BE(n||500,o,new Error(a),!0)}function N_(n){for(let e=n.length-1;e>=0;e--){let t=n[e];if(no(t))return{result:t,idx:e}}}function Ub(n){let e=typeof n=="string"?Ns(n):n;return ya(Be({},e,{hash:""}))}function MR(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function DR(n){return $b(n.result)&&yR.has(n.result.status)}function to(n){return n.type===je.deferred}function On(n){return n.type===je.error}function no(n){return(n&&n.type)===je.redirect}function IR(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function $b(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function FR(n){return vR.has(n.toLowerCase())}function ri(n){return gR.has(n.toLowerCase())}async function O_(n,e,t,i,r,s){for(let o=0;o<t.length;o++){let a=t[o],l=e[o];if(!l)continue;let u=n.find(d=>d.route.id===l.route.id),h=u!=null&&!Bb(u,l)&&(s&&s[l.route.id])!==void 0;if(to(a)&&(r||h)){let d=i[o];he(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await Vb(a,d,r).then(f=>{f&&(t[o]=f||t[o])})}}}async function Vb(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:je.data,data:n.deferredData.unwrappedData}}catch(r){return{type:je.error,error:r}}return{type:je.data,data:n.deferredData.data}}}function VE(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function _0(n,e){let t=typeof e=="string"?Ns(e).search:e.search;if(n[n.length-1].route.index&&VE(t||""))return n[n.length-1];let i=jb(n);return i[i.length-1]}function j_(n){let{formMethod:e,formAction:t,formEncType:i,text:r,formData:s,json:o}=n;if(!(!e||!t||!i)){if(r!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:r};if(s!=null)return{formMethod:e,formAction:t,formEncType:i,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:o,text:void 0}}}function wy(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function NR(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Zc(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function OR(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function zr(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function jR(n,e){try{let t=n.sessionStorage.getItem(Hb);if(t){let i=JSON.parse(t);for(let[r,s]of Object.entries(i||{}))s&&Array.isArray(s)&&e.set(r,new Set(s||[]))}}catch{}}function zR(n,e){if(e.size>0){let t={};for(let[i,r]of e)t[i]=[...r];try{n.sessionStorage.setItem(Hb,JSON.stringify(t))}catch(i){Fc(!1,"Failed to save applied view transitions in sessionStorage ("+i+").")}}}/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yg(){return yg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},yg.apply(this,arguments)}const Cv=R.createContext(null),Wb=R.createContext(null),xa=R.createContext(null),WE=R.createContext(null),Os=R.createContext({outlet:null,matches:[],isDataRoute:!1}),Gb=R.createContext(null);function HR(n,e){let{relative:t}=e===void 0?{}:e;Pf()||he(!1);let{basename:i,navigator:r}=R.useContext(xa),{hash:s,pathname:o,search:a}=Kb(n,{relative:t}),l=o;return i!=="/"&&(l=o==="/"?i:Tr([i,o])),r.createHref({pathname:l,search:a,hash:s})}function Pf(){return R.useContext(WE)!=null}function Rf(){return Pf()||he(!1),R.useContext(WE).location}function Xb(n){R.useContext(xa).static||R.useLayoutEffect(n)}function BR(){let{isDataRoute:n}=R.useContext(Os);return n?tL():UR()}function UR(){Pf()||he(!1);let n=R.useContext(Cv),{basename:e,future:t,navigator:i}=R.useContext(xa),{matches:r}=R.useContext(Os),{pathname:s}=Rf(),o=JSON.stringify(zE(r,t.v7_relativeSplatPath)),a=R.useRef(!1);return Xb(()=>{a.current=!0}),R.useCallback(function(u,h){if(h===void 0&&(h={}),!a.current)return;if(typeof u=="number"){i.go(u);return}let d=HE(u,JSON.parse(o),s,h.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Tr([e,d.pathname])),(h.replace?i.replace:i.push)(d,h.state,h)},[e,i,o,s,n])}const $R=R.createContext(null);function VR(n){let e=R.useContext(Os).outlet;return e&&R.createElement($R.Provider,{value:n},e)}function Kb(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=R.useContext(xa),{matches:r}=R.useContext(Os),{pathname:s}=Rf(),o=JSON.stringify(zE(r,i.v7_relativeSplatPath));return R.useMemo(()=>HE(n,JSON.parse(o),s,t==="path"),[n,o,s,t])}function WR(n,e,t,i){Pf()||he(!1);let{navigator:r}=R.useContext(xa),{matches:s}=R.useContext(Os),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Rf(),h;h=u;let d=h.pathname||"/",f=d;if(l!=="/"){let y=l.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=el(n,{pathname:f});return qR(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:Tr([l,r.encodeLocation?r.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Tr([l,r.encodeLocation?r.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,t,i)}function GR(){let n=eL(),e=UE(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),t?R.createElement("pre",{style:r},t):null,null)}const XR=R.createElement(GR,null);class KR extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?R.createElement(Os.Provider,{value:this.props.routeContext},R.createElement(Gb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function YR(n){let{routeContext:e,match:t,children:i}=n,r=R.useContext(Cv);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),R.createElement(Os.Provider,{value:e},i)}function qR(n,e,t,i){var r;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var s;if((s=t)!=null&&s.errors)n=t.matches;else return null}let o=n,a=(r=t)==null?void 0:r.errors;if(a!=null){let h=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);h>=0||he(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,u=-1;if(t&&i&&i.v7_partialHydration)for(let h=0;h<o.length;h++){let d=o[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=h),d.route.id){let{loaderData:f,errors:p}=t,g=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,d,f)=>{let p,g=!1,y=null,S=null;t&&(p=a&&d.route.id?a[d.route.id]:void 0,y=d.route.errorElement||XR,l&&(u<0&&f===0?(nL("route-fallback"),g=!0,S=null):u===f&&(g=!0,S=d.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,f+1)),w=()=>{let _;return p?_=y:g?_=S:d.route.Component?_=R.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=h,R.createElement(YR,{match:d,routeContext:{outlet:h,matches:v,isDataRoute:t!=null},children:_})};return t&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?R.createElement(KR,{location:t.location,revalidation:t.revalidation,component:y,error:p,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}var Yb=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(Yb||{}),wg=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(wg||{});function QR(n){let e=R.useContext(Cv);return e||he(!1),e}function JR(n){let e=R.useContext(Wb);return e||he(!1),e}function ZR(n){let e=R.useContext(Os);return e||he(!1),e}function qb(n){let e=ZR(),t=e.matches[e.matches.length-1];return t.route.id||he(!1),t.route.id}function eL(){var n;let e=R.useContext(Gb),t=JR(wg.UseRouteError),i=qb(wg.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function tL(){let{router:n}=QR(Yb.UseNavigateStable),e=qb(wg.UseNavigateStable),t=R.useRef(!1);return Xb(()=>{t.current=!0}),R.useCallback(function(r,s){s===void 0&&(s={}),t.current&&(typeof r=="number"?n.navigate(r):n.navigate(r,yg({fromRouteId:e},s)))},[n,e])}const z_={};function nL(n,e,t){z_[n]||(z_[n]=!0)}function iL(n){return VR(n.context)}function rL(n){let{basename:e="/",children:t=null,location:i,navigationType:r=Qe.Pop,navigator:s,static:o=!1,future:a}=n;Pf()&&he(!1);let l=e.replace(/^\/*/,"/"),u=R.useMemo(()=>({basename:l,navigator:s,static:o,future:yg({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof i=="string"&&(i=Ns(i));let{pathname:h="/",search:d="",hash:f="",state:p=null,key:g="default"}=i,y=R.useMemo(()=>{let S=Hc(h,l);return S==null?null:{location:{pathname:S,search:d,hash:f,state:p,key:g},navigationType:r}},[l,h,d,f,p,g,r]);return y==null?null:R.createElement(xa.Provider,{value:u},R.createElement(WE.Provider,{children:t,value:y}))}new Promise(()=>{});function sL(n){let e={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(e,{element:R.createElement(n.Component),Component:void 0}),n.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:R.createElement(n.HydrateFallback),HydrateFallback:void 0}),n.ErrorBoundary&&Object.assign(e,{errorElement:R.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eh(){return eh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},eh.apply(this,arguments)}function oL(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function aL(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function lL(n,e){return n.button===0&&(!e||e==="_self")&&!aL(n)}const cL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],uL="6";try{window.__reactRouterVersion=uL}catch{}function hL(n,e){return _R({basename:void 0,future:eh({},void 0,{v7_prependBasename:!0}),history:WP({window:void 0}),hydrationData:dL(),routes:n,mapRouteProperties:sL,unstable_dataStrategy:void 0,window:void 0}).initialize()}function dL(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=eh({},e,{errors:fL(e.errors)})),e}function fL(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,r]of e)if(r&&r.__type==="RouteErrorResponse")t[i]=new BE(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){if(r.__subType){let s=window[r.__subType];if(typeof s=="function")try{let o=new s(r.message);o.stack="",t[i]=o}catch{}}if(t[i]==null){let s=new Error(r.message);s.stack="",t[i]=s}}else t[i]=r;return t}const pL=R.createContext({isTransitioning:!1}),gL=R.createContext(new Map),mL="startTransition",H_=Mk[mL],vL="flushSync",B_=VP[vL];function yL(n){H_?H_(n):n()}function eu(n){B_?B_(n):n()}class wL{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}}function EL(n){let{fallbackElement:e,router:t,future:i}=n,[r,s]=R.useState(t.state),[o,a]=R.useState(),[l,u]=R.useState({isTransitioning:!1}),[h,d]=R.useState(),[f,p]=R.useState(),[g,y]=R.useState(),S=R.useRef(new Map),{v7_startTransition:v}=i||{},w=R.useCallback(b=>{v?yL(b):b()},[v]),_=R.useCallback((b,L)=>{let{deletedFetchers:N,unstable_flushSync:F,unstable_viewTransitionOpts:I}=L;N.forEach(B=>S.current.delete(B)),b.fetchers.forEach((B,$)=>{B.data!==void 0&&S.current.set($,B.data)});let K=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!I||K){F?eu(()=>s(b)):w(()=>s(b));return}if(F){eu(()=>{f&&(h&&h.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:I.currentLocation,nextLocation:I.nextLocation})});let B=t.window.document.startViewTransition(()=>{eu(()=>s(b))});B.finished.finally(()=>{eu(()=>{d(void 0),p(void 0),a(void 0),u({isTransitioning:!1})})}),eu(()=>p(B));return}f?(h&&h.resolve(),f.skipTransition(),y({state:b,currentLocation:I.currentLocation,nextLocation:I.nextLocation})):(a(b),u({isTransitioning:!0,flushSync:!1,currentLocation:I.currentLocation,nextLocation:I.nextLocation}))},[t.window,f,h,S,w]);R.useLayoutEffect(()=>t.subscribe(_),[t,_]),R.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new wL)},[l]),R.useEffect(()=>{if(h&&o&&t.window){let b=o,L=h.promise,N=t.window.document.startViewTransition(async()=>{w(()=>s(b)),await L});N.finished.finally(()=>{d(void 0),p(void 0),a(void 0),u({isTransitioning:!1})}),p(N)}},[w,o,h,t.window]),R.useEffect(()=>{h&&o&&r.location.key===o.location.key&&h.resolve()},[h,f,r.location,o]),R.useEffect(()=>{!l.isTransitioning&&g&&(a(g.state),u({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),y(void 0))},[l.isTransitioning,g]),R.useEffect(()=>{},[]);let x=R.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:b=>t.navigate(b),push:(b,L,N)=>t.navigate(b,{state:L,preventScrollReset:N==null?void 0:N.preventScrollReset}),replace:(b,L,N)=>t.navigate(b,{replace:!0,state:L,preventScrollReset:N==null?void 0:N.preventScrollReset})}),[t]),C=t.basename||"/",k=R.useMemo(()=>({router:t,navigator:x,static:!1,basename:C}),[t,x,C]);return R.createElement(R.Fragment,null,R.createElement(Cv.Provider,{value:k},R.createElement(Wb.Provider,{value:r},R.createElement(gL.Provider,{value:S.current},R.createElement(pL.Provider,{value:l},R.createElement(rL,{basename:C,location:r.location,navigationType:r.historyAction,navigator:x,future:{v7_relativeSplatPath:t.future.v7_relativeSplatPath}},r.initialized||t.future.v7_partialHydration?R.createElement(AL,{routes:t.routes,future:t.future,state:r}):e))))),null)}function AL(n){let{routes:e,future:t,state:i}=n;return WR(e,void 0,i,t)}const _L=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",SL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qb=R.forwardRef(function(e,t){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:h,unstable_viewTransition:d}=e,f=oL(e,cL),{basename:p}=R.useContext(xa),g,y=!1;if(typeof u=="string"&&SL.test(u)&&(g=u,_L))try{let _=new URL(window.location.href),x=u.startsWith("//")?new URL(_.protocol+u):new URL(u),C=Hc(x.pathname,p);x.origin===_.origin&&C!=null?u=C+x.search+x.hash:y=!0}catch{}let S=HR(u,{relative:r}),v=bL(u,{replace:o,state:a,target:l,preventScrollReset:h,relative:r,unstable_viewTransition:d});function w(_){i&&i(_),_.defaultPrevented||v(_)}return R.createElement("a",eh({},f,{href:g||S,onClick:y||s?i:w,ref:t,target:l}))});var U_;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(U_||(U_={}));var $_;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})($_||($_={}));function bL(n,e){let{target:t,replace:i,state:r,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=BR(),u=Rf(),h=Kb(n,{relative:o});return R.useCallback(d=>{if(lL(d,t)){d.preventDefault();let f=i!==void 0?i:ya(u)===ya(h);l(n,{replace:f,state:r,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,h,i,r,t,n,s,o,a])}const xL=()=>O.jsxs(O.Fragment,{children:[O.jsx("div",{className:"mx-auto mb-[40px] h-[213px] w-[213px] overflow-hidden rounded-full bg-gradient-to-tr from-[#FF8660] to-[#8000FF]",children:O.jsx("img",{src:"/Ruairidh.jpg",alt:"Ruairidh Profile"})}),O.jsx("h1",{className:"max-w-screen-sm text-center text-[55px] font-extrabold text-white",children:O.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-tr from-[#FF8660] to-[#8000FF]",children:"Hey, I'm Ruairidh"})}),O.jsx("p",{className:"mx-auto mt-[40px] mb-[54px] text-[18px] font-light text-[#C5C5C5] text-center max-w-lg",children:"A dedicated software engineer who graduated with a degree in Computer Systems. My professional journey began at a small edTech company immediately after completing his education. Since then, I have continually sought out opportunities to enhance his skill set and actively contribute to complex software development projects."})]}),CL=({experience:n})=>{const e=n.description.split(`
`).map((t,i)=>O.jsxs(O.Fragment,{children:[t.replace(/\t/g,""),O.jsx("br",{})]},i));return O.jsxs("div",{className:"p-5 rounded-lg bg-slate-800 border border-slate-700 flex items-center mx-auto mb-10 flex-col w-[70%]",children:[O.jsx("div",{className:"flex pb-2 w-full",children:O.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 w-full text-slate-200",children:[O.jsxs("div",{children:[O.jsx("h2",{className:"font-semibold",children:"Client Name"}),O.jsx("p",{className:"text-slate-300",children:n.clientName})]}),O.jsxs("div",{children:[O.jsx("h2",{className:"font-semibold",children:"Role"}),O.jsx("p",{className:"text-slate-300",children:n.role})]}),O.jsxs("div",{children:[O.jsx("h2",{className:"font-semibold",children:"Start Date"}),O.jsx("p",{className:"text-slate-300",children:n.startDate.toLocaleDateString()})]}),O.jsxs("div",{children:[O.jsx("h2",{className:"font-semibold",children:"End Date"}),O.jsx("p",{className:"text-slate-300",children:n.endDate.toLocaleDateString()})]})]})}),O.jsx("p",{className:"leading-relaxed text-base text-slate-300 w-full",children:e}),O.jsx("div",{className:"py-4",children:n.skills.map(t=>O.jsx("span",{className:"text-xs font-medium me-2 px-2.5 py-0.5 rounded bg-slate-700 text-slate-400 border border-slate-500",children:t}))})]})},kL=()=>O.jsx(O.Fragment,{children:TL.map(n=>O.jsx(CL,{experience:n}))}),TL=[{clientName:"Government Agency",role:"Quality Assurance",startDate:new Date(2023,11,28),endDate:new Date(2024,6,7),description:`Ruairidh played a crucial role in a dynamic team, contributing to both front-end and back-end aspects of the project. His efforts spanned comprehensive QA testing for mobile (iOS) and web applications and upgrading essential packages and services within the AWS ecosystem. This dual focus ensured both high-quality user experiences and robust, up-to-date backend infrastructure.
      
      - Conducted both automated and manual QA testing for the iOS mobile application.
      - Performed manual web application testing to ensure a seamless user experience.
      - Upgraded various packages and dependencies, including:
      - Lamda Upgrades to the latest version of AWS SDK
      - Node.js version
      - Conducted QA testing for AWS service upgrades (CloudWatch, SQS, SNS, Lambda, S3, DynamoDB).
      - Collaborated closely with a team of four developers, ensuring code integrity and robustness during package upgrades.`,skills:["AWS","AWS SDK","Amazon S3","AWS Lambda","AWS CloudWatch","AWS DynamoDB","TypeScript","Node.js","iOS Testing","Manual Testing"]},{clientName:"Internal AI Project",role:"Software Engineer",startDate:new Date(2023,6,3),endDate:new Date(2023,10,27),description:`In the project, Ruairidh played a pivotal role in the front-end development, with a specific focus on enhancing the user interface and user experience. This critical work was conducted using React and TypeScript, ensuring a robust and efficient development process.

His responsibilities encompassed a wide range of tasks, including:
 - New Component Creation: Ruairidh created essential new components to improve user interactions.
 - Recoil Atom Implementation: He efficiently managed application state using Recoil atoms for a responsive user experience.
 - Tailwind CSS Styling: Ruairidh used Tailwind CSS to enhance the visual design and ensure a consistent user interface.
 - Bug Resolution: He identified and fixed front-end bugs, ensuring system stability.
 - Vitest Testing: Ruairidh conducted thorough testing with Vitest to guarantee functionality and reliability.
 - Integration with Cognitive Search and OpenAI: He seamlessly integrated the front-end with Azure Cognitive Search and OpenAI, enabling advanced data management and analysis.`,skills:["AI","React","TypeScript","API","TailwindCSS","Vite","Vitest","Recoil","Github","git","actions","MSAL"]},{clientName:"Financial Trading",role:"Software Engineer",startDate:new Date(2023,2,1),endDate:new Date(2023,5,30),description:`The project involved the development of three single-page applications within a global team, fostering collaboration across different locations and centered around React and TypeScript. One of these applications served as the primary platform for foreign currency trading, while the remaining two focused on trade monitoring and amendments. Ruairidh joined the front-end team during the latter stages of the project, quickly integrating into the global team and contributing to its success, particularly in React and TypeScript-based front-end development.

Ruairidh's specific responsibilities encompassed:
- Swiftly developing reusable components that could be effectively utilised across all three applications by leveraging packages.
- Ensuring the stability of the applications by writing comprehensive tests using Vitest.
- Effectively addressing and resolving any identified bugs or issues.
- Upholding the project's design principles and leveraging the existing UI Framework.
- Actively participating in Agile development practices such as stand-ups, retrospectives, and demos.`,skills:["React","TypeScript","HTML","CSS","WebSockets","Vite","Vitest","Recoil","Swagger","GitLab"]},{clientName:"Government Agency",role:"Quality Assurance",startDate:new Date(2023,0,26),endDate:new Date(2024,1,28),description:`Upon rejoining the project, Ruairidh resumed his role as a front-end developer, contributing to the continued development of the web application. In addition to his previous responsibilities, he also took on user acceptance testing and bug-finding tasks, which involved:

- Performing user acceptance testing to ensure the application met client requirements and specifications.
- Identifying and reporting bugs using issue-tracking tools such as Jira, and working with the development team to resolve them.`,skills:["Jenkins","HTML","TypeScript","DynamoDB","Jest","Angular"]},{clientName:"Bench Project",role:"Software Engineer",startDate:new Date(2022,11,5),endDate:new Date(2023,0,25),description:`Ruairidh was a key contributor to a small, dedicated team of developers tasked with developing a web-based scorekeeping application. This application, built using React, TypeScript, Azure Functions, and Prisma, serves as a versatile tool for tracking scores in various games, including pool, table tennis, and darts.

Within the team, Ruairidh took on significant responsibilities, including designing and implementing new features, creating new pages, and addressing bugs within the application.

Furthermore, the team aimed to roll out the application company-wide, enabling other offices to use it for score tracking. To achieve this, they ensured the application's security and scalability. Azure Functions were employed to add scalability to the application, ensuring a smooth and responsive user experience as it expanded to serve a broader user base.`,skills:["prisma","Azure Functions","NextJS","React","git","Github","Github Actions","GitHub Copilot"]},{clientName:"Govenment Agency",role:"Software Engineer",startDate:new Date(2022,5,6),endDate:new Date(2022,10,30),description:`This project involved developing a web application that allowed the client to create and modify various vehicle tests. Due to the need for the application to integrate with pre-existing external systems, it presented added complexity.

Ruairidh, as a front-end developer, contributed to the development of new components. The application was developed using Angular and Typescript with Jest testing framework.

His specific responsibilities included:
- Designing and developing re-usable front-end components to be used throughout the website.
- Creating custom form validation that can be reused across the app
- Writing automated tests using Jest
- Deploying, testing, seeding, and deploying the application using Jenkins
- Adhering to government design principles
- Participating in Agile development practices such as stand-ups, retrospectives, and live demos.`,skills:["Angular","NgRx","HTML","CSS","Javascript","TypeScript","AWS","Nexus","git","Github"]},{clientName:"Education Technology",role:"Software Engineer",startDate:new Date(2020,2,2),endDate:new Date(2022,4,27),description:`Ruairidh was part of a team of four developers working on various projects, his responsibilities included:
    
- Migrating existing components from KnockoutJS to React
- Designing and implementing dynamic and browser-compatible pages using Elixir Phoenix and the web stack
- Maintaining a legacy application developed using ASP.NET C#
- Managing version control using Git and ensuring accurate documentation of changes made.`,skills:["React","KnockoutJS","C#","Elixir","git","Github","HTML","CSS","Javascript"]}],PL="modulepreload",RL=function(n){return"/"+n},V_={},rp=function(e,t,i){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));r=Promise.all(t.map(a=>{if(a=RL(a),a in V_)return;V_[a]=!0;const l=a.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${u}`))return;const h=document.createElement("link");if(h.rel=l?"stylesheet":PL,l||(h.as="script",h.crossOrigin=""),h.href=a,o&&h.setAttribute("nonce",o),document.head.appendChild(h),l)return new Promise((d,f)=>{h.addEventListener("load",d),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})}))}return r.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var Du={};Du.d=(n,e)=>{for(var t in e)Du.o(e,t)&&!Du.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};Du.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var ee=globalThis.pdfjsLib={};Du.d(ee,{AbortException:()=>ka,AnnotationEditorLayer:()=>Iw,AnnotationEditorParamsType:()=>ne,AnnotationEditorType:()=>ve,AnnotationEditorUIManager:()=>Ea,AnnotationLayer:()=>TD,AnnotationMode:()=>Xr,CMapCompressionType:()=>b0,ColorPicker:()=>xg,DOMSVGFactory:()=>KE,DrawLayer:()=>jw,FeatureTest:()=>rn,GlobalWorkerOptions:()=>Pr,ImageKind:()=>Sp,InvalidPDFException:()=>Zb,MissingPDFException:()=>Ca,OPS:()=>Wn,Outliner:()=>gw,PDFDataRangeTransport:()=>Wx,PDFDateString:()=>ox,PDFWorker:()=>cl,PasswordResponses:()=>IL,PermissionFlag:()=>DL,PixelsPerInch:()=>Ms,RenderingCancelledException:()=>YE,TextLayer:()=>Sg,UnexpectedResponseException:()=>Rv,Util:()=>X,VerbosityLevel:()=>kv,XfaLayer:()=>Xx,build:()=>lD,createValidAbsoluteUrl:()=>jL,fetchData:()=>Nv,getDocument:()=>ZM,getFilenameFromUrl:()=>KL,getPdfFilenameFromUrl:()=>YL,getXfaPageViewport:()=>qL,isDataScheme:()=>qE,isPdfFile:()=>QE,noContextMenu:()=>ln,normalizeUnicode:()=>VL,renderTextLayer:()=>VM,setLayerDimensions:()=>wa,shadow:()=>we,updateTextLayer:()=>WM,version:()=>aD});const jt=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Jb=[1,0,0,1,0,0],S0=[.001,0,0,.001,0,0],LL=1e7,Ey=1.35,In={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},Xr={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},ML="pdfjs_internal_editor_",ve={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},ne={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},DL={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Dt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Sp={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},tt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},tu={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},kv={ERRORS:0,WARNINGS:1,INFOS:5},b0={NONE:0,BINARY:1},Wn={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},IL={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Tv=kv.WARNINGS;function FL(n){Number.isInteger(n)&&(Tv=n)}function NL(){return Tv}function Pv(n){Tv>=kv.INFOS&&console.log(`Info: ${n}`)}function ue(n){Tv>=kv.WARNINGS&&console.log(`Warning: ${n}`)}function ke(n){throw new Error(n)}function at(n,e){n||ke(e)}function OL(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function jL(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const r=n.match(/\./g);(r==null?void 0:r.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=$L(n)}catch{}}const i=e?new URL(n,e):new URL(n);if(OL(i))return i}catch{}return null}function we(n,e,t,i=!1){return Object.defineProperty(n,e,{value:t,enumerable:!i,configurable:!0,writable:!1}),t}const js=function(){function e(t,i){this.constructor===e&&ke("Cannot initialize BaseException."),this.message=t,this.name=i}return e.prototype=new Error,e.constructor=e,e}();class x0 extends js{constructor(e,t){super(e,"PasswordException"),this.code=t}}class C0 extends js{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Zb extends js{constructor(e){super(e,"InvalidPDFException")}}class Ca extends js{constructor(e){super(e,"MissingPDFException")}}class Rv extends js{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class zL extends js{constructor(e){super(e,"FormatError")}}class ka extends js{constructor(e){super(e,"AbortException")}}function ex(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&ke("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const i=[];for(let r=0;r<e;r+=t){const s=Math.min(r+t,e),o=n.subarray(r,s);i.push(String.fromCharCode.apply(null,o))}return i.join("")}function Lv(n){typeof n!="string"&&ke("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let i=0;i<e;++i)t[i]=n.charCodeAt(i)&255;return t}function HL(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function GE(n){const e=Object.create(null);for(const[t,i]of n)e[t]=i;return e}function BL(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function UL(){try{return new Function(""),!0}catch{return!1}}class rn{static get isLittleEndian(){return we(this,"isLittleEndian",BL())}static get isEvalSupported(){return we(this,"isEvalSupported",UL())}static get isOffscreenCanvasSupported(){return we(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?we(this,"platform",{isMac:navigator.platform.includes("Mac")}):we(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var e,t;return we(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const Ay=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var dl,bp,nh,k0;class X{static makeHexColor(e,t,i){return`#${Ay[e]}${Ay[t]}${Ay[i]}`}static scaleMinMax(e,t){let i;e[0]?(e[0]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[3],t[3]*=e[3]):(i=t[0],t[0]=t[1],t[1]=i,i=t[2],t[2]=t[3],t[3]=i,e[1]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const i=e[0]*t[0]+e[1]*t[2]+t[4],r=e[0]*t[1]+e[1]*t[3]+t[5];return[i,r]}static applyInverseTransform(e,t){const i=t[0]*t[3]-t[1]*t[2],r=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/i,s=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/i;return[r,s]}static getAxialAlignedBoundingBox(e,t){const i=this.applyTransform(e,t),r=this.applyTransform(e.slice(2,4),t),s=this.applyTransform([e[0],e[3]],t),o=this.applyTransform([e[2],e[1]],t);return[Math.min(i[0],r[0],s[0],o[0]),Math.min(i[1],r[1],s[1],o[1]),Math.max(i[0],r[0],s[0],o[0]),Math.max(i[1],r[1],s[1],o[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],i=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],s=e[2]*t[0]+e[3]*t[2],o=e[2]*t[1]+e[3]*t[3],a=(i+o)/2,l=Math.sqrt((i+o)**2-4*(i*o-s*r))/2,u=a+l||1,h=a-l||1;return[Math.sqrt(u),Math.sqrt(h)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const i=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(i>r)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>o?null:[i,s,r,o]}static bezierBoundingBox(e,t,i,r,s,o,a,l,u){return u?(u[0]=Math.min(u[0],e,a),u[1]=Math.min(u[1],t,l),u[2]=Math.max(u[2],e,a),u[3]=Math.max(u[3],t,l)):u=[Math.min(e,a),Math.min(t,l),Math.max(e,a),Math.max(t,l)],A(this,nh,k0).call(this,e,i,s,a,t,r,o,l,3*(-e+3*(i-s)+a),6*(e-2*i+s),3*(i-e),u),A(this,nh,k0).call(this,e,i,s,a,t,r,o,l,3*(-t+3*(r-o)+l),6*(t-2*r+o),3*(r-t),u),u}}dl=new WeakSet,bp=function(e,t,i,r,s,o,a,l,u,h){if(u<=0||u>=1)return;const d=1-u,f=u*u,p=f*u,g=d*(d*(d*e+3*u*t)+3*f*i)+p*r,y=d*(d*(d*s+3*u*o)+3*f*a)+p*l;h[0]=Math.min(h[0],g),h[1]=Math.min(h[1],y),h[2]=Math.max(h[2],g),h[3]=Math.max(h[3],y)},nh=new WeakSet,k0=function(e,t,i,r,s,o,a,l,u,h,d,f){if(Math.abs(u)<1e-12){Math.abs(h)>=1e-12&&A(this,dl,bp).call(this,e,t,i,r,s,o,a,l,-d/h,f);return}const p=h**2-4*d*u;if(p<0)return;const g=Math.sqrt(p),y=2*u;A(this,dl,bp).call(this,e,t,i,r,s,o,a,l,(-h+g)/y,f),A(this,dl,bp).call(this,e,t,i,r,s,o,a,l,(-h-g)/y,f)},m(X,dl),m(X,nh);function $L(n){return decodeURIComponent(escape(n))}let _y=null,W_=null;function VL(n){return _y||(_y=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,W_=new Map([["","t"]])),n.replaceAll(_y,(e,t,i)=>t?t.normalize("NFKC"):W_.get(i))}function WL(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const n=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(n);else for(let e=0;e<32;e++)n[e]=Math.floor(Math.random()*255);return ex(n)}const tx="pdfjs_internal_id_",Ui={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class Mv{constructor(){this.constructor===Mv&&ke("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,i,r,s){return"none"}destroy(e=!1){}}class Dv{constructor(){this.constructor===Dv&&ke("Cannot initialize BaseCanvasFactory.")}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(e,t);return{canvas:i,context:i.getContext("2d")}}reset(e,t,i){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||i<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=i}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){ke("Abstract method `_createCanvas` called.")}}class Iv{constructor({baseUrl:e=null,isCompressed:t=!0}){this.constructor===Iv&&ke("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":""),i=this.isCompressed?b0.BINARY:b0.NONE;return this._fetchData(t,i).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}_fetchData(e,t){ke("Abstract method `_fetchData` called.")}}class Fv{constructor({baseUrl:e=null}){this.constructor===Fv&&ke("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetchData(t).catch(i=>{throw new Error(`Unable to load font data at: ${t}`)})}_fetchData(e){ke("Abstract method `_fetchData` called.")}}class XE{constructor(){this.constructor===XE&&ke("Cannot initialize BaseSVGFactory.")}create(e,t,i=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){ke("Abstract method `_createSVG` called.")}}const Vi="http://www.w3.org/2000/svg",qs=class qs{};se(qs,"CSS",96),se(qs,"PDF",72),se(qs,"PDF_TO_CSS_UNITS",qs.CSS/qs.PDF);let Ms=qs;var io,vi,Qi,Qt,Pg,ro,ht,It,Kr,Na,Yr,Oa,fl,xp,Rg,nx,ih,T0,qr,ja,so,lu,oo,cu,rh,P0,ao,uu;class GL extends Mv{constructor({docId:t,ownerDocument:i=globalThis.document}={}){super();m(this,ht);m(this,Kr);m(this,Yr);m(this,fl);m(this,Rg);m(this,ih);m(this,qr);m(this,so);m(this,oo);m(this,rh);m(this,ao);m(this,io,void 0);m(this,vi,void 0);m(this,Qi,void 0);m(this,Qt,void 0);m(this,Pg,void 0);m(this,ro,0);E(this,Qi,t),E(this,Qt,i)}addFilter(t){if(!t)return"none";let i=c(this,ht,It).get(t);if(i)return i;const[r,s,o]=A(this,fl,xp).call(this,t),a=t.length===1?r:`${r}${s}${o}`;if(i=c(this,ht,It).get(a),i)return c(this,ht,It).set(t,i),i;const l=`g_${c(this,Qi)}_transfer_map_${hn(this,ro)._++}`,u=`url(#${l})`;c(this,ht,It).set(t,u),c(this,ht,It).set(a,u);const h=A(this,qr,ja).call(this,l);return A(this,oo,cu).call(this,r,s,o,h),u}addHCMFilter(t,i){var g;const r=`${t}-${i}`,s="base";let o=c(this,Kr,Na).get(s);if((o==null?void 0:o.key)===r||(o?((g=o.filter)==null||g.remove(),o.key=r,o.url="none",o.filter=null):(o={key:r,url:"none",filter:null},c(this,Kr,Na).set(s,o)),!t||!i))return o.url;const a=A(this,ao,uu).call(this,t);t=X.makeHexColor(...a);const l=A(this,ao,uu).call(this,i);if(i=X.makeHexColor(...l),c(this,Yr,Oa).style.color="",t==="#000000"&&i==="#ffffff"||t===i)return o.url;const u=new Array(256);for(let y=0;y<=255;y++){const S=y/255;u[y]=S<=.03928?S/12.92:((S+.055)/1.055)**2.4}const h=u.join(","),d=`g_${c(this,Qi)}_hcm_filter`,f=o.filter=A(this,qr,ja).call(this,d);A(this,oo,cu).call(this,h,h,h,f),A(this,ih,T0).call(this,f);const p=(y,S)=>{const v=a[y]/255,w=l[y]/255,_=new Array(S+1);for(let x=0;x<=S;x++)_[x]=v+x/S*(w-v);return _.join(",")};return A(this,oo,cu).call(this,p(0,5),p(1,5),p(2,5),f),o.url=`url(#${d})`,o.url}addAlphaFilter(t){let i=c(this,ht,It).get(t);if(i)return i;const[r]=A(this,fl,xp).call(this,[t]),s=`alpha_${r}`;if(i=c(this,ht,It).get(s),i)return c(this,ht,It).set(t,i),i;const o=`g_${c(this,Qi)}_alpha_map_${hn(this,ro)._++}`,a=`url(#${o})`;c(this,ht,It).set(t,a),c(this,ht,It).set(s,a);const l=A(this,qr,ja).call(this,o);return A(this,rh,P0).call(this,r,l),a}addLuminosityFilter(t){let i=c(this,ht,It).get(t||"luminosity");if(i)return i;let r,s;if(t?([r]=A(this,fl,xp).call(this,[t]),s=`luminosity_${r}`):s="luminosity",i=c(this,ht,It).get(s),i)return c(this,ht,It).set(t,i),i;const o=`g_${c(this,Qi)}_luminosity_map_${hn(this,ro)._++}`,a=`url(#${o})`;c(this,ht,It).set(t,a),c(this,ht,It).set(s,a);const l=A(this,qr,ja).call(this,o);return A(this,Rg,nx).call(this,l),t&&A(this,rh,P0).call(this,r,l),a}addHighlightHCMFilter(t,i,r,s,o){var w;const a=`${i}-${r}-${s}-${o}`;let l=c(this,Kr,Na).get(t);if((l==null?void 0:l.key)===a||(l?((w=l.filter)==null||w.remove(),l.key=a,l.url="none",l.filter=null):(l={key:a,url:"none",filter:null},c(this,Kr,Na).set(t,l)),!i||!r))return l.url;const[u,h]=[i,r].map(A(this,ao,uu).bind(this));let d=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),f=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[p,g]=[s,o].map(A(this,ao,uu).bind(this));f<d&&([d,f,p,g]=[f,d,g,p]),c(this,Yr,Oa).style.color="";const y=(_,x,C)=>{const k=new Array(256),b=(f-d)/C,L=_/255,N=(x-_)/(255*C);let F=0;for(let I=0;I<=C;I++){const K=Math.round(d+I*b),B=L+I*N;for(let $=F;$<=K;$++)k[$]=B;F=K+1}for(let I=F;I<256;I++)k[I]=k[F-1];return k.join(",")},S=`g_${c(this,Qi)}_hcm_${t}_filter`,v=l.filter=A(this,qr,ja).call(this,S);return A(this,ih,T0).call(this,v),A(this,oo,cu).call(this,y(p[0],g[0],5),y(p[1],g[1],5),y(p[2],g[2],5),v),l.url=`url(#${S})`,l.url}destroy(t=!1){t&&c(this,Kr,Na).size!==0||(c(this,vi)&&(c(this,vi).parentNode.parentNode.remove(),E(this,vi,null)),c(this,io)&&(c(this,io).clear(),E(this,io,null)),E(this,ro,0))}}io=new WeakMap,vi=new WeakMap,Qi=new WeakMap,Qt=new WeakMap,Pg=new WeakMap,ro=new WeakMap,ht=new WeakSet,It=function(){return c(this,io)||E(this,io,new Map)},Kr=new WeakSet,Na=function(){return c(this,Pg)||E(this,Pg,new Map)},Yr=new WeakSet,Oa=function(){if(!c(this,vi)){const t=c(this,Qt).createElement("div"),{style:i}=t;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const r=c(this,Qt).createElementNS(Vi,"svg");r.setAttribute("width",0),r.setAttribute("height",0),E(this,vi,c(this,Qt).createElementNS(Vi,"defs")),t.append(r),r.append(c(this,vi)),c(this,Qt).body.append(t)}return c(this,vi)},fl=new WeakSet,xp=function(t){if(t.length===1){const u=t[0],h=new Array(256);for(let f=0;f<256;f++)h[f]=u[f]/255;const d=h.join(",");return[d,d,d]}const[i,r,s]=t,o=new Array(256),a=new Array(256),l=new Array(256);for(let u=0;u<256;u++)o[u]=i[u]/255,a[u]=r[u]/255,l[u]=s[u]/255;return[o.join(","),a.join(","),l.join(",")]},Rg=new WeakSet,nx=function(t){const i=c(this,Qt).createElementNS(Vi,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(i)},ih=new WeakSet,T0=function(t){const i=c(this,Qt).createElementNS(Vi,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(i)},qr=new WeakSet,ja=function(t){const i=c(this,Qt).createElementNS(Vi,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",t),c(this,Yr,Oa).append(i),i},so=new WeakSet,lu=function(t,i,r){const s=c(this,Qt).createElementNS(Vi,i);s.setAttribute("type","discrete"),s.setAttribute("tableValues",r),t.append(s)},oo=new WeakSet,cu=function(t,i,r,s){const o=c(this,Qt).createElementNS(Vi,"feComponentTransfer");s.append(o),A(this,so,lu).call(this,o,"feFuncR",t),A(this,so,lu).call(this,o,"feFuncG",i),A(this,so,lu).call(this,o,"feFuncB",r)},rh=new WeakSet,P0=function(t,i){const r=c(this,Qt).createElementNS(Vi,"feComponentTransfer");i.append(r),A(this,so,lu).call(this,r,"feFuncA",t)},ao=new WeakSet,uu=function(t){return c(this,Yr,Oa).style.color=t,JE(getComputedStyle(c(this,Yr,Oa)).getPropertyValue("color"))};class XL extends Dv{constructor({ownerDocument:e=globalThis.document}={}){super(),this._document=e}_createCanvas(e,t){const i=this._document.createElement("canvas");return i.width=e,i.height=t,i}}async function Nv(n,e="text"){if(hu(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,i)=>{const r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})}class ix extends Iv{_fetchData(e,t){return Nv(e,this.isCompressed?"arraybuffer":"text").then(i=>({cMapData:i instanceof ArrayBuffer?new Uint8Array(i):Lv(i),compressionType:t}))}}class rx extends Fv{_fetchData(e){return Nv(e,"arraybuffer").then(t=>new Uint8Array(t))}}class KE extends XE{_createSVG(e){return document.createElementNS(Vi,e)}}class Lf{constructor({viewBox:e,scale:t,rotation:i,offsetX:r=0,offsetY:s=0,dontFlip:o=!1}){this.viewBox=e,this.scale=t,this.rotation=i,this.offsetX=r,this.offsetY=s;const a=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let u,h,d,f;switch(i%=360,i<0&&(i+=360),i){case 180:u=-1,h=0,d=0,f=1;break;case 90:u=0,h=1,d=1,f=0;break;case 270:u=0,h=-1,d=-1,f=0;break;case 0:u=1,h=0,d=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(d=-d,f=-f);let p,g,y,S;u===0?(p=Math.abs(l-e[1])*t+r,g=Math.abs(a-e[0])*t+s,y=(e[3]-e[1])*t,S=(e[2]-e[0])*t):(p=Math.abs(a-e[0])*t+r,g=Math.abs(l-e[1])*t+s,y=(e[2]-e[0])*t,S=(e[3]-e[1])*t),this.transform=[u*t,h*t,d*t,f*t,p-u*t*a-d*t*l,g-h*t*a-f*t*l],this.width=y,this.height=S}get rawDims(){const{viewBox:e}=this;return we(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new Lf({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}convertToViewportPoint(e,t){return X.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=X.applyTransform([e[0],e[1]],this.transform),i=X.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],i[0],i[1]]}convertToPdfPoint(e,t){return X.applyInverseTransform([e,t],this.transform)}}class YE extends js{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function qE(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function QE(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function KL(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function YL(n,e="document.pdf"){if(typeof n!="string")return e;if(qE(n))return ue('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=t.exec(n);let s=i.exec(r[1])||i.exec(r[2])||i.exec(r[3]);if(s&&(s=s[0],s.includes("%")))try{s=i.exec(decodeURIComponent(s))[0]}catch{}return s||e}class G_{constructor(){se(this,"started",Object.create(null));se(this,"times",[])}time(e){e in this.started&&ue(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||ue(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:i}of this.times)t=Math.max(i.length,t);for(const{name:i,start:r,end:s}of this.times)e.push(`${i.padEnd(t)} ${s-r}ms
`);return e.join("")}}function hu(n,e){try{const{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function ln(n){n.preventDefault()}function sx(n){console.log("Deprecated API usage: "+n)}let X_;class ox{static toDateObject(e){if(!e||typeof e!="string")return null;X_||(X_=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=X_.exec(e);if(!t)return null;const i=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const u=t[7]||"Z";let h=parseInt(t[8],10);h=h>=0&&h<=23?h:0;let d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,u==="-"?(o+=h,a+=d):u==="+"&&(o-=h,a-=d),new Date(Date.UTC(i,r,s,o,a,l))}}function qL(n,{scale:e=1,rotation:t=0}){const{width:i,height:r}=n.attributes.style,s=[0,0,parseInt(i),parseInt(r)];return new Lf({viewBox:s,scale:e,rotation:t})}function JE(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(ue(`Not a valid color format: "${n}"`),[0,0,0])}function QL(n){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of n.keys()){e.style.color=t;const i=window.getComputedStyle(e).color;n.set(t,JE(i))}e.remove()}function He(n){const{a:e,b:t,c:i,d:r,e:s,f:o}=n.getTransform();return[e,t,i,r,s,o]}function $i(n){const{a:e,b:t,c:i,d:r,e:s,f:o}=n.getTransform().invertSelf();return[e,t,i,r,s,o]}function wa(n,e,t=!1,i=!0){if(e instanceof Lf){const{pageWidth:r,pageHeight:s}=e.rawDims,{style:o}=n,a=rn.isCSSRoundSupported,l=`var(--scale-factor) * ${r}px`,u=`var(--scale-factor) * ${s}px`,h=a?`round(${l}, 1px)`:`calc(${l})`,d=a?`round(${u}, 1px)`:`calc(${u})`;!t||e.rotation%180===0?(o.width=h,o.height=d):(o.width=d,o.height=h)}i&&n.setAttribute("data-main-rotation",e.rotation)}var lo,co,yi,uo,Lg,ax,Mg,lx,Dg,cx,pl,Cp,Ig,ux,sh,L0;const Fg=class Fg{constructor(e){m(this,Mg);m(this,Dg);m(this,pl);m(this,Ig);m(this,sh);m(this,lo,null);m(this,co,null);m(this,yi,void 0);m(this,uo,null);E(this,yi,e)}render(){const e=E(this,lo,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",ln),e.addEventListener("pointerdown",A(Fg,Lg,ax));const t=E(this,uo,document.createElement("div"));t.className="buttons",e.append(t);const i=c(this,yi).toolbarPosition;if(i){const{style:r}=e,s=c(this,yi)._uiManager.direction==="ltr"?1-i[0]:i[0];r.insetInlineEnd=`${100*s}%`,r.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return A(this,Ig,ux).call(this),e}hide(){var e;c(this,lo).classList.add("hidden"),(e=c(this,co))==null||e.hideDropdown()}show(){c(this,lo).classList.remove("hidden")}addAltTextButton(e){A(this,pl,Cp).call(this,e),c(this,uo).prepend(e,c(this,sh,L0))}addColorPicker(e){E(this,co,e);const t=e.renderButton();A(this,pl,Cp).call(this,t),c(this,uo).prepend(t,c(this,sh,L0))}remove(){var e;c(this,lo).remove(),(e=c(this,co))==null||e.destroy(),E(this,co,null)}};lo=new WeakMap,co=new WeakMap,yi=new WeakMap,uo=new WeakMap,Lg=new WeakSet,ax=function(e){e.stopPropagation()},Mg=new WeakSet,lx=function(e){c(this,yi)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},Dg=new WeakSet,cx=function(e){c(this,yi)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},pl=new WeakSet,Cp=function(e){e.addEventListener("focusin",A(this,Mg,lx).bind(this),{capture:!0}),e.addEventListener("focusout",A(this,Dg,cx).bind(this),{capture:!0}),e.addEventListener("contextmenu",ln)},Ig=new WeakSet,ux=function(){const e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${c(this,yi).editorType}-button`),A(this,pl,Cp).call(this,e),e.addEventListener("click",t=>{c(this,yi)._uiManager.delete()}),c(this,uo).append(e)},sh=new WeakSet,L0=function(){const e=document.createElement("div");return e.className="divider",e},m(Fg,Lg);let R0=Fg;var oh,ho,ah,Ng,hx,Og,dx,jg,fx;class JL{constructor(e){m(this,Ng);m(this,Og);m(this,jg);m(this,oh,null);m(this,ho,null);m(this,ah,void 0);E(this,ah,e)}show(e,t,i){const[r,s]=A(this,Og,dx).call(this,t,i),{style:o}=c(this,ho)||E(this,ho,A(this,Ng,hx).call(this));e.append(c(this,ho)),o.insetInlineEnd=`${100*r}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){c(this,ho).remove()}}oh=new WeakMap,ho=new WeakMap,ah=new WeakMap,Ng=new WeakSet,hx=function(){const e=E(this,ho,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",ln);const t=E(this,oh,document.createElement("div"));return t.className="buttons",e.append(t),A(this,jg,fx).call(this),e},Og=new WeakSet,dx=function(e,t){let i=0,r=0;for(const s of e){const o=s.y+s.height;if(o<i)continue;const a=s.x+(t?s.width:0);if(o>i){r=a,i=o;continue}t?a>r&&(r=a):a<r&&(r=a)}return[t?1-r:r,i]},jg=new WeakSet,fx=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label"),e.addEventListener("contextmenu",ln),e.addEventListener("click",()=>{c(this,ah).highlightSelection("floating_button")}),c(this,oh).append(e)};function Eg(n,e,t){for(const i of t)e.addEventListener(i,n[i].bind(n))}function ZL(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var zg;class eM{constructor(){m(this,zg,0)}get id(){return`${ML}${hn(this,zg)._++}`}}zg=new WeakMap;var lh,Hg,Pn,ch,D0;const rA=class rA{constructor(){m(this,ch);m(this,lh,WL());m(this,Hg,0);m(this,Pn,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d"),r=new Image;r.src=e;const s=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return we(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:i,size:r,type:s}=e;return A(this,ch,D0).call(this,`${t}_${i}_${r}_${s}`,e)}async getFromUrl(e){return A(this,ch,D0).call(this,e,e)}async getFromId(e){c(this,Pn)||E(this,Pn,new Map);const t=c(this,Pn).get(e);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null}getSvgUrl(e){const t=c(this,Pn).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){c(this,Pn)||E(this,Pn,new Map);const t=c(this,Pn).get(e);t&&(t.refCounter-=1,t.refCounter===0&&(t.bitmap=null))}isValidId(e){return e.startsWith(`image_${c(this,lh)}_`)}};lh=new WeakMap,Hg=new WeakMap,Pn=new WeakMap,ch=new WeakSet,D0=async function(e,t){c(this,Pn)||E(this,Pn,new Map);let i=c(this,Pn).get(e);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${c(this,lh)}_${hn(this,Hg)._++}`,refCounter:0,isSvg:!1});let r;if(typeof t=="string"?(i.url=t,r=await Nv(t,"blob")):r=i.file=t,r.type==="image/svg+xml"){const s=rA._isSVGFittingCanvas,o=new FileReader,a=new Image,l=new Promise((u,h)=>{a.onload=()=>{i.bitmap=a,i.isSvg=!0,u()},o.onload=async()=>{const d=i.svgUrl=o.result;a.src=await s?`${d}#svgView(preserveAspectRatio(none))`:d},a.onerror=o.onerror=h});o.readAsDataURL(r),await l}else i.bitmap=await createImageBitmap(r);i.refCounter=1}catch(r){console.error(r),i=null}return c(this,Pn).set(e,i),i&&c(this,Pn).set(i.id,i),i};let M0=rA;var dt,Qr,uh,ft;class tM{constructor(e=128){m(this,dt,[]);m(this,Qr,!1);m(this,uh,void 0);m(this,ft,-1);E(this,uh,e)}add({cmd:e,undo:t,post:i,mustExec:r,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(r&&e(),c(this,Qr))return;const l={cmd:e,undo:t,post:i,type:s};if(c(this,ft)===-1){c(this,dt).length>0&&(c(this,dt).length=0),E(this,ft,0),c(this,dt).push(l);return}if(o&&c(this,dt)[c(this,ft)].type===s){a&&(l.undo=c(this,dt)[c(this,ft)].undo),c(this,dt)[c(this,ft)]=l;return}const u=c(this,ft)+1;u===c(this,uh)?c(this,dt).splice(0,1):(E(this,ft,u),u<c(this,dt).length&&c(this,dt).splice(u)),c(this,dt).push(l)}undo(){if(c(this,ft)===-1)return;E(this,Qr,!0);const{undo:e,post:t}=c(this,dt)[c(this,ft)];e(),t==null||t(),E(this,Qr,!1),E(this,ft,c(this,ft)-1)}redo(){if(c(this,ft)<c(this,dt).length-1){E(this,ft,c(this,ft)+1),E(this,Qr,!0);const{cmd:e,post:t}=c(this,dt)[c(this,ft)];e(),t==null||t(),E(this,Qr,!1)}}hasSomethingToUndo(){return c(this,ft)!==-1}hasSomethingToRedo(){return c(this,ft)<c(this,dt).length-1}destroy(){E(this,dt,null)}}dt=new WeakMap,Qr=new WeakMap,uh=new WeakMap,ft=new WeakMap;var Bg,px;class Mf{constructor(e){m(this,Bg);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=rn.platform;for(const[i,r,s={}]of e)for(const o of i){const a=o.startsWith("mac+");t&&a?(this.callbacks.set(o.slice(4),{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1))):!t&&!a&&(this.callbacks.set(o,{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const i=this.callbacks.get(A(this,Bg,px).call(this,t));if(!i)return;const{callback:r,options:{bubbles:s=!1,args:o=[],checker:a=null}}=i;a&&!a(e,t)||(r.bind(e,...o,t)(),s||(t.stopPropagation(),t.preventDefault()))}}Bg=new WeakSet,px=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const Ug=class Ug{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return QL(e),we(this,"_colors",e)}convert(e){const t=JE(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[i,r]of this._colors)if(r.every((s,o)=>s===t[o]))return Ug._colorsMapping.get(i);return t}getHexCode(e){const t=this._colors.get(e);return t?X.makeHexColor(...t):e}};se(Ug,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let I0=Ug;var pn,nt,At,gl,Ji,ml,Gn,vl,fo,wi,Zi,po,hh,dh,Ei,yl,Jr,Ai,$g,Zr,fh,go,ph,wl,_t,Se,er,mo,gh,mh,vh,yh,wh,Eh,Ah,_h,Sh,bh,xh,Ch,kh,Th,es,_i,tr,Ph,El,kp,Vg,gx,Wg,mx,Al,Tp,Gg,vx,Xg,yx,Kg,wx,Rh,F0,Lh,N0,Mh,O0,Dh,j0,Ih,z0,St,Bt,Si,Hr,Yg,Ex,qg,Ax,Fh,H0,Qg,_x,vo,du,Nh,B0;const tl=class tl{constructor(e,t,i,r,s,o,a,l,u){m(this,El);m(this,Vg);m(this,Wg);m(this,Al);m(this,Gg);m(this,Xg);m(this,Kg);m(this,Rh);m(this,Lh);m(this,Mh);m(this,Dh);m(this,Ih);m(this,St);m(this,Si);m(this,Yg);m(this,qg);m(this,Fh);m(this,Qg);m(this,vo);m(this,Nh);m(this,pn,null);m(this,nt,new Map);m(this,At,new Map);m(this,gl,null);m(this,Ji,null);m(this,ml,null);m(this,Gn,new tM);m(this,vl,0);m(this,fo,new Set);m(this,wi,null);m(this,Zi,null);m(this,po,new Set);m(this,hh,!1);m(this,dh,null);m(this,Ei,null);m(this,yl,null);m(this,Jr,!1);m(this,Ai,null);m(this,$g,new eM);m(this,Zr,!1);m(this,fh,!1);m(this,go,null);m(this,ph,null);m(this,wl,null);m(this,_t,ve.NONE);m(this,Se,new Set);m(this,er,null);m(this,mo,null);m(this,gh,null);m(this,mh,this.blur.bind(this));m(this,vh,this.focus.bind(this));m(this,yh,this.copy.bind(this));m(this,wh,this.cut.bind(this));m(this,Eh,this.paste.bind(this));m(this,Ah,this.keydown.bind(this));m(this,_h,this.keyup.bind(this));m(this,Sh,this.onEditingAction.bind(this));m(this,bh,this.onPageChanging.bind(this));m(this,xh,this.onScaleChanging.bind(this));m(this,Ch,A(this,Wg,mx).bind(this));m(this,kh,this.onRotationChanging.bind(this));m(this,Th,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});m(this,es,[0,0]);m(this,_i,null);m(this,tr,null);m(this,Ph,null);E(this,tr,e),E(this,Ph,t),E(this,gl,i),this._eventBus=r,this._eventBus._on("editingaction",c(this,Sh)),this._eventBus._on("pagechanging",c(this,bh)),this._eventBus._on("scalechanging",c(this,xh)),this._eventBus._on("rotationchanging",c(this,kh)),A(this,Gg,vx).call(this),A(this,Lh,N0).call(this),E(this,Ji,s.annotationStorage),E(this,dh,s.filterFactory),E(this,mo,o),E(this,yl,a||null),E(this,hh,l),E(this,wl,u||null),this.viewParameters={realScale:Ms.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=tl.prototype,t=o=>c(o,tr).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),i=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:l}=a;return l!=="text"&&l!=="number"}return!0},r=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return we(this,"_keyboardManager",new Mf([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],e.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:i}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&c(o,tr).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&c(o,tr).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t;A(this,Mh,O0).call(this),A(this,Rh,F0).call(this),this._eventBus._off("editingaction",c(this,Sh)),this._eventBus._off("pagechanging",c(this,bh)),this._eventBus._off("scalechanging",c(this,xh)),this._eventBus._off("rotationchanging",c(this,kh));for(const i of c(this,At).values())i.destroy();c(this,At).clear(),c(this,nt).clear(),c(this,po).clear(),E(this,pn,null),c(this,Se).clear(),c(this,Gn).destroy(),(e=c(this,gl))==null||e.destroy(),(t=c(this,Ai))==null||t.hide(),E(this,Ai,null),c(this,Ei)&&(clearTimeout(c(this,Ei)),E(this,Ei,null)),c(this,_i)&&(clearTimeout(c(this,_i)),E(this,_i,null)),A(this,Xg,yx).call(this)}async mlGuess(e){var t;return((t=c(this,wl))==null?void 0:t.guess(e))||null}get hasMLManager(){return!!c(this,wl)}get hcmFilter(){return we(this,"hcmFilter",c(this,mo)?c(this,dh).addHCMFilter(c(this,mo).foreground,c(this,mo).background):"none")}get direction(){return we(this,"direction",getComputedStyle(c(this,tr)).direction)}get highlightColors(){return we(this,"highlightColors",c(this,yl)?new Map(c(this,yl).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return we(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){E(this,ph,e)}editAltText(e){var t;(t=c(this,gl))==null||t.editAltText(this,e)}onPageChanging({pageNumber:e}){E(this,vl,e-1)}focusMainContainer(){c(this,tr).focus()}findParent(e,t){for(const i of c(this,At).values()){const{x:r,y:s,width:o,height:a}=i.div.getBoundingClientRect();if(e>=r&&e<=r+o&&t>=s&&t<=s+a)return i}return null}disableUserSelect(e=!1){c(this,Ph).classList.toggle("noUserSelect",e)}addShouldRescale(e){c(this,po).add(e)}removeShouldRescale(e){c(this,po).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Ms.PDF_TO_CSS_UNITS;for(const t of c(this,po))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:i,anchorOffset:r,focusNode:s,focusOffset:o}=t,a=t.toString(),u=A(this,El,kp).call(this,t).closest(".textLayer"),h=this.getSelectionBoxes(u);if(h){t.empty(),c(this,_t)===ve.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:ve.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const d of c(this,At).values())if(d.hasTextLayer(u)){d.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:i,anchorOffset:r,focusNode:s,focusOffset:o,text:a});break}}}addToAnnotationStorage(e){!e.isEmpty()&&c(this,Ji)&&!c(this,Ji).has(e.id)&&c(this,Ji).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,c(this,Jr)&&(E(this,Jr,!1),A(this,Al,Tp).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of c(this,Se))if(t.div.contains(e)){E(this,go,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!c(this,go))return;const[e,t]=c(this,go);E(this,go,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0}),t.focus()}addEditListeners(){A(this,Lh,N0).call(this),A(this,Dh,j0).call(this)}removeEditListeners(){A(this,Mh,O0).call(this),A(this,Ih,z0).call(this)}copy(e){var i;if(e.preventDefault(),(i=c(this,pn))==null||i.commitOrRemove(),!this.hasSelection)return;const t=[];for(const r of c(this,Se)){const s=r.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const o of c(this,Zi))if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let i=t.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(s){ue(`paste: "${s.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const r=this.currentLayer;try{const s=[];for(const l of i){const u=r.deserialize(l);if(!u)return;s.push(u)}const o=()=>{for(const l of s)A(this,Fh,H0).call(this,l);A(this,Nh,B0).call(this,s)},a=()=>{for(const l of s)l.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(s){ue(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),c(this,_t)!==ve.NONE&&!this.isEditorHandlingKeyboard&&tl._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,c(this,Jr)&&(E(this,Jr,!1),A(this,Al,Tp).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(A(this,Kg,wx).call(this),A(this,Dh,j0).call(this),A(this,St,Bt).call(this,{isEditing:c(this,_t)!==ve.NONE,isEmpty:A(this,vo,du).call(this),hasSomethingToUndo:c(this,Gn).hasSomethingToUndo(),hasSomethingToRedo:c(this,Gn).hasSomethingToRedo(),hasSelectedEditor:!1})):(A(this,Rh,F0).call(this),A(this,Ih,z0).call(this),A(this,St,Bt).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!c(this,Zi)){E(this,Zi,e);for(const t of c(this,Zi))A(this,Si,Hr).call(this,t.defaultPropertiesToUpdate)}}getId(){return c(this,$g).id}get currentLayer(){return c(this,At).get(c(this,vl))}getLayer(e){return c(this,At).get(e)}get currentPageIndex(){return c(this,vl)}addLayer(e){c(this,At).set(e.pageIndex,e),c(this,Zr)?e.enable():e.disable()}removeLayer(e){c(this,At).delete(e.pageIndex)}updateMode(e,t=null,i=!1){if(c(this,_t)!==e){if(E(this,_t,e),e===ve.NONE){this.setEditingState(!1),A(this,qg,Ax).call(this);return}this.setEditingState(!0),A(this,Yg,Ex).call(this),this.unselectAll();for(const r of c(this,At).values())r.updateMode(e);if(!t&&i){this.addNewEditorFromKeyboard();return}if(t){for(const r of c(this,nt).values())if(r.annotationElementId===t){this.setSelected(r),r.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==c(this,_t)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var i;if(c(this,Zi)){switch(e){case ne.CREATE:this.currentLayer.addNewEditor();return;case ne.HIGHLIGHT_DEFAULT_COLOR:(i=c(this,ph))==null||i.updateColor(t);break;case ne.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(c(this,gh)||E(this,gh,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const r of c(this,Se))r.updateParams(e,t);for(const r of c(this,Zi))r.updateDefaultParams(e,t)}}showAllEditors(e,t,i=!1){var s;for(const o of c(this,nt).values())o.editorType===e&&o.show(t);(((s=c(this,gh))==null?void 0:s.get(ne.HIGHLIGHT_SHOW_ALL))??!0)!==t&&A(this,Si,Hr).call(this,[[ne.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(c(this,fh)!==e){E(this,fh,e);for(const t of c(this,At).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const i of c(this,nt).values())i.pageIndex===e&&t.push(i);return t}getEditor(e){return c(this,nt).get(e)}addEditor(e){c(this,nt).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(c(this,Ei)&&clearTimeout(c(this,Ei)),E(this,Ei,setTimeout(()=>{this.focusMainContainer(),E(this,Ei,null)},0))),c(this,nt).delete(e.id),this.unselect(e),(!e.annotationElementId||!c(this,fo).has(e.annotationElementId))&&((t=c(this,Ji))==null||t.remove(e.id))}addDeletedAnnotationElement(e){c(this,fo).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return c(this,fo).has(e)}removeDeletedAnnotationElement(e){c(this,fo).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){c(this,pn)!==e&&(E(this,pn,e),e&&A(this,Si,Hr).call(this,e.propertiesToUpdate))}updateUI(e){c(this,Qg,_x)===e&&A(this,Si,Hr).call(this,e.propertiesToUpdate)}toggleSelected(e){if(c(this,Se).has(e)){c(this,Se).delete(e),e.unselect(),A(this,St,Bt).call(this,{hasSelectedEditor:this.hasSelection});return}c(this,Se).add(e),e.select(),A(this,Si,Hr).call(this,e.propertiesToUpdate),A(this,St,Bt).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of c(this,Se))t!==e&&t.unselect();c(this,Se).clear(),c(this,Se).add(e),e.select(),A(this,Si,Hr).call(this,e.propertiesToUpdate),A(this,St,Bt).call(this,{hasSelectedEditor:!0})}isSelected(e){return c(this,Se).has(e)}get firstSelectedEditor(){return c(this,Se).values().next().value}unselect(e){e.unselect(),c(this,Se).delete(e),A(this,St,Bt).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return c(this,Se).size!==0}get isEnterHandled(){return c(this,Se).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){c(this,Gn).undo(),A(this,St,Bt).call(this,{hasSomethingToUndo:c(this,Gn).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:A(this,vo,du).call(this)})}redo(){c(this,Gn).redo(),A(this,St,Bt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:c(this,Gn).hasSomethingToRedo(),isEmpty:A(this,vo,du).call(this)})}addCommands(e){c(this,Gn).add(e),A(this,St,Bt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:A(this,vo,du).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...c(this,Se)],t=()=>{for(const r of e)r.remove()},i=()=>{for(const r of e)A(this,Fh,H0).call(this,r)};this.addCommands({cmd:t,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=c(this,pn))==null||e.commitOrRemove()}hasSomethingToControl(){return c(this,pn)||this.hasSelection}selectAll(){for(const e of c(this,Se))e.commit();A(this,Nh,B0).call(this,c(this,nt).values())}unselectAll(){if(!(c(this,pn)&&(c(this,pn).commitOrRemove(),c(this,_t)!==ve.NONE))&&this.hasSelection){for(const e of c(this,Se))e.unselect();c(this,Se).clear(),A(this,St,Bt).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;c(this,es)[0]+=e,c(this,es)[1]+=t;const[r,s]=c(this,es),o=[...c(this,Se)],a=1e3;c(this,_i)&&clearTimeout(c(this,_i)),E(this,_i,setTimeout(()=>{E(this,_i,null),c(this,es)[0]=c(this,es)[1]=0,this.addCommands({cmd:()=>{for(const l of o)c(this,nt).has(l.id)&&l.translateInPage(r,s)},undo:()=>{for(const l of o)c(this,nt).has(l.id)&&l.translateInPage(-r,-s)},mustExec:!1})},a));for(const l of o)l.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),E(this,wi,new Map);for(const e of c(this,Se))c(this,wi).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!c(this,wi))return!1;this.disableUserSelect(!1);const e=c(this,wi);E(this,wi,null);let t=!1;for(const[{x:r,y:s,pageIndex:o},a]of e)a.newX=r,a.newY=s,a.newPageIndex=o,t||(t=r!==a.savedX||s!==a.savedY||o!==a.savedPageIndex);if(!t)return!1;const i=(r,s,o,a)=>{if(c(this,nt).has(r.id)){const l=c(this,At).get(a);l?r._setParentAndPosition(l,s,o):(r.pageIndex=a,r.x=s,r.y=o)}};return this.addCommands({cmd:()=>{for(const[r,{newX:s,newY:o,newPageIndex:a}]of e)i(r,s,o,a)},undo:()=>{for(const[r,{savedX:s,savedY:o,savedPageIndex:a}]of e)i(r,s,o,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(c(this,wi))for(const i of c(this,wi).keys())i.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||c(this,Se).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return c(this,pn)===e}getActive(){return c(this,pn)}getMode(){return c(this,_t)}get imageManager(){return we(this,"imageManager",new M0)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,h=t.rangeCount;u<h;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:i,y:r,width:s,height:o}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(u,h,d,f)=>({x:(h-r)/o,y:1-(u+d-i)/s,width:f/o,height:d/s});break;case"180":a=(u,h,d,f)=>({x:1-(u+d-i)/s,y:1-(h+f-r)/o,width:d/s,height:f/o});break;case"270":a=(u,h,d,f)=>({x:1-(h+f-r)/o,y:(u-i)/s,width:f/o,height:d/s});break;default:a=(u,h,d,f)=>({x:(u-i)/s,y:(h-r)/o,width:d/s,height:f/o});break}const l=[];for(let u=0,h=t.rangeCount;u<h;u++){const d=t.getRangeAt(u);if(!d.collapsed)for(const{x:f,y:p,width:g,height:y}of d.getClientRects())g===0||y===0||l.push(a(f,p,g,y))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(c(this,ml)||E(this,ml,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=c(this,ml))==null||t.delete(e)}renderAnnotationElement(e){var r;const t=(r=c(this,ml))==null?void 0:r.get(e.data.id);if(!t)return;const i=c(this,Ji).getRawValue(t);i&&(c(this,_t)===ve.NONE&&!i.hasBeenModified||i.renderAnnotationElement(e))}};pn=new WeakMap,nt=new WeakMap,At=new WeakMap,gl=new WeakMap,Ji=new WeakMap,ml=new WeakMap,Gn=new WeakMap,vl=new WeakMap,fo=new WeakMap,wi=new WeakMap,Zi=new WeakMap,po=new WeakMap,hh=new WeakMap,dh=new WeakMap,Ei=new WeakMap,yl=new WeakMap,Jr=new WeakMap,Ai=new WeakMap,$g=new WeakMap,Zr=new WeakMap,fh=new WeakMap,go=new WeakMap,ph=new WeakMap,wl=new WeakMap,_t=new WeakMap,Se=new WeakMap,er=new WeakMap,mo=new WeakMap,gh=new WeakMap,mh=new WeakMap,vh=new WeakMap,yh=new WeakMap,wh=new WeakMap,Eh=new WeakMap,Ah=new WeakMap,_h=new WeakMap,Sh=new WeakMap,bh=new WeakMap,xh=new WeakMap,Ch=new WeakMap,kh=new WeakMap,Th=new WeakMap,es=new WeakMap,_i=new WeakMap,tr=new WeakMap,Ph=new WeakMap,El=new WeakSet,kp=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Vg=new WeakSet,gx=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const i=A(this,El,kp).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(i);r&&(c(this,Ai)||E(this,Ai,new JL(this)),c(this,Ai).show(i,r,this.direction==="ltr"))},Wg=new WeakSet,mx=function(){var s,o,a;const e=document.getSelection();if(!e||e.isCollapsed){c(this,er)&&((s=c(this,Ai))==null||s.hide(),E(this,er,null),A(this,St,Bt).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===c(this,er))return;if(!A(this,El,kp).call(this,e).closest(".textLayer")){c(this,er)&&((o=c(this,Ai))==null||o.hide(),E(this,er,null),A(this,St,Bt).call(this,{hasSelectedText:!1}));return}if((a=c(this,Ai))==null||a.hide(),E(this,er,t),A(this,St,Bt).call(this,{hasSelectedText:!0}),!(c(this,_t)!==ve.HIGHLIGHT&&c(this,_t)!==ve.NONE)&&(c(this,_t)===ve.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),E(this,Jr,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=u=>{u.type==="pointerup"&&u.button!==0||(window.removeEventListener("pointerup",l),window.removeEventListener("blur",l),u.type==="pointerup"&&A(this,Al,Tp).call(this,"main_toolbar"))};window.addEventListener("pointerup",l),window.addEventListener("blur",l)}},Al=new WeakSet,Tp=function(e=""){c(this,_t)===ve.HIGHLIGHT?this.highlightSelection(e):c(this,hh)&&A(this,Vg,gx).call(this)},Gg=new WeakSet,vx=function(){document.addEventListener("selectionchange",c(this,Ch))},Xg=new WeakSet,yx=function(){document.removeEventListener("selectionchange",c(this,Ch))},Kg=new WeakSet,wx=function(){window.addEventListener("focus",c(this,vh)),window.addEventListener("blur",c(this,mh))},Rh=new WeakSet,F0=function(){window.removeEventListener("focus",c(this,vh)),window.removeEventListener("blur",c(this,mh))},Lh=new WeakSet,N0=function(){window.addEventListener("keydown",c(this,Ah)),window.addEventListener("keyup",c(this,_h))},Mh=new WeakSet,O0=function(){window.removeEventListener("keydown",c(this,Ah)),window.removeEventListener("keyup",c(this,_h))},Dh=new WeakSet,j0=function(){document.addEventListener("copy",c(this,yh)),document.addEventListener("cut",c(this,wh)),document.addEventListener("paste",c(this,Eh))},Ih=new WeakSet,z0=function(){document.removeEventListener("copy",c(this,yh)),document.removeEventListener("cut",c(this,wh)),document.removeEventListener("paste",c(this,Eh))},St=new WeakSet,Bt=function(e){Object.entries(e).some(([i,r])=>c(this,Th)[i]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(c(this,Th),e)}),c(this,_t)===ve.HIGHLIGHT&&e.hasSelectedEditor===!1&&A(this,Si,Hr).call(this,[[ne.HIGHLIGHT_FREE,!0]]))},Si=new WeakSet,Hr=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},Yg=new WeakSet,Ex=function(){if(!c(this,Zr)){E(this,Zr,!0);for(const e of c(this,At).values())e.enable();for(const e of c(this,nt).values())e.enable()}},qg=new WeakSet,Ax=function(){if(this.unselectAll(),c(this,Zr)){E(this,Zr,!1);for(const e of c(this,At).values())e.disable();for(const e of c(this,nt).values())e.disable()}},Fh=new WeakSet,H0=function(e){const t=c(this,At).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},Qg=new WeakSet,_x=function(){let e=null;for(e of c(this,Se));return e},vo=new WeakSet,du=function(){if(c(this,nt).size===0)return!0;if(c(this,nt).size===1)for(const e of c(this,nt).values())return e.isEmpty();return!1},Nh=new WeakSet,B0=function(e){for(const t of c(this,Se))t.unselect();c(this,Se).clear();for(const t of e)t.isEmpty()||(c(this,Se).add(t),t.select());A(this,St,Bt).call(this,{hasSelectedEditor:this.hasSelection})},se(tl,"TRANSLATE_SMALL",1),se(tl,"TRANSLATE_BIG",10);let Ea=tl;var nr,ir,Xn,rr,Kn,_l,sr,Oh,U0;const Gi=class Gi{constructor(e){m(this,Oh);m(this,nr,"");m(this,ir,!1);m(this,Xn,null);m(this,rr,null);m(this,Kn,null);m(this,_l,!1);m(this,sr,null);E(this,sr,e)}static initialize(e){Gi._l10nPromise||(Gi._l10nPromise=e)}async render(){const e=E(this,Xn,document.createElement("button"));e.className="altText";const t=await Gi._l10nPromise.get("pdfjs-editor-alt-text-button-label");e.textContent=t,e.setAttribute("aria-label",t),e.tabIndex="0",e.addEventListener("contextmenu",ln),e.addEventListener("pointerdown",r=>r.stopPropagation());const i=r=>{r.preventDefault(),c(this,sr)._uiManager.editAltText(c(this,sr))};return e.addEventListener("click",i,{capture:!0}),e.addEventListener("keydown",r=>{r.target===e&&r.key==="Enter"&&(E(this,_l,!0),i(r))}),await A(this,Oh,U0).call(this),e}finish(){c(this,Xn)&&(c(this,Xn).focus({focusVisible:c(this,_l)}),E(this,_l,!1))}isEmpty(){return!c(this,nr)&&!c(this,ir)}get data(){return{altText:c(this,nr),decorative:c(this,ir)}}set data({altText:e,decorative:t}){c(this,nr)===e&&c(this,ir)===t||(E(this,nr,e),E(this,ir,t),A(this,Oh,U0).call(this))}toggle(e=!1){c(this,Xn)&&(!e&&c(this,Kn)&&(clearTimeout(c(this,Kn)),E(this,Kn,null)),c(this,Xn).disabled=!e)}destroy(){var e;(e=c(this,Xn))==null||e.remove(),E(this,Xn,null),E(this,rr,null)}};nr=new WeakMap,ir=new WeakMap,Xn=new WeakMap,rr=new WeakMap,Kn=new WeakMap,_l=new WeakMap,sr=new WeakMap,Oh=new WeakSet,U0=async function(){var r;const e=c(this,Xn);if(!e)return;if(!c(this,nr)&&!c(this,ir)){e.classList.remove("done"),(r=c(this,rr))==null||r.remove();return}e.classList.add("done"),Gi._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(s=>{e.setAttribute("aria-label",s)});let t=c(this,rr);if(!t){E(this,rr,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip");const s=t.id=`alt-text-tooltip-${c(this,sr).id}`;e.setAttribute("aria-describedby",s);const o=100;e.addEventListener("mouseenter",()=>{E(this,Kn,setTimeout(()=>{E(this,Kn,null),c(this,rr).classList.add("show"),c(this,sr)._reportTelemetry({action:"alt_text_tooltip"})},o))}),e.addEventListener("mouseleave",()=>{var a;c(this,Kn)&&(clearTimeout(c(this,Kn)),E(this,Kn,null)),(a=c(this,rr))==null||a.classList.remove("show")})}t.innerText=c(this,ir)?await Gi._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):c(this,nr),t.parentNode||e.append(t);const i=c(this,sr).getImageForAltText();i==null||i.setAttribute("aria-describedby",t.id)},se(Gi,"_l10nPromise",null);let Ag=Gi;var Yn,Ut,Sl,yo,bt,wo,bl,xl,Ft,jh,Eo,ts,zh,Ao,or,bi,Cl,kl,Rn,Hh,Jg,Bh,$0,Uh,V0,$h,W0,Zg,Sx,em,bx,Vh,G0,Wh,X0,Gh,K0,tm,xx,nm,Cx,im,kx,rm,Tx,Xh,Y0,_o,fu;const Te=class Te{constructor(e){m(this,Bh);m(this,$h);m(this,Zg);m(this,em);m(this,Vh);m(this,Wh);m(this,Gh);m(this,tm);m(this,nm);m(this,im);m(this,rm);m(this,Xh);m(this,_o);m(this,Yn,null);m(this,Ut,null);m(this,Sl,!1);m(this,yo,!1);m(this,bt,null);m(this,wo,null);m(this,bl,this.focusin.bind(this));m(this,xl,this.focusout.bind(this));m(this,Ft,null);m(this,jh,"");m(this,Eo,!1);m(this,ts,null);m(this,zh,!1);m(this,Ao,!1);m(this,or,!1);m(this,bi,null);m(this,Cl,0);m(this,kl,0);m(this,Rn,null);se(this,"_initialOptions",Object.create(null));se(this,"_isVisible",!0);se(this,"_uiManager",null);se(this,"_focusEventsAllowed",!0);se(this,"_l10nPromise",null);m(this,Hh,!1);m(this,Jg,Te._zIndex++);this.constructor===Te&&ke("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[s,o];const[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Te.prototype._resizeWithKeyboard,t=Ea.TRANSLATE_SMALL,i=Ea.TRANSLATE_BIG;return we(this,"_resizerKeyboardManager",new Mf([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,i]}],[["Escape","mac+Escape"],Te.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return we(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new nM({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t,i){if(Te._l10nPromise||(Te._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(s=>[s,e.get(s.replaceAll(/([A-Z])/g,o=>`-${o.toLowerCase()}`))]))),i!=null&&i.strings)for(const s of i.strings)Te._l10nPromise.set(s,e.get(s));if(Te._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);Te._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){ke("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return c(this,Hh)}set _isDraggable(e){var t;E(this,Hh,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=c(this,Jg)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):A(this,_o,fu).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(c(this,Eo)?E(this,Eo,!1):this.parent.setSelected(this))}focusout(e){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,i,r){const[s,o]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(e+i)/s,this.y=(t+r)/o,this.fixAndSetPosition()}translate(e,t){A(this,Bh,$0).call(this,this.parentDimensions,e,t)}translateInPage(e,t){c(this,ts)||E(this,ts,[this.x,this.y]),A(this,Bh,$0).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){c(this,ts)||E(this,ts,[this.x,this.y]);const[i,r]=this.parentDimensions;if(this.x+=e/i,this.y+=t/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:u,y:h}=this.div.getBoundingClientRect();this.parent.findNewParent(this,u,h)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:o}=this;const[a,l]=this.getBaseTranslation();s+=a,o+=l,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*o).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!c(this,ts)&&(c(this,ts)[0]!==this.x||c(this,ts)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:i}=Te,r=i/e,s=i/t;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,i]=this.pageDimensions;let{x:r,y:s,width:o,height:a}=this;if(o*=t,a*=i,r*=t,s*=i,this._mustFixPosition)switch(e){case 0:r=Math.max(0,Math.min(t-o,r)),s=Math.max(0,Math.min(i-a,s));break;case 90:r=Math.max(0,Math.min(t-a,r)),s=Math.min(i,Math.max(o,s));break;case 180:r=Math.min(t,Math.max(o,r)),s=Math.min(i,Math.max(a,s));break;case 270:r=Math.min(t,Math.max(a,r)),s=Math.max(0,Math.min(i-o,s));break}this.x=r/=t,this.y=s/=i;const[l,u]=this.getBaseTranslation();r+=l,s+=u;const{style:h}=this.div;h.left=`${(100*r).toFixed(2)}%`,h.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var i;return A(i=Te,Uh,V0).call(i,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var i;return A(i=Te,Uh,V0).call(i,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,i]}=this,r=t*e,s=i*e;return rn.isCSSRoundSupported?[Math.round(r),Math.round(s)]:[r,s]}setDims(e,t){const[i,r]=this.parentDimensions;this.div.style.width=`${(100*e/i).toFixed(2)}%`,c(this,yo)||(this.div.style.height=`${(100*t/r).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:i}=e,r=i.endsWith("%"),s=!c(this,yo)&&t.endsWith("%");if(r&&s)return;const[o,a]=this.parentDimensions;r||(e.width=`${(100*parseFloat(i)/o).toFixed(2)}%`),!c(this,yo)&&!s&&(e.height=`${(100*parseFloat(t)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=c(this,Ut))==null||e.finish()}async addEditToolbar(){return c(this,Ft)||c(this,Ao)?c(this,Ft):(E(this,Ft,new R0(this)),this.div.append(c(this,Ft).render()),c(this,Ut)&&c(this,Ft).addAltTextButton(await c(this,Ut).render()),c(this,Ft))}removeEditToolbar(){var e;c(this,Ft)&&(c(this,Ft).remove(),E(this,Ft,null),(e=c(this,Ut))==null||e.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){c(this,Ut)||(Ag.initialize(Te._l10nPromise),E(this,Ut,new Ag(this)),await this.addEditToolbar())}get altTextData(){var e;return(e=c(this,Ut))==null?void 0:e.data}set altTextData(e){c(this,Ut)&&(c(this,Ut).data=e)}hasAltText(){var e;return!((e=c(this,Ut))!=null&&e.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=c(this,Sl)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.div.addEventListener("focusin",c(this,bl)),this.div.addEventListener("focusout",c(this,xl));const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[i,r]=this.getInitialTranslation();return this.translate(i,r),Eg(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=rn.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(E(this,Eo,!0),this._isDraggable){A(this,tm,xx).call(this,e);return}A(this,Gh,K0).call(this,e)}moveInDOM(){c(this,bi)&&clearTimeout(c(this,bi)),E(this,bi,setTimeout(()=>{var e;E(this,bi,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,i){e.changeParent(this),this.x=t,this.y=i,this.fixAndSetPosition()}getRect(e,t,i=this.rotation){const r=this.parentScale,[s,o]=this.pageDimensions,[a,l]=this.pageTranslation,u=e/r,h=t/r,d=this.x*s,f=this.y*o,p=this.width*s,g=this.height*o;switch(i){case 0:return[d+u+a,o-f-h-g+l,d+u+p+a,o-f-h+l];case 90:return[d+h+a,o-f+u+l,d+h+g+a,o-f+u+p+l];case 180:return[d-u-p+a,o-f+h+l,d-u+a,o-f+h+g+l];case 270:return[d-h-g+a,o-f-u-p+l,d-h+a,o-f-u+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[i,r,s,o]=e,a=s-i,l=o-r;switch(this.rotation){case 0:return[i,t-o,a,l];case 90:return[i,t-r,l,a];case 180:return[s,t-r,a,l];case 270:return[s,t-o,l,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){E(this,Ao,!0)}disableEditMode(){E(this,Ao,!1)}isInEditMode(){return c(this,Ao)}shouldGetKeyboardEvents(){return c(this,or)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var e,t;(e=this.div)==null||e.addEventListener("focusin",c(this,bl)),(t=this.div)==null||t.addEventListener("focusout",c(this,xl))}rotate(e){}serialize(e=!1,t=null){ke("An editor must be serializable")}static deserialize(e,t,i){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:i});r.rotation=e.rotation;const[s,o]=r.pageDimensions,[a,l,u,h]=r.getRectInCurrentCoords(e.rect,o);return r.x=a/s,r.y=l/o,r.width=u/s,r.height=h/o,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",c(this,bl)),this.div.removeEventListener("focusout",c(this,xl)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),c(this,bi)&&(clearTimeout(c(this,bi)),E(this,bi,null)),A(this,_o,fu).call(this),this.removeEditToolbar(),c(this,Rn)){for(const e of c(this,Rn).values())clearTimeout(e);E(this,Rn,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(A(this,Zg,Sx).call(this),c(this,bt).classList.remove("hidden"),Eg(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),E(this,wo,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=c(this,bt).children;if(!c(this,Yn)){E(this,Yn,Array.from(t));const o=A(this,nm,Cx).bind(this),a=A(this,im,kx).bind(this);for(const l of c(this,Yn)){const u=l.getAttribute("data-resizer-name");l.setAttribute("role","spinbutton"),l.addEventListener("keydown",o),l.addEventListener("blur",a),l.addEventListener("focus",A(this,rm,Tx).bind(this,u)),Te._l10nPromise.get(`pdfjs-editor-resizer-label-${u}`).then(h=>l.setAttribute("aria-label",h))}}const i=c(this,Yn)[0];let r=0;for(const o of t){if(o===i)break;r++}const s=(360-this.rotation+this.parentRotation)%360/90*(c(this,Yn).length/4);if(s!==r){if(s<r)for(let a=0;a<r-s;a++)c(this,bt).append(c(this,bt).firstChild);else if(s>r)for(let a=0;a<s-r;a++)c(this,bt).firstChild.before(c(this,bt).lastChild);let o=0;for(const a of t){const u=c(this,Yn)[o++].getAttribute("data-resizer-name");Te._l10nPromise.get(`pdfjs-editor-resizer-label-${u}`).then(h=>a.setAttribute("aria-label",h))}}A(this,Xh,Y0).call(this,0),E(this,or,!0),c(this,bt).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){c(this,or)&&A(this,Wh,X0).call(this,c(this,jh),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){A(this,_o,fu).call(this),this.div.focus()}select(){var e,t;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!c(this,Ft)){this.addEditToolbar().then(()=>{var i,r;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((r=c(this,Ft))==null||r.show())});return}(t=c(this,Ft))==null||t.show()}unselect(){var e,t,i,r;(e=c(this,bt))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=c(this,Ft))==null||r.hide()}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return c(this,zh)}set isEditing(e){E(this,zh,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){E(this,yo,!0);const i=e/t,{style:r}=this.div;r.aspectRatio=i,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){c(this,Rn)||E(this,Rn,new Map);const{action:i}=e;let r=c(this,Rn).get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),c(this,Rn).delete(i),c(this,Rn).size===0&&E(this,Rn,null)},Te._telemetryTimeout),c(this,Rn).set(i,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),E(this,Sl,!1)}disable(){this.div&&(this.div.tabIndex=-1),E(this,Sl,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const i=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),i.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Yn=new WeakMap,Ut=new WeakMap,Sl=new WeakMap,yo=new WeakMap,bt=new WeakMap,wo=new WeakMap,bl=new WeakMap,xl=new WeakMap,Ft=new WeakMap,jh=new WeakMap,Eo=new WeakMap,ts=new WeakMap,zh=new WeakMap,Ao=new WeakMap,or=new WeakMap,bi=new WeakMap,Cl=new WeakMap,kl=new WeakMap,Rn=new WeakMap,Hh=new WeakMap,Jg=new WeakMap,Bh=new WeakSet,$0=function([e,t],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/e,this.y+=r/t,this.fixAndSetPosition()},Uh=new WeakSet,V0=function(e,t,i){switch(i){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},$h=new WeakSet,W0=function(e){switch(e){case 90:{const[t,i]=this.pageDimensions;return[0,-t/i,i/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,i]=this.pageDimensions;return[0,t/i,-i/t,0]}default:return[1,0,0,1]}},Zg=new WeakSet,Sx=function(){if(c(this,bt))return;E(this,bt,document.createElement("div")),c(this,bt).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"];for(const t of e){const i=document.createElement("div");c(this,bt).append(i),i.classList.add("resizer",t),i.setAttribute("data-resizer-name",t),i.addEventListener("pointerdown",A(this,em,bx).bind(this,t)),i.addEventListener("contextmenu",ln),i.tabIndex=-1}this.div.prepend(c(this,bt))},em=new WeakSet,bx=function(e,t){var g;t.preventDefault();const{isMac:i}=rn.platform;if(t.button!==0||t.ctrlKey&&i)return;(g=c(this,Ut))==null||g.toggle(!1);const r=A(this,Wh,X0).bind(this,e),s=this._isDraggable;this._isDraggable=!1;const o={passive:!0,capture:!0};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",r,o),window.addEventListener("contextmenu",ln);const a=this.x,l=this.y,u=this.width,h=this.height,d=this.parent.div.style.cursor,f=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const p=()=>{var y;this.parent.togglePointerEvents(!0),(y=c(this,Ut))==null||y.toggle(!0),this._isDraggable=s,window.removeEventListener("pointerup",p),window.removeEventListener("blur",p),window.removeEventListener("pointermove",r,o),window.removeEventListener("contextmenu",ln),this.parent.div.style.cursor=d,this.div.style.cursor=f,A(this,Vh,G0).call(this,a,l,u,h)};window.addEventListener("pointerup",p),window.addEventListener("blur",p)},Vh=new WeakSet,G0=function(e,t,i,r){const s=this.x,o=this.y,a=this.width,l=this.height;s===e&&o===t&&a===i&&l===r||this.addCommands({cmd:()=>{this.width=a,this.height=l,this.x=s,this.y=o;const[u,h]=this.parentDimensions;this.setDims(u*a,h*l),this.fixAndSetPosition()},undo:()=>{this.width=i,this.height=r,this.x=e,this.y=t;const[u,h]=this.parentDimensions;this.setDims(u*i,h*r),this.fixAndSetPosition()},mustExec:!0})},Wh=new WeakSet,X0=function(e,t){const[i,r]=this.parentDimensions,s=this.x,o=this.y,a=this.width,l=this.height,u=Te.MIN_SIZE/i,h=Te.MIN_SIZE/r,d=H=>Math.round(H*1e4)/1e4,f=A(this,$h,W0).call(this,this.rotation),p=(H,M)=>[f[0]*H+f[2]*M,f[1]*H+f[3]*M],g=A(this,$h,W0).call(this,360-this.rotation),y=(H,M)=>[g[0]*H+g[2]*M,g[1]*H+g[3]*M];let S,v,w=!1,_=!1;switch(e){case"topLeft":w=!0,S=(H,M)=>[0,0],v=(H,M)=>[H,M];break;case"topMiddle":S=(H,M)=>[H/2,0],v=(H,M)=>[H/2,M];break;case"topRight":w=!0,S=(H,M)=>[H,0],v=(H,M)=>[0,M];break;case"middleRight":_=!0,S=(H,M)=>[H,M/2],v=(H,M)=>[0,M/2];break;case"bottomRight":w=!0,S=(H,M)=>[H,M],v=(H,M)=>[0,0];break;case"bottomMiddle":S=(H,M)=>[H/2,M],v=(H,M)=>[H/2,0];break;case"bottomLeft":w=!0,S=(H,M)=>[0,M],v=(H,M)=>[H,0];break;case"middleLeft":_=!0,S=(H,M)=>[0,M/2],v=(H,M)=>[H,M/2];break}const x=S(a,l),C=v(a,l);let k=p(...C);const b=d(s+k[0]),L=d(o+k[1]);let N=1,F=1,[I,K]=this.screenToPageTranslation(t.movementX,t.movementY);if([I,K]=y(I/i,K/r),w){const H=Math.hypot(a,l);N=F=Math.max(Math.min(Math.hypot(C[0]-x[0]-I,C[1]-x[1]-K)/H,1/a,1/l),u/a,h/l)}else _?N=Math.max(u,Math.min(1,Math.abs(C[0]-x[0]-I)))/a:F=Math.max(h,Math.min(1,Math.abs(C[1]-x[1]-K)))/l;const B=d(a*N),$=d(l*F);k=p(...v(B,$));const Q=b-k[0],le=L-k[1];this.width=B,this.height=$,this.x=Q,this.y=le,this.setDims(i*B,r*$),this.fixAndSetPosition()},Gh=new WeakSet,K0=function(e){const{isMac:t}=rn.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},tm=new WeakSet,xx=function(e){const t=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let i,r;t&&(this.div.classList.add("moving"),i={passive:!0,capture:!0},E(this,Cl,e.clientX),E(this,kl,e.clientY),r=o=>{const{clientX:a,clientY:l}=o,[u,h]=this.screenToPageTranslation(a-c(this,Cl),l-c(this,kl));E(this,Cl,a),E(this,kl,l),this._uiManager.dragSelectedEditors(u,h)},window.addEventListener("pointermove",r,i));const s=()=>{window.removeEventListener("pointerup",s),window.removeEventListener("blur",s),t&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",r,i)),E(this,Eo,!1),this._uiManager.endDragSession()||A(this,Gh,K0).call(this,e)};window.addEventListener("pointerup",s),window.addEventListener("blur",s)},nm=new WeakSet,Cx=function(e){Te._resizerKeyboardManager.exec(this,e)},im=new WeakSet,kx=function(e){var t;c(this,or)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==c(this,bt)&&A(this,_o,fu).call(this)},rm=new WeakSet,Tx=function(e){E(this,jh,c(this,or)?e:"")},Xh=new WeakSet,Y0=function(e){if(c(this,Yn))for(const t of c(this,Yn))t.tabIndex=e},_o=new WeakSet,fu=function(){if(E(this,or,!1),A(this,Xh,Y0).call(this,-1),c(this,wo)){const{savedX:e,savedY:t,savedWidth:i,savedHeight:r}=c(this,wo);A(this,Vh,G0).call(this,e,t,i,r),E(this,wo,null)}},m(Te,Uh),se(Te,"_borderLineWidth",-1),se(Te,"_colorManager",new I0),se(Te,"_zIndex",1),se(Te,"_telemetryTimeout",1e3);let be=Te;class nM extends be{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const K_=3285377520,Tn=4294901760,gi=65535;class Px{constructor(e){this.h1=e?e&4294967295:K_,this.h2=e?e&4294967295:K_}update(e){let t,i;if(typeof e=="string"){t=new Uint8Array(e.length*2),i=0;for(let y=0,S=e.length;y<S;y++){const v=e.charCodeAt(y);v<=255?t[i++]=v:(t[i++]=v>>>8,t[i++]=v&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),i=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=i>>2,s=i-r*4,o=new Uint32Array(t.buffer,0,r);let a=0,l=0,u=this.h1,h=this.h2;const d=3432918353,f=461845907,p=d&gi,g=f&gi;for(let y=0;y<r;y++)y&1?(a=o[y],a=a*d&Tn|a*p&gi,a=a<<15|a>>>17,a=a*f&Tn|a*g&gi,u^=a,u=u<<13|u>>>19,u=u*5+3864292196):(l=o[y],l=l*d&Tn|l*p&gi,l=l<<15|l>>>17,l=l*f&Tn|l*g&gi,h^=l,h=h<<13|h>>>19,h=h*5+3864292196);switch(a=0,s){case 3:a^=t[r*4+2]<<16;case 2:a^=t[r*4+1]<<8;case 1:a^=t[r*4],a=a*d&Tn|a*p&gi,a=a<<15|a>>>17,a=a*f&Tn|a*g&gi,r&1?u^=a:h^=a}this.h1=u,this.h2=h}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Tn|e*36045&gi,t=t*4283543511&Tn|((t<<16|e>>>16)*2950163797&Tn)>>>16,e^=t>>>1,e=e*444984403&Tn|e*60499&gi,t=t*3301882366&Tn|((t<<16|e>>>16)*3120437893&Tn)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const q0=Object.freeze({map:null,hash:"",transfer:void 0});var So,xt,sm,Rx;class ZE{constructor(){m(this,sm);m(this,So,!1);m(this,xt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const i=c(this,xt).get(e);return i===void 0?t:Object.assign(t,i)}getRawValue(e){return c(this,xt).get(e)}remove(e){if(c(this,xt).delete(e),c(this,xt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of c(this,xt).values())if(t instanceof be)return;this.onAnnotationEditor(null)}}setValue(e,t){const i=c(this,xt).get(e);let r=!1;if(i!==void 0)for(const[s,o]of Object.entries(t))i[s]!==o&&(r=!0,i[s]=o);else r=!0,c(this,xt).set(e,t);r&&A(this,sm,Rx).call(this),t instanceof be&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return c(this,xt).has(e)}getAll(){return c(this,xt).size>0?GE(c(this,xt)):null}setAll(e){for(const[t,i]of Object.entries(e))this.setValue(t,i)}get size(){return c(this,xt).size}resetModified(){c(this,So)&&(E(this,So,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Lx(this)}get serializable(){if(c(this,xt).size===0)return q0;const e=new Map,t=new Px,i=[],r=Object.create(null);let s=!1;for(const[o,a]of c(this,xt)){const l=a instanceof be?a.serialize(!1,r):a;l&&(e.set(o,l),t.update(`${o}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const o of e.values())o.bitmap&&i.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:i}:q0}get editorStats(){let e=null;const t=new Map;for(const i of c(this,xt).values()){if(!(i instanceof be))continue;const r=i.telemetryFinalData;if(!r)continue;const{type:s}=r;t.has(s)||t.set(s,Object.getPrototypeOf(i).constructor),e||(e=Object.create(null));const o=e[s]||(e[s]=new Map);for(const[a,l]of Object.entries(r)){if(a==="type")continue;let u=o.get(a);u||(u=new Map,o.set(a,u));const h=u.get(l)??0;u.set(l,h+1)}}for(const[i,r]of t)e[i]=r.computeTelemetryFinalData(e[i]);return e}}So=new WeakMap,xt=new WeakMap,sm=new WeakSet,Rx=function(){c(this,So)||(E(this,So,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Kh;class Lx extends ZE{constructor(t){super();m(this,Kh,void 0);const{map:i,hash:r,transfer:s}=t.serializable,o=structuredClone(i,s?{transfer:s}:null);E(this,Kh,{map:o,hash:r,transfer:s})}get print(){ke("Should not call PrintAnnotationStorage.print")}get serializable(){return c(this,Kh)}}Kh=new WeakMap;var Tl;class iM{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){m(this,Tl,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),c(this,Tl).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||c(this,Tl).has(e.loadedName))){if(at(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:r,style:s}=e,o=new FontFace(i,r,s);this.addNativeFontFace(o);try{await o.load(),c(this,Tl).add(i),t==null||t(e)}catch{ue(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}ke("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const i=e.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(r){throw ue(`Failed to load font '${i.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return we(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(jt||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),we(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(at(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){const s=i.shift();setTimeout(s.callback,0)}}const{loadingRequests:i}=this,r={done:!1,complete:t,callback:e};return i.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return we(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function i(x,C){return x.charCodeAt(C)<<24|x.charCodeAt(C+1)<<16|x.charCodeAt(C+2)<<8|x.charCodeAt(C+3)&255}function r(x,C,k,b){const L=x.substring(0,C),N=x.substring(C+k);return L+b+N}let s,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let u=0;function h(x,C){if(++u>30){ue("Load test font never loaded."),C();return}if(l.font="30px "+x,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){C();return}setTimeout(h.bind(null,x,C))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=r(f,976,d.length,d);const g=16,y=1482184792;let S=i(f,g);for(s=0,o=d.length-3;s<o;s+=4)S=S-y+i(d,s)|0;s<d.length&&(S=S-y+i(d+"XXX",s)|0),f=r(f,g,4,HL(S));const v=`url(data:font/opentype;base64,${btoa(f)});`,w=`@font-face {font-family:"${d}";src:${v}}`;this.insertRule(w);const _=this._document.createElement("div");_.style.visibility="hidden",_.style.width=_.style.height="10px",_.style.position="absolute",_.style.top=_.style.left="0px";for(const x of[e.loadedName,d]){const C=this._document.createElement("span");C.textContent="Hi",C.style.fontFamily=x,_.append(C)}this._document.body.append(_),h(d,()=>{_.remove(),t.complete()})}}Tl=new WeakMap;class rM{constructor(e,{disableFontFace:t=!1,inspectFont:i=null}){this.compiledGlyphs=Object.create(null);for(const r in e)this[r]=e[r];this.disableFontFace=t===!0,this._inspectFont=i}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=ex(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`;let i;if(!this.cssFontInfo)i=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),i=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${t}}`}return(r=this._inspectFont)==null||r.call(this,this,t),i}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let i;try{i=e.get(this.loadedName+"_path_"+t)}catch(s){ue(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(i)||i.length===0)return this.compiledGlyphs[t]=function(s,o){};const r=[];for(let s=0,o=i.length;s<o;)switch(i[s++]){case Ui.BEZIER_CURVE_TO:{const[a,l,u,h,d,f]=i.slice(s,s+6);r.push(p=>p.bezierCurveTo(a,l,u,h,d,f)),s+=6}break;case Ui.MOVE_TO:{const[a,l]=i.slice(s,s+2);r.push(u=>u.moveTo(a,l)),s+=2}break;case Ui.LINE_TO:{const[a,l]=i.slice(s,s+2);r.push(u=>u.lineTo(a,l)),s+=2}break;case Ui.QUADRATIC_CURVE_TO:{const[a,l,u,h]=i.slice(s,s+4);r.push(d=>d.quadraticCurveTo(a,l,u,h)),s+=4}break;case Ui.RESTORE:r.push(a=>a.restore());break;case Ui.SAVE:r.push(a=>a.save());break;case Ui.SCALE:at(r.length===2,"Scale command is only valid at the third position.");break;case Ui.TRANSFORM:{const[a,l,u,h,d,f]=i.slice(s,s+6);r.push(p=>p.transform(a,l,u,h,d,f)),s+=6}break;case Ui.TRANSLATE:{const[a,l]=i.slice(s,s+2);r.push(u=>u.translate(a,l)),s+=2}break}return this.compiledGlyphs[t]=function(o,a){r[0](o),r[1](o),o.scale(a,-a);for(let l=2,u=r.length;l<u;l++)r[l](o)}}}if(jt){var Q0=Promise.withResolvers(),Iu=null;(async()=>{const e=await rp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await rp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await rp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await rp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let s,o;return new Map(Object.entries({fs:e,http:t,https:i,url:r,canvas:s,path2d:o}))})().then(e=>{Iu=e,Q0.resolve()},e=>{ue(`loadPackages: ${e}`),Iu=new Map,Q0.resolve()})}class zi{static get promise(){return Q0.promise}static get(e){return Iu==null?void 0:Iu.get(e)}}const Mx=function(n){return zi.get("fs").promises.readFile(n).then(t=>new Uint8Array(t))};class sM extends Mv{}class oM extends Dv{_createCanvas(e,t){return zi.get("canvas").createCanvas(e,t)}}class aM extends Iv{_fetchData(e,t){return Mx(e).then(i=>({cMapData:i,compressionType:t}))}}class lM extends Fv{_fetchData(e){return Mx(e)}}const Gt={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function J0(n,e){if(!e)return;const t=e[2]-e[0],i=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,i),n.clip(r)}class Df{constructor(){this.constructor===Df&&ke("Cannot initialize BaseShadingPattern.")}getPattern(){ke("Abstract method `getPattern` called.")}}class cM extends Df{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)t.addColorStop(i[0],i[1]);return t}getPattern(e,t,i,r){let s;if(r===Gt.STROKE||r===Gt.FILL){const o=t.current.getClippedPathBoundingBox(r,He(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,u=t.cachedCanvases.getCanvas("pattern",a,l,!0),h=u.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-o[0],-o[1]),i=X.transform(i,[1,0,0,1,o[0],o[1]]),h.transform(...t.baseTransform),this.matrix&&h.transform(...this.matrix),J0(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),s=e.createPattern(u.canvas,"no-repeat");const d=new DOMMatrix(i);s.setTransform(d)}else J0(e,this._bbox),s=this._createGradient(e);return s}}function Sy(n,e,t,i,r,s,o,a){const l=e.coords,u=e.colors,h=n.data,d=n.width*4;let f;l[t+1]>l[i+1]&&(f=t,t=i,i=f,f=s,s=o,o=f),l[i+1]>l[r+1]&&(f=i,i=r,r=f,f=o,o=a,a=f),l[t+1]>l[i+1]&&(f=t,t=i,i=f,f=s,s=o,o=f);const p=(l[t]+e.offsetX)*e.scaleX,g=(l[t+1]+e.offsetY)*e.scaleY,y=(l[i]+e.offsetX)*e.scaleX,S=(l[i+1]+e.offsetY)*e.scaleY,v=(l[r]+e.offsetX)*e.scaleX,w=(l[r+1]+e.offsetY)*e.scaleY;if(g>=w)return;const _=u[s],x=u[s+1],C=u[s+2],k=u[o],b=u[o+1],L=u[o+2],N=u[a],F=u[a+1],I=u[a+2],K=Math.round(g),B=Math.round(w);let $,Q,le,H,M,G,Y,oe;for(let J=K;J<=B;J++){if(J<S){const ie=J<g?0:(g-J)/(g-S);$=p-(p-y)*ie,Q=_-(_-k)*ie,le=x-(x-b)*ie,H=C-(C-L)*ie}else{let ie;J>w?ie=1:S===w?ie=0:ie=(S-J)/(S-w),$=y-(y-v)*ie,Q=k-(k-N)*ie,le=b-(b-F)*ie,H=L-(L-I)*ie}let fe;J<g?fe=0:J>w?fe=1:fe=(g-J)/(g-w),M=p-(p-v)*fe,G=_-(_-N)*fe,Y=x-(x-F)*fe,oe=C-(C-I)*fe;const Ae=Math.round(Math.min($,M)),Me=Math.round(Math.max($,M));let _e=d*J+Ae*4;for(let ie=Ae;ie<=Me;ie++)fe=($-ie)/($-M),fe<0?fe=0:fe>1&&(fe=1),h[_e++]=Q-(Q-G)*fe|0,h[_e++]=le-(le-Y)*fe|0,h[_e++]=H-(H-oe)*fe|0,h[_e++]=255}}function uM(n,e,t){const i=e.coords,r=e.colors;let s,o;switch(e.type){case"lattice":const a=e.verticesPerRow,l=Math.floor(i.length/a)-1,u=a-1;for(s=0;s<l;s++){let h=s*a;for(let d=0;d<u;d++,h++)Sy(n,t,i[h],i[h+1],i[h+a],r[h],r[h+1],r[h+a]),Sy(n,t,i[h+a+1],i[h+1],i[h+a],r[h+a+1],r[h+1],r[h+a])}break;case"triangles":for(s=0,o=i.length;s<o;s+=3)Sy(n,t,i[s],i[s+1],i[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}class hM extends Df{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,i){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-a,h=Math.ceil(this._bounds[3])-l,d=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(h*e[1]*1.1)),3e3),p=u/d,g=h/f,y={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/p,scaleY:1/g},S=d+2*2,v=f+2*2,w=i.getCanvas("mesh",S,v,!1),_=w.context,x=_.createImageData(d,f);if(t){const k=x.data;for(let b=0,L=k.length;b<L;b+=4)k[b]=t[0],k[b+1]=t[1],k[b+2]=t[2],k[b+3]=255}for(const k of this._figures)uM(x,k,y);return _.putImageData(x,2,2),{canvas:w.canvas,offsetX:a-2*p,offsetY:l-2*g,scaleX:p,scaleY:g}}getPattern(e,t,i,r){J0(e,this._bbox);let s;if(r===Gt.SHADING)s=X.singularValueDecompose2dScale(He(e));else if(s=X.singularValueDecompose2dScale(t.baseTransform),this.matrix){const a=X.singularValueDecompose2dScale(this.matrix);s=[s[0]*a[0],s[1]*a[1]]}const o=this._createMeshCanvas(s,r===Gt.SHADING?null:this._background,t.cachedCanvases);return r!==Gt.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class dM extends Df{getPattern(){return"hotpink"}}function fM(n){switch(n[0]){case"RadialAxial":return new cM(n);case"Mesh":return new hM(n);case"Dummy":return new dM}throw new Error(`Unknown IR type: ${n[0]}`)}const Y_={COLORED:1,UNCOLORED:2},om=class om{constructor(e,t,i,r,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=i,this.canvasGraphicsFactory=r,this.baseTransform=s}createPatternCanvas(e){const t=this.operatorList,i=this.bbox,r=this.xstep,s=this.ystep,o=this.paintType,a=this.tilingType,l=this.color,u=this.canvasGraphicsFactory;Pv("TilingType: "+a);const h=i[0],d=i[1],f=i[2],p=i[3],g=X.singularValueDecompose2dScale(this.matrix),y=X.singularValueDecompose2dScale(this.baseTransform),S=[g[0]*y[0],g[1]*y[1]],v=this.getSizeAndScale(r,this.ctx.canvas.width,S[0]),w=this.getSizeAndScale(s,this.ctx.canvas.height,S[1]),_=e.cachedCanvases.getCanvas("pattern",v.size,w.size,!0),x=_.context,C=u.createCanvasGraphics(x);C.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(C,o,l);let k=h,b=d,L=f,N=p;return h<0&&(k=0,L+=Math.abs(h)),d<0&&(b=0,N+=Math.abs(d)),x.translate(-(v.scale*k),-(w.scale*b)),C.transform(v.scale,0,0,w.scale,0,0),x.save(),this.clipBbox(C,k,b,L,N),C.baseTransform=He(C.ctx),C.executeOperatorList(t),C.endDrawing(),{canvas:_.canvas,scaleX:v.scale,scaleY:w.scale,offsetX:k,offsetY:b}}getSizeAndScale(e,t,i){e=Math.abs(e);const r=Math.max(om.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*i);return s>=r?s=r:i=s/e,{scale:i,size:s}}clipBbox(e,t,i,r,s){const o=r-t,a=s-i;e.ctx.rect(t,i,o,a),e.current.updateRectMinMax(He(e.ctx),[t,i,r,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,i){const r=e.ctx,s=e.current;switch(t){case Y_.COLORED:const o=this.ctx;r.fillStyle=o.fillStyle,r.strokeStyle=o.strokeStyle,s.fillColor=o.fillStyle,s.strokeColor=o.strokeStyle;break;case Y_.UNCOLORED:const a=X.makeHexColor(i[0],i[1],i[2]);r.fillStyle=a,r.strokeStyle=a,s.fillColor=a,s.strokeColor=a;break;default:throw new zL(`Unsupported paint type: ${t}`)}}getPattern(e,t,i,r){let s=i;r!==Gt.SHADING&&(s=X.transform(s,t.baseTransform),this.matrix&&(s=X.transform(s,this.matrix)));const o=this.createPatternCanvas(t);let a=new DOMMatrix(s);a=a.translate(o.offsetX,o.offsetY),a=a.scale(1/o.scaleX,1/o.scaleY);const l=e.createPattern(o.canvas,"repeat");return l.setTransform(a),l}};se(om,"MAX_PATTERN_SIZE",3e3);let Z0=om;function pM({src:n,srcPos:e=0,dest:t,width:i,height:r,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const a=rn.isLittleEndian?4278190080:255,[l,u]=o?[s,a]:[a,s],h=i>>3,d=i&7,f=n.length;t=new Uint32Array(t.buffer);let p=0;for(let g=0;g<r;g++){for(const S=e+h;e<S;e++){const v=e<f?n[e]:255;t[p++]=v&128?u:l,t[p++]=v&64?u:l,t[p++]=v&32?u:l,t[p++]=v&16?u:l,t[p++]=v&8?u:l,t[p++]=v&4?u:l,t[p++]=v&2?u:l,t[p++]=v&1?u:l}if(d===0)continue;const y=e<f?n[e++]:255;for(let S=0;S<d;S++)t[p++]=y&1<<7-S?u:l}return{srcPos:e,destPos:p}}const q_=16,Q_=100,gM=15,J_=10,Z_=1e3,Zt=16;function mM(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(i,r){e.translate(i,r),this.__originalTranslate(i,r)},n.scale=function(i,r){e.scale(i,r),this.__originalScale(i,r)},n.transform=function(i,r,s,o,a,l){e.transform(i,r,s,o,a,l),this.__originalTransform(i,r,s,o,a,l)},n.setTransform=function(i,r,s,o,a,l){e.setTransform(i,r,s,o,a,l),this.__originalSetTransform(i,r,s,o,a,l)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(i){e.rotate(i),this.__originalRotate(i)},n.clip=function(i){e.clip(i),this.__originalClip(i)},n.moveTo=function(t,i){e.moveTo(t,i),this.__originalMoveTo(t,i)},n.lineTo=function(t,i){e.lineTo(t,i),this.__originalLineTo(t,i)},n.bezierCurveTo=function(t,i,r,s,o,a){e.bezierCurveTo(t,i,r,s,o,a),this.__originalBezierCurveTo(t,i,r,s,o,a)},n.rect=function(t,i,r,s){e.rect(t,i,r,s),this.__originalRect(t,i,r,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class vM{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,i){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,i)):(r=this.canvasFactory.create(t,i),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function sp(n,e,t,i,r,s,o,a,l,u){const[h,d,f,p,g,y]=He(n);if(d===0&&f===0){const w=o*h+g,_=Math.round(w),x=a*p+y,C=Math.round(x),k=(o+l)*h+g,b=Math.abs(Math.round(k)-_)||1,L=(a+u)*p+y,N=Math.abs(Math.round(L)-C)||1;return n.setTransform(Math.sign(h),0,0,Math.sign(p),_,C),n.drawImage(e,t,i,r,s,0,0,b,N),n.setTransform(h,d,f,p,g,y),[b,N]}if(h===0&&p===0){const w=a*f+g,_=Math.round(w),x=o*d+y,C=Math.round(x),k=(a+u)*f+g,b=Math.abs(Math.round(k)-_)||1,L=(o+l)*d+y,N=Math.abs(Math.round(L)-C)||1;return n.setTransform(0,Math.sign(d),Math.sign(f),0,_,C),n.drawImage(e,t,i,r,s,0,0,N,b),n.setTransform(h,d,f,p,g,y),[N,b]}n.drawImage(e,t,i,r,s,o,a,l,u);const S=Math.hypot(h,d),v=Math.hypot(f,p);return[S*l,v*u]}function yM(n){const{width:e,height:t}=n;if(e>Z_||t>Z_)return null;const i=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let o=new Uint8Array(s*(t+1)),a,l,u;const h=e+7&-8;let d=new Uint8Array(h*t),f=0;for(const v of n.data){let w=128;for(;w>0;)d[f++]=v&w?0:255,w>>=1}let p=0;for(f=0,d[f]!==0&&(o[0]=1,++p),l=1;l<e;l++)d[f]!==d[f+1]&&(o[l]=d[f]?2:1,++p),f++;for(d[f]!==0&&(o[l]=2,++p),a=1;a<t;a++){f=a*h,u=a*s,d[f-h]!==d[f]&&(o[u]=d[f]?1:8,++p);let v=(d[f]?4:0)+(d[f-h]?8:0);for(l=1;l<e;l++)v=(v>>2)+(d[f+1]?4:0)+(d[f-h+1]?8:0),r[v]&&(o[u+l]=r[v],++p),f++;if(d[f-h]!==d[f]&&(o[u+l]=d[f]?2:4,++p),p>i)return null}for(f=h*(t-1),u=a*s,d[f]!==0&&(o[u]=8,++p),l=1;l<e;l++)d[f]!==d[f+1]&&(o[u+l]=d[f]?4:8,++p),f++;if(d[f]!==0&&(o[u+l]=4,++p),p>i)return null;const g=new Int32Array([0,s,-1,0,-s,0,0,0,1]),y=new Path2D;for(a=0;p&&a<=t;a++){let v=a*s;const w=v+e;for(;v<w&&!o[v];)v++;if(v===w)continue;y.moveTo(v%s,a);const _=v;let x=o[v];do{const C=g[x];do v+=C;while(!o[v]);const k=o[v];k!==5&&k!==10?(x=k,o[v]=0):(x=k&51*x>>4,o[v]&=x>>2|x<<2),y.lineTo(v%s,v/s|0),o[v]||--p}while(_!==v);--a}return d=null,o=null,function(v){v.save(),v.scale(1/e,-1/t),v.translate(0,-t),v.fill(y),v.beginPath(),v.restore()}}class eS{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=Jb,this.textMatrixScale=1,this.fontMatrix=S0,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Dt.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,i){[t,i]=X.applyTransform([t,i],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,i),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,i)}updateRectMinMax(e,t){const i=X.applyTransform(t,e),r=X.applyTransform(t.slice(2),e),s=X.applyTransform([t[0],t[3]],e),o=X.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,i[0],r[0],s[0],o[0]),this.minY=Math.min(this.minY,i[1],r[1],s[1],o[1]),this.maxX=Math.max(this.maxX,i[0],r[0],s[0],o[0]),this.maxY=Math.max(this.maxY,i[1],r[1],s[1],o[1])}updateScalingPathMinMax(e,t){X.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,i,r,s,o,a,l,u,h){const d=X.bezierBoundingBox(t,i,r,s,o,a,l,u,h);h||this.updateRectMinMax(e,d)}getPathBoundingBox(e=Gt.FILL,t=null){const i=[this.minX,this.minY,this.maxX,this.maxY];if(e===Gt.STROKE){t||ke("Stroke bounding box must include transform.");const r=X.singularValueDecompose2dScale(t),s=r[0]*this.lineWidth/2,o=r[1]*this.lineWidth/2;i[0]-=s,i[1]-=o,i[2]+=s,i[3]+=o}return i}updateClipFromPath(){const e=X.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=Gt.FILL,t=null){return X.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function tS(n,e){if(typeof ImageData<"u"&&e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,i=e.width,r=t%Zt,s=(t-r)/Zt,o=r===0?s:s+1,a=n.createImageData(i,Zt);let l=0,u;const h=e.data,d=a.data;let f,p,g,y;if(e.kind===Sp.GRAYSCALE_1BPP){const S=h.byteLength,v=new Uint32Array(d.buffer,0,d.byteLength>>2),w=v.length,_=i+7>>3,x=4294967295,C=rn.isLittleEndian?4278190080:255;for(f=0;f<o;f++){for(g=f<s?Zt:r,u=0,p=0;p<g;p++){const k=S-l;let b=0;const L=k>_?i:k*8-7,N=L&-8;let F=0,I=0;for(;b<N;b+=8)I=h[l++],v[u++]=I&128?x:C,v[u++]=I&64?x:C,v[u++]=I&32?x:C,v[u++]=I&16?x:C,v[u++]=I&8?x:C,v[u++]=I&4?x:C,v[u++]=I&2?x:C,v[u++]=I&1?x:C;for(;b<L;b++)F===0&&(I=h[l++],F=128),v[u++]=I&F?x:C,F>>=1}for(;u<w;)v[u++]=0;n.putImageData(a,0,f*Zt)}}else if(e.kind===Sp.RGBA_32BPP){for(p=0,y=i*Zt*4,f=0;f<s;f++)d.set(h.subarray(l,l+y)),l+=y,n.putImageData(a,0,p),p+=Zt;f<o&&(y=i*r*4,d.set(h.subarray(l,l+y)),n.putImageData(a,0,p))}else if(e.kind===Sp.RGB_24BPP)for(g=Zt,y=i*g,f=0;f<o;f++){for(f>=s&&(g=r,y=i*g),u=0,p=y;p--;)d[u++]=h[l++],d[u++]=h[l++],d[u++]=h[l++],d[u++]=255;n.putImageData(a,0,f*Zt)}else throw new Error(`bad image kind: ${e.kind}`)}function nS(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,i=e.width,r=t%Zt,s=(t-r)/Zt,o=r===0?s:s+1,a=n.createImageData(i,Zt);let l=0;const u=e.data,h=a.data;for(let d=0;d<o;d++){const f=d<s?Zt:r;({srcPos:l}=pM({src:u,srcPos:l,dest:h,width:i,height:f,nonBlackColor:0})),n.putImageData(a,0,d*Zt)}}function nu(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of t)n[i]!==void 0&&(e[i]=n[i]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function op(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!jt){const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function iS(n,e){if(e)return!0;const t=X.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const i=Math.fround((globalThis.devicePixelRatio||1)*Ms.PDF_TO_CSS_UNITS);return t[0]<=i&&t[1]<=i}const wM=["butt","round","square"],EM=["miter","round","bevel"],AM={},rS={};var Yh,ew,qh,tw;const sA=class sA{constructor(e,t,i,r,s,{optionalContentConfig:o,markedContentStack:a=null},l,u){m(this,Yh);m(this,qh);this.ctx=e,this.current=new eS(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=i,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new vM(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:i=!1,background:r=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=a,i){const l=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...He(this.compositeCtx))}this.ctx.save(),op(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=He(this.ctx)}executeOperatorList(e,t,i,r){const s=e.argsArray,o=e.fnArray;let a=t||0;const l=s.length;if(l===a)return a;const u=l-a>J_&&typeof i=="function",h=u?Date.now()+gM:0;let d=0;const f=this.commonObjs,p=this.objs;let g;for(;;){if(r!==void 0&&a===r.nextBreakPoint)return r.breakIt(a,i),a;if(g=o[a],g!==Wn.dependency)this[g].apply(this,s[a]);else for(const y of s[a]){const S=y.startsWith("g_")?f:p;if(!S.has(y))return S.get(y,i),a}if(a++,a===l)return a;if(u&&++d>J_){if(Date.now()>h)return i(),a;d=0}}}endDrawing(){A(this,Yh,ew).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),A(this,qh,tw).call(this)}_scaleImage(e,t){const i=e.width,r=e.height;let s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),a=i,l=r,u="prescale1",h,d;for(;s>2&&a>1||o>2&&l>1;){let f=a,p=l;s>2&&a>1&&(f=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),s/=a/f),o>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/p),h=this.cachedCanvases.getCanvas(u,f,p),d=h.context,d.clearRect(0,0,f,p),d.drawImage(e,0,0,a,l,0,0,f,p),e=h.canvas,a=f,l=p,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:i,height:r}=e,s=this.current.fillColor,o=this.current.patternFill,a=He(t);let l,u,h,d;if((e.bitmap||e.data)&&e.count>1){const L=e.bitmap||e.data.buffer;u=JSON.stringify(o?a:[a.slice(0,4),s]),l=this._cachedBitmapsMap.get(L),l||(l=new Map,this._cachedBitmapsMap.set(L,l));const N=l.get(u);if(N&&!o){const F=Math.round(Math.min(a[0],a[2])+a[4]),I=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:N,offsetX:F,offsetY:I}}h=N}h||(d=this.cachedCanvases.getCanvas("maskCanvas",i,r),nS(d.context,e));let f=X.transform(a,[1/i,0,0,-1/r,0,0]);f=X.transform(f,[1,0,0,1,0,-r]);const[p,g,y,S]=X.getAxialAlignedBoundingBox([0,0,i,r],f),v=Math.round(y-p)||1,w=Math.round(S-g)||1,_=this.cachedCanvases.getCanvas("fillCanvas",v,w),x=_.context,C=p,k=g;x.translate(-C,-k),x.transform(...f),h||(h=this._scaleImage(d.canvas,$i(x)),h=h.img,l&&o&&l.set(u,h)),x.imageSmoothingEnabled=iS(He(x),e.interpolate),sp(x,h,0,0,h.width,h.height,0,0,i,r),x.globalCompositeOperation="source-in";const b=X.transform($i(x),[1,0,0,1,-C,-k]);return x.fillStyle=o?s.getPattern(t,this,b,Gt.FILL):s,x.fillRect(0,0,i,r),l&&!o&&(this.cachedCanvases.delete("fillCanvas"),l.set(u,_.canvas)),{canvas:_.canvas,offsetX:Math.round(C),offsetY:Math.round(k)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=wM[e]}setLineJoin(e){this.ctx.lineJoin=EM[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(e),i.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,i]of e)switch(t){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.current.fillAlpha=i,this.ctx.globalAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(i,e,t);this.suspendedCtx=this.ctx,this.ctx=r.context;const s=this.ctx;s.setTransform(...He(this.suspendedCtx)),nu(this.suspendedCtx,s),mM(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),nu(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,i,r){const s=r[0],o=r[1],a=r[2]-s,l=r[3]-o;a===0||l===0||(this.genericComposeSMask(t.context,i,a,l,t.subtype,t.backdrop,t.transferMap,s,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(i.canvas,0,0),e.restore())}genericComposeSMask(e,t,i,r,s,o,a,l,u,h,d){let f=e.canvas,p=l-h,g=u-d;if(o){if(p<0||g<0||p+i>f.width||g+r>f.height){const S=this.cachedCanvases.getCanvas("maskExtension",i,r),v=S.context;v.drawImage(f,-p,-g),o.some(w=>w!==0)&&(v.globalCompositeOperation="destination-atop",v.fillStyle=X.makeHexColor(...o),v.fillRect(0,0,i,r),v.globalCompositeOperation="source-over"),f=S.canvas,p=g=0}else if(o.some(S=>S!==0)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const S=new Path2D;S.rect(p,g,i,r),e.clip(S),e.globalCompositeOperation="destination-atop",e.fillStyle=X.makeHexColor(...o),e.fillRect(p,g,i,r),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&a?t.filter=this.filterFactory.addAlphaFilter(a):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(a));const y=new Path2D;y.rect(l,u,i,r),t.clip(y),t.globalCompositeOperation="destination-in",t.drawImage(f,p,g,i,r,l,u,i,r),t.restore()}save(){this.inSMaskMode?(nu(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),nu(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,i,r,s,o){this.ctx.transform(e,t,i,r,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,i){const r=this.ctx,s=this.current;let o=s.x,a=s.y,l,u;const h=He(r),d=h[0]===0&&h[3]===0||h[1]===0&&h[2]===0,f=d?i.slice(0):null;for(let p=0,g=0,y=e.length;p<y;p++)switch(e[p]|0){case Wn.rectangle:o=t[g++],a=t[g++];const S=t[g++],v=t[g++],w=o+S,_=a+v;r.moveTo(o,a),S===0||v===0?r.lineTo(w,_):(r.lineTo(w,a),r.lineTo(w,_),r.lineTo(o,_)),d||s.updateRectMinMax(h,[o,a,w,_]),r.closePath();break;case Wn.moveTo:o=t[g++],a=t[g++],r.moveTo(o,a),d||s.updatePathMinMax(h,o,a);break;case Wn.lineTo:o=t[g++],a=t[g++],r.lineTo(o,a),d||s.updatePathMinMax(h,o,a);break;case Wn.curveTo:l=o,u=a,o=t[g+4],a=t[g+5],r.bezierCurveTo(t[g],t[g+1],t[g+2],t[g+3],o,a),s.updateCurvePathMinMax(h,l,u,t[g],t[g+1],t[g+2],t[g+3],o,a,f),g+=6;break;case Wn.curveTo2:l=o,u=a,r.bezierCurveTo(o,a,t[g],t[g+1],t[g+2],t[g+3]),s.updateCurvePathMinMax(h,l,u,o,a,t[g],t[g+1],t[g+2],t[g+3],f),o=t[g+2],a=t[g+3],g+=4;break;case Wn.curveTo3:l=o,u=a,o=t[g+2],a=t[g+3],r.bezierCurveTo(t[g],t[g+1],o,a,o,a),s.updateCurvePathMinMax(h,l,u,t[g],t[g+1],o,a,o,a,f),g+=4;break;case Wn.closePath:r.closePath();break}d&&s.updateScalingPathMinMax(h,f),s.setCurrentPoint(o,a)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,i=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof i=="object"&&(i!=null&&i.getPattern)?(t.save(),t.strokeStyle=i.getPattern(t,this,$i(t),Gt.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,i=this.current.fillColor,r=this.current.patternFill;let s=!1;r&&(t.save(),t.fillStyle=i.getPattern(t,this,$i(t),Gt.FILL),s=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),s&&t.restore(),e&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=AM}eoClip(){this.pendingClip=rS}beginText(){this.current.textMatrix=Jb,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const i of e)t.setTransform(...i.transform),t.translate(i.x,i.y),i.addToPath(t,i.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var h;const i=this.commonObjs.get(e),r=this.current;if(!i)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=i.fontMatrix||S0,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&ue("Invalid font matrix for font "+e),t<0?(t=-t,r.fontDirection=-1):r.fontDirection=1,this.current.font=i,this.current.fontSize=t,i.isType3Font)return;const s=i.loadedName||"sans-serif",o=((h=i.systemFontInfo)==null?void 0:h.css)||`"${s}", ${i.fallbackName}`;let a="normal";i.black?a="900":i.bold&&(a="bold");const l=i.italic?"italic":"normal";let u=t;t<q_?u=q_:t>Q_&&(u=Q_),this.current.fontSizeScale=t/u,this.ctx.font=`${l} ${a} ${u}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,i,r,s,o){this.current.textMatrix=[e,t,i,r,s,o],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,i,r){const s=this.ctx,o=this.current,a=o.font,l=o.textRenderingMode,u=o.fontSize/o.fontSizeScale,h=l&Dt.FILL_STROKE_MASK,d=!!(l&Dt.ADD_TO_PATH_FLAG),f=o.patternFill&&!a.missingFile;let p;(a.disableFontFace||d||f)&&(p=a.getPathGenerator(this.commonObjs,e)),a.disableFontFace||f?(s.save(),s.translate(t,i),s.beginPath(),p(s,u),r&&s.setTransform(...r),(h===Dt.FILL||h===Dt.FILL_STROKE)&&s.fill(),(h===Dt.STROKE||h===Dt.FILL_STROKE)&&s.stroke(),s.restore()):((h===Dt.FILL||h===Dt.FILL_STROKE)&&s.fillText(e,t,i),(h===Dt.STROKE||h===Dt.FILL_STROKE)&&s.strokeText(e,t,i)),d&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:He(s),x:t,y:i,fontSize:u,addToPath:p})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let i=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){i=!0;break}return we(this,"isFontSubpixelAAEnabled",i)}showText(e){const t=this.current,i=t.font;if(i.isType3Font)return this.showType3Text(e);const r=t.fontSize;if(r===0)return;const s=this.ctx,o=t.fontSizeScale,a=t.charSpacing,l=t.wordSpacing,u=t.fontDirection,h=t.textHScale*u,d=e.length,f=i.vertical,p=f?1:-1,g=i.defaultVMetrics,y=r*t.fontMatrix[0],S=t.textRenderingMode===Dt.FILL&&!i.disableFontFace&&!t.patternFill;s.save(),s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),u>0?s.scale(h,-1):s.scale(h,1);let v;if(t.patternFill){s.save();const k=t.fillColor.getPattern(s,this,$i(s),Gt.FILL);v=He(s),s.restore(),s.fillStyle=k}let w=t.lineWidth;const _=t.textMatrixScale;if(_===0||w===0){const k=t.textRenderingMode&Dt.FILL_STROKE_MASK;(k===Dt.STROKE||k===Dt.FILL_STROKE)&&(w=this.getSinglePixelWidth())}else w/=_;if(o!==1&&(s.scale(o,o),w/=o),s.lineWidth=w,i.isInvalidPDFjsFont){const k=[];let b=0;for(const L of e)k.push(L.unicode),b+=L.width;s.fillText(k.join(""),0,0),t.x+=b*y*h,s.restore(),this.compose();return}let x=0,C;for(C=0;C<d;++C){const k=e[C];if(typeof k=="number"){x+=p*k*r/1e3;continue}let b=!1;const L=(k.isSpace?l:0)+a,N=k.fontChar,F=k.accent;let I,K,B=k.width;if(f){const Q=k.vmetric||g,le=-(k.vmetric?Q[1]:B*.5)*y,H=Q[2]*y;B=Q?-Q[0]:B,I=le/o,K=(x+H)/o}else I=x/o,K=0;if(i.remeasure&&B>0){const Q=s.measureText(N).width*1e3/r*o;if(B<Q&&this.isFontSubpixelAAEnabled){const le=B/Q;b=!0,s.save(),s.scale(le,1),I/=le}else B!==Q&&(I+=(B-Q)/2e3*r/o)}if(this.contentVisible&&(k.isInFont||i.missingFile)){if(S&&!F)s.fillText(N,I,K);else if(this.paintChar(N,I,K,v),F){const Q=I+r*F.offset.x/o,le=K-r*F.offset.y/o;this.paintChar(F.fontChar,Q,le,v)}}const $=f?B*y-L*u:B*y+L*u;x+=$,b&&s.restore()}f?t.y-=x:t.x+=x*h,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,i=this.current,r=i.font,s=i.fontSize,o=i.fontDirection,a=r.vertical?1:-1,l=i.charSpacing,u=i.wordSpacing,h=i.textHScale*o,d=i.fontMatrix||S0,f=e.length,p=i.textRenderingMode===Dt.INVISIBLE;let g,y,S,v;if(!(p||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...i.textMatrix),t.translate(i.x,i.y),t.scale(h,o),g=0;g<f;++g){if(y=e[g],typeof y=="number"){v=a*y*s/1e3,this.ctx.translate(v,0),i.x+=v*h;continue}const w=(y.isSpace?u:0)+l,_=r.charProcOperatorList[y.operatorListId];if(!_){ue(`Type3 character "${y.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=y,this.save(),t.scale(s,s),t.transform(...d),this.executeOperatorList(_),this.restore()),S=X.applyTransform([y.width,0],d)[0]*s+w,t.translate(S,0),i.x+=S*h}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,i,r,s,o){this.ctx.rect(i,r,s-i,o-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const i=e[1],r=this.baseTransform||He(this.ctx),s={createCanvasGraphics:o=>new sA(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new Z0(e,i,this.ctx,s,r)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,i){const r=X.makeHexColor(e,t,i);this.ctx.strokeStyle=r,this.current.strokeColor=r}setFillRGBColor(e,t,i){const r=X.makeHexColor(e,t,i);this.ctx.fillStyle=r,this.current.fillColor=r,this.current.patternFill=!1}_getPattern(e,t=null){let i;return this.cachedPatterns.has(e)?i=this.cachedPatterns.get(e):(i=fM(this.getObject(e)),this.cachedPatterns.set(e,i)),t&&(i.matrix=t),i}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const i=this._getPattern(e);t.fillStyle=i.getPattern(t,this,$i(t),Gt.SHADING);const r=$i(t);if(r){const{width:s,height:o}=t.canvas,[a,l,u,h]=X.getAxialAlignedBoundingBox([0,0,s,o],r);this.ctx.fillRect(a,l,u-a,h-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){ke("Should not call beginInlineImage")}beginImageData(){ke("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=He(this.ctx),t)){const i=t[2]-t[0],r=t[3]-t[1];this.ctx.rect(t[0],t[1],i,r),this.current.updateRectMinMax(He(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||Pv("TODO: Support non-isolated groups."),e.knockout&&ue("Knockout groups not supported.");const i=He(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=X.getAxialAlignedBoundingBox(e.bbox,He(t));const s=[0,0,t.canvas.width,t.canvas.height];r=X.intersect(r,s)||[0,0,0,0];const o=Math.floor(r[0]),a=Math.floor(r[1]),l=Math.max(Math.ceil(r[2])-o,1),u=Math.max(Math.ceil(r[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,u]);let h="groupAt"+this.groupLevel;e.smask&&(h+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(h,l,u),f=d.context;f.translate(-o,-a),f.transform(...i),e.smask?this.smaskStack.push({canvas:d.canvas,context:f,offsetX:o,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,a),t.save()),nu(t,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=He(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const s=X.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],r);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,i,r,s){if(A(this,Yh,ew).call(this),op(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const o=t[2]-t[0],a=t[3]-t[1];if(s&&this.annotationCanvasMap){i=i.slice(),i[4]-=t[0],i[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=o,t[3]=a;const[l,u]=X.singularValueDecompose2dScale(He(this.ctx)),{viewportScale:h}=this,d=Math.ceil(o*this.outputScaleX*h),f=Math.ceil(a*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(d,f);const{canvas:p,context:g}=this.annotationCanvas;this.annotationCanvasMap.set(e,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=g,this.ctx.save(),this.ctx.setTransform(l,0,0,-u,0,a*u),op(this.ctx)}else op(this.ctx),this.ctx.rect(t[0],t[1],o,a),this.ctx.clip(),this.endPath()}this.current=new eS(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),A(this,qh,tw).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const i=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=yM(e)),r.compiled)){r.compiled(i);return}const s=this._createMaskCanvas(e),o=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(o,s.offsetX,s.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,i=0,r=0,s,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const l=He(a);a.transform(t,i,r,s,0,0);const u=this._createMaskCanvas(e);a.setTransform(1,0,0,1,u.offsetX-l[4],u.offsetY-l[5]);for(let h=0,d=o.length;h<d;h+=2){const f=X.transform(l,[t,i,r,s,o[h],o[h+1]]),[p,g]=X.applyTransform([0,0],f);a.drawImage(u.canvas,p,g)}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,i=this.current.fillColor,r=this.current.patternFill;for(const s of e){const{data:o,width:a,height:l,transform:u}=s,h=this.cachedCanvases.getCanvas("maskCanvas",a,l),d=h.context;d.save();const f=this.getObject(o,s);nS(d,f),d.globalCompositeOperation="source-in",d.fillStyle=r?i.getPattern(d,this,$i(t),Gt.FILL):i,d.fillRect(0,0,a,l),d.restore(),t.save(),t.transform(...u),t.scale(1,-1),sp(t,h.canvas,0,0,a,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){ue("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,i,r){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){ue("Dependent image isn't ready yet");return}const o=s.width,a=s.height,l=[];for(let u=0,h=r.length;u<h;u+=2)l.push({transform:[t,0,0,i,r[u],r[u+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:i,height:r}=e,s=this.cachedCanvases.getCanvas("inlineImage",i,r),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,i=e.height,r=this.ctx;if(this.save(),!jt){const{filter:a}=r;a!=="none"&&a!==""&&(r.filter="none")}r.scale(1/t,-1/i);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",t,i).context;tS(l,e),s=this.applyTransferMapsToCanvas(l)}const o=this._scaleImage(s,$i(r));r.imageSmoothingEnabled=iS(He(r),e.interpolate),sp(r,o.img,0,0,o.paintWidth,o.paintHeight,0,-i,t,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const i=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const s=e.width,o=e.height,l=this.cachedCanvases.getCanvas("inlineImage",s,o).context;tS(l,e),r=this.applyTransferMapsToCanvas(l)}for(const s of t)i.save(),i.transform(...s.transform),i.scale(1,-1),sp(i,r,s.x,s.y,s.w,s.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const i=this.ctx;this.pendingClip&&(t||(this.pendingClip===rS?i.clip("evenodd"):i.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),i.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=He(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:i,c:r,d:s}=this.ctx.getTransform();let o,a;if(i===0&&r===0){const l=Math.abs(t),u=Math.abs(s);if(l===u)if(e===0)o=a=1/l;else{const h=l*e;o=a=h<1?1/h:1}else if(e===0)o=1/l,a=1/u;else{const h=l*e,d=u*e;o=h<1?1/h:1,a=d<1?1/d:1}}else{const l=Math.abs(t*s-i*r),u=Math.hypot(t,i),h=Math.hypot(r,s);if(e===0)o=h/l,a=u/l;else{const d=e*l;o=h>d?h/d:1,a=u>d?u/d:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:i}=this.current,[r,s]=this.getScaleForStroking();if(t.lineWidth=i||1,r===1&&s===1){t.stroke();return}const o=t.getLineDash();if(e&&t.save(),t.scale(r,s),o.length>0){const a=Math.max(r,s);t.setLineDash(o.map(l=>l/a)),t.lineDashOffset/=a}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Yh=new WeakSet,ew=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},qh=new WeakSet,tw=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let ll=sA;for(const n in Wn)ll.prototype[n]!==void 0&&(ll.prototype[Wn[n]]=ll.prototype[n]);var Qh,Jh;class Pr{static get workerPort(){return c(this,Qh)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");E(this,Qh,e)}static get workerSrc(){return c(this,Jh)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");E(this,Jh,e)}}Qh=new WeakMap,Jh=new WeakMap,m(Pr,Qh,null),m(Pr,Jh,"");const ap={UNKNOWN:0,DATA:1,ERROR:2},qe={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function dn(n){switch(n instanceof Error||typeof n=="object"&&n!==null||ke('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new ka(n.message);case"MissingPDFException":return new Ca(n.message);case"PasswordException":return new x0(n.message,n.code);case"UnexpectedResponseException":return new Rv(n.message,n.status);case"UnknownErrorException":return new C0(n.message,n.details);default:return new C0(n.message,n.toString())}}var am,Dx,lm,Ix,Pl,Pp;class pu{constructor(e,t,i){m(this,am);m(this,lm);m(this,Pl);this.sourceName=e,this.targetName=t,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=r=>{const s=r.data;if(s.targetName!==this.sourceName)return;if(s.stream){A(this,lm,Ix).call(this,s);return}if(s.callback){const a=s.callbackId,l=this.callbackCapabilities[a];if(!l)throw new Error(`Cannot resolve callback ${a}`);if(delete this.callbackCapabilities[a],s.callback===ap.DATA)l.resolve(s.data);else if(s.callback===ap.ERROR)l.reject(dn(s.reason));else throw new Error("Unexpected callback case");return}const o=this.actionHandler[s.action];if(!o)throw new Error(`Unknown action from worker: ${s.action}`);if(s.callbackId){const a=this.sourceName,l=s.sourceName;new Promise(function(u){u(o(s.data))}).then(function(u){i.postMessage({sourceName:a,targetName:l,callback:ap.DATA,callbackId:s.callbackId,data:u})},function(u){i.postMessage({sourceName:a,targetName:l,callback:ap.ERROR,callbackId:s.callbackId,reason:dn(u)})});return}if(s.streamId){A(this,am,Dx).call(this,s);return}o(s.data)},i.addEventListener("message",this._onComObjOnMessage)}on(e,t){const i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=t}send(e,t,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},i)}sendWithPromise(e,t,i){const r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},i)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,t,i,r){const s=this.streamId++,o=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:u=>{const h=Promise.withResolvers();return this.streamControllers[s]={controller:u,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:a,action:e,streamId:s,data:t,desiredSize:u.desiredSize},r),h.promise},pull:u=>{const h=Promise.withResolvers();return this.streamControllers[s].pullCall=h,l.postMessage({sourceName:o,targetName:a,stream:qe.PULL,streamId:s,desiredSize:u.desiredSize}),h.promise},cancel:u=>{at(u instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[s].cancelCall=h,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:o,targetName:a,stream:qe.CANCEL,streamId:s,reason:dn(u)}),h.promise}},i)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}am=new WeakSet,Dx=function(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,o=this,a=this.actionHandler[e.action],l={enqueue(u,h=1,d){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=h,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:i,targetName:r,stream:qe.ENQUEUE,streamId:t,chunk:u},d)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:qe.CLOSE,streamId:t}),delete o.streamSinks[t])},error(u){at(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:qe.ERROR,streamId:t,reason:dn(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,new Promise(function(u){u(a(e.data,l))}).then(function(){s.postMessage({sourceName:i,targetName:r,stream:qe.START_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:i,targetName:r,stream:qe.START_COMPLETE,streamId:t,reason:dn(u)})})},lm=new WeakSet,Ix=function(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,o=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case qe.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(dn(e.reason));break;case qe.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(dn(e.reason));break;case qe.PULL:if(!a){s.postMessage({sourceName:i,targetName:r,stream:qe.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,new Promise(function(l){var u;l((u=a.onPull)==null?void 0:u.call(a))}).then(function(){s.postMessage({sourceName:i,targetName:r,stream:qe.PULL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:i,targetName:r,stream:qe.PULL_COMPLETE,streamId:t,reason:dn(l)})});break;case qe.ENQUEUE:if(at(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case qe.CLOSE:if(at(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),A(this,Pl,Pp).call(this,o,t);break;case qe.ERROR:at(o,"error should have stream controller"),o.controller.error(dn(e.reason)),A(this,Pl,Pp).call(this,o,t);break;case qe.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(dn(e.reason)),A(this,Pl,Pp).call(this,o,t);break;case qe.CANCEL:if(!a)break;new Promise(function(l){var u;l((u=a.onCancel)==null?void 0:u.call(a,dn(e.reason)))}).then(function(){s.postMessage({sourceName:i,targetName:r,stream:qe.CANCEL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:i,targetName:r,stream:qe.CANCEL_COMPLETE,streamId:t,reason:dn(l)})}),a.sinkCapability.reject(dn(e.reason)),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Pl=new WeakSet,Pp=async function(e,t){var i,r,s;await Promise.allSettled([(i=e.startCall)==null?void 0:i.promise,(r=e.pullCall)==null?void 0:r.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var bo,Zh;class _M{constructor({parsedData:e,rawData:t}){m(this,bo,void 0);m(this,Zh,void 0);E(this,bo,e),E(this,Zh,t)}getRaw(){return c(this,Zh)}get(e){return c(this,bo).get(e)??null}getAll(){return GE(c(this,bo))}has(e){return c(this,bo).has(e)}}bo=new WeakMap,Zh=new WeakMap;const Br=Symbol("INTERNAL");var ed,td,nd,Rl;class SM{constructor(e,{name:t,intent:i,usage:r}){m(this,ed,!1);m(this,td,!1);m(this,nd,!1);m(this,Rl,!0);E(this,ed,!!(e&In.DISPLAY)),E(this,td,!!(e&In.PRINT)),this.name=t,this.intent=i,this.usage=r}get visible(){if(c(this,nd))return c(this,Rl);if(!c(this,Rl))return!1;const{print:e,view:t}=this.usage;return c(this,ed)?(t==null?void 0:t.viewState)!=="OFF":c(this,td)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,i=!1){e!==Br&&ke("Internal method `_setVisible` called."),E(this,nd,i),E(this,Rl,t)}}ed=new WeakMap,td=new WeakMap,nd=new WeakMap,Rl=new WeakMap;var ns,Ce,Ll,Ml,id,nw;class bM{constructor(e,t=In.DISPLAY){m(this,id);m(this,ns,null);m(this,Ce,new Map);m(this,Ll,null);m(this,Ml,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,E(this,Ml,e.order);for(const i of e.groups)c(this,Ce).set(i.id,new SM(t,i));if(e.baseState==="OFF")for(const i of c(this,Ce).values())i._setVisible(Br,!1);for(const i of e.on)c(this,Ce).get(i)._setVisible(Br,!0);for(const i of e.off)c(this,Ce).get(i)._setVisible(Br,!1);E(this,Ll,this.getHash())}}isVisible(e){if(c(this,Ce).size===0)return!0;if(!e)return Pv("Optional content group not defined."),!0;if(e.type==="OCG")return c(this,Ce).has(e.id)?c(this,Ce).get(e.id).visible:(ue(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return A(this,id,nw).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!c(this,Ce).has(t))return ue(`Optional content group not found: ${t}`),!0;if(c(this,Ce).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!c(this,Ce).has(t))return ue(`Optional content group not found: ${t}`),!0;if(!c(this,Ce).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!c(this,Ce).has(t))return ue(`Optional content group not found: ${t}`),!0;if(!c(this,Ce).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!c(this,Ce).has(t))return ue(`Optional content group not found: ${t}`),!0;if(c(this,Ce).get(t).visible)return!1}return!0}return ue(`Unknown optional content policy ${e.policy}.`),!0}return ue(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0){const i=c(this,Ce).get(e);if(!i){ue(`Optional content group not found: ${e}`);return}i._setVisible(Br,!!t,!0),E(this,ns,null)}setOCGState({state:e,preserveRB:t}){let i;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}const s=c(this,Ce).get(r);if(s)switch(i){case"ON":s._setVisible(Br,!0);break;case"OFF":s._setVisible(Br,!1);break;case"Toggle":s._setVisible(Br,!s.visible);break}}E(this,ns,null)}get hasInitialVisibility(){return c(this,Ll)===null||this.getHash()===c(this,Ll)}getOrder(){return c(this,Ce).size?c(this,Ml)?c(this,Ml).slice():[...c(this,Ce).keys()]:null}getGroups(){return c(this,Ce).size>0?GE(c(this,Ce)):null}getGroup(e){return c(this,Ce).get(e)||null}getHash(){if(c(this,ns)!==null)return c(this,ns);const e=new Px;for(const[t,i]of c(this,Ce))e.update(`${t}:${i.visible}`);return E(this,ns,e.hexdigest())}}ns=new WeakMap,Ce=new WeakMap,Ll=new WeakMap,Ml=new WeakMap,id=new WeakSet,nw=function(e){const t=e.length;if(t<2)return!0;const i=e[0];for(let r=1;r<t;r++){const s=e[r];let o;if(Array.isArray(s))o=A(this,id,nw).call(this,s);else if(c(this,Ce).has(s))o=c(this,Ce).get(s).visible;else return ue(`Optional content group not found: ${s}`),!0;switch(i){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return i==="And"};class xM{constructor(e,{disableRange:t=!1,disableStream:i=!1}){at(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:s,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,u)=>{this._onReceiveData({begin:l,chunk:u})}),e.addProgressListener((l,u)=>{this._onProgress({loaded:l,total:u})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const i=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const r=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(i),!0)});at(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,i,r,s;e.total===void 0?(i=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||i.call(t,{loaded:e.loaded}):(s=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||s.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){at(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new CM(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new kM(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeReaders.slice(0))i.cancel(e);this._pdfDataRangeTransport.abort()}}class CM{constructor(e,t,i=!1,r=null){this._stream=e,this._done=i||!1,this._filename=QE(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class kM{constructor(e,t,i){this._stream=e,this._begin=t,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function TM(n){let e=!0,t=i("filename\\*","i").exec(n);if(t){t=t[1];let h=a(t);return h=unescape(h),h=l(h),h=u(h),s(h)}if(t=o(n),t){const h=u(t);return s(h)}if(t=i("filename","i").exec(n),t){t=t[1];let h=a(t);return h=u(h),s(h)}function i(h,d){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function r(h,d){if(h){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const f=new TextDecoder(h,{fatal:!0}),p=Lv(d);d=f.decode(p),e=!1}catch{}}return d}function s(h){return e&&/[\x80-\xff]/.test(h)&&(h=r("utf-8",h),e&&(h=r("iso-8859-1",h))),h}function o(h){const d=[];let f;const p=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(h))!==null;){let[,y,S,v]=f;if(y=parseInt(y,10),y in d){if(y===0)break;continue}d[y]=[S,v]}const g=[];for(let y=0;y<d.length&&y in d;++y){let[S,v]=d[y];v=a(v),S&&(v=unescape(v),y===0&&(v=l(v))),g.push(v)}return g.join("")}function a(h){if(h.startsWith('"')){const d=h.slice(1).split('\\"');for(let f=0;f<d.length;++f){const p=d[f].indexOf('"');p!==-1&&(d[f]=d[f].slice(0,p),d.length=f+1),d[f]=d[f].replaceAll(/\\(.)/g,"$1")}h=d.join('"')}return h}function l(h){const d=h.indexOf("'");if(d===-1)return h;const f=h.slice(0,d),g=h.slice(d+1).replace(/^[^']*'/,"");return r(f,g)}function u(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,f,p,g){if(p==="q"||p==="Q")return g=g.replaceAll("_"," "),g=g.replaceAll(/=([0-9a-fA-F]{2})/g,function(y,S){return String.fromCharCode(parseInt(S,16))}),r(f,g);try{g=atob(g)}catch{}return r(f,g)})}return""}function eA({getResponseHeader:n,isHttp:e,rangeChunkSize:t,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*t)||i||!e||n("Accept-Ranges")!=="bytes"||(n("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function tA(n){const e=n("Content-Disposition");if(e){let t=TM(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(QE(t))return t}return null}function Ov(n,e){return n===404||n===0&&e.startsWith("file:")?new Ca('Missing PDF "'+e+'".'):new Rv(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function Fx(n){return n===200||n===206}function Nx(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function Ox(n){const e=new Headers;for(const t in n){const i=n[t];i!==void 0&&e.append(t,i)}return e}function jx(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(ue(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class sS{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return at(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new PM(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new RM(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class PM{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=Ox(this._stream.httpHeaders);const i=t.url;fetch(i,Nx(this._headers,this._withCredentials,this._abortController)).then(r=>{if(!Fx(r.status))throw Ov(r.status,i);this._reader=r.body.getReader(),this._headersCapability.resolve();const s=l=>r.headers.get(l),{allowRangeRequests:o,suggestedLength:a}=eA({getResponseHeader:s,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=a||this._contentLength,this._filename=tA(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new ka("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:jx(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class RM{constructor(e,t,i){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController,this._headers=Ox(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${i-1}`);const s=r.url;fetch(s,Nx(this._headers,this._withCredentials,this._abortController)).then(o=>{if(!Fx(o.status))throw Ov(o.status,s);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:jx(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const by=200,xy=206;function LM(n){const e=n.response;return typeof e!="string"?e:Lv(e).buffer}class MM{constructor(e,t={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,i){const r={begin:e,end:t};for(const s in i)r[s]=i[s];return this.request(r)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,i=this.currXhrId++,r=this.pendingRequests[i]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const s in this.httpHeaders){const o=this.httpHeaders[s];o!==void 0&&t.setRequestHeader(s,o)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=xy):r.expectedStatus=by,t.responseType="arraybuffer",e.onError&&(t.onerror=function(s){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,i),t.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),i}onProgress(e,t){var r;const i=this.pendingRequests[e];i&&((r=i.onProgress)==null||r.call(i,t))}onStateChange(e,t){var l,u,h;const i=this.pendingRequests[e];if(!i)return;const r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){(l=i.onError)==null||l.call(i,r.status);return}const s=r.status||by;if(!(s===by&&i.expectedStatus===xy)&&s!==i.expectedStatus){(u=i.onError)==null||u.call(i,r.status);return}const a=LM(r);if(s===xy){const d=r.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);i.onDone({begin:parseInt(f[1],10),chunk:a})}else a?i.onDone({begin:0,chunk:a}):(h=i.onError)==null||h.call(i,r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class DM{constructor(e){this._source=e,this._manager=new MM(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return at(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new IM(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const i=new FM(this._manager,e,t);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class IM{constructor(e,t){this._manager=e;const i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(i),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),i=o=>t.getResponseHeader(o),{allowRangeRequests:r,suggestedLength:s}=eA({getResponseHeader:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=tA(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Ov(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class FM{constructor(e,t,i){this._manager=e;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,i,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=Ov(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const zx=/^file:\/\/\/[a-zA-Z]:\//;function NM(n){const e=zi.get("url"),t=e.parse(n);return t.protocol==="file:"||t.host?t:/^[a-z]:[/\\]/i.test(n)?e.parse(`file:///${n}`):(t.host||(t.protocol="file:"),t)}class OM{constructor(e){this.source=e,this.url=NM(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return at(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new HM(this):new jM(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=this.isFsUrl?new BM(this,e,t):new zM(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class Hx{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new ka("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Bx{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function _g(n,e){return{protocol:n.protocol,auth:n.auth,host:n.hostname,port:n.port,path:n.path,method:"GET",headers:e}}class jM extends Hx{constructor(e){super(e);const t=i=>{if(i.statusCode===404){const a=new Ca(`Missing PDF "${this._url}".`);this._storedError=a,this._headersCapability.reject(a);return}this._headersCapability.resolve(),this._setReadableStream(i);const r=a=>this._readableStream.headers[a.toLowerCase()],{allowRangeRequests:s,suggestedLength:o}=eA({getResponseHeader:r,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=o||this._contentLength,this._filename=tA(r)};if(this._request=null,this._url.protocol==="http:"){const i=zi.get("http");this._request=i.request(_g(this._url,e.httpHeaders),t)}else{const i=zi.get("https");this._request=i.request(_g(this._url,e.httpHeaders),t)}this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}}class zM extends Bx{constructor(e,t,i){super(e),this._httpHeaders={};for(const s in e.httpHeaders){const o=e.httpHeaders[s];o!==void 0&&(this._httpHeaders[s]=o)}this._httpHeaders.Range=`bytes=${t}-${i-1}`;const r=s=>{if(s.statusCode===404){const o=new Ca(`Missing PDF "${this._url}".`);this._storedError=o;return}this._setReadableStream(s)};if(this._request=null,this._url.protocol==="http:"){const s=zi.get("http");this._request=s.request(_g(this._url,this._httpHeaders),r)}else{const s=zi.get("https");this._request=s.request(_g(this._url,this._httpHeaders),r)}this._request.on("error",s=>{this._storedError=s}),this._request.end()}}class HM extends Hx{constructor(e){super(e);let t=decodeURIComponent(this._url.path);zx.test(this._url.href)&&(t=t.replace(/^\//,""));const i=zi.get("fs");i.promises.lstat(t).then(r=>{this._contentLength=r.size,this._setReadableStream(i.createReadStream(t)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=new Ca(`Missing PDF "${t}".`)),this._storedError=r,this._headersCapability.reject(r)})}}class BM extends Bx{constructor(e,t,i){super(e);let r=decodeURIComponent(this._url.path);zx.test(this._url.href)&&(r=r.replace(/^\//,""));const s=zi.get("fs");this._setReadableStream(s.createReadStream(r,{start:t,end:i-1}))}}const UM=1e5,qt=30,$M=.8;var AS,is,Jt,rd,sd,xo,ar,od,ad,Co,Dl,Il,rs,Fl,ld,Nl,ko,cd,ud,en,To,Po,Ol,cm,Ux,um,$x,hd,iw,jl,Rp,hm,Vx;let Sg=(en=class{constructor({textContentSource:e,container:t,viewport:i}){m(this,cm);m(this,um);m(this,hd);m(this,is,Promise.withResolvers());m(this,Jt,null);m(this,rd,!1);m(this,sd,!!((AS=globalThis.FontInspector)!=null&&AS.enabled));m(this,xo,null);m(this,ar,null);m(this,od,0);m(this,ad,0);m(this,Co,null);m(this,Dl,null);m(this,Il,0);m(this,rs,0);m(this,Fl,Object.create(null));m(this,ld,[]);m(this,Nl,null);m(this,ko,[]);m(this,cd,new WeakMap);m(this,ud,null);if(e instanceof ReadableStream)E(this,Nl,e);else if(typeof e=="object")E(this,Nl,new ReadableStream({start(l){l.enqueue(e),l.close()}}));else throw new Error('No "textContentSource" parameter specified.');E(this,Jt,E(this,Dl,t)),E(this,rs,i.scale*(globalThis.devicePixelRatio||1)),E(this,Il,i.rotation),E(this,ar,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:s,pageX:o,pageY:a}=i.rawDims;E(this,ud,[1,0,0,-1,-o,a+s]),E(this,ad,r),E(this,od,s),wa(t,i),c(this,is).promise.catch(()=>{}).then(()=>{c(en,Ol).delete(this),E(this,ar,null),E(this,Fl,null)})}render(){const e=()=>{c(this,Co).read().then(({value:t,done:i})=>{if(i){c(this,is).resolve();return}c(this,xo)??E(this,xo,t.lang),Object.assign(c(this,Fl),t.styles),A(this,cm,Ux).call(this,t.items),e()},c(this,is).reject)};return E(this,Co,c(this,Nl).getReader()),c(en,Ol).add(this),e(),c(this,is).promise}update({viewport:e,onBefore:t=null}){var s;const i=e.scale*(globalThis.devicePixelRatio||1),r=e.rotation;if(r!==c(this,Il)&&(t==null||t(),E(this,Il,r),wa(c(this,Dl),{rotation:r})),i!==c(this,rs)){t==null||t(),E(this,rs,i);const o={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:A(s=en,jl,Rp).call(s,c(this,xo))};for(const a of c(this,ko))o.properties=c(this,cd).get(a),o.div=a,A(this,hd,iw).call(this,o)}}cancel(){var t;const e=new ka("TextLayer task cancelled.");(t=c(this,Co))==null||t.cancel(e).catch(()=>{}),E(this,Co,null),c(this,is).reject(e)}get textDivs(){return c(this,ko)}get textContentItemsStr(){return c(this,ld)}static cleanup(){if(!(c(this,Ol).size>0)){c(this,To).clear();for(const{canvas:e}of c(this,Po).values())e.remove();c(this,Po).clear()}}},is=new WeakMap,Jt=new WeakMap,rd=new WeakMap,sd=new WeakMap,xo=new WeakMap,ar=new WeakMap,od=new WeakMap,ad=new WeakMap,Co=new WeakMap,Dl=new WeakMap,Il=new WeakMap,rs=new WeakMap,Fl=new WeakMap,ld=new WeakMap,Nl=new WeakMap,ko=new WeakMap,cd=new WeakMap,ud=new WeakMap,To=new WeakMap,Po=new WeakMap,Ol=new WeakMap,cm=new WeakSet,Ux=function(e){var r,s;if(c(this,rd))return;(s=c(this,ar)).ctx||(s.ctx=A(r=en,jl,Rp).call(r,c(this,xo)));const t=c(this,ko),i=c(this,ld);for(const o of e){if(t.length>UM){ue("Ignoring additional textDivs for performance reasons."),E(this,rd,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=c(this,Jt);E(this,Jt,document.createElement("span")),c(this,Jt).classList.add("markedContent"),o.id!==null&&c(this,Jt).setAttribute("id",`${o.id}`),a.append(c(this,Jt))}else o.type==="endMarkedContent"&&E(this,Jt,c(this,Jt).parentNode);continue}i.push(o.str),A(this,um,$x).call(this,o)}},um=new WeakSet,$x=function(e){var y;const t=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};c(this,ko).push(t);const r=X.transform(c(this,ud),e.transform);let s=Math.atan2(r[1],r[0]);const o=c(this,Fl)[e.fontName];o.vertical&&(s+=Math.PI/2);const a=c(this,sd)&&o.fontSubstitution||o.fontFamily,l=Math.hypot(r[2],r[3]),u=l*A(y=en,hm,Vx).call(y,a,c(this,xo));let h,d;s===0?(h=r[4],d=r[5]-u):(h=r[4]+u*Math.sin(s),d=r[5]-u*Math.cos(s));const f="calc(var(--scale-factor)*",p=t.style;c(this,Jt)===c(this,Dl)?(p.left=`${(100*h/c(this,ad)).toFixed(2)}%`,p.top=`${(100*d/c(this,od)).toFixed(2)}%`):(p.left=`${f}${h.toFixed(2)}px)`,p.top=`${f}${d.toFixed(2)}px)`),p.fontSize=`${f}${l.toFixed(2)}px)`,p.fontFamily=a,i.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,c(this,sd)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),s!==0&&(i.angle=s*(180/Math.PI));let g=!1;if(e.str.length>1)g=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const S=Math.abs(e.transform[0]),v=Math.abs(e.transform[3]);S!==v&&Math.max(S,v)/Math.min(S,v)>1.5&&(g=!0)}if(g&&(i.canvasWidth=o.vertical?e.height:e.width),c(this,cd).set(t,i),c(this,ar).div=t,c(this,ar).properties=i,A(this,hd,iw).call(this,c(this,ar)),i.hasText&&c(this,Jt).append(t),i.hasEOL){const S=document.createElement("br");S.setAttribute("role","presentation"),c(this,Jt).append(S)}},hd=new WeakSet,iw=function(e){const{div:t,properties:i,ctx:r,prevFontSize:s,prevFontFamily:o}=e,{style:a}=t;let l="";if(i.canvasWidth!==0&&i.hasText){const{fontFamily:u}=a,{canvasWidth:h,fontSize:d}=i;(s!==d||o!==u)&&(r.font=`${d*c(this,rs)}px ${u}`,e.prevFontSize=d,e.prevFontFamily=u);const{width:f}=r.measureText(t.textContent);f>0&&(l=`scaleX(${h*c(this,rs)/f})`)}i.angle!==0&&(l=`rotate(${i.angle}deg) ${l}`),l.length>0&&(a.transform=l)},jl=new WeakSet,Rp=function(e=null){let t=c(this,Po).get(e||(e=""));if(!t){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=e,document.body.append(i),t=i.getContext("2d",{alpha:!1}),c(this,Po).set(e,t)}return t},hm=new WeakSet,Vx=function(e,t){const i=c(this,To).get(e);if(i)return i;const r=A(this,jl,Rp).call(this,t),s=r.font;r.canvas.width=r.canvas.height=qt,r.font=`${qt}px ${e}`;const o=r.measureText("");let a=o.fontBoundingBoxAscent,l=Math.abs(o.fontBoundingBoxDescent);if(a){const d=a/(a+l);return c(this,To).set(e,d),r.canvas.width=r.canvas.height=0,r.font=s,d}r.strokeStyle="red",r.clearRect(0,0,qt,qt),r.strokeText("g",0,0);let u=r.getImageData(0,0,qt,qt).data;l=0;for(let d=u.length-1-3;d>=0;d-=4)if(u[d]>0){l=Math.ceil(d/4/qt);break}r.clearRect(0,0,qt,qt),r.strokeText("A",0,qt),u=r.getImageData(0,0,qt,qt).data,a=0;for(let d=0,f=u.length;d<f;d+=4)if(u[d]>0){a=qt-Math.floor(d/4/qt);break}r.canvas.width=r.canvas.height=0,r.font=s;const h=a?a/(a+l):$M;return c(this,To).set(e,h),h},m(en,jl),m(en,hm),m(en,To,new Map),m(en,Po,new Map),m(en,Ol,new Set),en);function VM(){sx("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:n,container:e,viewport:t,...i}=arguments[0],r=Object.keys(i);r.length>0&&ue("Ignoring `renderTextLayer` parameters: "+r.join(", "));const s=new Sg({textContentSource:n,container:e,viewport:t}),{textDivs:o,textContentItemsStr:a}=s;return{promise:s.render(),textDivs:o,textContentItemsStr:a}}function WM(){sx("`updateTextLayer`, please use `TextLayer` instead.")}class th{static textContent(e){const t=[],i={items:t,styles:Object.create(null)};function r(s){var l;if(!s)return;let o=null;const a=s.name;if(a==="#text")o=s.value;else if(th.shouldBuildText(a))(l=s==null?void 0:s.attributes)!=null&&l.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&t.push({str:o}),!!s.children)for(const u of s.children)r(u)}return r(e),i}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const GM=65536,XM=100,KM=5e3,YM=jt?oM:XL,qM=jt?aM:ix,QM=jt?sM:GL,JM=jt?lM:rx;function ZM(n){if(typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n}),typeof n!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!n.url&&!n.data&&!n.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const e=new rw,{docId:t}=e,i=n.url?eD(n.url):null,r=n.data?tD(n.data):null,s=n.httpHeaders||null,o=n.withCredentials===!0,a=n.password??null,l=n.range instanceof Wx?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:GM;let h=n.worker instanceof cl?n.worker:null;const d=n.verbosity,f=typeof n.docBaseUrl=="string"&&!qE(n.docBaseUrl)?n.docBaseUrl:null,p=typeof n.cMapUrl=="string"?n.cMapUrl:null,g=n.cMapPacked!==!1,y=n.CMapReaderFactory||qM,S=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,v=n.StandardFontDataFactory||JM,w=n.stopAtErrors!==!0,_=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,x=n.isEvalSupported!==!1,C=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!jt,k=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,b=typeof n.disableFontFace=="boolean"?n.disableFontFace:jt,L=n.fontExtraProperties===!0,N=n.enableXfa===!0,F=n.ownerDocument||globalThis.document,I=n.disableRange===!0,K=n.disableStream===!0,B=n.disableAutoFetch===!0,$=n.pdfBug===!0,Q=l?l.length:n.length??NaN,le=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!jt&&!b,H=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:y===ix&&v===rx&&p&&S&&hu(p,document.baseURI)&&hu(S,document.baseURI),M=n.canvasFactory||new YM({ownerDocument:F}),G=n.filterFactory||new QM({docId:t,ownerDocument:F}),Y=null;FL(d);const oe={canvasFactory:M,filterFactory:G};if(H||(oe.cMapReaderFactory=new y({baseUrl:p,isCompressed:g}),oe.standardFontDataFactory=new v({baseUrl:S})),!h){const Ae={verbosity:d,port:Pr.workerPort};h=Ae.port?cl.fromPort(Ae):new cl(Ae),e._worker=h}const J={docId:t,apiVersion:"4.3.136",data:r,password:a,disableAutoFetch:B,rangeChunkSize:u,length:Q,docBaseUrl:f,enableXfa:N,evaluatorOptions:{maxImageSize:_,disableFontFace:b,ignoreErrors:w,isEvalSupported:x,isOffscreenCanvasSupported:C,canvasMaxAreaInBytes:k,fontExtraProperties:L,useSystemFonts:le,cMapUrl:H?p:null,standardFontDataUrl:H?S:null}},fe={disableFontFace:b,fontExtraProperties:L,ownerDocument:F,pdfBug:$,styleElement:Y,loadingParams:{disableAutoFetch:B,enableXfa:N}};return h.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const Ae=h.messageHandler.sendWithPromise("GetDocRequest",J,r?[r.buffer]:null);let Me;return l?Me=new xM(l,{disableRange:I,disableStream:K}):r||(Me=(ie=>jt?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&hu(ie.url)?new sS(ie):new OM(ie):hu(ie.url)?new sS(ie):new DM(ie))({url:i,length:Q,httpHeaders:s,withCredentials:o,rangeChunkSize:u,disableRange:I,disableStream:K})),Ae.then(_e=>{if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const ie=new pu(t,_e,h.port),ci=new sD(ie,e,Me,fe,oe);e._transport=ci,ie.send("Ready",null)})}).catch(e._capability.reject),e}function eD(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(jt&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function tD(n){if(jt&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return Lv(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function oS(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var dm;const fm=class fm{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${hn(fm,dm)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(r){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};dm=new WeakMap,m(fm,dm,0);let rw=fm,Wx=class{constructor(e,t,i=!1,r=null){this.length=e,this.initialData=t,this.progressiveDone=i,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const i of this._rangeListeners)i(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){ke("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class nD{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return we(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var ss,lr,os,za,zl,Lp;class iD{constructor(e,t,i,r=!1){m(this,os);m(this,zl);m(this,ss,null);m(this,lr,!1);this._pageIndex=e,this._pageInfo=t,this._transport=i,this._stats=r?new G_:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new Gx,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:s=!1}={}){return new Lf({viewBox:this.view,scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return we(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:i="display",annotationMode:r=Xr.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:u=null,printAnnotationStorage:h=null}){var _,x;(_=this._stats)==null||_.time("Overall");const d=this._transport.getRenderingIntent(i,r,h),{renderingIntent:f,cacheKey:p}=d;E(this,lr,!1),A(this,zl,Lp).call(this),a||(a=this._transport.getOptionalContentConfig(f));let g=this._intentStates.get(p);g||(g=Object.create(null),this._intentStates.set(p,g)),g.streamReaderCancelTimeout&&(clearTimeout(g.streamReaderCancelTimeout),g.streamReaderCancelTimeout=null);const y=!!(f&In.PRINT);g.displayReadyCapability||(g.displayReadyCapability=Promise.withResolvers(),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(x=this._stats)==null||x.time("Page Request"),this._pumpOperatorList(d));const S=C=>{var k;g.renderTasks.delete(v),(this._maybeCleanupAfterRender||y)&&E(this,lr,!0),A(this,os,za).call(this,!y),C?(v.capability.reject(C),this._abortOperatorList({intentState:g,reason:C instanceof Error?C:new Error(C)})):v.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(k=globalThis.Stats)!=null&&k.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},v=new ow({callback:S,params:{canvasContext:e,viewport:t,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:g.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!y,pdfBug:this._pdfBug,pageColors:u});(g.renderTasks||(g.renderTasks=new Set)).add(v);const w=v.task;return Promise.all([g.displayReadyCapability.promise,a]).then(([C,k])=>{var b;if(this.destroyed){S();return}if((b=this._stats)==null||b.time("Rendering"),!(k.renderingIntent&f))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");v.initializeGraphics({transparency:C,optionalContentConfig:k}),v.operatorListChanged()}).catch(S),w}getOperatorList({intent:e="display",annotationMode:t=Xr.ENABLE,printAnnotationStorage:i=null}={}){var l;function r(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(a))}const s=this._transport.getRenderingIntent(e,t,i,!0);let o=this._intentStates.get(s.cacheKey);o||(o=Object.create(null),this._intentStates.set(s.cacheKey,o));let a;return o.opListReadCapability||(a=Object.create(null),a.operatorListChanged=r,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(a),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(l=this._stats)==null||l.time("Page Request"),this._pumpOperatorList(s)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>th.textContent(i));const t=this.streamTextContent(e);return new Promise(function(i,r){function s(){o.read().then(function({value:l,done:u}){if(u){i(a);return}a.lang??(a.lang=l.lang),Object.assign(a.styles,l.styles),a.items.push(...l.items),s()},r)}const o=t.getReader(),a={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const i of t.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),E(this,lr,!1),A(this,zl,Lp).call(this),Promise.all(e)}cleanup(e=!1){E(this,lr,!0);const t=A(this,os,za).call(this,!1);return e&&t&&this._stats&&(this._stats=new G_),t}_startRenderPage(e,t){var r,s;const i=this._intentStates.get(t);i&&((r=this._stats)==null||r.timeEnd("Page Request"),(s=i.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let i=0,r=e.length;i<r;i++)t.operatorList.fnArray.push(e.fnArray[i]),t.operatorList.argsArray.push(e.argsArray[i]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const i of t.renderTasks)i.operatorListChanged();e.lastChunk&&A(this,os,za).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:i}){const{map:r,transfer:s}=i,a=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:r},s).getReader(),l=this._intentStates.get(t);l.streamReader=a;const u=()=>{a.read().then(({value:h,done:d})=>{if(d){l.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,l),u())},h=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const d of l.renderTasks)d.operatorListChanged();A(this,os,za).call(this,!0)}if(l.displayReadyCapability)l.displayReadyCapability.reject(h);else if(l.opListReadCapability)l.opListReadCapability.reject(h);else throw h}})};u()}_abortOperatorList({intentState:e,reason:t,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(t instanceof YE){let r=XM;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new ka(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,s]of this._intentStates)if(s===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}ss=new WeakMap,lr=new WeakMap,os=new WeakSet,za=function(e=!1){if(A(this,zl,Lp).call(this),!c(this,lr)||this.destroyed)return!1;if(e)return E(this,ss,setTimeout(()=>{E(this,ss,null),A(this,os,za).call(this,!1)},KM)),!1;for(const{renderTasks:t,operatorList:i}of this._intentStates.values())if(t.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),E(this,lr,!1),!0},zl=new WeakSet,Lp=function(){c(this,ss)&&(clearTimeout(c(this,ss)),E(this,ss,null))};var Ro,pm;class rD{constructor(){m(this,Ro,new Set);m(this,pm,Promise.resolve())}postMessage(e,t){const i={data:structuredClone(e,t?{transfer:t}:null)};c(this,pm).then(()=>{for(const r of c(this,Ro))r.call(this,i)})}addEventListener(e,t){c(this,Ro).add(t)}removeEventListener(e,t){c(this,Ro).delete(t)}terminate(){c(this,Ro).clear()}}Ro=new WeakMap,pm=new WeakMap;const qi={isWorkerDisabled:!1,fakeWorkerId:0};jt&&(qi.isWorkerDisabled=!0,Pr.workerSrc||(Pr.workerSrc="./pdf.worker.mjs")),qi.isSameOrigin=function(n,e){let t;try{if(t=new URL(n),!t.origin||t.origin==="null")return!1}catch{return!1}const i=new URL(e,t);return t.origin===i.origin},qi.createCDNWrapper=function(n){const e=`await import("${n}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};var Lo,Hl,Mp;const fn=class fn{constructor({name:e=null,port:t=null,verbosity:i=NL()}={}){var r;if(this.name=e,this.destroyed=!1,this.verbosity=i,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((r=c(fn,Lo))!=null&&r.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(c(fn,Lo)||E(fn,Lo,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return jt?Promise.all([zi.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new pu("main","worker",e),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!qi.isWorkerDisabled&&!c(fn,Hl,Mp)){let{workerSrc:e}=fn;try{qi.isSameOrigin(window.location.href,e)||(e=qi.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),i=new pu("main","worker",t),r=()=>{t.removeEventListener("error",s),i.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=()=>{this._webWorker||r()};t.addEventListener("error",s),i.on("test",a=>{if(t.removeEventListener("error",s),this.destroyed){r();return}a?(this._messageHandler=i,this._port=t,this._webWorker=t,this._readyCapability.resolve(),i.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),i.destroy(),t.terminate())}),i.on("ready",a=>{if(t.removeEventListener("error",s),this.destroyed){r();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const a=new Uint8Array;i.send("test",a,[a.buffer])};o();return}catch{Pv("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){qi.isWorkerDisabled||(ue("Setting up fake worker."),qi.isWorkerDisabled=!0),fn._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new rD;this._port=t;const i=`fake${qi.fakeWorkerId++}`,r=new pu(i+"_worker",i,t);e.setup(r,t);const s=new pu(i,i+"_worker",t);this._messageHandler=s,this._readyCapability.resolve(),s.send("configure",{verbosity:this.verbosity})}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=c(fn,Lo))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var i;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(i=c(this,Lo))==null?void 0:i.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new fn(e)}static get workerSrc(){if(Pr.workerSrc)return Pr.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return we(this,"_setupFakeWorkerGlobal",(async()=>c(this,Hl,Mp)?c(this,Hl,Mp):(await import(this.workerSrc)).WorkerMessageHandler)())}};Lo=new WeakMap,Hl=new WeakSet,Mp=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},m(fn,Hl),m(fn,Lo,void 0);let cl=fn;var cr,xi,Bl,Ul,Ci,Mo,gu;class sD{constructor(e,t,i,r,s){m(this,Mo);m(this,cr,new Map);m(this,xi,new Map);m(this,Bl,new Map);m(this,Ul,new Map);m(this,Ci,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new Gx,this.fontLoader=new iM({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return we(this,"annotationStorage",new ZE)}getRenderingIntent(e,t=Xr.ENABLE,i=null,r=!1){let s=In.DISPLAY,o=q0;switch(e){case"any":s=In.ANY;break;case"display":break;case"print":s=In.PRINT;break;default:ue(`getRenderingIntent - invalid intent: ${e}`)}switch(t){case Xr.DISABLE:s+=In.ANNOTATIONS_DISABLE;break;case Xr.ENABLE:break;case Xr.ENABLE_FORMS:s+=In.ANNOTATIONS_FORMS;break;case Xr.ENABLE_STORAGE:s+=In.ANNOTATIONS_STORAGE,o=(s&In.PRINT&&i instanceof Lx?i:this.annotationStorage).serializable;break;default:ue(`getRenderingIntent - invalid annotationMode: ${t}`)}return r&&(s+=In.OPLIST),{renderingIntent:s,cacheKey:`${s}_${o.hash}`,annotationStorageSerializable:o}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=c(this,Ci))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of c(this,xi).values())e.push(r._destroy());c(this,xi).clear(),c(this,Bl).clear(),c(this,Ul).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var r;this.commonObjs.clear(),this.fontLoader.clear(),c(this,cr).clear(),this.filterFactory.destroy(),Sg.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new ka("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(i,r)=>{at(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){r.close();return}at(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",i=>{const r=Promise.withResolvers(),s=this._fullReader;return s.headersReady.then(()=>{var o;(!s.isStreamingSupported||!s.isRangeSupported)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),s.onProgress=a=>{var l;(l=t.onProgress)==null||l.call(t,{loaded:a.loaded,total:a.total})}),r.resolve({isStreamingSupported:s.isStreamingSupported,isRangeSupported:s.isRangeSupported,contentLength:s.contentLength})},r.reject),r.promise}),e.on("GetRangeReader",(i,r)=>{at(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(i.begin,i.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:o,done:a}){if(a){r.close();return}at(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{s.cancel(o),r.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,t._capability.resolve(new nD(i,this))}),e.on("DocException",function(i){let r;switch(i.name){case"PasswordException":r=new x0(i.message,i.code);break;case"InvalidPDFException":r=new Zb(i.message);break;case"MissingPDFException":r=new Ca(i.message);break;case"UnexpectedResponseException":r=new Rv(i.message,i.status);break;case"UnknownErrorException":r=new C0(i.message,i.details);break;default:ke("DocException - expected a valid Error.")}t._capability.reject(r)}),e.on("PasswordRequest",i=>{if(E(this,Ci,Promise.withResolvers()),t.onPassword){const r=s=>{s instanceof Error?c(this,Ci).reject(s):c(this,Ci).resolve({password:s})};try{t.onPassword(r,i.code)}catch(s){c(this,Ci).reject(s)}}else c(this,Ci).reject(new x0(i.message,i.code));return c(this,Ci).promise}),e.on("DataLoaded",i=>{var r;(r=t.onProgress)==null||r.call(t,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{if(this.destroyed)return;c(this,xi).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,r,s])=>{var o;if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":const{disableFontFace:a,fontExtraProperties:l,pdfBug:u}=this._params;if("error"in s){const p=s.error;ue(`Error during font loading: ${p}`),this.commonObjs.resolve(i,p);break}const h=u&&((o=globalThis.FontInspector)!=null&&o.enabled)?(p,g)=>globalThis.FontInspector.fontAdded(p,g):null,d=new rM(s,{disableFontFace:a,inspectFont:h});this.fontLoader.bind(d).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!l&&d.data&&(d.data=null),this.commonObjs.resolve(i,d)});break;case"CopyLocalImage":const{imageRef:f}=s;at(f,"The imageRef must be defined.");for(const p of c(this,xi).values())for(const[,g]of p.objs)if((g==null?void 0:g.ref)===f)return g.dataLen?(this.commonObjs.resolve(i,structuredClone(g)),g.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,s);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([i,r,s,o])=>{var l;if(this.destroyed)return;const a=c(this,xi).get(r);if(!a.objs.has(i)){if(a._intentStates.size===0){(l=o==null?void 0:o.bitmap)==null||l.close();return}switch(s){case"Image":a.objs.resolve(i,o),(o==null?void 0:o.dataLen)>LL&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(i,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",i=>{var r;this.destroyed||(r=t.onProgress)==null||r.call(t,{loaded:i.loaded,total:i.total})}),e.on("FetchBuiltInCMap",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(i):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(i):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&ue("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((i=this._fullReader)==null?void 0:i.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,i=c(this,Bl).get(t);if(i)return i;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&c(this,Ul).set(s.refStr,e);const o=new iD(t,s,this,this._params.pdfBug);return c(this,xi).set(t,o),o});return c(this,Bl).set(t,r),r}getPageIndex(e){return oS(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return A(this,Mo,gu).call(this,"GetFieldObjects")}hasJSActions(){return A(this,Mo,gu).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return A(this,Mo,gu).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return A(this,Mo,gu).call(this,"GetOptionalContentConfig").then(t=>new bM(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=c(this,cr).get(e);if(t)return t;const i=this.messageHandler.sendWithPromise(e,null).then(r=>{var s,o;return{info:r[0],metadata:r[1]?new _M(r[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return c(this,cr).set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of c(this,xi).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),c(this,cr).clear(),this.filterFactory.destroy(!0),Sg.cleanup()}}cachedPageNumber(e){if(!oS(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return c(this,Ul).get(t)??null}}cr=new WeakMap,xi=new WeakMap,Bl=new WeakMap,Ul=new WeakMap,Ci=new WeakMap,Mo=new WeakSet,gu=function(e,t=null){const i=c(this,cr).get(e);if(i)return i;const r=this.messageHandler.sendWithPromise(e,t);return c(this,cr).set(e,r),r};const lp=Symbol("INITIAL_DATA");var qn,dd,sw;class Gx{constructor(){m(this,dd);m(this,qn,Object.create(null))}get(e,t=null){if(t){const r=A(this,dd,sw).call(this,e);return r.promise.then(()=>t(r.data)),null}const i=c(this,qn)[e];if(!i||i.data===lp)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){const t=c(this,qn)[e];return!!t&&t.data!==lp}resolve(e,t=null){const i=A(this,dd,sw).call(this,e);i.data=t,i.resolve()}clear(){var e;for(const t in c(this,qn)){const{data:i}=c(this,qn)[t];(e=i==null?void 0:i.bitmap)==null||e.close()}E(this,qn,Object.create(null))}*[Symbol.iterator](){for(const e in c(this,qn)){const{data:t}=c(this,qn)[e];t!==lp&&(yield[e,t])}}}qn=new WeakMap,dd=new WeakSet,sw=function(e){var t;return(t=c(this,qn))[e]||(t[e]={...Promise.withResolvers(),data:lp})};var as;class oD{constructor(e){m(this,as,null);E(this,as,e),this.onContinue=null}get promise(){return c(this,as).capability.promise}cancel(e=0){c(this,as).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=c(this,as).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=c(this,as);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}as=new WeakMap;var Do;const Qs=class Qs{constructor({callback:e,params:t,objs:i,commonObjs:r,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:l,filterFactory:u,useRequestAnimationFrame:h=!1,pdfBug:d=!1,pageColors:f=null}){this.callback=e,this.params=t,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=u,this._pdfBug=d,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new oD(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var a,l;if(this.cancelled)return;if(this._canvas){if(c(Qs,Do).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");c(Qs,Do).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:r,transform:s,background:o}=this.params;this.gfx=new ll(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:r,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,t=0){var i;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),c(Qs,Do).delete(this._canvas),this.callback(e||new YE(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),c(Qs,Do).delete(this._canvas),this.callback())))}};Do=new WeakMap,m(Qs,Do,new WeakSet);let ow=Qs;const aD="4.3.136",lD="0cec64437";function aS(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function iu(n){return Math.max(0,Math.min(255,255*n))}class lS{static CMYK_G([e,t,i,r]){return["G",1-Math.min(1,.3*e+.59*i+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=iu(e),[e,e,e]}static G_HTML([e]){const t=aS(e);return`#${t}${t}${t}`}static RGB_G([e,t,i]){return["G",.3*e+.59*t+.11*i]}static RGB_rgb(e){return e.map(iu)}static RGB_HTML(e){return`#${e.map(aS).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,i,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,i+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,i,r]){return[iu(1-Math.min(1,e+r)),iu(1-Math.min(1,i+r)),iu(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,i]){const r=1-e,s=1-t,o=1-i,a=Math.min(r,s,o);return["CMYK",r,s,o,a]}}class Xx{static setupStorage(e,t,i,r,s){const o=r.getValue(t,{value:null});switch(i.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),s==="print")break;e.addEventListener("input",a=>{r.setValue(t,{value:a.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(o.value===i.attributes.xfaOn?e.setAttribute("checked",!0):o.value===i.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",a=>{r.setValue(t,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),s==="print")break;e.addEventListener("input",a=>{r.setValue(t,{value:a.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const a of i.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const l=a.target.options,u=l.selectedIndex===-1?"":l[l.selectedIndex].value;r.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:i=null,intent:r,linkService:s}){const{attributes:o}=t,a=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${r}`);for(const[l,u]of Object.entries(o))if(u!=null)switch(l){case"class":u.length&&e.setAttribute(l,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!a||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,u)}a&&s.addLinkAttributes(e,o.href,o.newWindow),i&&o.dataId&&this.setupStorage(e,o.dataId,t,i)}static render(e){var d,f;const t=e.annotationStorage,i=e.linkService,r=e.xfaHtml,s=e.intent||"display",o=document.createElement(r.name);r.attributes&&this.setAttributes({html:o,element:r,intent:s,linkService:i});const a=s!=="richText",l=e.div;if(l.append(o),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=p}a&&l.setAttribute("class","xfaLayer xfaFont");const u=[];if(r.children.length===0){if(r.value){const p=document.createTextNode(r.value);o.append(p),a&&th.shouldBuildText(r.name)&&u.push(p)}return{textDivs:u}}const h=[[r,-1,o]];for(;h.length>0;){const[p,g,y]=h.at(-1);if(g+1===p.children.length){h.pop();continue}const S=p.children[++h.at(-1)[1]];if(S===null)continue;const{name:v}=S;if(v==="#text"){const _=document.createTextNode(S.value);u.push(_),y.append(_);continue}const w=(d=S==null?void 0:S.attributes)!=null&&d.xmlns?document.createElementNS(S.attributes.xmlns,v):document.createElement(v);if(y.append(w),S.attributes&&this.setAttributes({html:w,element:S,storage:t,intent:s,linkService:i}),((f=S.children)==null?void 0:f.length)>0)h.push([S,-1,w]);else if(S.value){const _=document.createTextNode(S.value);a&&th.shouldBuildText(v)&&u.push(_),w.append(_)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const If=1e3,cD=9,Aa=new WeakSet;function Rr(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class uD{static create(e){switch(e.data.annotationType){case tt.LINK:return new Kx(e);case tt.TEXT:return new hD(e);case tt.WIDGET:switch(e.data.fieldType){case"Tx":return new dD(e);case"Btn":return e.data.radioButton?new Qx(e):e.data.checkBox?new pD(e):new gD(e);case"Ch":return new mD(e);case"Sig":return new fD(e)}return new Ta(e);case tt.POPUP:return new lw(e);case tt.FREETEXT:return new nC(e);case tt.LINE:return new yD(e);case tt.SQUARE:return new wD(e);case tt.CIRCLE:return new ED(e);case tt.POLYLINE:return new iC(e);case tt.CARET:return new _D(e);case tt.INK:return new rC(e);case tt.POLYGON:return new AD(e);case tt.HIGHLIGHT:return new SD(e);case tt.UNDERLINE:return new bD(e);case tt.SQUIGGLY:return new xD(e);case tt.STRIKEOUT:return new CD(e);case tt.STAMP:return new sC(e);case tt.FILEATTACHMENT:return new kD(e);default:return new Ye(e)}}}var Io,$l,Vl,fd,aw;const oA=class oA{constructor(e,{isRenderable:t=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){m(this,fd);m(this,Io,null);m(this,$l,!1);m(this,Vl,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:i}){return!!(e!=null&&e.str||t!=null&&t.str||i!=null&&i.str)}get hasPopupData(){return oA._hasPopupData(this.data)}updateEdited(e){var i;if(!this.container)return;c(this,Io)||E(this,Io,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&A(this,fd,aw).call(this,t),(i=c(this,Vl))==null||i.popup.updateEdited(e)}resetEdited(){var e;c(this,Io)&&(A(this,fd,aw).call(this,c(this,Io).rect),(e=c(this,Vl))==null||e.popup.resetEdited(),E(this,Io,null))}_createContainer(e){const{data:t,parent:{page:i,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof Ta||(s.tabIndex=If);const{style:o}=s;if(o.zIndex=this.parent.zIndex++,t.popupRef&&s.setAttribute("aria-haspopup","dialog"),t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof lw){const{rotation:y}=t;return!t.hasOwnCanvas&&y!==0&&this.setRotation(y,s),s}const{width:a,height:l}=Rr(t.rect);if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const y=t.borderStyle.horizontalCornerRadius,S=t.borderStyle.verticalCornerRadius;if(y>0||S>0){const w=`calc(${y}px * var(--scale-factor)) / calc(${S}px * var(--scale-factor))`;o.borderRadius=w}else if(this instanceof Qx){const w=`calc(${a}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;o.borderRadius=w}switch(t.borderStyle.style){case tu.SOLID:o.borderStyle="solid";break;case tu.DASHED:o.borderStyle="dashed";break;case tu.BEVELED:ue("Unimplemented border style: beveled");break;case tu.INSET:ue("Unimplemented border style: inset");break;case tu.UNDERLINE:o.borderBottomStyle="solid";break}const v=t.borderColor||null;v?(E(this,$l,!0),o.borderColor=X.makeHexColor(v[0]|0,v[1]|0,v[2]|0)):o.borderWidth=0}const u=X.normalizeRect([t.rect[0],i.view[3]-t.rect[1]+i.view[1],t.rect[2],i.view[3]-t.rect[3]+i.view[1]]),{pageWidth:h,pageHeight:d,pageX:f,pageY:p}=r.rawDims;o.left=`${100*(u[0]-f)/h}%`,o.top=`${100*(u[1]-p)/d}%`;const{rotation:g}=t;return t.hasOwnCanvas||g===0?(o.width=`${100*a/h}%`,o.height=`${100*l/d}%`):this.setRotation(g,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims,{width:s,height:o}=Rr(this.data.rect);let a,l;e%180===0?(a=100*s/i,l=100*o/r):(a=100*o/i,l=100*s/r),t.style.width=`${a}%`,t.style.height=`${l}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,i,r)=>{const s=r.detail[t],o=s[0],a=s.slice(1);r.target.style[i]=lS[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[i]:lS[`${o}_rgb`](a)})};return we(this,"_commonActions",{display:t=>{const{display:i}=t.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:i}=t.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const i=t.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(e,t){const i=this._commonActions;for(const r of Object.keys(t.detail)){const s=e[r]||i[r];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const i=this._commonActions;for(const[r,s]of Object.entries(t)){const o=i[r];if(o){const a={detail:{[r]:s},target:e};o(a),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,i,r,s]=this.data.rect;if(e.length===1){const[,{x:y,y:S},{x:v,y:w}]=e[0];if(r===y&&s===S&&t===v&&i===w)return}const{style:o}=this.container;let a;if(c(this,$l)){const{borderColor:y,borderWidth:S}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${y}" stroke-width="${S}">`],this.container.classList.add("hasBorder")}const l=r-t,u=s-i,{svgFactory:h}=this,d=h.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const f=h.createElement("defs");d.append(f);const p=h.createElement("clipPath"),g=`clippath_${this.data.id}`;p.setAttribute("id",g),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(const[,{x:y,y:S},{x:v,y:w}]of e){const _=h.createElement("rect"),x=(v-t)/l,C=(s-S)/u,k=(y-v)/l,b=(S-w)/u;_.setAttribute("x",x),_.setAttribute("y",C),_.setAttribute("width",k),_.setAttribute("height",b),p.append(_),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${x}" y="${C}" width="${k}" height="${b}"/>`)}c(this,$l)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(d),this.container.style.clipPath=`url(#${g})`}_createPopup(){const{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");const i=E(this,Vl,new lw({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(i.render())}render(){ke("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const i=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:s,id:o,exportValues:a}of r){if(s===-1||o===t)continue;const l=typeof a=="string"?a:null,u=document.querySelector(`[data-element-id="${o}"]`);if(u&&!Aa.has(u)){ue(`_getElementsByName - element not allowed: ${o}`);continue}i.push({id:o,exportValue:l,domElement:u})}return i}for(const r of document.getElementsByName(e)){const{exportValue:s}=r,o=r.getAttribute("data-element-id");o!==t&&Aa.has(r)&&i.push({id:o,exportValue:s,domElement:r})}return i}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};Io=new WeakMap,$l=new WeakMap,Vl=new WeakMap,fd=new WeakSet,aw=function(e){const{container:{style:t},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}}}=this;i==null||i.splice(0,4,...e);const{width:u,height:h}=Rr(e);t.left=`${100*(e[0]-a)/s}%`,t.top=`${100*(o-e[3]+l)/o}%`,r===0?(t.width=`${100*u/s}%`,t.height=`${100*h/o}%`):this.setRotation(r)};let Ye=oA;var ur,Xs,gm,Yx,mm,qx;class Kx extends Ye{constructor(t,i=null){super(t,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});m(this,ur);m(this,gm);m(this,mm);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:i}=this,r=document.createElement("a");r.setAttribute("data-element-id",t.id);let s=!1;return t.url?(i.addLinkAttributes(r,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(r,t.action),s=!0):t.attachment?(A(this,gm,Yx).call(this,r,t.attachment,t.attachmentDest),s=!0):t.setOCGState?(A(this,mm,qx).call(this,r,t.setOCGState),s=!0):t.dest?(this._bindLink(r,t.dest),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,t),s=!0),t.resetForm?(this._bindResetFormAction(r,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(r,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(r),this.container}_bindLink(t,i){t.href=this.linkService.getDestinationHash(i),t.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&A(this,ur,Xs).call(this)}_bindNamedAction(t,i){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(i),!1),A(this,ur,Xs).call(this)}_bindJSAction(t,i){t.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(i.actions)){const o=r.get(s);o&&(t[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:s}}),!1})}t.onclick||(t.onclick=()=>!1),A(this,ur,Xs).call(this)}_bindResetFormAction(t,i){const r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),A(this,ur,Xs).call(this),!this._fieldObjects){ue('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(t.onclick=()=>!1);return}t.onclick=()=>{var d;r==null||r();const{fields:s,refs:o,include:a}=i,l=[];if(s.length!==0||o.length!==0){const f=new Set(o);for(const p of s){const g=this._fieldObjects[p]||[];for(const{id:y}of g)f.add(y)}for(const p of Object.values(this._fieldObjects))for(const g of p)f.has(g.id)===a&&l.push(g)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const u=this.annotationStorage,h=[];for(const f of l){const{id:p}=f;switch(h.push(p),f.type){case"text":{const y=f.defaultValue||"";u.setValue(p,{value:y});break}case"checkbox":case"radiobutton":{const y=f.defaultValue===f.exportValues;u.setValue(p,{value:y});break}case"combobox":case"listbox":{const y=f.defaultValue||"";u.setValue(p,{value:y});break}default:continue}const g=document.querySelector(`[data-element-id="${p}"]`);if(g){if(!Aa.has(g)){ue(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}})),!1}}}ur=new WeakSet,Xs=function(){this.container.setAttribute("data-internal-link","")},gm=new WeakSet,Yx=function(t,i,r=null){t.href=this.linkService.getAnchorUrl(""),i.description&&(t.title=i.description),t.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(i.content,i.filename,r),!1},A(this,ur,Xs).call(this)},mm=new WeakSet,qx=function(t,i){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(i),!1),A(this,ur,Xs).call(this)};class hD extends Ye{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Ta extends Ye{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return rn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,i,r,s){i.includes("mouse")?e.addEventListener(i,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(i,o=>{var a;if(i==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(i==="focus"){if(t.focused)return;t.focused=!0}s&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o)}}))})}_setEventListeners(e,t,i,r){var s,o,a;for(const[l,u]of i)(u==="Action"||(s=this.data.actions)!=null&&s[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,u,r),u==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):u==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":X.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||cD,s=e.style;let o;const a=2,l=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a),h=Math.round(u/(Ey*r))||1,d=u/h;o=Math.min(r,l(d/Ey))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(r,l(u/Ey))}s.fontSize=`calc(${o}px * var(--scale-factor))`,s.color=X.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class dD extends Ta{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,i,r){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=i),s.setValue(o.id,{[r]:i})}render(){var r,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let a=o.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let u=o.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const h={userValue:a,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=u??a,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type="text",i.setAttribute("value",u??a),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),Aa.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=If,this._setRequired(i,this.data.required),l&&(i.maxLength=l),i.addEventListener("input",f=>{e.setValue(t,{value:f.target.value}),this.setPropertyOnSiblings(i,"value",f.target.value,"value"),h.formattedValue=null}),i.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue??"";i.value=h.userValue=p,h.formattedValue=null});let d=f=>{const{formattedValue:p}=h;p!=null&&(f.target.value=p),f.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",p=>{var y;if(h.focused)return;const{target:g}=p;h.userValue&&(g.value=h.userValue),h.lastCommittedValue=g.value,h.commitKey=1,(y=this.data.actions)!=null&&y.Focus||(h.focused=!0)}),i.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const g={value(y){h.userValue=y.detail.value??"",e.setValue(t,{value:h.userValue.toString()}),y.target.value=h.userValue},formattedValue(y){const{formattedValue:S}=y.detail;h.formattedValue=S,S!=null&&y.target!==document.activeElement&&(y.target.value=S),e.setValue(t,{formattedValue:S})},selRange(y){y.target.setSelectionRange(...y.detail.selRange)},charLimit:y=>{var _;const{charLimit:S}=y.detail,{target:v}=y;if(S===0){v.removeAttribute("maxLength");return}v.setAttribute("maxLength",S);let w=h.userValue;!w||w.length<=S||(w=w.slice(0,S),v.value=h.userValue=w,e.setValue(t,{value:w}),(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:w,willCommit:!0,commitKey:1,selStart:v.selectionStart,selEnd:v.selectionEnd}}))}};this._dispatchEventFromSandbox(g,p)}),i.addEventListener("keydown",p=>{var S;h.commitKey=1;let g=-1;if(p.key==="Escape"?g=0:p.key==="Enter"&&!this.data.multiLine?g=2:p.key==="Tab"&&(h.commitKey=3),g===-1)return;const{value:y}=p.target;h.lastCommittedValue!==y&&(h.lastCommittedValue=y,h.userValue=y,(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:y,willCommit:!0,commitKey:g,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const f=d;d=null,i.addEventListener("blur",p=>{var y,S;if(!h.focused||!p.relatedTarget)return;(y=this.data.actions)!=null&&y.Blur||(h.focused=!1);const{value:g}=p.target;h.userValue=g,h.lastCommittedValue!==g&&((S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:g,willCommit:!0,commitKey:h.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}})),f(p)}),(s=this.data.actions)!=null&&s.Keystroke&&i.addEventListener("beforeinput",p=>{var C;h.lastCommittedValue=null;const{data:g,target:y}=p,{value:S,selectionStart:v,selectionEnd:w}=y;let _=v,x=w;switch(p.inputType){case"deleteWordBackward":{const k=S.substring(0,v).match(/\w*[^\w]*$/);k&&(_-=k[0].length);break}case"deleteWordForward":{const k=S.substring(v).match(/^[^\w]*\w*/);k&&(x+=k[0].length);break}case"deleteContentBackward":v===w&&(_-=1);break;case"deleteContentForward":v===w&&(x+=1);break}p.preventDefault(),(C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:S,change:g||"",willCommit:!1,selStart:_,selEnd:x}})}),this._setEventListeners(i,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(d&&i.addEventListener("blur",d),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/l;i.classList.add("comb"),i.style.letterSpacing=`calc(${p}px * var(--scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class fD extends Ta{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class pD extends Ta{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Aa.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=If,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const u of this._getElementsByName(a,i)){const h=l&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=h),e.setValue(u.id,{value:h})}e.setValue(i,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue||"Off";o.target.checked=a===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const a={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(i,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Qx extends Ta{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(i,{value:r})),r)for(const o of this._getElementsByName(t.fieldName,i))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(Aa.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=If,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const u of this._getElementsByName(a,i))e.setValue(u.id,{value:!1});e.setValue(i,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue;o.target.checked=a!=null&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;s.addEventListener("updatefromsandbox",a=>{const l={value:u=>{const h=o===u.detail.value;for(const d of this._getElementsByName(u.target.name)){const f=h&&d.id===i;d.domElement&&(d.domElement.checked=f),e.setValue(d.id,{value:f})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class gD extends Kx{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),e}}class mD extends Ta{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,i=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");Aa.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=If;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",h=>{const d=this.data.defaultFieldValue;for(const f of r.options)f.selected=f.value===d});for(const h of this.data.options){const d=document.createElement("option");d.textContent=h.displayValue,d.value=h.exportValue,i.value.includes(h.exportValue)&&(d.setAttribute("selected",!0),s=!1),r.append(d)}let o=null;if(s){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),r.prepend(h),o=()=>{h.remove(),r.removeEventListener("input",o),o=null},r.addEventListener("input",o)}const a=h=>{const d=h?"value":"textContent",{options:f,multiple:p}=r;return p?Array.prototype.filter.call(f,g=>g.selected).map(g=>g[d]):f.selectedIndex===-1?null:f[f.selectedIndex][d]};let l=a(!1);const u=h=>{const d=h.target.options;return Array.prototype.map.call(d,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",h=>{const d={value(f){o==null||o();const p=f.detail.value,g=new Set(Array.isArray(p)?p:[p]);for(const y of r.options)y.selected=g.has(y.value);e.setValue(t,{value:a(!0)}),l=a(!1)},multipleSelection(f){r.multiple=!0},remove(f){const p=r.options,g=f.detail.remove;p[g].selected=!1,r.remove(g),p.length>0&&Array.prototype.findIndex.call(p,S=>S.selected)===-1&&(p[0].selected=!0),e.setValue(t,{value:a(!0),items:u(f)}),l=a(!1)},clear(f){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),l=a(!1)},insert(f){const{index:p,displayValue:g,exportValue:y}=f.detail.insert,S=r.children[p],v=document.createElement("option");v.textContent=g,v.value=y,S?S.before(v):r.append(v),e.setValue(t,{value:a(!0),items:u(f)}),l=a(!1)},items(f){const{items:p}=f.detail;for(;r.length!==0;)r.remove(0);for(const g of p){const{displayValue:y,exportValue:S}=g,v=document.createElement("option");v.textContent=y,v.value=S,r.append(v)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:a(!0),items:u(f)}),l=a(!1)},indices(f){const p=new Set(f.detail.indices);for(const g of f.target.options)g.selected=p.has(g.index);e.setValue(t,{value:a(!0)}),l=a(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(d,h)}),r.addEventListener("input",h=>{var p;const d=a(!0),f=a(!1);e.setValue(t,{value:d}),h.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:f,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):r.addEventListener("input",function(h){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class lw extends Ye{constructor(e){const{data:t,elements:i}=e;super(e,{isRenderable:Ye._hasPopupData(t)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new vD({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const i of this.elements)i.popup=e,t.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(i=>`${tx}${i}`).join(",")),this.container}}var Wl,vm,ym,Gl,Fo,We,hr,No,pd,gd,Xl,dr,Qn,fr,md,pr,vd,Oo,jo,Kl,Dp,yd,cw,wm,Jx,Em,Zx,Am,eC,_m,tC,Yl,Ip,ql,Fp,wd,uw;class vD{constructor({container:e,color:t,elements:i,titleObj:r,modificationDate:s,contentsObj:o,richText:a,parent:l,rect:u,parentRect:h,open:d}){m(this,Kl);m(this,yd);m(this,wm);m(this,Em);m(this,Am);m(this,_m);m(this,Yl);m(this,ql);m(this,wd);m(this,Wl,A(this,Am,eC).bind(this));m(this,vm,A(this,wd,uw).bind(this));m(this,ym,A(this,ql,Fp).bind(this));m(this,Gl,A(this,Yl,Ip).bind(this));m(this,Fo,null);m(this,We,null);m(this,hr,null);m(this,No,null);m(this,pd,null);m(this,gd,null);m(this,Xl,null);m(this,dr,!1);m(this,Qn,null);m(this,fr,null);m(this,md,null);m(this,pr,null);m(this,vd,null);m(this,Oo,null);m(this,jo,!1);var f;E(this,We,e),E(this,vd,r),E(this,hr,o),E(this,pr,a),E(this,gd,l),E(this,Fo,t),E(this,md,u),E(this,Xl,h),E(this,pd,i),E(this,No,ox.toDateObject(s)),this.trigger=i.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",c(this,Gl)),p.addEventListener("mouseenter",c(this,ym)),p.addEventListener("mouseleave",c(this,vm)),p.classList.add("popupTriggerArea");for(const p of i)(f=p.container)==null||f.addEventListener("keydown",c(this,Wl));c(this,We).hidden=!0,d&&A(this,Yl,Ip).call(this)}render(){if(c(this,Qn))return;const e=E(this,Qn,document.createElement("div"));if(e.className="popup",c(this,Fo)){const s=e.style.outlineColor=X.makeHexColor(...c(this,Fo));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:e.style.backgroundColor=X.makeHexColor(...c(this,Fo).map(a=>Math.floor(.7*(255-a)+a)))}const t=document.createElement("span");t.className="header";const i=document.createElement("h1");if(t.append(i),{dir:i.dir,str:i.textContent}=c(this,vd),e.append(t),c(this,No)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),s.setAttribute("data-l10n-args",JSON.stringify({date:c(this,No).toLocaleDateString(),time:c(this,No).toLocaleTimeString()})),t.append(s)}const r=c(this,Kl,Dp);if(r)Xx.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(c(this,hr));e.append(s)}c(this,We).append(e)}_formatContents({str:e,dir:t}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=t;const r=e.split(/(?:\r\n?|\n)/);for(let s=0,o=r.length;s<o;++s){const a=r[s];i.append(document.createTextNode(a)),s<o-1&&i.append(document.createElement("br"))}return i}updateEdited({rect:e,popupContent:t}){var i;c(this,Oo)||E(this,Oo,{contentsObj:c(this,hr),richText:c(this,pr)}),e&&E(this,fr,null),t&&(E(this,pr,A(this,Em,Zx).call(this,t)),E(this,hr,null)),(i=c(this,Qn))==null||i.remove(),E(this,Qn,null)}resetEdited(){var e;c(this,Oo)&&({contentsObj:hn(this,hr)._,richText:hn(this,pr)._}=c(this,Oo),E(this,Oo,null),(e=c(this,Qn))==null||e.remove(),E(this,Qn,null),E(this,fr,null))}forceHide(){E(this,jo,this.isVisible),c(this,jo)&&(c(this,We).hidden=!0)}maybeShow(){c(this,jo)&&(c(this,Qn)||A(this,ql,Fp).call(this),E(this,jo,!1),c(this,We).hidden=!1)}get isVisible(){return c(this,We).hidden===!1}}Wl=new WeakMap,vm=new WeakMap,ym=new WeakMap,Gl=new WeakMap,Fo=new WeakMap,We=new WeakMap,hr=new WeakMap,No=new WeakMap,pd=new WeakMap,gd=new WeakMap,Xl=new WeakMap,dr=new WeakMap,Qn=new WeakMap,fr=new WeakMap,md=new WeakMap,pr=new WeakMap,vd=new WeakMap,Oo=new WeakMap,jo=new WeakMap,Kl=new WeakSet,Dp=function(){const e=c(this,pr),t=c(this,hr);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&c(this,pr).html||null},yd=new WeakSet,cw=function(){var e,t,i;return((i=(t=(e=c(this,Kl,Dp))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.fontSize)||0},wm=new WeakSet,Jx=function(){var e,t,i;return((i=(t=(e=c(this,Kl,Dp))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.color)||null},Em=new WeakSet,Zx=function(e){const t=[],i={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:c(this,wm,Jx),fontSize:c(this,yd,cw)?`calc(${c(this,yd,cw)}px * var(--scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:r});return i},Am=new WeakSet,eC=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&c(this,dr))&&A(this,Yl,Ip).call(this)},_m=new WeakSet,tC=function(){if(c(this,fr)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:i,pageX:r,pageY:s}}}=c(this,gd);let o=!!c(this,Xl),a=o?c(this,Xl):c(this,md);for(const g of c(this,pd))if(!a||X.intersect(g.data.rect,a)!==null){a=g.data.rect,o=!0;break}const l=X.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),h=o?a[2]-a[0]+5:0,d=l[0]+h,f=l[1];E(this,fr,[100*(d-r)/t,100*(f-s)/i]);const{style:p}=c(this,We);p.left=`${c(this,fr)[0]}%`,p.top=`${c(this,fr)[1]}%`},Yl=new WeakSet,Ip=function(){E(this,dr,!c(this,dr)),c(this,dr)?(A(this,ql,Fp).call(this),c(this,We).addEventListener("click",c(this,Gl)),c(this,We).addEventListener("keydown",c(this,Wl))):(A(this,wd,uw).call(this),c(this,We).removeEventListener("click",c(this,Gl)),c(this,We).removeEventListener("keydown",c(this,Wl)))},ql=new WeakSet,Fp=function(){c(this,Qn)||this.render(),this.isVisible?c(this,dr)&&c(this,We).classList.add("focused"):(A(this,_m,tC).call(this),c(this,We).hidden=!1,c(this,We).style.zIndex=parseInt(c(this,We).style.zIndex)+1e3)},wd=new WeakSet,uw=function(){c(this,We).classList.remove("focused"),!(c(this,dr)||!this.isVisible)&&(c(this,We).hidden=!0,c(this,We).style.zIndex=parseInt(c(this,We).style.zIndex)-1e3)};class nC extends Ye{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=ve.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const i=document.createElement("span");i.textContent=t,e.append(i)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var Ed;class yD extends Ye{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});m(this,Ed,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:i,height:r}=Rr(t.rect),s=this.svgFactory.create(i,r,!0),o=E(this,Ed,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,Ed)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ed=new WeakMap;var Ad;class wD extends Ye{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});m(this,Ad,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:i,height:r}=Rr(t.rect),s=this.svgFactory.create(i,r,!0),o=t.borderStyle.width,a=E(this,Ad,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",i-o),a.setAttribute("height",r-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,Ad)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ad=new WeakMap;var _d;class ED extends Ye{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});m(this,_d,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:i,height:r}=Rr(t.rect),s=this.svgFactory.create(i,r,!0),o=t.borderStyle.width,a=E(this,_d,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",i/2),a.setAttribute("cy",r/2),a.setAttribute("rx",i/2-o/2),a.setAttribute("ry",r/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,_d)}addHighlightArea(){this.container.classList.add("highlightArea")}}_d=new WeakMap;var Sd;class iC extends Ye{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});m(this,Sd,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const t=this.data,{width:i,height:r}=Rr(t.rect),s=this.svgFactory.create(i,r,!0);let o=[];for(const l of t.vertices){const u=l.x-t.rect[0],h=t.rect[3]-l.y;o.push(u+","+h)}o=o.join(" ");const a=E(this,Sd,this.svgFactory.createElement(this.svgElementName));return a.setAttribute("points",o),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,Sd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Sd=new WeakMap;class AD extends iC{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class _D extends Ye{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var bd;class rC extends Ye{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});m(this,bd,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=ve.INK}render(){this.container.classList.add(this.containerClassName);const t=this.data,{width:i,height:r}=Rr(t.rect),s=this.svgFactory.create(i,r,!0);for(const o of t.inkLists){let a=[];for(const u of o){const h=u.x-t.rect[0],d=t.rect[3]-u.y;a.push(`${h},${d}`)}a=a.join(" ");const l=this.svgFactory.createElement(this.svgElementName);c(this,bd).push(l),l.setAttribute("points",a),l.setAttribute("stroke-width",t.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),!t.popupRef&&this.hasPopupData&&this._createPopup(),s.append(l)}return this.container.append(s),this.container}getElementsToTriggerPopup(){return c(this,bd)}addHighlightArea(){this.container.classList.add("highlightArea")}}bd=new WeakMap;class SD extends Ye{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class bD extends Ye{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class xD extends Ye{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class CD extends Ye{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class sC extends Ye{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var xd,Cd,hw;class kD extends Ye{constructor(t){var r;super(t,{isRenderable:!0});m(this,Cd);m(this,xd,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:i}=this;let r;i.hasAppearance||i.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),r.addEventListener("dblclick",A(this,Cd,hw).bind(this)),E(this,xd,r);const{isMac:s}=rn.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&A(this,Cd,hw).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),t.append(r),t}getElementsToTriggerPopup(){return c(this,xd)}addHighlightArea(){this.container.classList.add("highlightArea")}}xd=new WeakMap,Cd=new WeakSet,hw=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var kd,zo,Ql,Sm,oC,Td,dw,_S;let TD=(_S=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:i,annotationEditorUIManager:r,page:s,viewport:o}){m(this,Sm);m(this,Td);m(this,kd,null);m(this,zo,null);m(this,Ql,new Map);this.div=e,E(this,kd,t),E(this,zo,i),this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=r}async render(e){var o;const{annotations:t}=e,i=this.div;wa(i,this.viewport);const r=new Map,s={data:null,layer:i,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new KE,annotationStorage:e.annotationStorage||new ZE,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of t){if(a.noHTML)continue;const l=a.annotationType===tt.POPUP;if(l){const d=r.get(a.id);if(!d)continue;s.elements=d}else{const{width:d,height:f}=Rr(a.rect);if(d<=0||f<=0)continue}s.data=a;const u=uD.create(s);if(!u.isRenderable)continue;if(!l&&a.popupRef){const d=r.get(a.popupRef);d?d.push(u):r.set(a.popupRef,[u])}const h=u.render();a.hidden&&(h.style.visibility="hidden"),A(this,Sm,oC).call(this,h,a.id),u.annotationEditorType>0&&(c(this,Ql).set(u.data.id,u),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(u))}A(this,Td,dw).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,wa(t,{rotation:e.rotation}),A(this,Td,dw).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(c(this,Ql).values())}getEditableAnnotation(e){return c(this,Ql).get(e)}},kd=new WeakMap,zo=new WeakMap,Ql=new WeakMap,Sm=new WeakSet,oC=function(e,t){var r;const i=e.firstChild||e;i.id=`${tx}${t}`,this.div.append(e),(r=c(this,kd))==null||r.moveElementInDOM(this.div,e,i,!1)},Td=new WeakSet,dw=function(){if(!c(this,zo))return;const e=this.div;for(const[t,i]of c(this,zo)){const r=e.querySelector(`[data-annotation-id="${t}"]`);if(!r)continue;i.className="annotationContent";const{firstChild:s}=r;s?s.nodeName==="CANVAS"?s.replaceWith(i):s.classList.contains("annotationContent")?s.after(i):s.before(i):r.append(i)}c(this,zo).clear()},_S);const cp=/\r\n?|\n/g;var Pd,Rd,Ld,Md,Dd,Jn,gn,Id,mn,Jl,bm,aC,xm,lC,Cm,cC,Zl,Np,ec,Op,tc,jp,km,uC,Fd,pw,Tm,hC;const Pe=class Pe extends be{constructor(t){super({...t,name:"freeTextEditor"});m(this,bm);m(this,xm);m(this,Cm);m(this,Zl);m(this,tc);m(this,km);m(this,Tm);m(this,Pd,this.editorDivBlur.bind(this));m(this,Rd,this.editorDivFocus.bind(this));m(this,Ld,this.editorDivInput.bind(this));m(this,Md,this.editorDivKeydown.bind(this));m(this,Dd,this.editorDivPaste.bind(this));m(this,Jn,void 0);m(this,gn,"");m(this,Id,`${this.id}-editor`);m(this,mn,void 0);m(this,Jl,null);E(this,Jn,t.color||Pe._defaultColor||be._defaultLineColor),E(this,mn,t.fontSize||Pe._defaultFontSize)}static get _keyboardManager(){const t=Pe.prototype,i=o=>o.isEmpty(),r=Ea.TRANSLATE_SMALL,s=Ea.TRANSLATE_BIG;return we(this,"_keyboardManager",new Mf([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:i}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[r,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:i}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:i}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,r],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:i}]]))}static initialize(t,i){be.initialize(t,i,{strings:["pdfjs-free-text-default-content"]});const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,i){switch(t){case ne.FREETEXT_SIZE:Pe._defaultFontSize=i;break;case ne.FREETEXT_COLOR:Pe._defaultColor=i;break}}updateParams(t,i){switch(t){case ne.FREETEXT_SIZE:A(this,bm,aC).call(this,i);break;case ne.FREETEXT_COLOR:A(this,xm,lC).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[ne.FREETEXT_SIZE,Pe._defaultFontSize],[ne.FREETEXT_COLOR,Pe._defaultColor||be._defaultLineColor]]}get propertiesToUpdate(){return[[ne.FREETEXT_SIZE,c(this,mn)],[ne.FREETEXT_COLOR,c(this,Jn)]]}_translateEmpty(t,i){this._uiManager.translateSelectedEditors(t,i,!0)}getInitialTranslation(){const t=this.parentScale;return[-Pe._internalPadding*t,-(Pe._internalPadding+c(this,mn))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(ve.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",c(this,Md)),this.editorDiv.addEventListener("focus",c(this,Rd)),this.editorDiv.addEventListener("blur",c(this,Pd)),this.editorDiv.addEventListener("input",c(this,Ld)),this.editorDiv.addEventListener("paste",c(this,Dd)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",c(this,Id)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",c(this,Md)),this.editorDiv.removeEventListener("focus",c(this,Rd)),this.editorDiv.removeEventListener("blur",c(this,Pd)),this.editorDiv.removeEventListener("input",c(this,Ld)),this.editorDiv.removeEventListener("paste",c(this,Dd)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=c(this,gn),i=E(this,gn,A(this,Cm,cC).call(this).trimEnd());if(t===i)return;const r=s=>{if(E(this,gn,s),!s){this.remove();return}A(this,tc,jp).call(this),this._uiManager.rebuild(this),A(this,Zl,Np).call(this)};this.addCommands({cmd:()=>{r(i)},undo:()=>{r(t)},mustExec:!1}),A(this,Zl,Np).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Pe._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,i;this.width&&(t=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",c(this,Id)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),be._l10nPromise.get("pdfjs-free-text-default-content").then(s=>{var o;return(o=this.editorDiv)==null?void 0:o.setAttribute("default-content",s)}),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${c(this,mn)}px * var(--scale-factor))`,r.color=c(this,Jn),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Eg(this,this.div,["dblclick","keydown"]),this.width){const[s,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=c(this,Jl);let[l,u]=this.getInitialTranslation();[l,u]=this.pageTranslationToScreen(l,u);const[h,d]=this.pageDimensions,[f,p]=this.pageTranslation;let g,y;switch(this.rotation){case 0:g=t+(a[0]-f)/h,y=i+this.height-(a[1]-p)/d;break;case 90:g=t+(a[0]-f)/h,y=i-(a[1]-p)/d,[l,u]=[u,-l];break;case 180:g=t-this.width+(a[0]-f)/h,y=i-(a[1]-p)/d,[l,u]=[-l,-u];break;case 270:g=t+(a[0]-f-this.height*d)/h,y=i+(a[1]-p-this.width*h)/d,[l,u]=[-u,l];break}this.setAt(g*s,y*o,l,u)}else this.setAt(t*s,i*o,this.width*s,this.height*o);A(this,tc,jp).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var g,y,S;const i=t.clipboardData||window.clipboardData,{types:r}=i;if(r.length===1&&r[0]==="text/plain")return;t.preventDefault();const s=A(g=Pe,Fd,pw).call(g,i.getData("text")||"").replaceAll(cp,`
`);if(!s)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!s.includes(`
`)){a.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:l,startOffset:u}=a,h=[],d=[];if(l.nodeType===Node.TEXT_NODE){const v=l.parentElement;if(d.push(l.nodeValue.slice(u).replaceAll(cp,"")),v!==this.editorDiv){let w=h;for(const _ of this.editorDiv.childNodes){if(_===v){w=d;continue}w.push(A(y=Pe,ec,Op).call(y,_))}}h.push(l.nodeValue.slice(0,u).replaceAll(cp,""))}else if(l===this.editorDiv){let v=h,w=0;for(const _ of this.editorDiv.childNodes)w++===u&&(v=d),v.push(A(S=Pe,ec,Op).call(S,_))}E(this,gn,`${h.join(`
`)}${s}${d.join(`
`)}`),A(this,tc,jp).call(this);const f=new Range;let p=h.reduce((v,w)=>v+w.length,0);for(const{firstChild:v}of this.editorDiv.childNodes)if(v.nodeType===Node.TEXT_NODE){const w=v.nodeValue.length;if(p<=w){f.setStart(v,p),f.setEnd(v,p);break}p-=w}o.removeAllRanges(),o.addRange(f)}get contentDiv(){return this.editorDiv}static deserialize(t,i,r){var a;let s=null;if(t instanceof nC){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:h,rotation:d,id:f},textContent:p,textPosition:g,parent:{page:{pageNumber:y}}}=t;if(!p||p.length===0)return null;s=t={annotationType:ve.FREETEXT,color:Array.from(u),fontSize:l,value:p.join(`
`),position:g,pageIndex:y-1,rect:h.slice(0),rotation:d,id:f,deleted:!1}}const o=super.deserialize(t,i,r);return E(o,mn,t.fontSize),E(o,Jn,X.makeHexColor(...t.color)),E(o,gn,A(a=Pe,Fd,pw).call(a,t.value)),o.annotationElementId=t.id||null,E(o,Jl,s),o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const i=Pe._internalPadding*this.parentScale,r=this.getRect(i,i),s=be._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:c(this,Jn)),o={annotationType:ve.FREETEXT,color:s,fontSize:c(this,mn),value:A(this,km,uC).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?o:this.annotationElementId&&!A(this,Tm,hC).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){const i=super.renderAnnotationElement(t);if(this.deleted)return i;const{style:r}=i;r.fontSize=`calc(${c(this,mn)}px * var(--scale-factor))`,r.color=c(this,Jn),i.replaceChildren();for(const o of c(this,gn).split(`
`)){const a=document.createElement("div");a.append(o?document.createTextNode(o):document.createElement("br")),i.append(a)}const s=Pe._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:c(this,gn)}),i}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Pd=new WeakMap,Rd=new WeakMap,Ld=new WeakMap,Md=new WeakMap,Dd=new WeakMap,Jn=new WeakMap,gn=new WeakMap,Id=new WeakMap,mn=new WeakMap,Jl=new WeakMap,bm=new WeakSet,aC=function(t){const i=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-c(this,mn))*this.parentScale),E(this,mn,s),A(this,Zl,Np).call(this)},r=c(this,mn);this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ne.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},xm=new WeakSet,lC=function(t){const i=s=>{E(this,Jn,this.editorDiv.style.color=s)},r=c(this,Jn);this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ne.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Cm=new WeakSet,cC=function(){var i;const t=[];this.editorDiv.normalize();for(const r of this.editorDiv.childNodes)t.push(A(i=Pe,ec,Op).call(i,r));return t.join(`
`)},Zl=new WeakSet,Np=function(){const[t,i]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:s,div:o}=this,a=o.style.display,l=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),r=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=r.width/t,this.height=r.height/i):(this.width=r.height/t,this.height=r.width/i),this.fixAndSetPosition()},ec=new WeakSet,Op=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(cp,"")},tc=new WeakSet,jp=function(){if(this.editorDiv.replaceChildren(),!!c(this,gn))for(const t of c(this,gn).split(`
`)){const i=document.createElement("div");i.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(i)}},km=new WeakSet,uC=function(){return c(this,gn).replaceAll(""," ")},Fd=new WeakSet,pw=function(t){return t.replaceAll(" ","")},Tm=new WeakSet,hC=function(t){const{value:i,fontSize:r,color:s,pageIndex:o}=c(this,Jl);return this._hasBeenMoved||t.value!==i||t.fontSize!==r||t.color.some((a,l)=>a!==s[l])||t.pageIndex!==o},m(Pe,ec),m(Pe,Fd),se(Pe,"_freeTextDefaultContent",""),se(Pe,"_internalPadding",0),se(Pe,"_defaultColor",null),se(Pe,"_defaultFontSize",10),se(Pe,"_type","freetext"),se(Pe,"_editorType",ve.FREETEXT);let fw=Pe;var Nd,ls,Zn,Pm,dC,nc,zp,Rm,fC,Lm,pC,Od,mw;class gw{constructor(e,t=0,i=0,r=!0){m(this,Pm);m(this,nc);m(this,Rm);m(this,Lm);m(this,Od);m(this,Nd,void 0);m(this,ls,[]);m(this,Zn,[]);let s=1/0,o=-1/0,a=1/0,l=-1/0;const h=10**-4;for(const{x:v,y:w,width:_,height:x}of e){const C=Math.floor((v-t)/h)*h,k=Math.ceil((v+_+t)/h)*h,b=Math.floor((w-t)/h)*h,L=Math.ceil((w+x+t)/h)*h,N=[C,b,L,!0],F=[k,b,L,!1];c(this,ls).push(N,F),s=Math.min(s,C),o=Math.max(o,k),a=Math.min(a,b),l=Math.max(l,L)}const d=o-s+2*i,f=l-a+2*i,p=s-i,g=a-i,y=c(this,ls).at(r?-1:-2),S=[y[0],y[2]];for(const v of c(this,ls)){const[w,_,x]=v;v[0]=(w-p)/d,v[1]=(_-g)/f,v[2]=(x-g)/f}E(this,Nd,{x:p,y:g,width:d,height:f,lastPoint:S})}getOutlines(){c(this,ls).sort((t,i)=>t[0]-i[0]||t[1]-i[1]||t[2]-i[2]);const e=[];for(const t of c(this,ls))t[3]?(e.push(...A(this,Od,mw).call(this,t)),A(this,Rm,fC).call(this,t)):(A(this,Lm,pC).call(this,t),e.push(...A(this,Od,mw).call(this,t)));return A(this,Pm,dC).call(this,e)}}Nd=new WeakMap,ls=new WeakMap,Zn=new WeakMap,Pm=new WeakSet,dC=function(e){const t=[],i=new Set;for(const o of e){const[a,l,u]=o;t.push([a,l,o],[a,u,o])}t.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=t.length;o<a;o+=2){const l=t[o][2],u=t[o+1][2];l.push(u),u.push(l),i.add(l),i.add(u)}const r=[];let s;for(;i.size>0;){const o=i.values().next().value;let[a,l,u,h,d]=o;i.delete(o);let f=a,p=l;for(s=[a,u],r.push(s);;){let g;if(i.has(h))g=h;else if(i.has(d))g=d;else break;i.delete(g),[a,l,u,h,d]=g,f!==a&&(s.push(f,p,a,p===l?l:u),f=a),p=p===l?u:l}s.push(f,p)}return new PD(r,c(this,Nd))},nc=new WeakSet,zp=function(e){const t=c(this,Zn);let i=0,r=t.length-1;for(;i<=r;){const s=i+r>>1,o=t[s][0];if(o===e)return s;o<e?i=s+1:r=s-1}return r+1},Rm=new WeakSet,fC=function([,e,t]){const i=A(this,nc,zp).call(this,e);c(this,Zn).splice(i,0,[e,t])},Lm=new WeakSet,pC=function([,e,t]){const i=A(this,nc,zp).call(this,e);for(let r=i;r<c(this,Zn).length;r++){const[s,o]=c(this,Zn)[r];if(s!==e)break;if(s===e&&o===t){c(this,Zn).splice(r,1);return}}for(let r=i-1;r>=0;r--){const[s,o]=c(this,Zn)[r];if(s!==e)break;if(s===e&&o===t){c(this,Zn).splice(r,1);return}}},Od=new WeakSet,mw=function(e){const[t,i,r]=e,s=[[t,i,r]],o=A(this,nc,zp).call(this,r);for(let a=0;a<o;a++){const[l,u]=c(this,Zn)[a];for(let h=0,d=s.length;h<d;h++){const[,f,p]=s[h];if(!(u<=f||p<=l)){if(f>=l){if(p>u)s[h][1]=u;else{if(d===1)return[];s.splice(h,1),h--,d--}continue}s[h][2]=l,p>u&&s.push([t,u,p])}}}return s};class gC{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof yw}}var jd,ic;class PD extends gC{constructor(t,i){super();m(this,jd,void 0);m(this,ic,void 0);E(this,ic,t),E(this,jd,i)}toSVGPath(){const t=[];for(const i of c(this,ic)){let[r,s]=i;t.push(`M${r} ${s}`);for(let o=2;o<i.length;o+=2){const a=i[o],l=i[o+1];a===r?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${a}`),r=a)}t.push("Z")}return t.join(" ")}serialize([t,i,r,s],o){const a=[],l=r-t,u=s-i;for(const h of c(this,ic)){const d=new Array(h.length);for(let f=0;f<h.length;f+=2)d[f]=t+h[f]*l,d[f+1]=s-h[f+1]*u;a.push(d)}return a}get box(){return c(this,jd)}}jd=new WeakMap,ic=new WeakMap;var ki,gr,rc,sc,Ti,pe,Ho,Bo,zd,Hd,oc,ac,cs,Bd,Mm,Dm,Ud,vw;const Xi=class Xi{constructor({x:e,y:t},i,r,s,o,a=0){m(this,Ud);m(this,ki,void 0);m(this,gr,[]);m(this,rc,void 0);m(this,sc,void 0);m(this,Ti,[]);m(this,pe,new Float64Array(18));m(this,Ho,void 0);m(this,Bo,void 0);m(this,zd,void 0);m(this,Hd,void 0);m(this,oc,void 0);m(this,ac,void 0);m(this,cs,[]);E(this,ki,i),E(this,ac,s*r),E(this,sc,o),c(this,pe).set([NaN,NaN,NaN,NaN,e,t],6),E(this,rc,a),E(this,Hd,c(Xi,Bd)*r),E(this,zd,c(Xi,Dm)*r),E(this,oc,r),c(this,cs).push(e,t)}get free(){return!0}isEmpty(){return isNaN(c(this,pe)[8])}add({x:e,y:t}){var N;E(this,Ho,e),E(this,Bo,t);const[i,r,s,o]=c(this,ki);let[a,l,u,h]=c(this,pe).subarray(8,12);const d=e-u,f=t-h,p=Math.hypot(d,f);if(p<c(this,zd))return!1;const g=p-c(this,Hd),y=g/p,S=y*d,v=y*f;let w=a,_=l;a=u,l=h,u+=S,h+=v,(N=c(this,cs))==null||N.push(e,t);const x=-v/g,C=S/g,k=x*c(this,ac),b=C*c(this,ac);return c(this,pe).set(c(this,pe).subarray(2,8),0),c(this,pe).set([u+k,h+b],4),c(this,pe).set(c(this,pe).subarray(14,18),12),c(this,pe).set([u-k,h-b],16),isNaN(c(this,pe)[6])?(c(this,Ti).length===0&&(c(this,pe).set([a+k,l+b],2),c(this,Ti).push(NaN,NaN,NaN,NaN,(a+k-i)/s,(l+b-r)/o),c(this,pe).set([a-k,l-b],14),c(this,gr).push(NaN,NaN,NaN,NaN,(a-k-i)/s,(l-b-r)/o)),c(this,pe).set([w,_,a,l,u,h],6),!this.isEmpty()):(c(this,pe).set([w,_,a,l,u,h],6),Math.abs(Math.atan2(_-l,w-a)-Math.atan2(v,S))<Math.PI/2?([a,l,u,h]=c(this,pe).subarray(2,6),c(this,Ti).push(NaN,NaN,NaN,NaN,((a+u)/2-i)/s,((l+h)/2-r)/o),[a,l,w,_]=c(this,pe).subarray(14,18),c(this,gr).push(NaN,NaN,NaN,NaN,((w+a)/2-i)/s,((_+l)/2-r)/o),!0):([w,_,a,l,u,h]=c(this,pe).subarray(0,6),c(this,Ti).push(((w+5*a)/6-i)/s,((_+5*l)/6-r)/o,((5*a+u)/6-i)/s,((5*l+h)/6-r)/o,((a+u)/2-i)/s,((l+h)/2-r)/o),[u,h,a,l,w,_]=c(this,pe).subarray(12,18),c(this,gr).push(((w+5*a)/6-i)/s,((_+5*l)/6-r)/o,((5*a+u)/6-i)/s,((5*l+h)/6-r)/o,((a+u)/2-i)/s,((l+h)/2-r)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=c(this,Ti),t=c(this,gr),i=c(this,pe).subarray(4,6),r=c(this,pe).subarray(16,18),[s,o,a,l]=c(this,ki),[u,h,d,f]=A(this,Ud,vw).call(this);if(isNaN(c(this,pe)[6])&&!this.isEmpty())return`M${(c(this,pe)[2]-s)/a} ${(c(this,pe)[3]-o)/l} L${(c(this,pe)[4]-s)/a} ${(c(this,pe)[5]-o)/l} L${u} ${h} L${d} ${f} L${(c(this,pe)[16]-s)/a} ${(c(this,pe)[17]-o)/l} L${(c(this,pe)[14]-s)/a} ${(c(this,pe)[15]-o)/l} Z`;const p=[];p.push(`M${e[4]} ${e[5]}`);for(let g=6;g<e.length;g+=6)isNaN(e[g])?p.push(`L${e[g+4]} ${e[g+5]}`):p.push(`C${e[g]} ${e[g+1]} ${e[g+2]} ${e[g+3]} ${e[g+4]} ${e[g+5]}`);p.push(`L${(i[0]-s)/a} ${(i[1]-o)/l} L${u} ${h} L${d} ${f} L${(r[0]-s)/a} ${(r[1]-o)/l}`);for(let g=t.length-6;g>=6;g-=6)isNaN(t[g])?p.push(`L${t[g+4]} ${t[g+5]}`):p.push(`C${t[g]} ${t[g+1]} ${t[g+2]} ${t[g+3]} ${t[g+4]} ${t[g+5]}`);return p.push(`L${t[4]} ${t[5]} Z`),p.join(" ")}getOutlines(){var v;const e=c(this,Ti),t=c(this,gr),i=c(this,pe),r=i.subarray(4,6),s=i.subarray(16,18),[o,a,l,u]=c(this,ki),h=new Float64Array((((v=c(this,cs))==null?void 0:v.length)??0)+2);for(let w=0,_=h.length-2;w<_;w+=2)h[w]=(c(this,cs)[w]-o)/l,h[w+1]=(c(this,cs)[w+1]-a)/u;h[h.length-2]=(c(this,Ho)-o)/l,h[h.length-1]=(c(this,Bo)-a)/u;const[d,f,p,g]=A(this,Ud,vw).call(this);if(isNaN(i[6])&&!this.isEmpty()){const w=new Float64Array(36);return w.set([NaN,NaN,NaN,NaN,(i[2]-o)/l,(i[3]-a)/u,NaN,NaN,NaN,NaN,(i[4]-o)/l,(i[5]-a)/u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(i[16]-o)/l,(i[17]-a)/u,NaN,NaN,NaN,NaN,(i[14]-o)/l,(i[15]-a)/u],0),new yw(w,h,c(this,ki),c(this,oc),c(this,rc),c(this,sc))}const y=new Float64Array(c(this,Ti).length+24+c(this,gr).length);let S=e.length;for(let w=0;w<S;w+=2){if(isNaN(e[w])){y[w]=y[w+1]=NaN;continue}y[w]=e[w],y[w+1]=e[w+1]}y.set([NaN,NaN,NaN,NaN,(r[0]-o)/l,(r[1]-a)/u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(s[0]-o)/l,(s[1]-a)/u],S),S+=24;for(let w=t.length-6;w>=6;w-=6)for(let _=0;_<6;_+=2){if(isNaN(t[w+_])){y[S]=y[S+1]=NaN,S+=2;continue}y[S]=t[w+_],y[S+1]=t[w+_+1],S+=2}return y.set([NaN,NaN,NaN,NaN,t[4],t[5]],S),new yw(y,h,c(this,ki),c(this,oc),c(this,rc),c(this,sc))}};ki=new WeakMap,gr=new WeakMap,rc=new WeakMap,sc=new WeakMap,Ti=new WeakMap,pe=new WeakMap,Ho=new WeakMap,Bo=new WeakMap,zd=new WeakMap,Hd=new WeakMap,oc=new WeakMap,ac=new WeakMap,cs=new WeakMap,Bd=new WeakMap,Mm=new WeakMap,Dm=new WeakMap,Ud=new WeakSet,vw=function(){const e=c(this,pe).subarray(4,6),t=c(this,pe).subarray(16,18),[i,r,s,o]=c(this,ki);return[(c(this,Ho)+(e[0]-t[0])/2-i)/s,(c(this,Bo)+(e[1]-t[1])/2-r)/o,(c(this,Ho)+(t[0]-e[0])/2-i)/s,(c(this,Bo)+(t[1]-e[1])/2-r)/o]},m(Xi,Bd,8),m(Xi,Mm,2),m(Xi,Dm,c(Xi,Bd)+c(Xi,Mm));let bg=Xi;var lc,Uo,mr,$d,vn,Vd,Xe,$o,mu,Vo,vu,Im,mC;class yw extends gC{constructor(t,i,r,s,o,a){super();m(this,$o);m(this,Vo);m(this,Im);m(this,lc,void 0);m(this,Uo,null);m(this,mr,void 0);m(this,$d,void 0);m(this,vn,void 0);m(this,Vd,void 0);m(this,Xe,void 0);E(this,Xe,t),E(this,vn,i),E(this,lc,r),E(this,Vd,s),E(this,mr,o),E(this,$d,a),A(this,Im,mC).call(this,a);const{x:l,y:u,width:h,height:d}=c(this,Uo);for(let f=0,p=t.length;f<p;f+=2)t[f]=(t[f]-l)/h,t[f+1]=(t[f+1]-u)/d;for(let f=0,p=i.length;f<p;f+=2)i[f]=(i[f]-l)/h,i[f+1]=(i[f+1]-u)/d}toSVGPath(){const t=[`M${c(this,Xe)[4]} ${c(this,Xe)[5]}`];for(let i=6,r=c(this,Xe).length;i<r;i+=6){if(isNaN(c(this,Xe)[i])){t.push(`L${c(this,Xe)[i+4]} ${c(this,Xe)[i+5]}`);continue}t.push(`C${c(this,Xe)[i]} ${c(this,Xe)[i+1]} ${c(this,Xe)[i+2]} ${c(this,Xe)[i+3]} ${c(this,Xe)[i+4]} ${c(this,Xe)[i+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,i,r,s],o){const a=r-t,l=s-i;let u,h;switch(o){case 0:u=A(this,$o,mu).call(this,c(this,Xe),t,s,a,-l),h=A(this,$o,mu).call(this,c(this,vn),t,s,a,-l);break;case 90:u=A(this,Vo,vu).call(this,c(this,Xe),t,i,a,l),h=A(this,Vo,vu).call(this,c(this,vn),t,i,a,l);break;case 180:u=A(this,$o,mu).call(this,c(this,Xe),r,i,-a,l),h=A(this,$o,mu).call(this,c(this,vn),r,i,-a,l);break;case 270:u=A(this,Vo,vu).call(this,c(this,Xe),r,s,-a,-l),h=A(this,Vo,vu).call(this,c(this,vn),r,s,-a,-l);break}return{outline:Array.from(u),points:[Array.from(h)]}}get box(){return c(this,Uo)}getNewOutline(t,i){const{x:r,y:s,width:o,height:a}=c(this,Uo),[l,u,h,d]=c(this,lc),f=o*h,p=a*d,g=r*h+l,y=s*d+u,S=new bg({x:c(this,vn)[0]*f+g,y:c(this,vn)[1]*p+y},c(this,lc),c(this,Vd),t,c(this,$d),i??c(this,mr));for(let v=2;v<c(this,vn).length;v+=2)S.add({x:c(this,vn)[v]*f+g,y:c(this,vn)[v+1]*p+y});return S.getOutlines()}}lc=new WeakMap,Uo=new WeakMap,mr=new WeakMap,$d=new WeakMap,vn=new WeakMap,Vd=new WeakMap,Xe=new WeakMap,$o=new WeakSet,mu=function(t,i,r,s,o){const a=new Float64Array(t.length);for(let l=0,u=t.length;l<u;l+=2)a[l]=i+t[l]*s,a[l+1]=r+t[l+1]*o;return a},Vo=new WeakSet,vu=function(t,i,r,s,o){const a=new Float64Array(t.length);for(let l=0,u=t.length;l<u;l+=2)a[l]=i+t[l+1]*s,a[l+1]=r+t[l]*o;return a},Im=new WeakSet,mC=function(t){const i=c(this,Xe);let r=i[4],s=i[5],o=r,a=s,l=r,u=s,h=r,d=s;const f=t?Math.max:Math.min;for(let v=6,w=i.length;v<w;v+=6){if(isNaN(i[v]))o=Math.min(o,i[v+4]),a=Math.min(a,i[v+5]),l=Math.max(l,i[v+4]),u=Math.max(u,i[v+5]),d<i[v+5]?(h=i[v+4],d=i[v+5]):d===i[v+5]&&(h=f(h,i[v+4]));else{const _=X.bezierBoundingBox(r,s,...i.slice(v,v+6));o=Math.min(o,_[0]),a=Math.min(a,_[1]),l=Math.max(l,_[2]),u=Math.max(u,_[3]),d<_[3]?(h=_[2],d=_[3]):d===_[3]&&(h=f(h,_[2]))}r=i[v+4],s=i[v+5]}const p=o-c(this,mr),g=a-c(this,mr),y=l-o+2*c(this,mr),S=u-a+2*c(this,mr);E(this,Uo,{x:p,y:g,width:y,height:S,lastPoint:[h,d]})};var Wd,Gd,ei,Wo,cc,it,Xd,uc,Kd,Yd,us,hc,qd,ww,Qd,Ew,Fm,vC,vr,Ks,Nm,yC,Pi,Ur;const Ki=class Ki{constructor({editor:e=null,uiManager:t=null}){m(this,qd);m(this,Qd);m(this,Fm);m(this,vr);m(this,Nm);m(this,Pi);m(this,Wd,A(this,Fm,vC).bind(this));m(this,Gd,A(this,Nm,yC).bind(this));m(this,ei,null);m(this,Wo,null);m(this,cc,void 0);m(this,it,null);m(this,Xd,!1);m(this,uc,!1);m(this,Kd,null);m(this,Yd,void 0);m(this,us,null);m(this,hc,void 0);var i;e?(E(this,uc,!1),E(this,hc,ne.HIGHLIGHT_COLOR),E(this,Kd,e)):(E(this,uc,!0),E(this,hc,ne.HIGHLIGHT_DEFAULT_COLOR)),E(this,us,(e==null?void 0:e._uiManager)||t),E(this,Yd,c(this,us)._eventBus),E(this,cc,(e==null?void 0:e.color)||((i=c(this,us))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return we(this,"_keyboardManager",new Mf([[["Escape","mac+Escape"],Ki.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Ki.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Ki.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Ki.prototype._moveToPrevious],[["Home","mac+Home"],Ki.prototype._moveToBeginning],[["End","mac+End"],Ki.prototype._moveToEnd]]))}renderButton(){const e=E(this,ei,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0),e.addEventListener("click",A(this,vr,Ks).bind(this)),e.addEventListener("keydown",c(this,Wd));const t=E(this,Wo,document.createElement("span"));return t.className="swatch",t.setAttribute("aria-hidden",!0),t.style.backgroundColor=c(this,cc),e.append(t),e}renderMainDropdown(){const e=E(this,it,A(this,qd,ww).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===c(this,ei)){A(this,vr,Ks).call(this,e);return}const t=e.target.getAttribute("data-color");t&&A(this,Qd,Ew).call(this,t,e)}_moveToNext(e){var t,i;if(!c(this,Pi,Ur)){A(this,vr,Ks).call(this,e);return}if(e.target===c(this,ei)){(t=c(this,it).firstChild)==null||t.focus();return}(i=e.target.nextSibling)==null||i.focus()}_moveToPrevious(e){var t,i;if(e.target===((t=c(this,it))==null?void 0:t.firstChild)||e.target===c(this,ei)){c(this,Pi,Ur)&&this._hideDropdownFromKeyboard();return}c(this,Pi,Ur)||A(this,vr,Ks).call(this,e),(i=e.target.previousSibling)==null||i.focus()}_moveToBeginning(e){var t;if(!c(this,Pi,Ur)){A(this,vr,Ks).call(this,e);return}(t=c(this,it).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!c(this,Pi,Ur)){A(this,vr,Ks).call(this,e);return}(t=c(this,it).lastChild)==null||t.focus()}hideDropdown(){var e;(e=c(this,it))==null||e.classList.add("hidden"),window.removeEventListener("pointerdown",c(this,Gd))}_hideDropdownFromKeyboard(){var e;if(!c(this,uc)){if(!c(this,Pi,Ur)){(e=c(this,Kd))==null||e.unselect();return}this.hideDropdown(),c(this,ei).focus({preventScroll:!0,focusVisible:c(this,Xd)})}}updateColor(e){if(c(this,Wo)&&(c(this,Wo).style.backgroundColor=e),!c(this,it))return;const t=c(this,us).highlightColors.values();for(const i of c(this,it).children)i.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=c(this,ei))==null||e.remove(),E(this,ei,null),E(this,Wo,null),(t=c(this,it))==null||t.remove(),E(this,it,null)}};Wd=new WeakMap,Gd=new WeakMap,ei=new WeakMap,Wo=new WeakMap,cc=new WeakMap,it=new WeakMap,Xd=new WeakMap,uc=new WeakMap,Kd=new WeakMap,Yd=new WeakMap,us=new WeakMap,hc=new WeakMap,qd=new WeakSet,ww=function(){const e=document.createElement("div");e.addEventListener("contextmenu",ln),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[t,i]of c(this,us).highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",i),r.title=t,r.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${t}`);const s=document.createElement("span");r.append(s),s.className="swatch",s.style.backgroundColor=i,r.setAttribute("aria-selected",i===c(this,cc)),r.addEventListener("click",A(this,Qd,Ew).bind(this,i)),e.append(r)}return e.addEventListener("keydown",c(this,Wd)),e},Qd=new WeakSet,Ew=function(e,t){t.stopPropagation(),c(this,Yd).dispatch("switchannotationeditorparams",{source:this,type:c(this,hc),value:e})},Fm=new WeakSet,vC=function(e){Ki._keyboardManager.exec(this,e)},vr=new WeakSet,Ks=function(e){if(c(this,Pi,Ur)){this.hideDropdown();return}if(E(this,Xd,e.detail===0),window.addEventListener("pointerdown",c(this,Gd)),c(this,it)){c(this,it).classList.remove("hidden");return}const t=E(this,it,A(this,qd,ww).call(this));c(this,ei).append(t)},Nm=new WeakSet,yC=function(e){var t;(t=c(this,it))!=null&&t.contains(e.target)||this.hideDropdown()},Pi=new WeakSet,Ur=function(){return c(this,it)&&!c(this,it).classList.contains("hidden")};let xg=Ki;var dc,Jd,hs,Go,fc,Ln,Zd,ef,Xo,ti,$t,yn,Om,pc,Ko,rt,gc,Ri,tf,nf,Aw,rf,_w,jm,wC,zm,EC,Hm,AC,sf,Sw,Yo,yu,ds,Ha,Bm,_C,mc,Hp,qo,wu,Um,SC,$m,bC,Vm,xC,Wm,CC;const ye=class ye extends be{constructor(t){super({...t,name:"highlightEditor"});m(this,nf);m(this,rf);m(this,jm);m(this,zm);m(this,Hm);m(this,sf);m(this,Yo);m(this,Bm);m(this,mc);m(this,qo);m(this,Um);m(this,$m);m(this,dc,null);m(this,Jd,0);m(this,hs,void 0);m(this,Go,null);m(this,fc,null);m(this,Ln,null);m(this,Zd,null);m(this,ef,0);m(this,Xo,null);m(this,ti,null);m(this,$t,null);m(this,yn,!1);m(this,Om,A(this,Bm,_C).bind(this));m(this,pc,null);m(this,Ko,void 0);m(this,rt,null);m(this,gc,"");m(this,Ri,void 0);m(this,tf,"");this.color=t.color||ye._defaultColor,E(this,Ri,t.thickness||ye._defaultThickness),E(this,Ko,t.opacity||ye._defaultOpacity),E(this,hs,t.boxes||null),E(this,tf,t.methodOfCreation||""),E(this,gc,t.text||""),this._isDraggable=!1,t.highlightId>-1?(E(this,yn,!0),A(this,rf,_w).call(this,t),A(this,Yo,yu).call(this)):(E(this,dc,t.anchorNode),E(this,Jd,t.anchorOffset),E(this,Zd,t.focusNode),E(this,ef,t.focusOffset),A(this,nf,Aw).call(this),A(this,Yo,yu).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=ye.prototype;return we(this,"_keyboardManager",new Mf([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:c(this,yn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:c(this,Ri),methodOfCreation:c(this,tf)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,i){var r;be.initialize(t,i),ye._defaultColor||(ye._defaultColor=((r=i.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(t,i){switch(t){case ne.HIGHLIGHT_DEFAULT_COLOR:ye._defaultColor=i;break;case ne.HIGHLIGHT_THICKNESS:ye._defaultThickness=i;break}}translateInPage(t,i){}get toolbarPosition(){return c(this,pc)}updateParams(t,i){switch(t){case ne.HIGHLIGHT_COLOR:A(this,jm,wC).call(this,i);break;case ne.HIGHLIGHT_THICKNESS:A(this,zm,EC).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[ne.HIGHLIGHT_DEFAULT_COLOR,ye._defaultColor],[ne.HIGHLIGHT_THICKNESS,ye._defaultThickness]]}get propertiesToUpdate(){return[[ne.HIGHLIGHT_COLOR,this.color||ye._defaultColor],[ne.HIGHLIGHT_THICKNESS,c(this,Ri)||ye._defaultThickness],[ne.HIGHLIGHT_FREE,c(this,yn)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(E(this,fc,new xg({editor:this})),t.addColorPicker(c(this,fc))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(A(this,qo,wu).call(this))}getBaseTranslation(){return[0,0]}getRect(t,i){return super.getRect(t,i,A(this,qo,wu).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){A(this,sf,Sw).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(A(this,Yo,yu).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let i=!1;this.parent&&!t?A(this,sf,Sw).call(this):t&&(A(this,Yo,yu).call(this,t),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),i&&this.select()}rotate(t){var s,o,a;const{drawLayer:i}=this.parent;let r;c(this,yn)?(t=(t-this.rotation+360)%360,r=A(s=ye,ds,Ha).call(s,c(this,ti).box,t)):r=A(o=ye,ds,Ha).call(o,this,t),i.rotate(c(this,$t),t),i.rotate(c(this,rt),t),i.updateBox(c(this,$t),r),i.updateBox(c(this,rt),A(a=ye,ds,Ha).call(a,c(this,Ln).box,t))}render(){if(this.div)return this.div;const t=super.render();c(this,gc)&&(t.setAttribute("aria-label",c(this,gc)),t.setAttribute("role","mark")),c(this,yn)?t.classList.add("free"):this.div.addEventListener("keydown",c(this,Om));const i=E(this,Xo,document.createElement("div"));t.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=c(this,Go);const[r,s]=this.parentDimensions;return this.setDims(this.width*r,this.height*s),Eg(this,c(this,Xo),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.parent.drawLayer.addClass(c(this,rt),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(c(this,rt),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:A(this,mc,Hp).call(this,!0);break;case 1:case 3:A(this,mc,Hp).call(this,!1);break}}select(){var t,i;super.select(),c(this,rt)&&((t=this.parent)==null||t.drawLayer.removeClass(c(this,rt),"hovered"),(i=this.parent)==null||i.drawLayer.addClass(c(this,rt),"selected"))}unselect(){var t;super.unselect(),c(this,rt)&&((t=this.parent)==null||t.drawLayer.removeClass(c(this,rt),"selected"),c(this,yn)||A(this,mc,Hp).call(this,!1))}get _mustFixPosition(){return!c(this,yn)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(c(this,$t),t),this.parent.drawLayer.show(c(this,rt),t))}static startHighlighting(t,i,{target:r,x:s,y:o}){const{x:a,y:l,width:u,height:h}=r.getBoundingClientRect(),d=y=>{A(this,Vm,xC).call(this,t,y)},f={capture:!0,passive:!1},p=y=>{y.preventDefault(),y.stopPropagation()},g=y=>{r.removeEventListener("pointermove",d),window.removeEventListener("blur",g),window.removeEventListener("pointerup",g),window.removeEventListener("pointerdown",p,f),window.removeEventListener("contextmenu",ln),A(this,Wm,CC).call(this,t,y)};window.addEventListener("blur",g),window.addEventListener("pointerup",g),window.addEventListener("pointerdown",p,f),window.addEventListener("contextmenu",ln),r.addEventListener("pointermove",d),this._freeHighlight=new bg({x:s,y:o},[a,l,u,h],t.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(t,i,r){var y;const s=super.deserialize(t,i,r),{rect:[o,a,l,u],color:h,quadPoints:d}=t;s.color=X.makeHexColor(...h),E(s,Ko,t.opacity);const[f,p]=s.pageDimensions;s.width=(l-o)/f,s.height=(u-a)/p;const g=E(s,hs,[]);for(let S=0;S<d.length;S+=8)g.push({x:(d[4]-l)/f,y:(u-(1-d[S+5]))/p,width:(d[S+2]-d[S])/f,height:(d[S+5]-d[S+1])/p});return A(y=s,nf,Aw).call(y),s}serialize(t=!1){if(this.isEmpty()||t)return null;const i=this.getRect(0,0),r=be._colorManager.convert(this.color);return{annotationType:ve.HIGHLIGHT,color:r,opacity:c(this,Ko),thickness:c(this,Ri),quadPoints:A(this,Um,SC).call(this),outlines:A(this,$m,bC).call(this,i),pageIndex:this.pageIndex,rect:i,rotation:A(this,qo,wu).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};dc=new WeakMap,Jd=new WeakMap,hs=new WeakMap,Go=new WeakMap,fc=new WeakMap,Ln=new WeakMap,Zd=new WeakMap,ef=new WeakMap,Xo=new WeakMap,ti=new WeakMap,$t=new WeakMap,yn=new WeakMap,Om=new WeakMap,pc=new WeakMap,Ko=new WeakMap,rt=new WeakMap,gc=new WeakMap,Ri=new WeakMap,tf=new WeakMap,nf=new WeakSet,Aw=function(){const t=new gw(c(this,hs),.001);E(this,ti,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=c(this,ti).box;const i=new gw(c(this,hs),.0025,.001,this._uiManager.direction==="ltr");E(this,Ln,i.getOutlines());const{lastPoint:r}=c(this,Ln).box;E(this,pc,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},rf=new WeakSet,_w=function({highlightOutlines:t,highlightId:i,clipPathId:r}){var d,f;if(E(this,ti,t),E(this,Ln,t.getNewOutline(c(this,Ri)/2+1.5,.0025)),i>=0)E(this,$t,i),E(this,Go,r),this.parent.drawLayer.finalizeLine(i,t),E(this,rt,this.parent.drawLayer.highlightOutline(c(this,Ln)));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(c(this,$t),t),this.parent.drawLayer.updateBox(c(this,$t),A(d=ye,ds,Ha).call(d,c(this,ti).box,(p-this.rotation+360)%360)),this.parent.drawLayer.updateLine(c(this,rt),c(this,Ln)),this.parent.drawLayer.updateBox(c(this,rt),A(f=ye,ds,Ha).call(f,c(this,Ln).box,p))}const{x:o,y:a,width:l,height:u}=t.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=l,this.height=u;break;case 90:{const[p,g]=this.parentDimensions;this.x=a,this.y=1-o,this.width=l*g/p,this.height=u*p/g;break}case 180:this.x=1-o,this.y=1-a,this.width=l,this.height=u;break;case 270:{const[p,g]=this.parentDimensions;this.x=1-a,this.y=o,this.width=l*g/p,this.height=u*p/g;break}}const{lastPoint:h}=c(this,Ln).box;E(this,pc,[(h[0]-o)/l,(h[1]-a)/u])},jm=new WeakSet,wC=function(t){const i=s=>{var o,a;this.color=s,(o=this.parent)==null||o.drawLayer.changeColor(c(this,$t),s),(a=c(this,fc))==null||a.updateColor(s)},r=this.color;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ne.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},zm=new WeakSet,EC=function(t){const i=c(this,Ri),r=s=>{E(this,Ri,s),A(this,Hm,AC).call(this,s)};this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ne.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},Hm=new WeakSet,AC=function(t){if(!c(this,yn))return;A(this,rf,_w).call(this,{highlightOutlines:c(this,ti).getNewOutline(t/2)}),this.fixAndSetPosition();const[i,r]=this.parentDimensions;this.setDims(this.width*i,this.height*r)},sf=new WeakSet,Sw=function(){c(this,$t)===null||!this.parent||(this.parent.drawLayer.remove(c(this,$t)),E(this,$t,null),this.parent.drawLayer.remove(c(this,rt)),E(this,rt,null))},Yo=new WeakSet,yu=function(t=this.parent){c(this,$t)===null&&({id:hn(this,$t)._,clipPathId:hn(this,Go)._}=t.drawLayer.highlight(c(this,ti),this.color,c(this,Ko)),E(this,rt,t.drawLayer.highlightOutline(c(this,Ln))),c(this,Xo)&&(c(this,Xo).style.clipPath=c(this,Go)))},ds=new WeakSet,Ha=function({x:t,y:i,width:r,height:s},o){switch(o){case 90:return{x:1-i-s,y:t,width:s,height:r};case 180:return{x:1-t-r,y:1-i-s,width:r,height:s};case 270:return{x:i,y:1-t-r,width:s,height:r}}return{x:t,y:i,width:r,height:s}},Bm=new WeakSet,_C=function(t){ye._keyboardManager.exec(this,t)},mc=new WeakSet,Hp=function(t){if(!c(this,dc))return;const i=window.getSelection();t?i.setPosition(c(this,dc),c(this,Jd)):i.setPosition(c(this,Zd),c(this,ef))},qo=new WeakSet,wu=function(){return c(this,yn)?this.rotation:0},Um=new WeakSet,SC=function(){if(c(this,yn))return null;const[t,i]=this.pageDimensions,r=c(this,hs),s=new Array(r.length*8);let o=0;for(const{x:a,y:l,width:u,height:h}of r){const d=a*t,f=(1-l-h)*i;s[o]=s[o+4]=d,s[o+1]=s[o+3]=f,s[o+2]=s[o+6]=d+u*t,s[o+5]=s[o+7]=f+h*i,o+=8}return s},$m=new WeakSet,bC=function(t){return c(this,ti).serialize(t,A(this,qo,wu).call(this))},Vm=new WeakSet,xC=function(t,i){this._freeHighlight.add(i)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},Wm=new WeakSet,CC=function(t,i){this._freeHighlight.isEmpty()?t.drawLayer.removeFreeHighlight(this._freeHighlightId):t.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},m(ye,ds),m(ye,Vm),m(ye,Wm),se(ye,"_defaultColor",null),se(ye,"_defaultOpacity",1),se(ye,"_defaultThickness",12),se(ye,"_l10nPromise"),se(ye,"_type","highlight"),se(ye,"_editorType",ve.HIGHLIGHT),se(ye,"_freeHighlightId",-1),se(ye,"_freeHighlight",null),se(ye,"_freeHighlightClipId","");let Cg=ye;var Qo,Jo,of,af,lf,Zo,Li,yr,Mn,ea,ta,na,ia,ra,fs,Gm,kC,Xm,TC,Km,PC,Ym,RC,cf,xw,qm,LC,uf,Cw,Qm,MC,Jm,DC,Zm,IC,ev,FC,tv,NC,wr,Ys,hf,kw,vc,Bp,yc,Up,ps,Ba,df,Tw,wc,$p,nv,OC,ff,Pw,iv,jC,rv,zC,pf,Rw,Ec,Vp,sa,Eu;const Ie=class Ie extends be{constructor(t){super({...t,name:"inkEditor"});m(this,Gm);m(this,Xm);m(this,Km);m(this,Ym);m(this,cf);m(this,qm);m(this,uf);m(this,Qm);m(this,Jm);m(this,Zm);m(this,ev);m(this,tv);m(this,wr);m(this,hf);m(this,vc);m(this,yc);m(this,ps);m(this,df);m(this,wc);m(this,rv);m(this,pf);m(this,Ec);m(this,sa);m(this,Qo,0);m(this,Jo,0);m(this,of,this.canvasPointermove.bind(this));m(this,af,this.canvasPointerleave.bind(this));m(this,lf,this.canvasPointerup.bind(this));m(this,Zo,this.canvasPointerdown.bind(this));m(this,Li,null);m(this,yr,new Path2D);m(this,Mn,!1);m(this,ea,!1);m(this,ta,!1);m(this,na,null);m(this,ia,0);m(this,ra,0);m(this,fs,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,i){be.initialize(t,i)}static updateDefaultParams(t,i){switch(t){case ne.INK_THICKNESS:Ie._defaultThickness=i;break;case ne.INK_COLOR:Ie._defaultColor=i;break;case ne.INK_OPACITY:Ie._defaultOpacity=i/100;break}}updateParams(t,i){switch(t){case ne.INK_THICKNESS:A(this,Gm,kC).call(this,i);break;case ne.INK_COLOR:A(this,Xm,TC).call(this,i);break;case ne.INK_OPACITY:A(this,Km,PC).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[ne.INK_THICKNESS,Ie._defaultThickness],[ne.INK_COLOR,Ie._defaultColor||be._defaultLineColor],[ne.INK_OPACITY,Math.round(Ie._defaultOpacity*100)]]}get propertiesToUpdate(){return[[ne.INK_THICKNESS,this.thickness||Ie._defaultThickness],[ne.INK_COLOR,this.color||Ie._defaultColor||be._defaultLineColor],[ne.INK_OPACITY,Math.round(100*(this.opacity??Ie._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(A(this,vc,Bp).call(this),A(this,yc,Up).call(this)),this.isAttachedToDOM||(this.parent.add(this),A(this,ps,Ba).call(this)),A(this,sa,Eu).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,c(this,Li)&&(clearTimeout(c(this,Li)),E(this,Li,null)),c(this,na).disconnect(),E(this,na,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,i]=this.parentDimensions,r=this.width*t,s=this.height*i;this.setDimensions(r,s)}enableEditMode(){c(this,Mn)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",c(this,Zo)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",c(this,Zo)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){c(this,Mn)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),E(this,Mn,!0),this.div.classList.add("disabled"),A(this,sa,Eu).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||c(this,Mn)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),A(this,qm,LC).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),A(this,uf,Cw).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),A(this,hf,kw).call(this,t)}canvasPointerleave(t){A(this,hf,kw).call(this,t)}get isResizable(){return!this.isEmpty()&&c(this,Mn)}render(){if(this.div)return this.div;let t,i;this.width&&(t=this.x,i=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,s,o,a]=A(this,Ym,RC).call(this);if(this.setAt(r,s,0,0),this.setDims(o,a),A(this,vc,Bp).call(this),this.width){const[l,u]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*u),this.setAt(t*l,i*u,this.width*l,this.height*u),E(this,ta,!0),A(this,ps,Ba).call(this),this.setDims(this.width*l,this.height*u),A(this,wr,Ys).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return A(this,yc,Up).call(this),this.div}setDimensions(t,i){const r=Math.round(t),s=Math.round(i);if(c(this,ia)===r&&c(this,ra)===s)return;E(this,ia,r),E(this,ra,s),this.canvas.style.visibility="hidden";const[o,a]=this.parentDimensions;this.width=t/o,this.height=i/a,this.fixAndSetPosition(),c(this,Mn)&&A(this,df,Tw).call(this,t,i),A(this,ps,Ba).call(this),A(this,wr,Ys).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(t,i,r){var S,v,w;if(t instanceof rC)return null;const s=super.deserialize(t,i,r);s.thickness=t.thickness,s.color=X.makeHexColor(...t.color),s.opacity=t.opacity;const[o,a]=s.pageDimensions,l=s.width*o,u=s.height*a,h=s.parentScale,d=t.thickness/2;E(s,Mn,!0),E(s,ia,Math.round(l)),E(s,ra,Math.round(u));const{paths:f,rect:p,rotation:g}=t;for(let{bezier:_}of f){_=A(S=Ie,iv,jC).call(S,_,p,g);const x=[];s.paths.push(x);let C=h*(_[0]-d),k=h*(_[1]-d);for(let L=2,N=_.length;L<N;L+=6){const F=h*(_[L]-d),I=h*(_[L+1]-d),K=h*(_[L+2]-d),B=h*(_[L+3]-d),$=h*(_[L+4]-d),Q=h*(_[L+5]-d);x.push([[C,k],[F,I],[K,B],[$,Q]]),C=$,k=Q}const b=A(this,nv,OC).call(this,x);s.bezierPath2D.push(b)}const y=A(v=s,pf,Rw).call(v);return E(s,Jo,Math.max(be.MIN_SIZE,y[2]-y[0])),E(s,Qo,Math.max(be.MIN_SIZE,y[3]-y[1])),A(w=s,df,Tw).call(w,l,u),s}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),i=be._colorManager.convert(this.ctx.strokeStyle);return{annotationType:ve.INK,color:i,thickness:this.thickness,opacity:this.opacity,paths:A(this,rv,zC).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Qo=new WeakMap,Jo=new WeakMap,of=new WeakMap,af=new WeakMap,lf=new WeakMap,Zo=new WeakMap,Li=new WeakMap,yr=new WeakMap,Mn=new WeakMap,ea=new WeakMap,ta=new WeakMap,na=new WeakMap,ia=new WeakMap,ra=new WeakMap,fs=new WeakMap,Gm=new WeakSet,kC=function(t){const i=s=>{this.thickness=s,A(this,sa,Eu).call(this)},r=this.thickness;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ne.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Xm=new WeakSet,TC=function(t){const i=s=>{this.color=s,A(this,wr,Ys).call(this)},r=this.color;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ne.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Km=new WeakSet,PC=function(t){const i=s=>{this.opacity=s,A(this,wr,Ys).call(this)};t/=100;const r=this.opacity;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ne.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Ym=new WeakSet,RC=function(){const{parentRotation:t,parentDimensions:[i,r]}=this;switch(t){case 90:return[0,r,r,i];case 180:return[i,r,i,r];case 270:return[i,0,r,i];default:return[0,0,i,r]}},cf=new WeakSet,xw=function(){const{ctx:t,color:i,opacity:r,thickness:s,parentScale:o,scaleFactor:a}=this;t.lineWidth=s*o/a,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${i}${ZL(r)}`},qm=new WeakSet,LC=function(t,i){this.canvas.addEventListener("contextmenu",ln),this.canvas.addEventListener("pointerleave",c(this,af)),this.canvas.addEventListener("pointermove",c(this,of)),this.canvas.addEventListener("pointerup",c(this,lf)),this.canvas.removeEventListener("pointerdown",c(this,Zo)),this.isEditing=!0,c(this,ta)||(E(this,ta,!0),A(this,ps,Ba).call(this),this.thickness||(this.thickness=Ie._defaultThickness),this.color||(this.color=Ie._defaultColor||be._defaultLineColor),this.opacity??(this.opacity=Ie._defaultOpacity)),this.currentPath.push([t,i]),E(this,ea,!1),A(this,cf,xw).call(this),E(this,fs,()=>{A(this,Zm,IC).call(this),c(this,fs)&&window.requestAnimationFrame(c(this,fs))}),window.requestAnimationFrame(c(this,fs))},uf=new WeakSet,Cw=function(t,i){const[r,s]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===r&&i===s)return;const o=this.currentPath;let a=c(this,yr);if(o.push([t,i]),E(this,ea,!0),o.length<=2){a.moveTo(...o[0]),a.lineTo(t,i);return}o.length===3&&(E(this,yr,a=new Path2D),a.moveTo(...o[0])),A(this,ev,FC).call(this,a,...o.at(-3),...o.at(-2),t,i)},Qm=new WeakSet,MC=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);c(this,yr).lineTo(...t)},Jm=new WeakSet,DC=function(t,i){E(this,fs,null),t=Math.min(Math.max(t,0),this.canvas.width),i=Math.min(Math.max(i,0),this.canvas.height),A(this,uf,Cw).call(this,t,i),A(this,Qm,MC).call(this);let r;if(this.currentPath.length!==1)r=A(this,tv,NC).call(this);else{const u=[t,i];r=[[u,u.slice(),u.slice(),u]]}const s=c(this,yr),o=this.currentPath;this.currentPath=[],E(this,yr,new Path2D);const a=()=>{this.allRawPaths.push(o),this.paths.push(r),this.bezierPath2D.push(s),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(A(this,vc,Bp).call(this),A(this,yc,Up).call(this)),A(this,sa,Eu).call(this))};this.addCommands({cmd:a,undo:l,mustExec:!0})},Zm=new WeakSet,IC=function(){if(!c(this,ea))return;E(this,ea,!1);const t=Math.ceil(this.thickness*this.parentScale),i=this.currentPath.slice(-3),r=i.map(a=>a[0]),s=i.map(a=>a[1]);Math.min(...r)-t,Math.max(...r)+t,Math.min(...s)-t,Math.max(...s)+t;const{ctx:o}=this;o.save(),o.clearRect(0,0,this.canvas.width,this.canvas.height);for(const a of this.bezierPath2D)o.stroke(a);o.stroke(c(this,yr)),o.restore()},ev=new WeakSet,FC=function(t,i,r,s,o,a,l){const u=(i+s)/2,h=(r+o)/2,d=(s+a)/2,f=(o+l)/2;t.bezierCurveTo(u+2*(s-u)/3,h+2*(o-h)/3,d+2*(s-d)/3,f+2*(o-f)/3,d,f)},tv=new WeakSet,NC=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const i=[];let r,[s,o]=t[0];for(r=1;r<t.length-2;r++){const[p,g]=t[r],[y,S]=t[r+1],v=(p+y)/2,w=(g+S)/2,_=[s+2*(p-s)/3,o+2*(g-o)/3],x=[v+2*(p-v)/3,w+2*(g-w)/3];i.push([[s,o],_,x,[v,w]]),[s,o]=[v,w]}const[a,l]=t[r],[u,h]=t[r+1],d=[s+2*(a-s)/3,o+2*(l-o)/3],f=[u+2*(a-u)/3,h+2*(l-h)/3];return i.push([[s,o],d,f,[u,h]]),i},wr=new WeakSet,Ys=function(){if(this.isEmpty()){A(this,wc,$p).call(this);return}A(this,cf,xw).call(this);const{canvas:t,ctx:i}=this;i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,t.width,t.height),A(this,wc,$p).call(this);for(const r of this.bezierPath2D)i.stroke(r)},hf=new WeakSet,kw=function(t){this.canvas.removeEventListener("pointerleave",c(this,af)),this.canvas.removeEventListener("pointermove",c(this,of)),this.canvas.removeEventListener("pointerup",c(this,lf)),this.canvas.addEventListener("pointerdown",c(this,Zo)),c(this,Li)&&clearTimeout(c(this,Li)),E(this,Li,setTimeout(()=>{E(this,Li,null),this.canvas.removeEventListener("contextmenu",ln)},10)),A(this,Jm,DC).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},vc=new WeakSet,Bp=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},yc=new WeakSet,Up=function(){E(this,na,new ResizeObserver(t=>{const i=t[0].contentRect;i.width&&i.height&&this.setDimensions(i.width,i.height)})),c(this,na).observe(this.div)},ps=new WeakSet,Ba=function(){if(!c(this,ta))return;const[t,i]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*i),A(this,wc,$p).call(this)},df=new WeakSet,Tw=function(t,i){const r=A(this,Ec,Vp).call(this),s=(t-r)/c(this,Jo),o=(i-r)/c(this,Qo);this.scaleFactor=Math.min(s,o)},wc=new WeakSet,$p=function(){const t=A(this,Ec,Vp).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},nv=new WeakSet,OC=function(t){const i=new Path2D;for(let r=0,s=t.length;r<s;r++){const[o,a,l,u]=t[r];r===0&&i.moveTo(...o),i.bezierCurveTo(a[0],a[1],l[0],l[1],u[0],u[1])}return i},ff=new WeakSet,Pw=function(t,i,r){const[s,o,a,l]=i;switch(r){case 0:for(let u=0,h=t.length;u<h;u+=2)t[u]+=s,t[u+1]=l-t[u+1];break;case 90:for(let u=0,h=t.length;u<h;u+=2){const d=t[u];t[u]=t[u+1]+s,t[u+1]=d+o}break;case 180:for(let u=0,h=t.length;u<h;u+=2)t[u]=a-t[u],t[u+1]+=o;break;case 270:for(let u=0,h=t.length;u<h;u+=2){const d=t[u];t[u]=a-t[u+1],t[u+1]=l-d}break;default:throw new Error("Invalid rotation")}return t},iv=new WeakSet,jC=function(t,i,r){const[s,o,a,l]=i;switch(r){case 0:for(let u=0,h=t.length;u<h;u+=2)t[u]-=s,t[u+1]=l-t[u+1];break;case 90:for(let u=0,h=t.length;u<h;u+=2){const d=t[u];t[u]=t[u+1]-o,t[u+1]=d-s}break;case 180:for(let u=0,h=t.length;u<h;u+=2)t[u]=a-t[u],t[u+1]-=o;break;case 270:for(let u=0,h=t.length;u<h;u+=2){const d=t[u];t[u]=l-t[u+1],t[u+1]=a-d}break;default:throw new Error("Invalid rotation")}return t},rv=new WeakSet,zC=function(t,i,r,s){var h,d;const o=[],a=this.thickness/2,l=t*i+a,u=t*r+a;for(const f of this.paths){const p=[],g=[];for(let y=0,S=f.length;y<S;y++){const[v,w,_,x]=f[y];if(v[0]===x[0]&&v[1]===x[1]&&S===1){const B=t*v[0]+l,$=t*v[1]+u;p.push(B,$),g.push(B,$);break}const C=t*v[0]+l,k=t*v[1]+u,b=t*w[0]+l,L=t*w[1]+u,N=t*_[0]+l,F=t*_[1]+u,I=t*x[0]+l,K=t*x[1]+u;y===0&&(p.push(C,k),g.push(C,k)),p.push(b,L,N,F,I,K),g.push(b,L),y===S-1&&g.push(I,K)}o.push({bezier:A(h=Ie,ff,Pw).call(h,p,s,this.rotation),points:A(d=Ie,ff,Pw).call(d,g,s,this.rotation)})}return o},pf=new WeakSet,Rw=function(){let t=1/0,i=-1/0,r=1/0,s=-1/0;for(const o of this.paths)for(const[a,l,u,h]of o){const d=X.bezierBoundingBox(...a,...l,...u,...h);t=Math.min(t,d[0]),r=Math.min(r,d[1]),i=Math.max(i,d[2]),s=Math.max(s,d[3])}return[t,r,i,s]},Ec=new WeakSet,Vp=function(){return c(this,Mn)?Math.ceil(this.thickness*this.parentScale):0},sa=new WeakSet,Eu=function(t=!1){if(this.isEmpty())return;if(!c(this,Mn)){A(this,wr,Ys).call(this);return}const i=A(this,pf,Rw).call(this),r=A(this,Ec,Vp).call(this);E(this,Jo,Math.max(be.MIN_SIZE,i[2]-i[0])),E(this,Qo,Math.max(be.MIN_SIZE,i[3]-i[1]));const s=Math.ceil(r+c(this,Jo)*this.scaleFactor),o=Math.ceil(r+c(this,Qo)*this.scaleFactor),[a,l]=this.parentDimensions;this.width=s/a,this.height=o/l,this.setAspectRatio(s,o);const u=this.translationX,h=this.translationY;this.translationX=-i[0],this.translationY=-i[1],A(this,ps,Ba).call(this),A(this,wr,Ys).call(this),E(this,ia,s),E(this,ra,o),this.setDims(s,o);const d=t?r/this.scaleFactor/2:0;this.translate(u-this.translationX-d,h-this.translationY-d)},m(Ie,nv),m(Ie,ff),m(Ie,iv),se(Ie,"_defaultColor",null),se(Ie,"_defaultOpacity",1),se(Ie,"_defaultThickness",1),se(Ie,"_type","ink"),se(Ie,"_editorType",ve.INK);let bw=Ie;var Ct,kt,gs,Er,ms,Ac,Mi,oa,Di,ni,gf,aa,Au,la,_u,_c,Wp,mf,Mw,sv,HC,ov,BC,vf,Dw,Sc,Gp,av,UC;const Fu=class Fu extends be{constructor(t){super({...t,name:"stampEditor"});m(this,aa);m(this,la);m(this,_c);m(this,mf);m(this,sv);m(this,ov);m(this,vf);m(this,Sc);m(this,av);m(this,Ct,null);m(this,kt,null);m(this,gs,null);m(this,Er,null);m(this,ms,null);m(this,Ac,"");m(this,Mi,null);m(this,oa,null);m(this,Di,null);m(this,ni,!1);m(this,gf,!1);E(this,Er,t.bitmapUrl),E(this,ms,t.bitmapFile)}static initialize(t,i){be.initialize(t,i)}static get supportedTypes(){return we(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(i=>`image/${i}`))}static get supportedTypesStr(){return we(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,i){i.pasteEditor(ve.STAMP,{bitmapFile:t.getAsFile()})}remove(){var t,i;c(this,kt)&&(E(this,Ct,null),this._uiManager.imageManager.deleteId(c(this,kt)),(t=c(this,Mi))==null||t.remove(),E(this,Mi,null),(i=c(this,oa))==null||i.disconnect(),E(this,oa,null),c(this,Di)&&(clearTimeout(c(this,Di)),E(this,Di,null))),super.remove()}rebuild(){if(!this.parent){c(this,kt)&&A(this,_c,Wp).call(this);return}super.rebuild(),this.div!==null&&(c(this,kt)&&c(this,Mi)===null&&A(this,_c,Wp).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(c(this,gs)||c(this,Ct)||c(this,Er)||c(this,ms)||c(this,kt))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,i;if(this.width&&(t=this.x,i=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),c(this,Ct)?A(this,mf,Mw).call(this):A(this,_c,Wp).call(this),this.width){const[r,s]=this.parentDimensions;this.setAt(t*r,i*s,this.width*r,this.height*s)}return this.div}getImageForAltText(){return c(this,Mi)}static deserialize(t,i,r){if(t instanceof sC)return null;const s=super.deserialize(t,i,r),{rect:o,bitmapUrl:a,bitmapId:l,isSvg:u,accessibilityData:h}=t;l&&r.imageManager.isValidId(l)?E(s,kt,l):E(s,Er,a),E(s,ni,u);const[d,f]=s.pageDimensions;return s.width=(o[2]-o[0])/d,s.height=(o[3]-o[1])/f,h&&(s.altTextData=h),s}serialize(t=!1,i=null){if(this.isEmpty())return null;const r={annotationType:ve.STAMP,bitmapId:c(this,kt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:c(this,ni),structTreeParentId:this._structTreeParentId};if(t)return r.bitmapUrl=A(this,Sc,Gp).call(this,!0),r.accessibilityData=this.altTextData,r;const{decorative:s,altText:o}=this.altTextData;if(!s&&o&&(r.accessibilityData={type:"Figure",alt:o}),i===null)return r;i.stamps||(i.stamps=new Map);const a=c(this,ni)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!i.stamps.has(c(this,kt)))i.stamps.set(c(this,kt),{area:a,serialized:r}),r.bitmap=A(this,Sc,Gp).call(this,!1);else if(c(this,ni)){const l=i.stamps.get(c(this,kt));a>l.area&&(l.area=a,l.serialized.bitmap.close(),l.serialized.bitmap=A(this,Sc,Gp).call(this,!1))}return r}};Ct=new WeakMap,kt=new WeakMap,gs=new WeakMap,Er=new WeakMap,ms=new WeakMap,Ac=new WeakMap,Mi=new WeakMap,oa=new WeakMap,Di=new WeakMap,ni=new WeakMap,gf=new WeakMap,aa=new WeakSet,Au=function(t,i=!1){if(!t){this.remove();return}E(this,Ct,t.bitmap),i||(E(this,kt,t.id),E(this,ni,t.isSvg)),t.file&&E(this,Ac,t.file.name),A(this,mf,Mw).call(this)},la=new WeakSet,_u=function(){E(this,gs,null),this._uiManager.enableWaiting(!1),c(this,Mi)&&this.div.focus()},_c=new WeakSet,Wp=function(){if(c(this,kt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(c(this,kt)).then(i=>A(this,aa,Au).call(this,i,!0)).finally(()=>A(this,la,_u).call(this));return}if(c(this,Er)){const i=c(this,Er);E(this,Er,null),this._uiManager.enableWaiting(!0),E(this,gs,this._uiManager.imageManager.getFromUrl(i).then(r=>A(this,aa,Au).call(this,r)).finally(()=>A(this,la,_u).call(this)));return}if(c(this,ms)){const i=c(this,ms);E(this,ms,null),this._uiManager.enableWaiting(!0),E(this,gs,this._uiManager.imageManager.getFromFile(i).then(r=>A(this,aa,Au).call(this,r)).finally(()=>A(this,la,_u).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Fu.supportedTypesStr,E(this,gs,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(t.files[0]);A(this,aa,Au).call(this,r)}i()}),t.addEventListener("cancel",()=>{this.remove(),i()})}).finally(()=>A(this,la,_u).call(this))),t.click()},mf=new WeakSet,Mw=function(){const{div:t}=this;let{width:i,height:r}=c(this,Ct);const[s,o]=this.pageDimensions,a=.75;if(this.width)i=this.width*s,r=this.height*o;else if(i>a*s||r>a*o){const d=Math.min(a*s/i,a*o/r);i*=d,r*=d}const[l,u]=this.parentDimensions;this.setDims(i*l/s,r*u/o),this._uiManager.enableWaiting(!1);const h=E(this,Mi,document.createElement("canvas"));t.append(h),t.hidden=!1,A(this,vf,Dw).call(this,i,r),A(this,av,UC).call(this),c(this,gf)||(this.parent.addUndoableEditor(this),E(this,gf,!0)),this._reportTelemetry({action:"inserted_image"}),c(this,Ac)&&h.setAttribute("aria-label",c(this,Ac))},sv=new WeakSet,HC=function(t,i){var a;const[r,s]=this.parentDimensions;this.width=t/r,this.height=i/s,this.setDims(t,i),(a=this._initialOptions)!=null&&a.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,c(this,Di)!==null&&clearTimeout(c(this,Di)),E(this,Di,setTimeout(()=>{E(this,Di,null),A(this,vf,Dw).call(this,t,i)},200))},ov=new WeakSet,BC=function(t,i){const{width:r,height:s}=c(this,Ct);let o=r,a=s,l=c(this,Ct);for(;o>2*t||a>2*i;){const u=o,h=a;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*i&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const d=new OffscreenCanvas(o,a);d.getContext("2d").drawImage(l,0,0,u,h,0,0,o,a),l=d.transferToImageBitmap()}return l},vf=new WeakSet,Dw=function(t,i){t=Math.ceil(t),i=Math.ceil(i);const r=c(this,Mi);if(!r||r.width===t&&r.height===i)return;r.width=t,r.height=i;const s=c(this,ni)?c(this,Ct):A(this,ov,BC).call(this,t,i);if(this._uiManager.hasMLManager&&!this.hasAltText()){const l=new OffscreenCanvas(t,i).getContext("2d");l.drawImage(s,0,0,s.width,s.height,0,0,t,i),this._uiManager.mlGuess({service:"image-to-text",request:{data:l.getImageData(0,0,t,i).data,width:t,height:i,channels:4}}).then(u=>{const h=(u==null?void 0:u.output)||"";this.parent&&h&&!this.hasAltText()&&(this.altTextData={altText:h,decorative:!1})})}const o=r.getContext("2d");o.filter=this._uiManager.hcmFilter,o.drawImage(s,0,0,s.width,s.height,0,0,t,i)},Sc=new WeakSet,Gp=function(t){if(t){if(c(this,ni)){const s=this._uiManager.imageManager.getSvgUrl(c(this,kt));if(s)return s}const i=document.createElement("canvas");return{width:i.width,height:i.height}=c(this,Ct),i.getContext("2d").drawImage(c(this,Ct),0,0),i.toDataURL()}if(c(this,ni)){const[i,r]=this.pageDimensions,s=Math.round(this.width*i*Ms.PDF_TO_CSS_UNITS),o=Math.round(this.height*r*Ms.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(s,o);return a.getContext("2d").drawImage(c(this,Ct),0,0,c(this,Ct).width,c(this,Ct).height,0,0,s,o),a.transferToImageBitmap()}return structuredClone(c(this,Ct))},av=new WeakSet,UC=function(){E(this,oa,new ResizeObserver(t=>{const i=t[0].contentRect;i.width&&i.height&&A(this,sv,HC).call(this,i.width,i.height)})),c(this,oa).observe(this.div)},se(Fu,"_type","stamp"),se(Fu,"_editorType",ve.STAMP);let Lw=Fu;var ca,bc,Ii,ua,Ar,_r,Sr,wn,vs,xc,Cc,Vt,Z,ys,lv,$C,yf,Fw,wf,Nw,Ef,Ow,kc,Xp;const $n=class $n{constructor({uiManager:e,pageIndex:t,div:i,accessibilityManager:r,annotationLayer:s,drawLayer:o,textLayer:a,viewport:l,l10n:u}){m(this,lv);m(this,yf);m(this,wf);m(this,Ef);m(this,kc);m(this,ca,void 0);m(this,bc,!1);m(this,Ii,null);m(this,ua,null);m(this,Ar,null);m(this,_r,null);m(this,Sr,null);m(this,wn,new Map);m(this,vs,!1);m(this,xc,!1);m(this,Cc,!1);m(this,Vt,null);m(this,Z,void 0);const h=[...c($n,ys).values()];if(!$n._initialized){$n._initialized=!0;for(const d of h)d.initialize(u,e)}e.registerEditorTypes(h),E(this,Z,e),this.pageIndex=t,this.div=i,E(this,ca,r),E(this,Ii,s),this.viewport=l,E(this,Vt,a),this.drawLayer=o,c(this,Z).addLayer(this)}get isEmpty(){return c(this,wn).size===0}get isInvisible(){return this.isEmpty&&c(this,Z).getMode()===ve.NONE}updateToolbar(e){c(this,Z).updateToolbar(e)}updateMode(e=c(this,Z).getMode()){switch(A(this,kc,Xp).call(this),e){case ve.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case ve.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case ve.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const i of c($n,ys).values())t.toggle(`${i._type}Editing`,e===i._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=c(this,Vt))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(c(this,Z).getMode()!==ve.INK)return;if(!e){for(const i of c(this,wn).values())if(i.isEmpty()){i.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){c(this,Z).setEditingState(e)}addCommands(e){c(this,Z).addCommands(e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=c(this,Ii))==null||t.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const i of c(this,wn).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(c(this,Z).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));if(!c(this,Ii))return;const t=c(this,Ii).getEditableAnnotations();for(const i of t){if(i.hide(),c(this,Z).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const r=this.deserialize(i);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){var r;E(this,Cc,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const s of c(this,wn).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else t.set(s.annotationElementId,s);(r=this.getEditableAnnotation(s.annotationElementId))==null||r.show(),s.remove()}if(c(this,Ii)){const s=c(this,Ii).getEditableAnnotations();for(const o of s){const{id:a}=o.data;if(c(this,Z).isDeletedAnnotationElement(a))continue;let l=t.get(a);if(l){l.resetAnnotationElement(o),l.show(!1),o.show();continue}l=e.get(a),l&&(c(this,Z).addChangedExistingAnnotation(l),l.renderAnnotationElement(o),l.show(!1)),o.show()}}A(this,kc,Xp).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const s of c($n,ys).values())i.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),E(this,Cc,!1)}getEditableAnnotation(e){var t;return((t=c(this,Ii))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){c(this,Z).getActive()!==e&&c(this,Z).setActiveEditor(e)}enableTextSelection(){var e;this.div.tabIndex=-1,(e=c(this,Vt))!=null&&e.div&&!c(this,_r)&&(E(this,_r,A(this,lv,$C).bind(this)),c(this,Vt).div.addEventListener("pointerdown",c(this,_r)),c(this,Vt).div.classList.add("highlighting"))}disableTextSelection(){var e;this.div.tabIndex=0,(e=c(this,Vt))!=null&&e.div&&c(this,_r)&&(c(this,Vt).div.removeEventListener("pointerdown",c(this,_r)),E(this,_r,null),c(this,Vt).div.classList.remove("highlighting"))}enableClick(){c(this,Ar)||(E(this,Ar,this.pointerdown.bind(this)),E(this,ua,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",c(this,Ar)),this.div.addEventListener("pointerup",c(this,ua)))}disableClick(){c(this,Ar)&&(this.div.removeEventListener("pointerdown",c(this,Ar)),this.div.removeEventListener("pointerup",c(this,ua)),E(this,Ar,null),E(this,ua,null))}attach(e){c(this,wn).set(e.id,e);const{annotationElementId:t}=e;t&&c(this,Z).isDeletedAnnotationElement(t)&&c(this,Z).removeDeletedAnnotationElement(e)}detach(e){var t;c(this,wn).delete(e.id),(t=c(this,ca))==null||t.removePointerInTextLayer(e.contentDiv),!c(this,Cc)&&e.annotationElementId&&c(this,Z).addDeletedAnnotationElement(e)}remove(e){this.detach(e),c(this,Z).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,c(this,xc)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(c(this,Z).addDeletedAnnotationElement(e.annotationElementId),be.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),c(this,Z).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),c(this,Z).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var i;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!c(this,Sr)&&(e._focusEventsAllowed=!1,E(this,Sr,setTimeout(()=>{E(this,Sr,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0}),t.focus())},0))),e._structTreeParentId=(i=c(this,ca))==null?void 0:i.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),i=()=>{e.remove()};this.addCommands({cmd:t,undo:i,mustExec:!1})}getNextId(){return c(this,Z).getId()}canCreateNewEmptyEditor(){var e;return(e=c(this,yf,Fw))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){c(this,Z).updateToolbar(e),c(this,Z).updateMode(e);const{offsetX:i,offsetY:r}=A(this,Ef,Ow).call(this),s=this.getNextId(),o=A(this,wf,Nw).call(this,{parent:this,id:s,x:i,y:r,uiManager:c(this,Z),isCentered:!0,...t});o&&this.add(o)}deserialize(e){var t;return((t=c($n,ys).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,c(this,Z)))||null}createAndAddNewEditor(e,t,i={}){const r=this.getNextId(),s=A(this,wf,Nw).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:c(this,Z),isCentered:t,...i});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(A(this,Ef,Ow).call(this),!0)}setSelected(e){c(this,Z).setSelected(e)}toggleSelected(e){c(this,Z).toggleSelected(e)}isSelected(e){return c(this,Z).isSelected(e)}unselect(e){c(this,Z).unselect(e)}pointerup(e){const{isMac:t}=rn.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&c(this,vs)){if(E(this,vs,!1),!c(this,bc)){E(this,bc,!0);return}if(c(this,Z).getMode()===ve.STAMP){c(this,Z).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(c(this,Z).getMode()===ve.HIGHLIGHT&&this.enableTextSelection(),c(this,vs)){E(this,vs,!1);return}const{isMac:t}=rn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;E(this,vs,!0);const i=c(this,Z).getActive();E(this,bc,!i||i.isEmpty())}findNewParent(e,t,i){const r=c(this,Z).findParent(t,i);return r===null||r===this?!1:(r.changeParent(e),!0)}destroy(){var e,t;((e=c(this,Z).getActive())==null?void 0:e.parent)===this&&(c(this,Z).commitOrRemove(),c(this,Z).setActiveEditor(null)),c(this,Sr)&&(clearTimeout(c(this,Sr)),E(this,Sr,null));for(const i of c(this,wn).values())(t=c(this,ca))==null||t.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,c(this,wn).clear(),c(this,Z).removeLayer(this)}render({viewport:e}){this.viewport=e,wa(this.div,e);for(const t of c(this,Z).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){c(this,Z).commitOrRemove(),A(this,kc,Xp).call(this);const t=this.viewport.rotation,i=e.rotation;if(this.viewport=e,wa(this.div,{rotation:i}),t!==i)for(const r of c(this,wn).values())r.rotate(i);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return c(this,Z).viewParameters.realScale}};ca=new WeakMap,bc=new WeakMap,Ii=new WeakMap,ua=new WeakMap,Ar=new WeakMap,_r=new WeakMap,Sr=new WeakMap,wn=new WeakMap,vs=new WeakMap,xc=new WeakMap,Cc=new WeakMap,Vt=new WeakMap,Z=new WeakMap,ys=new WeakMap,lv=new WeakSet,$C=function(e){if(c(this,Z).unselectAll(),e.target===c(this,Vt).div){const{isMac:t}=rn.platform;if(e.button!==0||e.ctrlKey&&t)return;c(this,Z).showAllEditors("highlight",!0,!0),c(this,Vt).div.classList.add("free"),Cg.startHighlighting(this,c(this,Z).direction==="ltr",e),c(this,Vt).div.addEventListener("pointerup",()=>{c(this,Vt).div.classList.remove("free")},{once:!0}),e.preventDefault()}},yf=new WeakSet,Fw=function(){return c($n,ys).get(c(this,Z).getMode())},wf=new WeakSet,Nw=function(e){const t=c(this,yf,Fw);return t?new t.prototype.constructor(e):null},Ef=new WeakSet,Ow=function(){const{x:e,y:t,width:i,height:r}=this.div.getBoundingClientRect(),s=Math.max(0,e),o=Math.max(0,t),a=Math.min(window.innerWidth,e+i),l=Math.min(window.innerHeight,t+r),u=(s+a)/2-e,h=(o+l)/2-t,[d,f]=this.viewport.rotation%180===0?[u,h]:[h,u];return{offsetX:d,offsetY:f}},kc=new WeakSet,Xp=function(){E(this,xc,!0);for(const e of c(this,wn).values())e.isEmpty()&&e.remove();E(this,xc,!1)},se($n,"_initialized",!1),m($n,ys,new Map([fw,bw,Lw,Cg].map(e=>[e._editorType,e])));let Iw=$n;var Fi,Af,st,ws,_f,zw,Sf,Hw,cv,VC;const Et=class Et{constructor({pageIndex:e}){m(this,Sf);m(this,cv);m(this,Fi,null);m(this,Af,0);m(this,st,new Map);m(this,ws,new Map);this.pageIndex=e}setParent(e){if(!c(this,Fi)){E(this,Fi,e);return}if(c(this,Fi)!==e){if(c(this,st).size>0)for(const t of c(this,st).values())t.remove(),e.append(t);E(this,Fi,e)}}static get _svgFactory(){return we(this,"_svgFactory",new KE)}highlight(e,t,i,r=!1){const s=hn(this,Af)._++,o=A(this,Sf,Hw).call(this,e.box);o.classList.add("highlight"),e.free&&o.classList.add("free");const a=Et._svgFactory.createElement("defs");o.append(a);const l=Et._svgFactory.createElement("path");a.append(l);const u=`path_p${this.pageIndex}_${s}`;l.setAttribute("id",u),l.setAttribute("d",e.toSVGPath()),r&&c(this,ws).set(s,l);const h=A(this,cv,VC).call(this,a,u),d=Et._svgFactory.createElement("use");return o.append(d),o.setAttribute("fill",t),o.setAttribute("fill-opacity",i),d.setAttribute("href",`#${u}`),c(this,st).set(s,o),{id:s,clipPathId:`url(#${h})`}}highlightOutline(e){const t=hn(this,Af)._++,i=A(this,Sf,Hw).call(this,e.box);i.classList.add("highlightOutline");const r=Et._svgFactory.createElement("defs");i.append(r);const s=Et._svgFactory.createElement("path");r.append(s);const o=`path_p${this.pageIndex}_${t}`;s.setAttribute("id",o),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke");let a;if(e.free){i.classList.add("free");const h=Et._svgFactory.createElement("mask");r.append(h),a=`mask_p${this.pageIndex}_${t}`,h.setAttribute("id",a),h.setAttribute("maskUnits","objectBoundingBox");const d=Et._svgFactory.createElement("rect");h.append(d),d.setAttribute("width","1"),d.setAttribute("height","1"),d.setAttribute("fill","white");const f=Et._svgFactory.createElement("use");h.append(f),f.setAttribute("href",`#${o}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}const l=Et._svgFactory.createElement("use");i.append(l),l.setAttribute("href",`#${o}`),a&&l.setAttribute("mask",`url(#${a})`);const u=l.cloneNode();return i.append(u),l.classList.add("mainOutline"),u.classList.add("secondaryOutline"),c(this,st).set(t,i),t}finalizeLine(e,t){const i=c(this,ws).get(e);c(this,ws).delete(e),this.updateBox(e,t.box),i.setAttribute("d",t.toSVGPath())}updateLine(e,t){c(this,st).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(e){this.remove(e),c(this,ws).delete(e)}updatePath(e,t){c(this,ws).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var i;A(i=Et,_f,zw).call(i,c(this,st).get(e),t)}show(e,t){c(this,st).get(e).classList.toggle("hidden",!t)}rotate(e,t){c(this,st).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){c(this,st).get(e).setAttribute("fill",t)}changeOpacity(e,t){c(this,st).get(e).setAttribute("fill-opacity",t)}addClass(e,t){c(this,st).get(e).classList.add(t)}removeClass(e,t){c(this,st).get(e).classList.remove(t)}remove(e){c(this,Fi)!==null&&(c(this,st).get(e).remove(),c(this,st).delete(e))}destroy(){E(this,Fi,null);for(const e of c(this,st).values())e.remove();c(this,st).clear()}};Fi=new WeakMap,Af=new WeakMap,st=new WeakMap,ws=new WeakMap,_f=new WeakSet,zw=function(e,{x:t=0,y:i=0,width:r=1,height:s=1}={}){const{style:o}=e;o.top=`${100*i}%`,o.left=`${100*t}%`,o.width=`${100*r}%`,o.height=`${100*s}%`},Sf=new WeakSet,Hw=function(e){var i;const t=Et._svgFactory.create(1,1,!0);return c(this,Fi).append(t),t.setAttribute("aria-hidden",!0),A(i=Et,_f,zw).call(i,t,e),t},cv=new WeakSet,VC=function(e,t){const i=Et._svgFactory.createElement("clipPath");e.append(i);const r=`clip_${t}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");const s=Et._svgFactory.createElement("use");return i.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),r},m(Et,_f);let jw=Et;var RD=ee.AbortException,LD=ee.AnnotationEditorLayer,MD=ee.AnnotationEditorParamsType,DD=ee.AnnotationEditorType,ID=ee.AnnotationEditorUIManager,WC=ee.AnnotationLayer,GC=ee.AnnotationMode,FD=ee.CMapCompressionType,ND=ee.ColorPicker,OD=ee.DOMSVGFactory,jD=ee.DrawLayer,zD=ee.FeatureTest,nA=ee.GlobalWorkerOptions,HD=ee.ImageKind,BD=ee.InvalidPDFException,UD=ee.MissingPDFException,$D=ee.OPS,VD=ee.Outliner,WD=ee.PDFDataRangeTransport,GD=ee.PDFDateString,XD=ee.PDFWorker,KD=ee.PasswordResponses,YD=ee.PermissionFlag,qD=ee.PixelsPerInch,QD=ee.RenderingCancelledException,XC=ee.TextLayer,JD=ee.UnexpectedResponseException,ZD=ee.Util,e2=ee.VerbosityLevel,t2=ee.XfaLayer,n2=ee.build,i2=ee.createValidAbsoluteUrl,r2=ee.fetchData,KC=ee.getDocument,s2=ee.getFilenameFromUrl,o2=ee.getPdfFilenameFromUrl,a2=ee.getXfaPageViewport,l2=ee.isDataScheme,c2=ee.isPdfFile,u2=ee.noContextMenu,h2=ee.normalizeUnicode,d2=ee.renderTextLayer,f2=ee.setLayerDimensions,p2=ee.shadow,g2=ee.updateTextLayer,m2=ee.version;const v2=Object.freeze(Object.defineProperty({__proto__:null,AbortException:RD,AnnotationEditorLayer:LD,AnnotationEditorParamsType:MD,AnnotationEditorType:DD,AnnotationEditorUIManager:ID,AnnotationLayer:WC,AnnotationMode:GC,CMapCompressionType:FD,ColorPicker:ND,DOMSVGFactory:OD,DrawLayer:jD,FeatureTest:zD,GlobalWorkerOptions:nA,ImageKind:HD,InvalidPDFException:BD,MissingPDFException:UD,OPS:$D,Outliner:VD,PDFDataRangeTransport:WD,PDFDateString:GD,PDFWorker:XD,PasswordResponses:KD,PermissionFlag:YD,PixelsPerInch:qD,RenderingCancelledException:QD,TextLayer:XC,UnexpectedResponseException:JD,Util:ZD,VerbosityLevel:e2,XfaLayer:t2,build:n2,createValidAbsoluteUrl:i2,fetchData:r2,getDocument:KC,getFilenameFromUrl:s2,getPdfFilenameFromUrl:o2,getXfaPageViewport:a2,isDataScheme:l2,isPdfFile:c2,noContextMenu:u2,normalizeUnicode:h2,renderTextLayer:d2,setLayerDimensions:f2,shadow:p2,updateTextLayer:g2,version:m2},Symbol.toStringTag,{value:"Module"}));var ut=function(n,e,t){if(t||arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return n.concat(s||Array.prototype.slice.call(e))},y2=["onCopy","onCut","onPaste"],w2=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],E2=["onFocus","onBlur"],A2=["onInput","onInvalid","onReset","onSubmit"],_2=["onLoad","onError"],S2=["onKeyDown","onKeyPress","onKeyUp"],b2=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],x2=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],C2=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],k2=["onSelect"],T2=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],P2=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],R2=["onScroll"],L2=["onWheel"],M2=["onAnimationStart","onAnimationEnd","onAnimationIteration"],D2=["onTransitionEnd"],I2=["onToggle"],F2=["onChange"],N2=ut(ut(ut(ut(ut(ut(ut(ut(ut(ut(ut(ut(ut(ut(ut(ut(ut(ut([],y2,!0),w2,!0),E2,!0),A2,!0),_2,!0),S2,!0),b2,!0),x2,!0),C2,!0),k2,!0),T2,!0),P2,!0),R2,!0),L2,!0),M2,!0),D2,!0),F2,!0),I2,!0);function YC(n,e){var t={};return N2.forEach(function(i){var r=n[i];r&&(e?t[i]=function(s){return r(s,e(i))}:t[i]=r)}),t}function Ff(n){var e=!1,t=new Promise(function(i,r){n.then(function(s){return!e&&i(s)}).catch(function(s){return!e&&r(s)})});return{promise:t,cancel:function(){e=!0}}}function qC(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=qC(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function jv(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=qC(n))&&(i&&(i+=" "),i+=e);return i}var O2="Invariant failed";function Re(n,e){if(!n)throw new Error(O2)}var j2=function(){},z2=j2;const Ot=$w(z2);var cS=Object.prototype.hasOwnProperty;function uS(n,e,t){for(t of n.keys())if(ul(t,e))return t}function ul(n,e){var t,i,r;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((i=n.length)===e.length)for(;i--&&ul(n[i],e[i]););return i===-1}if(t===Set){if(n.size!==e.size)return!1;for(i of n)if(r=i,r&&typeof r=="object"&&(r=uS(e,r),!r)||!e.has(r))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(i of n)if(r=i[0],r&&typeof r=="object"&&(r=uS(e,r),!r)||!ul(i[1],e.get(r)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((i=n.byteLength)===e.byteLength)for(;i--&&n.getInt8(i)===e.getInt8(i););return i===-1}if(ArrayBuffer.isView(n)){if((i=n.byteLength)===e.byteLength)for(;i--&&n[i]===e[i];);return i===-1}if(!t||typeof n=="object"){i=0;for(t in n)if(cS.call(n,t)&&++i&&!cS.call(e,t)||!(t in e)||!ul(n[t],e[t]))return!1;return Object.keys(e).length===i}}return n!==n&&e!==e}const QC=R.createContext(null);function hl({children:n,type:e}){return O.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:n})}const H2="noopener noreferrer nofollow";class B2{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Re(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Re(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{Re(this.pdfDocument),Re(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{Re(Array.isArray(t));const i=t[0];new Promise(r=>{Re(this.pdfDocument),i instanceof Object?this.pdfDocument.getPageIndex(i).then(s=>{r(s)}).catch(()=>{Re(!1)}):typeof i=="number"?r(i):Re(!1)}).then(r=>{const s=r+1;Re(this.pdfViewer),Re(s>=1&&s<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:r,pageNumber:s})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;Re(this.pdfViewer),Re(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,i){e.href=t,e.rel=this.externalLinkRel||H2,e.target=i?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const hS={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},zv=typeof document<"u",JC=zv&&window.location.protocol==="file:";function U2(n){return typeof n<"u"}function Vs(n){return U2(n)&&n!==null}function $2(n){return typeof n=="string"}function V2(n){return n instanceof ArrayBuffer}function W2(n){return Re(zv),n instanceof Blob}function Bw(n){return $2(n)&&/^data:/.test(n)}function dS(n){Re(Bw(n));const[e="",t=""]=n.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function G2(){return zv&&window.devicePixelRatio||1}const ZC="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function fS(){Ot(!JC,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${ZC}`)}function X2(){Ot(!JC,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${ZC}`)}function _a(n){n&&n.cancel&&n.cancel()}function Uw(n,e){return Object.defineProperty(n,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function K2(n){return n.name==="RenderingCancelledException"}function Y2(n){return new Promise((e,t)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return t(new Error("Error while reading a file."));e(i.result)},i.onerror=r=>{if(!r.target)return t(new Error("Error while reading a file."));const{error:s}=r.target;if(!s)return t(new Error("Error while reading a file."));switch(s.code){case s.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case s.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case s.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},i.readAsArrayBuffer(n)})}function q2(n,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function Nc(){return R.useReducer(q2,{value:void 0,error:void 0})}var Q2=function(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{u(i.next(h))}catch(d){o(d)}}function l(h){try{u(i.throw(h))}catch(d){o(d)}}function u(h){h.done?s(h.value):r(h.value).then(a,l)}u((i=i.apply(n,e||[])).next())})},pS=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const{PDFDataRangeTransport:J2}=v2,Z2=(n,e)=>{switch(e){case hS.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case hS.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function gS(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const eI=R.forwardRef(function(e,t){var{children:i,className:r,error:s="Failed to load PDF file.",externalLinkRel:o,externalLinkTarget:a,file:l,inputRef:u,imageResourcesPath:h,loading:d="Loading PDF",noData:f="No PDF file specified.",onItemClick:p,onLoadError:g,onLoadProgress:y,onLoadSuccess:S,onPassword:v=Z2,onSourceError:w,onSourceSuccess:_,options:x,renderMode:C,rotate:k}=e,b=pS(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[L,N]=Nc(),{value:F,error:I}=L,[K,B]=Nc(),{value:$,error:Q}=K,le=R.useRef(new B2),H=R.useRef([]),M=R.useRef(void 0),G=R.useRef(void 0);l&&l!==M.current&&gS(l)&&(Ot(!ul(l,M.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),M.current=l),x&&x!==G.current&&(Ot(!ul(x,G.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),G.current=x);const Y=R.useRef({scrollPageIntoView:ge=>{const{dest:mt,pageNumber:un,pageIndex:hi=un-1}=ge;if(p){p({dest:mt,pageIndex:hi,pageNumber:un});return}const Pa=H.current[hi];if(Pa){Pa.scrollIntoView();return}Ot(!1,`An internal link leading to page ${un} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});R.useImperativeHandle(t,()=>({linkService:le,pages:H,viewer:Y}),[]);function oe(){_&&_()}function J(){I&&(Ot(!1,I.toString()),w&&w(I))}function fe(){N({type:"RESET"})}R.useEffect(fe,[l,N]);const Ae=R.useCallback(()=>Q2(this,void 0,void 0,function*(){if(!l)return null;if(typeof l=="string")return Bw(l)?{data:dS(l)}:(fS(),{url:l});if(l instanceof J2)return{range:l};if(V2(l))return{data:l};if(zv&&W2(l))return{data:yield Y2(l)};if(Re(typeof l=="object"),Re(gS(l)),"url"in l&&typeof l.url=="string"){if(Bw(l.url)){const{url:ge}=l,mt=pS(l,["url"]),un=dS(ge);return Object.assign({data:un},mt)}fS()}return l}),[l]);R.useEffect(()=>{const ge=Ff(Ae());return ge.promise.then(mt=>{N({type:"RESOLVE",value:mt})}).catch(mt=>{N({type:"REJECT",error:mt})}),()=>{_a(ge)}},[Ae,N]),R.useEffect(()=>{if(!(typeof F>"u")){if(F===!1){J();return}oe()}},[F]);function Me(){$&&(S&&S($),H.current=new Array($.numPages),le.current.setDocument($))}function _e(){Q&&(Ot(!1,Q.toString()),g&&g(Q))}function ie(){B({type:"RESET"})}R.useEffect(ie,[B,F]);function ci(){if(!F)return;const ge=Object.assign(Object.assign({},F),x),mt=KC(ge);y&&(mt.onProgress=y),v&&(mt.onPassword=v);const un=mt;return un.promise.then(hi=>{B({type:"RESOLVE",value:hi})}).catch(hi=>{un.destroyed||B({type:"REJECT",error:hi})}),()=>{un.destroy()}}R.useEffect(ci,[x,B,F]),R.useEffect(()=>{if(!(typeof $>"u")){if($===!1){_e();return}Me()}},[$]);function Hi(){le.current.setViewer(Y.current),le.current.setExternalLinkRel(o),le.current.setExternalLinkTarget(a)}R.useEffect(Hi,[o,a]);function Ne(ge,mt){H.current[ge]=mt}function zs(ge){delete H.current[ge]}const Ze=R.useMemo(()=>({imageResourcesPath:h,linkService:le.current,onItemClick:p,pdf:$,registerPage:Ne,renderMode:C,rotate:k,unregisterPage:zs}),[h,p,$,C,k]),et=R.useMemo(()=>YC(b,()=>$),[b,$]);function cn(){return O.jsx(QC.Provider,{value:Ze,children:i})}function ui(){return l?$==null?O.jsx(hl,{type:"loading",children:typeof d=="function"?d():d}):$===!1?O.jsx(hl,{type:"error",children:typeof s=="function"?s():s}):cn():O.jsx(hl,{type:"no-data",children:typeof f=="function"?f():f})}return O.jsx("div",Object.assign({className:jv("react-pdf__Document",r),ref:u,style:{"--scale-factor":"1"}},et,{children:ui()}))});function ek(){return R.useContext(QC)}function tk(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(Boolean);if(t.length<=1){var i=t[0];return i||null}return function(s){t.forEach(function(o){typeof o=="function"?o(s):o&&(o.current=s)})}}const nk=R.createContext(null),ik={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},tI=/^H(\d+)$/;function nI(n){return n in ik}function Hv(n){return"children"in n}function rk(n){return Hv(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function iI(n){const e={};if(Hv(n)){const{role:t}=n,i=t.match(tI);if(i)e.role="heading",e["aria-level"]=Number(i[1]);else if(nI(t)){const r=ik[t];r&&(e.role=r)}}return e}function sk(n){const e={};if(Hv(n)){if(n.alt!==void 0&&(e["aria-label"]=n.alt),n.lang!==void 0&&(e.lang=n.lang),rk(n)){const[t]=n.children;if(t){const i=sk(t);return Object.assign(Object.assign({},e),i)}}}else"id"in n&&(e["aria-owns"]=n.id);return e}function rI(n){return n?Object.assign(Object.assign({},iI(n)),sk(n)):null}function ok({className:n,node:e}){const t=R.useMemo(()=>rI(e),[e]),i=R.useMemo(()=>!Hv(e)||rk(e)?null:e.children.map((r,s)=>O.jsx(ok,{node:r},s)),[e]);return O.jsx("span",Object.assign({className:n},t,{children:i}))}function Bv(){return R.useContext(nk)}function sI(){const n=Bv();Re(n);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=n,[i,r]=Nc(),{value:s,error:o}=i,{customTextRenderer:a,page:l}=n;function u(){s&&t&&t(s)}function h(){o&&(Ot(!1,o.toString()),e&&e(o))}function d(){r({type:"RESET"})}R.useEffect(d,[r,l]);function f(){if(a||!l)return;const p=Ff(l.getStructTree()),g=p;return p.promise.then(y=>{r({type:"RESOLVE",value:y})}).catch(y=>{r({type:"REJECT",error:y})}),()=>_a(g)}return R.useEffect(f,[a,l,r]),R.useEffect(()=>{if(s!==void 0){if(s===!1){h();return}u()}},[s]),s?O.jsx(ok,{className:"react-pdf__Page__structTree structTree",node:s}):null}const mS=GC;function oI(n){const e=Bv();Re(e);const t=Object.assign(Object.assign({},e),n),{_className:i,canvasBackground:r,devicePixelRatio:s=G2(),onRenderError:o,onRenderSuccess:a,page:l,renderForms:u,renderTextLayer:h,rotate:d,scale:f}=t,{canvasRef:p}=n;Re(l);const g=R.useRef(null);function y(){l&&a&&a(Uw(l,f))}function S(C){K2(C)||(Ot(!1,C.toString()),o&&o(C))}const v=R.useMemo(()=>l.getViewport({scale:f*s,rotation:d}),[s,l,d,f]),w=R.useMemo(()=>l.getViewport({scale:f,rotation:d}),[l,d,f]);function _(){if(!l)return;l.cleanup();const{current:C}=g;if(!C)return;C.width=v.width,C.height=v.height,C.style.width=`${Math.floor(w.width)}px`,C.style.height=`${Math.floor(w.height)}px`,C.style.visibility="hidden";const k={annotationMode:u?mS.ENABLE_FORMS:mS.ENABLE,canvasContext:C.getContext("2d",{alpha:!1}),viewport:v};r&&(k.background=r);const b=l.render(k),L=b;return b.promise.then(()=>{C.style.visibility="",y()}).catch(S),()=>_a(L)}R.useEffect(_,[r,g,s,l,u,v,w]);const x=R.useCallback(()=>{const{current:C}=g;C&&(C.width=0,C.height=0)},[g]);return R.useEffect(()=>x,[x]),O.jsx("canvas",{className:`${i}__canvas`,dir:"ltr",ref:tk(p,g),style:{display:"block",userSelect:"none"},children:h?O.jsx(sI,{}):null})}function aI(n){return"str"in n}function lI(){const n=Bv();Re(n);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:i,onRenderTextLayerError:r,onRenderTextLayerSuccess:s,page:o,pageIndex:a,pageNumber:l,rotate:u,scale:h}=n;Re(o);const[d,f]=Nc(),{value:p,error:g}=d,y=R.useRef(null),S=R.useRef(void 0);Ot(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function v(){p&&i&&i(p)}function w(){g&&(Ot(!1,g.toString()),t&&t(g))}function _(){f({type:"RESET"})}R.useEffect(_,[o,f]);function x(){if(!o)return;const I=Ff(o.getTextContent()),K=I;return I.promise.then(B=>{f({type:"RESOLVE",value:B})}).catch(B=>{f({type:"REJECT",error:B})}),()=>_a(K)}R.useEffect(x,[o,f]),R.useEffect(()=>{if(p!==void 0){if(p===!1){w();return}v()}},[p]);const C=R.useCallback(()=>{s&&s()},[s]),k=R.useCallback(I=>{Ot(!1,I.toString()),r&&r(I)},[r]);function b(){const I=S.current;I&&I.classList.add("active")}function L(){const I=S.current;I&&I.classList.remove("active")}const N=R.useMemo(()=>o.getViewport({scale:h,rotation:u}),[o,u,h]);function F(){if(!o||!p)return;const{current:I}=y;if(!I)return;I.innerHTML="";const K=o.streamTextContent({includeMarkedContent:!0}),B={container:I,textContentSource:K,viewport:N},$=new XC(B),Q=$;return $.render().then(()=>{const le=document.createElement("div");le.className="endOfContent",I.append(le),S.current=le;const H=I.querySelectorAll('[role="presentation"]');if(e){let M=0;p.items.forEach((G,Y)=>{if(!aI(G))return;const oe=H[M];if(!oe)return;const J=e(Object.assign({pageIndex:a,pageNumber:l,itemIndex:Y},G));oe.innerHTML=J,M+=G.str&&G.hasEOL?2:1})}C()}).catch(k),()=>_a(Q)}return R.useLayoutEffect(F,[e,k,C,o,a,l,p,N]),O.jsx("div",{className:jv("react-pdf__Page__textContent","textLayer"),onMouseUp:L,onMouseDown:b,ref:y})}function cI(){const n=ek(),e=Bv();Re(e);const t=Object.assign(Object.assign({},n),e),{imageResourcesPath:i,linkService:r,onGetAnnotationsError:s,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:a,onRenderAnnotationLayerSuccess:l,page:u,pdf:h,renderForms:d,rotate:f,scale:p=1}=t;Re(h),Re(u),Re(r);const[g,y]=Nc(),{value:S,error:v}=g,w=R.useRef(null);Ot(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function _(){S&&o&&o(S)}function x(){v&&(Ot(!1,v.toString()),s&&s(v))}function C(){y({type:"RESET"})}R.useEffect(C,[y,u]);function k(){if(!u)return;const I=Ff(u.getAnnotations()),K=I;return I.promise.then(B=>{y({type:"RESOLVE",value:B})}).catch(B=>{y({type:"REJECT",error:B})}),()=>{_a(K)}}R.useEffect(k,[y,u,d]),R.useEffect(()=>{if(S!==void 0){if(S===!1){x();return}_()}},[S]);function b(){l&&l()}function L(I){Ot(!1,`${I}`),a&&a(I)}const N=R.useMemo(()=>u.getViewport({scale:p,rotation:f}),[u,f,p]);function F(){if(!h||!u||!r||!S)return;const{current:I}=w;if(!I)return;const K=N.clone({dontFlip:!0}),B={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:I,l10n:null,page:u,viewport:K},$={annotations:S,annotationStorage:h.annotationStorage,div:I,imageResourcesPath:i,linkService:r,page:u,renderForms:d,viewport:K};I.innerHTML="";try{new WC(B).render($),b()}catch(Q){L(Q)}return()=>{}}return R.useEffect(F,[S,i,r,u,d,N]),O.jsx("div",{className:jv("react-pdf__Page__annotations","annotationLayer"),ref:w})}var uI=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const vS=1;function hI(n){const e=ek(),t=Object.assign(Object.assign({},e),n),{_className:i="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:s,canvasRef:o,children:a,className:l,customRenderer:u,customTextRenderer:h,devicePixelRatio:d,error:f="Failed to load the page.",height:p,inputRef:g,loading:y="Loading page",noData:S="No page specified.",onGetAnnotationsError:v,onGetAnnotationsSuccess:w,onGetStructTreeError:_,onGetStructTreeSuccess:x,onGetTextError:C,onGetTextSuccess:k,onLoadError:b,onLoadSuccess:L,onRenderAnnotationLayerError:N,onRenderAnnotationLayerSuccess:F,onRenderError:I,onRenderSuccess:K,onRenderTextLayerError:B,onRenderTextLayerSuccess:$,pageIndex:Q,pageNumber:le,pdf:H,registerPage:M,renderAnnotationLayer:G=!0,renderForms:Y=!1,renderMode:oe="canvas",renderTextLayer:J=!0,rotate:fe,scale:Ae=vS,unregisterPage:Me,width:_e}=t,ie=uI(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[ci,Hi]=Nc(),{value:Ne,error:zs}=ci,Ze=R.useRef(null);Re(H);const et=Vs(le)?le-1:Q??null,cn=le??(Vs(Q)?Q+1:null),ui=fe??(Ne?Ne.rotate:null),ge=R.useMemo(()=>{if(!Ne)return null;let Nr=1;const Cn=Ae??vS;if(_e||p){const Bi=Ne.getViewport({scale:1,rotation:ui});_e?Nr=_e/Bi.width:p&&(Nr=p/Bi.height)}return Cn*Nr},[p,Ne,ui,Ae,_e]);function mt(){return()=>{Vs(et)&&r&&Me&&Me(et)}}R.useEffect(mt,[r,H,et,Me]);function un(){if(L){if(!Ne||!ge)return;L(Uw(Ne,ge))}if(r&&M){if(!Vs(et)||!Ze.current)return;M(et,Ze.current)}}function hi(){zs&&(Ot(!1,zs.toString()),b&&b(zs))}function Pa(){Hi({type:"RESET"})}R.useEffect(Pa,[Hi,H,et]);function Uv(){if(!H||!cn)return;const Nr=Ff(H.getPage(cn)),Cn=Nr;return Nr.promise.then(Bi=>{Hi({type:"RESOLVE",value:Bi})}).catch(Bi=>{Hi({type:"REJECT",error:Bi})}),()=>_a(Cn)}R.useEffect(Uv,[Hi,H,et,cn,M]),R.useEffect(()=>{if(Ne!==void 0){if(Ne===!1){hi();return}un()}},[Ne,ge]);const Hs=R.useMemo(()=>Ne&&Vs(et)&&cn&&Vs(ui)&&Vs(ge)?{_className:i,canvasBackground:s,customTextRenderer:h,devicePixelRatio:d,onGetAnnotationsError:v,onGetAnnotationsSuccess:w,onGetStructTreeError:_,onGetStructTreeSuccess:x,onGetTextError:C,onGetTextSuccess:k,onRenderAnnotationLayerError:N,onRenderAnnotationLayerSuccess:F,onRenderError:I,onRenderSuccess:K,onRenderTextLayerError:B,onRenderTextLayerSuccess:$,page:Ne,pageIndex:et,pageNumber:cn,renderForms:Y,renderTextLayer:J,rotate:ui,scale:ge}:null,[i,s,h,d,v,w,_,x,C,k,N,F,I,K,B,$,Ne,et,cn,Y,J,ui,ge]),Bs=R.useMemo(()=>YC(ie,()=>Ne&&(ge?Uw(Ne,ge):void 0)),[ie,Ne,ge]),Us=`${et}@${ge}/${ui}`;function Bc(){switch(oe){case"custom":return Re(u),O.jsx(u,{},`${Us}_custom`);case"none":return null;case"canvas":default:return O.jsx(oI,{canvasRef:o},`${Us}_canvas`)}}function di(){return J?O.jsx(lI,{},`${Us}_text`):null}function $s(){return G?O.jsx(cI,{},`${Us}_annotations`):null}function Nf(){return O.jsxs(nk.Provider,{value:Hs,children:[Bc(),di(),$s(),a]})}function Ra(){return cn?H===null||Ne===void 0||Ne===null?O.jsx(hl,{type:"loading",children:typeof y=="function"?y():y}):H===!1||Ne===!1?O.jsx(hl,{type:"error",children:typeof f=="function"?f():f}):Nf():O.jsx(hl,{type:"no-data",children:typeof S=="function"?S():S})}return O.jsx("div",Object.assign({className:jv(i,l),"data-page-number":cn,ref:tk(g,Ze),style:{"--scale-factor":`${ge}`,backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Bs,{children:Ra()}))}X2();nA.workerSrc="pdf.worker.mjs";var ak={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},yS=Cr.createContext&&Cr.createContext(ak),dI=["attr","size","title"];function fI(n,e){if(n==null)return{};var t=pI(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function pI(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function kg(){return kg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},kg.apply(this,arguments)}function wS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Tg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wS(Object(t),!0).forEach(function(i){gI(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):wS(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function gI(n,e,t){return e=mI(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function mI(n){var e=vI(n,"string");return typeof e=="symbol"?e:e+""}function vI(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function lk(n){return n&&n.map((e,t)=>Cr.createElement(e.tag,Tg({key:t},e.attr),lk(e.child)))}function iA(n){return e=>Cr.createElement(yI,kg({attr:Tg({},n.attr)},e),lk(n.child))}function yI(n){var e=t=>{var{attr:i,size:r,title:s}=n,o=fI(n,dI),a=r||t.size||"1em",l;return t.className&&(l=t.className),n.className&&(l=(l?l+" ":"")+n.className),Cr.createElement("svg",kg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,o,{className:l,style:Tg(Tg({color:n.color||t.color},t.style),n.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Cr.createElement("title",null,s),n.children)};return yS!==void 0?Cr.createElement(yS.Consumer,null,t=>e(t)):e(ak)}function wI(n){return iA({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(n)}function EI(n){return iA({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(n)}function AI(n){return iA({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm76.45 211.36l-96.42 95.7c-6.65 6.61-17.39 6.61-24.04 0l-96.42-95.7C73.42 337.29 80.54 320 94.82 320H160v-80c0-8.84 7.16-16 16-16h32c8.84 0 16 7.16 16 16v80h65.18c14.28 0 21.4 17.29 11.27 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(n)}nA.workerSrc=new URL("/assets/pdf.worker.min-l1Cnq-yx.mjs",import.meta.url).toString();const _I={cMapUrl:"/cmaps/",standardFontDataUrl:"/standard_fonts/"},SI=800,bI=()=>{const[n,e]=R.useState();function t({numPages:i}){e(i)}return O.jsxs(O.Fragment,{children:[O.jsxs("a",{href:"/cv-template.pdf",download:!0,className:"text-slate-400 font-bold py-2 inline-flex items-center gap-2",children:[O.jsx(AI,{className:"text-slate-400"}),O.jsx("span",{children:"Download"})]}),O.jsx(eI,{file:"/cv-template.pdf",onLoadSuccess:t,options:_I,className:"pb-8",children:Array.from(new Array(n),(i,r)=>O.jsx(hI,{pageNumber:r+1,width:SI},`page_${r+1}`))})]})},xI=({cert:n})=>O.jsx("div",{className:"p-4 md:w-1/3",children:O.jsxs("div",{className:"h-full rounded-lg bg-slate-800 border border-slate-700 p-2 duration-250 hover:bg-slate-700 overflow-hidden",children:[O.jsx("div",{className:"py-2 flex justify-center items-center",children:O.jsx("img",{className:"rounded-lg object-cover object-center w-44 h-44",src:n.badge,alt:"badge"})}),O.jsx("p",{className:"my-4 text-xl font-bold text-slate-200",children:n.name}),O.jsxs("p",{className:"mb-4 text-sm text-slate-300",children:[n.startDate.toDateString(),n.endTime!==void 0?` - ${n.endTime.toDateString()}`:""]})]})}),CI=()=>(ES.sort((n,e)=>e.startDate.getTime()-n.startDate.getTime()),O.jsx("div",{className:"flex flex-wrap -m-4 mx-64",children:ES.map(n=>O.jsx(xI,{cert:n}))})),ES=[{name:"GitHub Actions",startDate:new Date(2024,5,9),endTime:new Date(2027,5,9),badge:"/github-actions.png"},{name:"GitHub Foundations",startDate:new Date(2024,4,30),endTime:new Date(2027,4,30),badge:"/github-foundations.png"},{name:"AWS Cloud Practitioner",startDate:new Date(2024,4,13),endTime:new Date(2027,4,13),badge:"/aws-certified-cloud-practitioner.png"},{name:"Cloud Digital Leader",startDate:new Date(2024,4,5),endTime:new Date(2027,4,5),badge:"/cloud-digital-leader-certification.png"},{name:"Green Software for Practitioners",startDate:new Date(2023,9,9),badge:"/lfc131-green-software-for-practitioners.png"},{name:"Microsoft Azure Fundamentals",startDate:new Date(2023,7,7),badge:"/microsoft-certified-fundamentals-badge.svg"}],up=()=>O.jsx("div",{children:"ErrorPage"}),kI=({route:n})=>{const t=Rf().pathname===n.path;return O.jsx(Qb,{to:n.path,className:`flex text-slate-300 hover:text-slate-400 cursor-pointer transition-colors duration-300 ${t&&"font-semibold"}`,children:n.id})},TI=()=>{const n=ck.routes[0].children;return O.jsx("div",{className:"flex flex-col",children:O.jsxs("nav",{className:"flex justify-around bg-slate-800/90 py-4 border-b border-slate-700 w-full fixed top-0 left-0 right-0 z-10",children:[O.jsx("div",{className:"flex items-center",children:O.jsx(Qb,{to:"/",className:"cursor-pointer",children:O.jsx("h3",{className:"text-2xl font-medium text-slate-100 hover:text-slate-400",children:"Ruairidh Taylor"})})}),O.jsx("div",{className:"items-center hidden space-x-8 lg:flex",children:n.map(e=>O.jsx(kI,{route:e},e.id))}),O.jsxs("ul",{className:"flex flex-col md:flex-row items-end md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[O.jsx("li",{children:O.jsx("a",{href:"https://www.github.com/ruairidht",target:"_blank","aria-label":"Github",className:"text-slate-200 hover:text-slate-400",children:O.jsx(wI,{size:28})})}),O.jsx("li",{children:O.jsx("a",{href:"https://www.linkedin.com/in/ruairidht/",target:"_blank","aria-label":"linkedin",className:"text-slate-200 hover:text-slate-400",children:O.jsx(EI,{size:28})})})]})]})})},PI=()=>O.jsxs(O.Fragment,{children:[O.jsx(TI,{}),O.jsx(iL,{})]}),ck=hL([{path:"/",element:O.jsx(PI,{}),children:[{path:"/",element:O.jsx(xL,{}),errorElement:O.jsx(up,{}),id:"Home"},{path:"/experience",element:O.jsx(kL,{}),errorElement:O.jsx(up,{}),id:"Experience"},{path:"/certifications",element:O.jsx(CI,{}),errorElement:O.jsx(up,{}),id:"Certifications"},{path:"/cv",element:O.jsx(bI,{}),errorElement:O.jsx(up,{}),id:"CV"}]}]);Cy.createRoot(document.getElementById("root")).render(O.jsx(Cr.StrictMode,{children:O.jsx("div",{className:"w-full h-screen",children:O.jsx("div",{className:"flex flex-col items-center justify-center mt-24",children:O.jsx(EL,{router:ck})})})}));

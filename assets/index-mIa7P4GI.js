var pT=Object.defineProperty;var gT=(n,e,t)=>e in n?pT(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var se=(n,e,t)=>(gT(n,typeof e!="symbol"?e+"":e,t),t),Vv=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)};var u=(n,e,t)=>(Vv(n,e,"read from private field"),t?t.call(n):e.get(n)),m=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},E=(n,e,t,r)=>(Vv(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t);var hn=(n,e,t,r)=>({set _(i){E(n,e,i,t)},get _(){return u(n,e,r)}}),_=(n,e,t)=>(Vv(n,e,"access private method"),t);function A1(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function $w(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var S1={exports:{}},cv={},b1={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bf=Symbol.for("react.element"),mT=Symbol.for("react.portal"),vT=Symbol.for("react.fragment"),yT=Symbol.for("react.strict_mode"),wT=Symbol.for("react.profiler"),ET=Symbol.for("react.provider"),_T=Symbol.for("react.context"),AT=Symbol.for("react.forward_ref"),ST=Symbol.for("react.suspense"),bT=Symbol.for("react.memo"),xT=Symbol.for("react.lazy"),p_=Symbol.iterator;function CT(n){return n===null||typeof n!="object"?null:(n=p_&&n[p_]||n["@@iterator"],typeof n=="function"?n:null)}var x1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C1=Object.assign,T1={};function Ou(n,e,t){this.props=n,this.context=e,this.refs=T1,this.updater=t||x1}Ou.prototype.isReactComponent={};Ou.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Ou.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function k1(){}k1.prototype=Ou.prototype;function Vw(n,e,t){this.props=n,this.context=e,this.refs=T1,this.updater=t||x1}var Ww=Vw.prototype=new k1;Ww.constructor=Vw;C1(Ww,Ou.prototype);Ww.isPureReactComponent=!0;var g_=Array.isArray,P1=Object.prototype.hasOwnProperty,Gw={current:null},R1={key:!0,ref:!0,__self:!0,__source:!0};function L1(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)P1.call(e,r)&&!R1.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:bf,type:n,key:s,ref:o,props:i,_owner:Gw.current}}function TT(n,e){return{$$typeof:bf,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Xw(n){return typeof n=="object"&&n!==null&&n.$$typeof===bf}function kT(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var m_=/\/+/g;function Wv(n,e){return typeof n=="object"&&n!==null&&n.key!=null?kT(""+n.key):e.toString(36)}function hp(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case bf:case mT:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+Wv(o,0):r,g_(i)?(t="",n!=null&&(t=n.replace(m_,"$&/")+"/"),hp(i,e,t,"",function(c){return c})):i!=null&&(Xw(i)&&(i=TT(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(m_,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",g_(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+Wv(s,a);o+=hp(s,e,t,l,i)}else if(l=CT(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+Wv(s,a++),o+=hp(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Bf(n,e,t){if(n==null)return n;var r=[],i=0;return hp(n,r,"","",function(s){return e.call(t,s,i++)}),r}function PT(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Kt={current:null},dp={transition:null},RT={ReactCurrentDispatcher:Kt,ReactCurrentBatchConfig:dp,ReactCurrentOwner:Gw};function M1(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:Bf,forEach:function(n,e,t){Bf(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Bf(n,function(){e++}),e},toArray:function(n){return Bf(n,function(e){return e})||[]},only:function(n){if(!Xw(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};de.Component=Ou;de.Fragment=vT;de.Profiler=wT;de.PureComponent=Vw;de.StrictMode=yT;de.Suspense=ST;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RT;de.act=M1;de.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=C1({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Gw.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)P1.call(e,l)&&!R1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:bf,type:n.type,key:i,ref:s,props:r,_owner:o}};de.createContext=function(n){return n={$$typeof:_T,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:ET,_context:n},n.Consumer=n};de.createElement=L1;de.createFactory=function(n){var e=L1.bind(null,n);return e.type=n,e};de.createRef=function(){return{current:null}};de.forwardRef=function(n){return{$$typeof:AT,render:n}};de.isValidElement=Xw;de.lazy=function(n){return{$$typeof:xT,_payload:{_status:-1,_result:n},_init:PT}};de.memo=function(n,e){return{$$typeof:bT,type:n,compare:e===void 0?null:e}};de.startTransition=function(n){var e=dp.transition;dp.transition={};try{n()}finally{dp.transition=e}};de.unstable_act=M1;de.useCallback=function(n,e){return Kt.current.useCallback(n,e)};de.useContext=function(n){return Kt.current.useContext(n)};de.useDebugValue=function(){};de.useDeferredValue=function(n){return Kt.current.useDeferredValue(n)};de.useEffect=function(n,e){return Kt.current.useEffect(n,e)};de.useId=function(){return Kt.current.useId()};de.useImperativeHandle=function(n,e,t){return Kt.current.useImperativeHandle(n,e,t)};de.useInsertionEffect=function(n,e){return Kt.current.useInsertionEffect(n,e)};de.useLayoutEffect=function(n,e){return Kt.current.useLayoutEffect(n,e)};de.useMemo=function(n,e){return Kt.current.useMemo(n,e)};de.useReducer=function(n,e,t){return Kt.current.useReducer(n,e,t)};de.useRef=function(n){return Kt.current.useRef(n)};de.useState=function(n){return Kt.current.useState(n)};de.useSyncExternalStore=function(n,e,t){return Kt.current.useSyncExternalStore(n,e,t)};de.useTransition=function(){return Kt.current.useTransition()};de.version="18.3.1";b1.exports=de;var R=b1.exports;const Ci=$w(R),LT=A1({__proto__:null,default:Ci},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MT=R,DT=Symbol.for("react.element"),IT=Symbol.for("react.fragment"),FT=Object.prototype.hasOwnProperty,NT=MT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,OT={key:!0,ref:!0,__self:!0,__source:!0};function D1(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)FT.call(e,r)&&!OT.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:DT,type:n,key:s,ref:o,props:i,_owner:NT.current}}cv.Fragment=IT;cv.jsx=D1;cv.jsxs=D1;S1.exports=cv;var B=S1.exports,Cy={},I1={exports:{}},bn={},F1={exports:{}},N1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(M,G){var Y=M.length;M.push(G);e:for(;0<Y;){var oe=Y-1>>>1,J=M[oe];if(0<i(J,G))M[oe]=G,M[Y]=J,Y=oe;else break e}}function t(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var G=M[0],Y=M.pop();if(Y!==G){M[0]=Y;e:for(var oe=0,J=M.length,fe=J>>>1;oe<fe;){var _e=2*(oe+1)-1,Me=M[_e],Ae=_e+1,re=M[Ae];if(0>i(Me,Y))Ae<J&&0>i(re,Me)?(M[oe]=re,M[Ae]=Y,oe=Ae):(M[oe]=Me,M[_e]=Y,oe=_e);else if(Ae<J&&0>i(re,Y))M[oe]=re,M[Ae]=Y,oe=Ae;else break e}}return G}function i(M,G){var Y=M.sortIndex-G.sortIndex;return Y!==0?Y:M.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,f=3,p=!1,g=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(M){for(var G=t(c);G!==null;){if(G.callback===null)r(c);else if(G.startTime<=M)r(c),G.sortIndex=G.expirationTime,e(l,G);else break;G=t(c)}}function x(M){if(y=!1,A(M),!g)if(t(l)!==null)g=!0,le(C);else{var G=t(c);G!==null&&z(x,G.startTime-M)}}function C(M,G){g=!1,y&&(y=!1,v(L),L=-1),p=!0;var Y=f;try{for(A(G),d=t(l);d!==null&&(!(d.expirationTime>G)||M&&!I());){var oe=d.callback;if(typeof oe=="function"){d.callback=null,f=d.priorityLevel;var J=oe(d.expirationTime<=G);G=n.unstable_now(),typeof J=="function"?d.callback=J:d===t(l)&&r(l),A(G)}else r(l);d=t(l)}if(d!==null)var fe=!0;else{var _e=t(c);_e!==null&&z(x,_e.startTime-G),fe=!1}return fe}finally{d=null,f=Y,p=!1}}var T=!1,b=null,L=-1,N=5,F=-1;function I(){return!(n.unstable_now()-F<N)}function K(){if(b!==null){var M=n.unstable_now();F=M;var G=!0;try{G=b(!0,M)}finally{G?H():(T=!1,b=null)}}else T=!1}var H;if(typeof w=="function")H=function(){w(K)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,Q=$.port2;$.port1.onmessage=K,H=function(){Q.postMessage(null)}}else H=function(){S(K,0)};function le(M){b=M,T||(T=!0,H())}function z(M,G){L=S(function(){M(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(M){M.callback=null},n.unstable_continueExecution=function(){g||p||(g=!0,le(C))},n.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<M?Math.floor(1e3/M):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(M){switch(f){case 1:case 2:case 3:var G=3;break;default:G=f}var Y=f;f=G;try{return M()}finally{f=Y}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(M,G){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var Y=f;f=M;try{return G()}finally{f=Y}},n.unstable_scheduleCallback=function(M,G,Y){var oe=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?oe+Y:oe):Y=oe,M){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=Y+J,M={id:h++,callback:G,priorityLevel:M,startTime:Y,expirationTime:J,sortIndex:-1},Y>oe?(M.sortIndex=Y,e(c,M),t(l)===null&&M===t(c)&&(y?(v(L),L=-1):y=!0,z(x,Y-oe))):(M.sortIndex=J,e(l,M),g||p||(g=!0,le(C))),M},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(M){var G=f;return function(){var Y=f;f=G;try{return M.apply(this,arguments)}finally{f=Y}}}})(N1);F1.exports=N1;var jT=F1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zT=R,Sn=jT;function O(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var O1=new Set,Nc={};function Sa(n,e){ku(n,e),ku(n+"Capture",e)}function ku(n,e){for(Nc[n]=e,n=0;n<e.length;n++)O1.add(e[n])}var Li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ty=Object.prototype.hasOwnProperty,HT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v_={},y_={};function BT(n){return Ty.call(y_,n)?!0:Ty.call(v_,n)?!1:HT.test(n)?y_[n]=!0:(v_[n]=!0,!1)}function UT(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function $T(n,e,t,r){if(e===null||typeof e>"u"||UT(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yt(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Rt[n]=new Yt(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Rt[e]=new Yt(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Rt[n]=new Yt(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Rt[n]=new Yt(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Rt[n]=new Yt(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Rt[n]=new Yt(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Rt[n]=new Yt(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Rt[n]=new Yt(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Rt[n]=new Yt(n,5,!1,n.toLowerCase(),null,!1,!1)});var Kw=/[\-:]([a-z])/g;function Yw(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Kw,Yw);Rt[e]=new Yt(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Kw,Yw);Rt[e]=new Yt(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Kw,Yw);Rt[e]=new Yt(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Rt[n]=new Yt(n,1,!1,n.toLowerCase(),null,!1,!1)});Rt.xlinkHref=new Yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Rt[n]=new Yt(n,1,!1,n.toLowerCase(),null,!0,!0)});function qw(n,e,t,r){var i=Rt.hasOwnProperty(e)?Rt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&($T(e,t,i,r)&&(t=null),r||i===null?BT(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Fi=zT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Uf=Symbol.for("react.element"),Ua=Symbol.for("react.portal"),$a=Symbol.for("react.fragment"),Qw=Symbol.for("react.strict_mode"),ky=Symbol.for("react.profiler"),j1=Symbol.for("react.provider"),z1=Symbol.for("react.context"),Jw=Symbol.for("react.forward_ref"),Py=Symbol.for("react.suspense"),Ry=Symbol.for("react.suspense_list"),Zw=Symbol.for("react.memo"),$i=Symbol.for("react.lazy"),H1=Symbol.for("react.offscreen"),w_=Symbol.iterator;function Vu(n){return n===null||typeof n!="object"?null:(n=w_&&n[w_]||n["@@iterator"],typeof n=="function"?n:null)}var Ve=Object.assign,Gv;function ic(n){if(Gv===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Gv=e&&e[1]||""}return`
`+Gv+n}var Xv=!1;function Kv(n,e){if(!n||Xv)return"";Xv=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{Xv=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?ic(n):""}function VT(n){switch(n.tag){case 5:return ic(n.type);case 16:return ic("Lazy");case 13:return ic("Suspense");case 19:return ic("SuspenseList");case 0:case 2:case 15:return n=Kv(n.type,!1),n;case 11:return n=Kv(n.type.render,!1),n;case 1:return n=Kv(n.type,!0),n;default:return""}}function Ly(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case $a:return"Fragment";case Ua:return"Portal";case ky:return"Profiler";case Qw:return"StrictMode";case Py:return"Suspense";case Ry:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case z1:return(n.displayName||"Context")+".Consumer";case j1:return(n._context.displayName||"Context")+".Provider";case Jw:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Zw:return e=n.displayName||null,e!==null?e:Ly(n.type)||"Memo";case $i:e=n._payload,n=n._init;try{return Ly(n(e))}catch{}}return null}function WT(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ly(e);case 8:return e===Qw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Rs(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function B1(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function GT(n){var e=B1(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function $f(n){n._valueTracker||(n._valueTracker=GT(n))}function U1(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=B1(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Kp(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function My(n,e){var t=e.checked;return Ve({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function E_(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Rs(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $1(n,e){e=e.checked,e!=null&&qw(n,"checked",e,!1)}function Dy(n,e){$1(n,e);var t=Rs(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Iy(n,e.type,t):e.hasOwnProperty("defaultValue")&&Iy(n,e.type,Rs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function __(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Iy(n,e,t){(e!=="number"||Kp(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var sc=Array.isArray;function nl(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Rs(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function Fy(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(O(91));return Ve({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function A_(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(O(92));if(sc(t)){if(1<t.length)throw Error(O(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Rs(t)}}function V1(n,e){var t=Rs(e.value),r=Rs(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function S_(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function W1(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ny(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?W1(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Vf,G1=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Vf=Vf||document.createElement("div"),Vf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Vf.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Oc(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Sc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XT=["Webkit","ms","Moz","O"];Object.keys(Sc).forEach(function(n){XT.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Sc[e]=Sc[n]})});function X1(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Sc.hasOwnProperty(n)&&Sc[n]?(""+e).trim():e+"px"}function K1(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=X1(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var KT=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oy(n,e){if(e){if(KT[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(O(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(O(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(O(61))}if(e.style!=null&&typeof e.style!="object")throw Error(O(62))}}function jy(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zy=null;function eE(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Hy=null,rl=null,il=null;function b_(n){if(n=Tf(n)){if(typeof Hy!="function")throw Error(O(280));var e=n.stateNode;e&&(e=gv(e),Hy(n.stateNode,n.type,e))}}function Y1(n){rl?il?il.push(n):il=[n]:rl=n}function q1(){if(rl){var n=rl,e=il;if(il=rl=null,b_(n),e)for(n=0;n<e.length;n++)b_(e[n])}}function Q1(n,e){return n(e)}function J1(){}var Yv=!1;function Z1(n,e,t){if(Yv)return n(e,t);Yv=!0;try{return Q1(n,e,t)}finally{Yv=!1,(rl!==null||il!==null)&&(J1(),q1())}}function jc(n,e){var t=n.stateNode;if(t===null)return null;var r=gv(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(O(231,e,typeof t));return t}var By=!1;if(Li)try{var Wu={};Object.defineProperty(Wu,"passive",{get:function(){By=!0}}),window.addEventListener("test",Wu,Wu),window.removeEventListener("test",Wu,Wu)}catch{By=!1}function YT(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(h){this.onError(h)}}var bc=!1,Yp=null,qp=!1,Uy=null,qT={onError:function(n){bc=!0,Yp=n}};function QT(n,e,t,r,i,s,o,a,l){bc=!1,Yp=null,YT.apply(qT,arguments)}function JT(n,e,t,r,i,s,o,a,l){if(QT.apply(this,arguments),bc){if(bc){var c=Yp;bc=!1,Yp=null}else throw Error(O(198));qp||(qp=!0,Uy=c)}}function ba(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function eS(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function x_(n){if(ba(n)!==n)throw Error(O(188))}function ZT(n){var e=n.alternate;if(!e){if(e=ba(n),e===null)throw Error(O(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return x_(i),n;if(s===r)return x_(i),e;s=s.sibling}throw Error(O(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(O(189))}}if(t.alternate!==r)throw Error(O(190))}if(t.tag!==3)throw Error(O(188));return t.stateNode.current===t?n:e}function tS(n){return n=ZT(n),n!==null?nS(n):null}function nS(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=nS(n);if(e!==null)return e;n=n.sibling}return null}var rS=Sn.unstable_scheduleCallback,C_=Sn.unstable_cancelCallback,ek=Sn.unstable_shouldYield,tk=Sn.unstable_requestPaint,Ke=Sn.unstable_now,nk=Sn.unstable_getCurrentPriorityLevel,tE=Sn.unstable_ImmediatePriority,iS=Sn.unstable_UserBlockingPriority,Qp=Sn.unstable_NormalPriority,rk=Sn.unstable_LowPriority,sS=Sn.unstable_IdlePriority,hv=null,Or=null;function ik(n){if(Or&&typeof Or.onCommitFiberRoot=="function")try{Or.onCommitFiberRoot(hv,n,void 0,(n.current.flags&128)===128)}catch{}}var or=Math.clz32?Math.clz32:ak,sk=Math.log,ok=Math.LN2;function ak(n){return n>>>=0,n===0?32:31-(sk(n)/ok|0)|0}var Wf=64,Gf=4194304;function oc(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Jp(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=oc(a):(s&=o,s!==0&&(r=oc(s)))}else o=t&~i,o!==0?r=oc(o):s!==0&&(r=oc(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-or(e),i=1<<t,r|=n[t],e&=~i;return r}function lk(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uk(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-or(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=lk(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function $y(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function oS(){var n=Wf;return Wf<<=1,!(Wf&4194240)&&(Wf=64),n}function qv(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function xf(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-or(e),n[e]=t}function ck(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-or(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function nE(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-or(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var xe=0;function aS(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var lS,rE,uS,cS,hS,Vy=!1,Xf=[],As=null,Ss=null,bs=null,zc=new Map,Hc=new Map,Wi=[],hk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function T_(n,e){switch(n){case"focusin":case"focusout":As=null;break;case"dragenter":case"dragleave":Ss=null;break;case"mouseover":case"mouseout":bs=null;break;case"pointerover":case"pointerout":zc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hc.delete(e.pointerId)}}function Gu(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Tf(e),e!==null&&rE(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function dk(n,e,t,r,i){switch(e){case"focusin":return As=Gu(As,n,e,t,r,i),!0;case"dragenter":return Ss=Gu(Ss,n,e,t,r,i),!0;case"mouseover":return bs=Gu(bs,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return zc.set(s,Gu(zc.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Hc.set(s,Gu(Hc.get(s)||null,n,e,t,r,i)),!0}return!1}function dS(n){var e=Js(n.target);if(e!==null){var t=ba(e);if(t!==null){if(e=t.tag,e===13){if(e=eS(t),e!==null){n.blockedOn=e,hS(n.priority,function(){uS(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function fp(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Wy(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);zy=r,t.target.dispatchEvent(r),zy=null}else return e=Tf(t),e!==null&&rE(e),n.blockedOn=t,!1;e.shift()}return!0}function k_(n,e,t){fp(n)&&t.delete(e)}function fk(){Vy=!1,As!==null&&fp(As)&&(As=null),Ss!==null&&fp(Ss)&&(Ss=null),bs!==null&&fp(bs)&&(bs=null),zc.forEach(k_),Hc.forEach(k_)}function Xu(n,e){n.blockedOn===e&&(n.blockedOn=null,Vy||(Vy=!0,Sn.unstable_scheduleCallback(Sn.unstable_NormalPriority,fk)))}function Bc(n){function e(i){return Xu(i,n)}if(0<Xf.length){Xu(Xf[0],n);for(var t=1;t<Xf.length;t++){var r=Xf[t];r.blockedOn===n&&(r.blockedOn=null)}}for(As!==null&&Xu(As,n),Ss!==null&&Xu(Ss,n),bs!==null&&Xu(bs,n),zc.forEach(e),Hc.forEach(e),t=0;t<Wi.length;t++)r=Wi[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Wi.length&&(t=Wi[0],t.blockedOn===null);)dS(t),t.blockedOn===null&&Wi.shift()}var sl=Fi.ReactCurrentBatchConfig,Zp=!0;function pk(n,e,t,r){var i=xe,s=sl.transition;sl.transition=null;try{xe=1,iE(n,e,t,r)}finally{xe=i,sl.transition=s}}function gk(n,e,t,r){var i=xe,s=sl.transition;sl.transition=null;try{xe=4,iE(n,e,t,r)}finally{xe=i,sl.transition=s}}function iE(n,e,t,r){if(Zp){var i=Wy(n,e,t,r);if(i===null)oy(n,e,r,eg,t),T_(n,r);else if(dk(i,n,e,t,r))r.stopPropagation();else if(T_(n,r),e&4&&-1<hk.indexOf(n)){for(;i!==null;){var s=Tf(i);if(s!==null&&lS(s),s=Wy(n,e,t,r),s===null&&oy(n,e,r,eg,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else oy(n,e,r,null,t)}}var eg=null;function Wy(n,e,t,r){if(eg=null,n=eE(r),n=Js(n),n!==null)if(e=ba(n),e===null)n=null;else if(t=e.tag,t===13){if(n=eS(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return eg=n,null}function fS(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nk()){case tE:return 1;case iS:return 4;case Qp:case rk:return 16;case sS:return 536870912;default:return 16}default:return 16}}var Es=null,sE=null,pp=null;function pS(){if(pp)return pp;var n,e=sE,t=e.length,r,i="value"in Es?Es.value:Es.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return pp=i.slice(n,1<r?1-r:void 0)}function gp(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Kf(){return!0}function P_(){return!1}function xn(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Kf:P_,this.isPropagationStopped=P_,this}return Ve(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Kf)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Kf)},persist:function(){},isPersistent:Kf}),e}var ju={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oE=xn(ju),Cf=Ve({},ju,{view:0,detail:0}),mk=xn(Cf),Qv,Jv,Ku,dv=Ve({},Cf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aE,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ku&&(Ku&&n.type==="mousemove"?(Qv=n.screenX-Ku.screenX,Jv=n.screenY-Ku.screenY):Jv=Qv=0,Ku=n),Qv)},movementY:function(n){return"movementY"in n?n.movementY:Jv}}),R_=xn(dv),vk=Ve({},dv,{dataTransfer:0}),yk=xn(vk),wk=Ve({},Cf,{relatedTarget:0}),Zv=xn(wk),Ek=Ve({},ju,{animationName:0,elapsedTime:0,pseudoElement:0}),_k=xn(Ek),Ak=Ve({},ju,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Sk=xn(Ak),bk=Ve({},ju,{data:0}),L_=xn(bk),xk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ck={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kk(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=Tk[n])?!!e[n]:!1}function aE(){return kk}var Pk=Ve({},Cf,{key:function(n){if(n.key){var e=xk[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=gp(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ck[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aE,charCode:function(n){return n.type==="keypress"?gp(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?gp(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Rk=xn(Pk),Lk=Ve({},dv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),M_=xn(Lk),Mk=Ve({},Cf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aE}),Dk=xn(Mk),Ik=Ve({},ju,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fk=xn(Ik),Nk=Ve({},dv,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ok=xn(Nk),jk=[9,13,27,32],lE=Li&&"CompositionEvent"in window,xc=null;Li&&"documentMode"in document&&(xc=document.documentMode);var zk=Li&&"TextEvent"in window&&!xc,gS=Li&&(!lE||xc&&8<xc&&11>=xc),D_=" ",I_=!1;function mS(n,e){switch(n){case"keyup":return jk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vS(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Va=!1;function Hk(n,e){switch(n){case"compositionend":return vS(e);case"keypress":return e.which!==32?null:(I_=!0,D_);case"textInput":return n=e.data,n===D_&&I_?null:n;default:return null}}function Bk(n,e){if(Va)return n==="compositionend"||!lE&&mS(n,e)?(n=pS(),pp=sE=Es=null,Va=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return gS&&e.locale!=="ko"?null:e.data;default:return null}}var Uk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function F_(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!Uk[n.type]:e==="textarea"}function yS(n,e,t,r){Y1(r),e=tg(e,"onChange"),0<e.length&&(t=new oE("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Cc=null,Uc=null;function $k(n){PS(n,0)}function fv(n){var e=Xa(n);if(U1(e))return n}function Vk(n,e){if(n==="change")return e}var wS=!1;if(Li){var ey;if(Li){var ty="oninput"in document;if(!ty){var N_=document.createElement("div");N_.setAttribute("oninput","return;"),ty=typeof N_.oninput=="function"}ey=ty}else ey=!1;wS=ey&&(!document.documentMode||9<document.documentMode)}function O_(){Cc&&(Cc.detachEvent("onpropertychange",ES),Uc=Cc=null)}function ES(n){if(n.propertyName==="value"&&fv(Uc)){var e=[];yS(e,Uc,n,eE(n)),Z1($k,e)}}function Wk(n,e,t){n==="focusin"?(O_(),Cc=e,Uc=t,Cc.attachEvent("onpropertychange",ES)):n==="focusout"&&O_()}function Gk(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return fv(Uc)}function Xk(n,e){if(n==="click")return fv(e)}function Kk(n,e){if(n==="input"||n==="change")return fv(e)}function Yk(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var lr=typeof Object.is=="function"?Object.is:Yk;function $c(n,e){if(lr(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!Ty.call(e,i)||!lr(n[i],e[i]))return!1}return!0}function j_(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function z_(n,e){var t=j_(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=j_(t)}}function _S(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?_S(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function AS(){for(var n=window,e=Kp();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Kp(n.document)}return e}function uE(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function qk(n){var e=AS(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&_S(t.ownerDocument.documentElement,t)){if(r!==null&&uE(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=z_(t,s);var o=z_(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Qk=Li&&"documentMode"in document&&11>=document.documentMode,Wa=null,Gy=null,Tc=null,Xy=!1;function H_(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Xy||Wa==null||Wa!==Kp(r)||(r=Wa,"selectionStart"in r&&uE(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Tc&&$c(Tc,r)||(Tc=r,r=tg(Gy,"onSelect"),0<r.length&&(e=new oE("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Wa)))}function Yf(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Ga={animationend:Yf("Animation","AnimationEnd"),animationiteration:Yf("Animation","AnimationIteration"),animationstart:Yf("Animation","AnimationStart"),transitionend:Yf("Transition","TransitionEnd")},ny={},SS={};Li&&(SS=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function pv(n){if(ny[n])return ny[n];if(!Ga[n])return n;var e=Ga[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in SS)return ny[n]=e[t];return n}var bS=pv("animationend"),xS=pv("animationiteration"),CS=pv("animationstart"),TS=pv("transitionend"),kS=new Map,B_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ds(n,e){kS.set(n,e),Sa(e,[n])}for(var ry=0;ry<B_.length;ry++){var iy=B_[ry],Jk=iy.toLowerCase(),Zk=iy[0].toUpperCase()+iy.slice(1);Ds(Jk,"on"+Zk)}Ds(bS,"onAnimationEnd");Ds(xS,"onAnimationIteration");Ds(CS,"onAnimationStart");Ds("dblclick","onDoubleClick");Ds("focusin","onFocus");Ds("focusout","onBlur");Ds(TS,"onTransitionEnd");ku("onMouseEnter",["mouseout","mouseover"]);ku("onMouseLeave",["mouseout","mouseover"]);ku("onPointerEnter",["pointerout","pointerover"]);ku("onPointerLeave",["pointerout","pointerover"]);Sa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eP=new Set("cancel close invalid load scroll toggle".split(" ").concat(ac));function U_(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,JT(r,e,void 0,n),n.currentTarget=null}function PS(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;U_(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;U_(i,a,c),s=l}}}if(qp)throw n=Uy,qp=!1,Uy=null,n}function De(n,e){var t=e[Jy];t===void 0&&(t=e[Jy]=new Set);var r=n+"__bubble";t.has(r)||(RS(e,n,2,!1),t.add(r))}function sy(n,e,t){var r=0;e&&(r|=4),RS(t,n,r,e)}var qf="_reactListening"+Math.random().toString(36).slice(2);function Vc(n){if(!n[qf]){n[qf]=!0,O1.forEach(function(t){t!=="selectionchange"&&(eP.has(t)||sy(t,!1,n),sy(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[qf]||(e[qf]=!0,sy("selectionchange",!1,e))}}function RS(n,e,t,r){switch(fS(e)){case 1:var i=pk;break;case 4:i=gk;break;default:i=iE}t=i.bind(null,e,t,n),i=void 0,!By||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function oy(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Js(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Z1(function(){var c=s,h=eE(t),d=[];e:{var f=kS.get(n);if(f!==void 0){var p=oE,g=n;switch(n){case"keypress":if(gp(t)===0)break e;case"keydown":case"keyup":p=Rk;break;case"focusin":g="focus",p=Zv;break;case"focusout":g="blur",p=Zv;break;case"beforeblur":case"afterblur":p=Zv;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=R_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=yk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Dk;break;case bS:case xS:case CS:p=_k;break;case TS:p=Fk;break;case"scroll":p=mk;break;case"wheel":p=Ok;break;case"copy":case"cut":case"paste":p=Sk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=M_}var y=(e&4)!==0,S=!y&&n==="scroll",v=y?f!==null?f+"Capture":null:f;y=[];for(var w=c,A;w!==null;){A=w;var x=A.stateNode;if(A.tag===5&&x!==null&&(A=x,v!==null&&(x=jc(w,v),x!=null&&y.push(Wc(w,x,A)))),S)break;w=w.return}0<y.length&&(f=new p(f,g,null,t,h),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",f&&t!==zy&&(g=t.relatedTarget||t.fromElement)&&(Js(g)||g[Mi]))break e;if((p||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=t.relatedTarget||t.toElement,p=c,g=g?Js(g):null,g!==null&&(S=ba(g),g!==S||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(y=R_,x="onMouseLeave",v="onMouseEnter",w="mouse",(n==="pointerout"||n==="pointerover")&&(y=M_,x="onPointerLeave",v="onPointerEnter",w="pointer"),S=p==null?f:Xa(p),A=g==null?f:Xa(g),f=new y(x,w+"leave",p,t,h),f.target=S,f.relatedTarget=A,x=null,Js(h)===c&&(y=new y(v,w+"enter",g,t,h),y.target=A,y.relatedTarget=S,x=y),S=x,p&&g)t:{for(y=p,v=g,w=0,A=y;A;A=Ia(A))w++;for(A=0,x=v;x;x=Ia(x))A++;for(;0<w-A;)y=Ia(y),w--;for(;0<A-w;)v=Ia(v),A--;for(;w--;){if(y===v||v!==null&&y===v.alternate)break t;y=Ia(y),v=Ia(v)}y=null}else y=null;p!==null&&$_(d,f,p,y,!1),g!==null&&S!==null&&$_(d,S,g,y,!0)}}e:{if(f=c?Xa(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var C=Vk;else if(F_(f))if(wS)C=Kk;else{C=Gk;var T=Wk}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=Xk);if(C&&(C=C(n,c))){yS(d,C,t,h);break e}T&&T(n,f,c),n==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&Iy(f,"number",f.value)}switch(T=c?Xa(c):window,n){case"focusin":(F_(T)||T.contentEditable==="true")&&(Wa=T,Gy=c,Tc=null);break;case"focusout":Tc=Gy=Wa=null;break;case"mousedown":Xy=!0;break;case"contextmenu":case"mouseup":case"dragend":Xy=!1,H_(d,t,h);break;case"selectionchange":if(Qk)break;case"keydown":case"keyup":H_(d,t,h)}var b;if(lE)e:{switch(n){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Va?mS(n,t)&&(L="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(L="onCompositionStart");L&&(gS&&t.locale!=="ko"&&(Va||L!=="onCompositionStart"?L==="onCompositionEnd"&&Va&&(b=pS()):(Es=h,sE="value"in Es?Es.value:Es.textContent,Va=!0)),T=tg(c,L),0<T.length&&(L=new L_(L,n,null,t,h),d.push({event:L,listeners:T}),b?L.data=b:(b=vS(t),b!==null&&(L.data=b)))),(b=zk?Hk(n,t):Bk(n,t))&&(c=tg(c,"onBeforeInput"),0<c.length&&(h=new L_("onBeforeInput","beforeinput",null,t,h),d.push({event:h,listeners:c}),h.data=b))}PS(d,e)})}function Wc(n,e,t){return{instance:n,listener:e,currentTarget:t}}function tg(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=jc(n,t),s!=null&&r.unshift(Wc(n,s,i)),s=jc(n,e),s!=null&&r.push(Wc(n,s,i))),n=n.return}return r}function Ia(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function $_(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=jc(t,s),l!=null&&o.unshift(Wc(t,l,a))):i||(l=jc(t,s),l!=null&&o.push(Wc(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var tP=/\r\n?/g,nP=/\u0000|\uFFFD/g;function V_(n){return(typeof n=="string"?n:""+n).replace(tP,`
`).replace(nP,"")}function Qf(n,e,t){if(e=V_(e),V_(n)!==e&&t)throw Error(O(425))}function ng(){}var Ky=null,Yy=null;function qy(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Qy=typeof setTimeout=="function"?setTimeout:void 0,rP=typeof clearTimeout=="function"?clearTimeout:void 0,W_=typeof Promise=="function"?Promise:void 0,iP=typeof queueMicrotask=="function"?queueMicrotask:typeof W_<"u"?function(n){return W_.resolve(null).then(n).catch(sP)}:Qy;function sP(n){setTimeout(function(){throw n})}function ay(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),Bc(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);Bc(e)}function xs(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function G_(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var zu=Math.random().toString(36).slice(2),Nr="__reactFiber$"+zu,Gc="__reactProps$"+zu,Mi="__reactContainer$"+zu,Jy="__reactEvents$"+zu,oP="__reactListeners$"+zu,aP="__reactHandles$"+zu;function Js(n){var e=n[Nr];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Mi]||t[Nr]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=G_(n);n!==null;){if(t=n[Nr])return t;n=G_(n)}return e}n=t,t=n.parentNode}return null}function Tf(n){return n=n[Nr]||n[Mi],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Xa(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(O(33))}function gv(n){return n[Gc]||null}var Zy=[],Ka=-1;function Is(n){return{current:n}}function Fe(n){0>Ka||(n.current=Zy[Ka],Zy[Ka]=null,Ka--)}function Le(n,e){Ka++,Zy[Ka]=n.current,n.current=e}var Ls={},zt=Is(Ls),sn=Is(!1),fa=Ls;function Pu(n,e){var t=n.type.contextTypes;if(!t)return Ls;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function on(n){return n=n.childContextTypes,n!=null}function rg(){Fe(sn),Fe(zt)}function X_(n,e,t){if(zt.current!==Ls)throw Error(O(168));Le(zt,e),Le(sn,t)}function LS(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(O(108,WT(n)||"Unknown",i));return Ve({},t,r)}function ig(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ls,fa=zt.current,Le(zt,n),Le(sn,sn.current),!0}function K_(n,e,t){var r=n.stateNode;if(!r)throw Error(O(169));t?(n=LS(n,e,fa),r.__reactInternalMemoizedMergedChildContext=n,Fe(sn),Fe(zt),Le(zt,n)):Fe(sn),Le(sn,t)}var Yr=null,mv=!1,ly=!1;function MS(n){Yr===null?Yr=[n]:Yr.push(n)}function lP(n){mv=!0,MS(n)}function Fs(){if(!ly&&Yr!==null){ly=!0;var n=0,e=xe;try{var t=Yr;for(xe=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}Yr=null,mv=!1}catch(i){throw Yr!==null&&(Yr=Yr.slice(n+1)),rS(tE,Fs),i}finally{xe=e,ly=!1}}return null}var Ya=[],qa=0,sg=null,og=0,Fn=[],Nn=0,pa=null,bi=1,xi="";function Ws(n,e){Ya[qa++]=og,Ya[qa++]=sg,sg=n,og=e}function DS(n,e,t){Fn[Nn++]=bi,Fn[Nn++]=xi,Fn[Nn++]=pa,pa=n;var r=bi;n=xi;var i=32-or(r)-1;r&=~(1<<i),t+=1;var s=32-or(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,bi=1<<32-or(e)+i|t<<i|r,xi=s+n}else bi=1<<s|t<<i|r,xi=n}function cE(n){n.return!==null&&(Ws(n,1),DS(n,1,0))}function hE(n){for(;n===sg;)sg=Ya[--qa],Ya[qa]=null,og=Ya[--qa],Ya[qa]=null;for(;n===pa;)pa=Fn[--Nn],Fn[Nn]=null,xi=Fn[--Nn],Fn[Nn]=null,bi=Fn[--Nn],Fn[Nn]=null}var An=null,_n=null,ze=!1,sr=null;function IS(n,e){var t=jn(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function Y_(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,An=n,_n=xs(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,An=n,_n=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=pa!==null?{id:bi,overflow:xi}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=jn(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,An=n,_n=null,!0):!1;default:return!1}}function e0(n){return(n.mode&1)!==0&&(n.flags&128)===0}function t0(n){if(ze){var e=_n;if(e){var t=e;if(!Y_(n,e)){if(e0(n))throw Error(O(418));e=xs(t.nextSibling);var r=An;e&&Y_(n,e)?IS(r,t):(n.flags=n.flags&-4097|2,ze=!1,An=n)}}else{if(e0(n))throw Error(O(418));n.flags=n.flags&-4097|2,ze=!1,An=n}}}function q_(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;An=n}function Jf(n){if(n!==An)return!1;if(!ze)return q_(n),ze=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!qy(n.type,n.memoizedProps)),e&&(e=_n)){if(e0(n))throw FS(),Error(O(418));for(;e;)IS(n,e),e=xs(e.nextSibling)}if(q_(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(O(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){_n=xs(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}_n=null}}else _n=An?xs(n.stateNode.nextSibling):null;return!0}function FS(){for(var n=_n;n;)n=xs(n.nextSibling)}function Ru(){_n=An=null,ze=!1}function dE(n){sr===null?sr=[n]:sr.push(n)}var uP=Fi.ReactCurrentBatchConfig;function Yu(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(O(309));var r=t.stateNode}if(!r)throw Error(O(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(O(284));if(!t._owner)throw Error(O(290,n))}return n}function Zf(n,e){throw n=Object.prototype.toString.call(e),Error(O(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function Q_(n){var e=n._init;return e(n._payload)}function NS(n){function e(v,w){if(n){var A=v.deletions;A===null?(v.deletions=[w],v.flags|=16):A.push(w)}}function t(v,w){if(!n)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function i(v,w){return v=Ps(v,w),v.index=0,v.sibling=null,v}function s(v,w,A){return v.index=A,n?(A=v.alternate,A!==null?(A=A.index,A<w?(v.flags|=2,w):A):(v.flags|=2,w)):(v.flags|=1048576,w)}function o(v){return n&&v.alternate===null&&(v.flags|=2),v}function a(v,w,A,x){return w===null||w.tag!==6?(w=gy(A,v.mode,x),w.return=v,w):(w=i(w,A),w.return=v,w)}function l(v,w,A,x){var C=A.type;return C===$a?h(v,w,A.props.children,x,A.key):w!==null&&(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===$i&&Q_(C)===w.type)?(x=i(w,A.props),x.ref=Yu(v,w,A),x.return=v,x):(x=Ap(A.type,A.key,A.props,null,v.mode,x),x.ref=Yu(v,w,A),x.return=v,x)}function c(v,w,A,x){return w===null||w.tag!==4||w.stateNode.containerInfo!==A.containerInfo||w.stateNode.implementation!==A.implementation?(w=my(A,v.mode,x),w.return=v,w):(w=i(w,A.children||[]),w.return=v,w)}function h(v,w,A,x,C){return w===null||w.tag!==7?(w=da(A,v.mode,x,C),w.return=v,w):(w=i(w,A),w.return=v,w)}function d(v,w,A){if(typeof w=="string"&&w!==""||typeof w=="number")return w=gy(""+w,v.mode,A),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Uf:return A=Ap(w.type,w.key,w.props,null,v.mode,A),A.ref=Yu(v,null,w),A.return=v,A;case Ua:return w=my(w,v.mode,A),w.return=v,w;case $i:var x=w._init;return d(v,x(w._payload),A)}if(sc(w)||Vu(w))return w=da(w,v.mode,A,null),w.return=v,w;Zf(v,w)}return null}function f(v,w,A,x){var C=w!==null?w.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return C!==null?null:a(v,w,""+A,x);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Uf:return A.key===C?l(v,w,A,x):null;case Ua:return A.key===C?c(v,w,A,x):null;case $i:return C=A._init,f(v,w,C(A._payload),x)}if(sc(A)||Vu(A))return C!==null?null:h(v,w,A,x,null);Zf(v,A)}return null}function p(v,w,A,x,C){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(A)||null,a(w,v,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Uf:return v=v.get(x.key===null?A:x.key)||null,l(w,v,x,C);case Ua:return v=v.get(x.key===null?A:x.key)||null,c(w,v,x,C);case $i:var T=x._init;return p(v,w,A,T(x._payload),C)}if(sc(x)||Vu(x))return v=v.get(A)||null,h(w,v,x,C,null);Zf(w,x)}return null}function g(v,w,A,x){for(var C=null,T=null,b=w,L=w=0,N=null;b!==null&&L<A.length;L++){b.index>L?(N=b,b=null):N=b.sibling;var F=f(v,b,A[L],x);if(F===null){b===null&&(b=N);break}n&&b&&F.alternate===null&&e(v,b),w=s(F,w,L),T===null?C=F:T.sibling=F,T=F,b=N}if(L===A.length)return t(v,b),ze&&Ws(v,L),C;if(b===null){for(;L<A.length;L++)b=d(v,A[L],x),b!==null&&(w=s(b,w,L),T===null?C=b:T.sibling=b,T=b);return ze&&Ws(v,L),C}for(b=r(v,b);L<A.length;L++)N=p(b,v,L,A[L],x),N!==null&&(n&&N.alternate!==null&&b.delete(N.key===null?L:N.key),w=s(N,w,L),T===null?C=N:T.sibling=N,T=N);return n&&b.forEach(function(I){return e(v,I)}),ze&&Ws(v,L),C}function y(v,w,A,x){var C=Vu(A);if(typeof C!="function")throw Error(O(150));if(A=C.call(A),A==null)throw Error(O(151));for(var T=C=null,b=w,L=w=0,N=null,F=A.next();b!==null&&!F.done;L++,F=A.next()){b.index>L?(N=b,b=null):N=b.sibling;var I=f(v,b,F.value,x);if(I===null){b===null&&(b=N);break}n&&b&&I.alternate===null&&e(v,b),w=s(I,w,L),T===null?C=I:T.sibling=I,T=I,b=N}if(F.done)return t(v,b),ze&&Ws(v,L),C;if(b===null){for(;!F.done;L++,F=A.next())F=d(v,F.value,x),F!==null&&(w=s(F,w,L),T===null?C=F:T.sibling=F,T=F);return ze&&Ws(v,L),C}for(b=r(v,b);!F.done;L++,F=A.next())F=p(b,v,L,F.value,x),F!==null&&(n&&F.alternate!==null&&b.delete(F.key===null?L:F.key),w=s(F,w,L),T===null?C=F:T.sibling=F,T=F);return n&&b.forEach(function(K){return e(v,K)}),ze&&Ws(v,L),C}function S(v,w,A,x){if(typeof A=="object"&&A!==null&&A.type===$a&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Uf:e:{for(var C=A.key,T=w;T!==null;){if(T.key===C){if(C=A.type,C===$a){if(T.tag===7){t(v,T.sibling),w=i(T,A.props.children),w.return=v,v=w;break e}}else if(T.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===$i&&Q_(C)===T.type){t(v,T.sibling),w=i(T,A.props),w.ref=Yu(v,T,A),w.return=v,v=w;break e}t(v,T);break}else e(v,T);T=T.sibling}A.type===$a?(w=da(A.props.children,v.mode,x,A.key),w.return=v,v=w):(x=Ap(A.type,A.key,A.props,null,v.mode,x),x.ref=Yu(v,w,A),x.return=v,v=x)}return o(v);case Ua:e:{for(T=A.key;w!==null;){if(w.key===T)if(w.tag===4&&w.stateNode.containerInfo===A.containerInfo&&w.stateNode.implementation===A.implementation){t(v,w.sibling),w=i(w,A.children||[]),w.return=v,v=w;break e}else{t(v,w);break}else e(v,w);w=w.sibling}w=my(A,v.mode,x),w.return=v,v=w}return o(v);case $i:return T=A._init,S(v,w,T(A._payload),x)}if(sc(A))return g(v,w,A,x);if(Vu(A))return y(v,w,A,x);Zf(v,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,w!==null&&w.tag===6?(t(v,w.sibling),w=i(w,A),w.return=v,v=w):(t(v,w),w=gy(A,v.mode,x),w.return=v,v=w),o(v)):t(v,w)}return S}var Lu=NS(!0),OS=NS(!1),ag=Is(null),lg=null,Qa=null,fE=null;function pE(){fE=Qa=lg=null}function gE(n){var e=ag.current;Fe(ag),n._currentValue=e}function n0(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function ol(n,e){lg=n,fE=Qa=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(nn=!0),n.firstContext=null)}function Hn(n){var e=n._currentValue;if(fE!==n)if(n={context:n,memoizedValue:e,next:null},Qa===null){if(lg===null)throw Error(O(308));Qa=n,lg.dependencies={lanes:0,firstContext:n}}else Qa=Qa.next=n;return e}var Zs=null;function mE(n){Zs===null?Zs=[n]:Zs.push(n)}function jS(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,mE(e)):(t.next=i.next,i.next=t),e.interleaved=t,Di(n,r)}function Di(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Vi=!1;function vE(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zS(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ti(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Cs(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Ee&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Di(n,t)}return i=r.interleaved,i===null?(e.next=e,mE(r)):(e.next=i.next,i.next=e),r.interleaved=e,Di(n,t)}function mp(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,nE(n,t)}}function J_(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function ug(n,e,t,r){var i=n.updateQueue;Vi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=n.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,h=c=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=n,y=a;switch(f=e,p=t,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(p,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,f=typeof g=="function"?g.call(p,d,f):g,f==null)break e;d=Ve({},d,f);break e;case 2:Vi=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=p,l=d):h=h.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ma|=o,n.lanes=o,n.memoizedState=d}}function Z_(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(O(191,i));i.call(r)}}}var kf={},jr=Is(kf),Xc=Is(kf),Kc=Is(kf);function eo(n){if(n===kf)throw Error(O(174));return n}function yE(n,e){switch(Le(Kc,e),Le(Xc,n),Le(jr,kf),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ny(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Ny(e,n)}Fe(jr),Le(jr,e)}function Mu(){Fe(jr),Fe(Xc),Fe(Kc)}function HS(n){eo(Kc.current);var e=eo(jr.current),t=Ny(e,n.type);e!==t&&(Le(Xc,n),Le(jr,t))}function wE(n){Xc.current===n&&(Fe(jr),Fe(Xc))}var Ue=Is(0);function cg(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var uy=[];function EE(){for(var n=0;n<uy.length;n++)uy[n]._workInProgressVersionPrimary=null;uy.length=0}var vp=Fi.ReactCurrentDispatcher,cy=Fi.ReactCurrentBatchConfig,ga=0,$e=null,ot=null,pt=null,hg=!1,kc=!1,Yc=0,cP=0;function Lt(){throw Error(O(321))}function _E(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!lr(n[t],e[t]))return!1;return!0}function AE(n,e,t,r,i,s){if(ga=s,$e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vp.current=n===null||n.memoizedState===null?pP:gP,n=t(r,i),kc){s=0;do{if(kc=!1,Yc=0,25<=s)throw Error(O(301));s+=1,pt=ot=null,e.updateQueue=null,vp.current=mP,n=t(r,i)}while(kc)}if(vp.current=dg,e=ot!==null&&ot.next!==null,ga=0,pt=ot=$e=null,hg=!1,e)throw Error(O(300));return n}function SE(){var n=Yc!==0;return Yc=0,n}function mr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?$e.memoizedState=pt=n:pt=pt.next=n,pt}function Bn(){if(ot===null){var n=$e.alternate;n=n!==null?n.memoizedState:null}else n=ot.next;var e=pt===null?$e.memoizedState:pt.next;if(e!==null)pt=e,ot=n;else{if(n===null)throw Error(O(310));ot=n,n={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},pt===null?$e.memoizedState=pt=n:pt=pt.next=n}return pt}function qc(n,e){return typeof e=="function"?e(n):e}function hy(n){var e=Bn(),t=e.queue;if(t===null)throw Error(O(311));t.lastRenderedReducer=n;var r=ot,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((ga&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,$e.lanes|=h,ma|=h}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,lr(r,e.memoizedState)||(nn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,$e.lanes|=s,ma|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function dy(n){var e=Bn(),t=e.queue;if(t===null)throw Error(O(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);lr(s,e.memoizedState)||(nn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function BS(){}function US(n,e){var t=$e,r=Bn(),i=e(),s=!lr(r.memoizedState,i);if(s&&(r.memoizedState=i,nn=!0),r=r.queue,bE(WS.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||pt!==null&&pt.memoizedState.tag&1){if(t.flags|=2048,Qc(9,VS.bind(null,t,r,i,e),void 0,null),gt===null)throw Error(O(349));ga&30||$S(t,e,i)}return i}function $S(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function VS(n,e,t,r){e.value=t,e.getSnapshot=r,GS(e)&&XS(n)}function WS(n,e,t){return t(function(){GS(e)&&XS(n)})}function GS(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!lr(n,t)}catch{return!0}}function XS(n){var e=Di(n,1);e!==null&&ar(e,n,1,-1)}function eA(n){var e=mr();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qc,lastRenderedState:n},e.queue=n,n=n.dispatch=fP.bind(null,$e,n),[e.memoizedState,n]}function Qc(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function KS(){return Bn().memoizedState}function yp(n,e,t,r){var i=mr();$e.flags|=n,i.memoizedState=Qc(1|e,t,void 0,r===void 0?null:r)}function vv(n,e,t,r){var i=Bn();r=r===void 0?null:r;var s=void 0;if(ot!==null){var o=ot.memoizedState;if(s=o.destroy,r!==null&&_E(r,o.deps)){i.memoizedState=Qc(e,t,s,r);return}}$e.flags|=n,i.memoizedState=Qc(1|e,t,s,r)}function tA(n,e){return yp(8390656,8,n,e)}function bE(n,e){return vv(2048,8,n,e)}function YS(n,e){return vv(4,2,n,e)}function qS(n,e){return vv(4,4,n,e)}function QS(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function JS(n,e,t){return t=t!=null?t.concat([n]):null,vv(4,4,QS.bind(null,e,n),t)}function xE(){}function ZS(n,e){var t=Bn();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&_E(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function eb(n,e){var t=Bn();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&_E(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function tb(n,e,t){return ga&21?(lr(t,e)||(t=oS(),$e.lanes|=t,ma|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,nn=!0),n.memoizedState=t)}function hP(n,e){var t=xe;xe=t!==0&&4>t?t:4,n(!0);var r=cy.transition;cy.transition={};try{n(!1),e()}finally{xe=t,cy.transition=r}}function nb(){return Bn().memoizedState}function dP(n,e,t){var r=ks(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},rb(n))ib(e,t);else if(t=jS(n,e,t,r),t!==null){var i=Xt();ar(t,n,r,i),sb(t,e,r)}}function fP(n,e,t){var r=ks(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(rb(n))ib(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,lr(a,o)){var l=e.interleaved;l===null?(i.next=i,mE(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=jS(n,e,i,r),t!==null&&(i=Xt(),ar(t,n,r,i),sb(t,e,r))}}function rb(n){var e=n.alternate;return n===$e||e!==null&&e===$e}function ib(n,e){kc=hg=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function sb(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,nE(n,t)}}var dg={readContext:Hn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},pP={readContext:Hn,useCallback:function(n,e){return mr().memoizedState=[n,e===void 0?null:e],n},useContext:Hn,useEffect:tA,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,yp(4194308,4,QS.bind(null,e,n),t)},useLayoutEffect:function(n,e){return yp(4194308,4,n,e)},useInsertionEffect:function(n,e){return yp(4,2,n,e)},useMemo:function(n,e){var t=mr();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=mr();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=dP.bind(null,$e,n),[r.memoizedState,n]},useRef:function(n){var e=mr();return n={current:n},e.memoizedState=n},useState:eA,useDebugValue:xE,useDeferredValue:function(n){return mr().memoizedState=n},useTransition:function(){var n=eA(!1),e=n[0];return n=hP.bind(null,n[1]),mr().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=$e,i=mr();if(ze){if(t===void 0)throw Error(O(407));t=t()}else{if(t=e(),gt===null)throw Error(O(349));ga&30||$S(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,tA(WS.bind(null,r,s,n),[n]),r.flags|=2048,Qc(9,VS.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=mr(),e=gt.identifierPrefix;if(ze){var t=xi,r=bi;t=(r&~(1<<32-or(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Yc++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=cP++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},gP={readContext:Hn,useCallback:ZS,useContext:Hn,useEffect:bE,useImperativeHandle:JS,useInsertionEffect:YS,useLayoutEffect:qS,useMemo:eb,useReducer:hy,useRef:KS,useState:function(){return hy(qc)},useDebugValue:xE,useDeferredValue:function(n){var e=Bn();return tb(e,ot.memoizedState,n)},useTransition:function(){var n=hy(qc)[0],e=Bn().memoizedState;return[n,e]},useMutableSource:BS,useSyncExternalStore:US,useId:nb,unstable_isNewReconciler:!1},mP={readContext:Hn,useCallback:ZS,useContext:Hn,useEffect:bE,useImperativeHandle:JS,useInsertionEffect:YS,useLayoutEffect:qS,useMemo:eb,useReducer:dy,useRef:KS,useState:function(){return dy(qc)},useDebugValue:xE,useDeferredValue:function(n){var e=Bn();return ot===null?e.memoizedState=n:tb(e,ot.memoizedState,n)},useTransition:function(){var n=dy(qc)[0],e=Bn().memoizedState;return[n,e]},useMutableSource:BS,useSyncExternalStore:US,useId:nb,unstable_isNewReconciler:!1};function Vn(n,e){if(n&&n.defaultProps){e=Ve({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function r0(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Ve({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var yv={isMounted:function(n){return(n=n._reactInternals)?ba(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Xt(),i=ks(n),s=Ti(r,i);s.payload=e,t!=null&&(s.callback=t),e=Cs(n,s,i),e!==null&&(ar(e,n,i,r),mp(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Xt(),i=ks(n),s=Ti(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Cs(n,s,i),e!==null&&(ar(e,n,i,r),mp(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Xt(),r=ks(n),i=Ti(t,r);i.tag=2,e!=null&&(i.callback=e),e=Cs(n,i,r),e!==null&&(ar(e,n,r,t),mp(e,n,r))}};function nA(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!$c(t,r)||!$c(i,s):!0}function ob(n,e,t){var r=!1,i=Ls,s=e.contextType;return typeof s=="object"&&s!==null?s=Hn(s):(i=on(e)?fa:zt.current,r=e.contextTypes,s=(r=r!=null)?Pu(n,i):Ls),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=yv,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function rA(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&yv.enqueueReplaceState(e,e.state,null)}function i0(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},vE(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Hn(s):(s=on(e)?fa:zt.current,i.context=Pu(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(r0(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&yv.enqueueReplaceState(i,i.state,null),ug(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function Du(n,e){try{var t="",r=e;do t+=VT(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function fy(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function s0(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var vP=typeof WeakMap=="function"?WeakMap:Map;function ab(n,e,t){t=Ti(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){pg||(pg=!0,g0=r),s0(n,e)},t}function lb(n,e,t){t=Ti(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){s0(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){s0(n,e),typeof r!="function"&&(Ts===null?Ts=new Set([this]):Ts.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function iA(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new vP;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=LP.bind(null,n,e,t),e.then(n,n))}function sA(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function oA(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Ti(-1,1),e.tag=2,Cs(t,e,1))),t.lanes|=1),n)}var yP=Fi.ReactCurrentOwner,nn=!1;function Wt(n,e,t,r){e.child=n===null?OS(e,null,t,r):Lu(e,n.child,t,r)}function aA(n,e,t,r,i){t=t.render;var s=e.ref;return ol(e,i),r=AE(n,e,t,r,s,i),t=SE(),n!==null&&!nn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Ii(n,e,i)):(ze&&t&&cE(e),e.flags|=1,Wt(n,e,r,i),e.child)}function lA(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!DE(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,ub(n,e,s,r,i)):(n=Ap(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:$c,t(o,r)&&n.ref===e.ref)return Ii(n,e,i)}return e.flags|=1,n=Ps(s,r),n.ref=e.ref,n.return=e,e.child=n}function ub(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if($c(s,r)&&n.ref===e.ref)if(nn=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(nn=!0);else return e.lanes=n.lanes,Ii(n,e,i)}return o0(n,e,t,r,i)}function cb(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(Za,En),En|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Le(Za,En),En|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,Le(Za,En),En|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,Le(Za,En),En|=r;return Wt(n,e,i,t),e.child}function hb(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function o0(n,e,t,r,i){var s=on(t)?fa:zt.current;return s=Pu(e,s),ol(e,i),t=AE(n,e,t,r,s,i),r=SE(),n!==null&&!nn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Ii(n,e,i)):(ze&&r&&cE(e),e.flags|=1,Wt(n,e,t,i),e.child)}function uA(n,e,t,r,i){if(on(t)){var s=!0;ig(e)}else s=!1;if(ol(e,i),e.stateNode===null)wp(n,e),ob(e,t,r),i0(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=Hn(c):(c=on(t)?fa:zt.current,c=Pu(e,c));var h=t.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&rA(e,o,r,c),Vi=!1;var f=e.memoizedState;o.state=f,ug(e,r,o,i),l=e.memoizedState,a!==r||f!==l||sn.current||Vi?(typeof h=="function"&&(r0(e,t,h,r),l=e.memoizedState),(a=Vi||nA(e,t,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,zS(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:Vn(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Hn(l):(l=on(t)?fa:zt.current,l=Pu(e,l));var p=t.getDerivedStateFromProps;(h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&rA(e,o,r,l),Vi=!1,f=e.memoizedState,o.state=f,ug(e,r,o,i);var g=e.memoizedState;a!==d||f!==g||sn.current||Vi?(typeof p=="function"&&(r0(e,t,p,r),g=e.memoizedState),(c=Vi||nA(e,t,c,r,f,g,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),r=!1)}return a0(n,e,t,r,s,i)}function a0(n,e,t,r,i,s){hb(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&K_(e,t,!1),Ii(n,e,s);r=e.stateNode,yP.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Lu(e,n.child,null,s),e.child=Lu(e,null,a,s)):Wt(n,e,a,s),e.memoizedState=r.state,i&&K_(e,t,!0),e.child}function db(n){var e=n.stateNode;e.pendingContext?X_(n,e.pendingContext,e.pendingContext!==e.context):e.context&&X_(n,e.context,!1),yE(n,e.containerInfo)}function cA(n,e,t,r,i){return Ru(),dE(i),e.flags|=256,Wt(n,e,t,r),e.child}var l0={dehydrated:null,treeContext:null,retryLane:0};function u0(n){return{baseLanes:n,cachePool:null,transitions:null}}function fb(n,e,t){var r=e.pendingProps,i=Ue.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Le(Ue,i&1),n===null)return t0(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=_v(o,r,0,null),n=da(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=u0(t),e.memoizedState=l0,n):CE(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return wP(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ps(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ps(a,s):(s=da(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?u0(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=l0,r}return s=n.child,n=s.sibling,r=Ps(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function CE(n,e){return e=_v({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function ep(n,e,t,r){return r!==null&&dE(r),Lu(e,n.child,null,t),n=CE(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function wP(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=fy(Error(O(422))),ep(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=_v({mode:"visible",children:r.children},i,0,null),s=da(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Lu(e,n.child,null,o),e.child.memoizedState=u0(o),e.memoizedState=l0,s);if(!(e.mode&1))return ep(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(O(419)),r=fy(s,r,void 0),ep(n,e,o,r)}if(a=(o&n.childLanes)!==0,nn||a){if(r=gt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Di(n,i),ar(r,n,i,-1))}return ME(),r=fy(Error(O(421))),ep(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=MP.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,_n=xs(i.nextSibling),An=e,ze=!0,sr=null,n!==null&&(Fn[Nn++]=bi,Fn[Nn++]=xi,Fn[Nn++]=pa,bi=n.id,xi=n.overflow,pa=e),e=CE(e,r.children),e.flags|=4096,e)}function hA(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),n0(n.return,e,t)}function py(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function pb(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Wt(n,e,r.children,t),r=Ue.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&hA(n,t,e);else if(n.tag===19)hA(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Le(Ue,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&cg(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),py(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&cg(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}py(e,!0,t,null,s);break;case"together":py(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function wp(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Ii(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),ma|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(O(153));if(e.child!==null){for(n=e.child,t=Ps(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Ps(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function EP(n,e,t){switch(e.tag){case 3:db(e),Ru();break;case 5:HS(e);break;case 1:on(e.type)&&ig(e);break;case 4:yE(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Le(ag,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Le(Ue,Ue.current&1),e.flags|=128,null):t&e.child.childLanes?fb(n,e,t):(Le(Ue,Ue.current&1),n=Ii(n,e,t),n!==null?n.sibling:null);Le(Ue,Ue.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return pb(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Le(Ue,Ue.current),r)break;return null;case 22:case 23:return e.lanes=0,cb(n,e,t)}return Ii(n,e,t)}var gb,c0,mb,vb;gb=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};c0=function(){};mb=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,eo(jr.current);var s=null;switch(t){case"input":i=My(n,i),r=My(n,r),s=[];break;case"select":i=Ve({},i,{value:void 0}),r=Ve({},r,{value:void 0}),s=[];break;case"textarea":i=Fy(n,i),r=Fy(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=ng)}Oy(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Nc.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Nc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&De("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};vb=function(n,e,t,r){t!==r&&(e.flags|=4)};function qu(n,e){if(!ze)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Mt(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function _P(n,e,t){var r=e.pendingProps;switch(hE(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(e),null;case 1:return on(e.type)&&rg(),Mt(e),null;case 3:return r=e.stateNode,Mu(),Fe(sn),Fe(zt),EE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Jf(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,sr!==null&&(y0(sr),sr=null))),c0(n,e),Mt(e),null;case 5:wE(e);var i=eo(Kc.current);if(t=e.type,n!==null&&e.stateNode!=null)mb(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(O(166));return Mt(e),null}if(n=eo(jr.current),Jf(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[Nr]=e,r[Gc]=s,n=(e.mode&1)!==0,t){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(i=0;i<ac.length;i++)De(ac[i],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":E_(r,s),De("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},De("invalid",r);break;case"textarea":A_(r,s),De("invalid",r)}Oy(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Qf(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Qf(r.textContent,a,n),i=["children",""+a]):Nc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&De("scroll",r)}switch(t){case"input":$f(r),__(r,s,!0);break;case"textarea":$f(r),S_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ng)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=W1(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[Nr]=e,n[Gc]=r,gb(n,e,!1,!1),e.stateNode=n;e:{switch(o=jy(t,r),t){case"dialog":De("cancel",n),De("close",n),i=r;break;case"iframe":case"object":case"embed":De("load",n),i=r;break;case"video":case"audio":for(i=0;i<ac.length;i++)De(ac[i],n);i=r;break;case"source":De("error",n),i=r;break;case"img":case"image":case"link":De("error",n),De("load",n),i=r;break;case"details":De("toggle",n),i=r;break;case"input":E_(n,r),i=My(n,r),De("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Ve({},r,{value:void 0}),De("invalid",n);break;case"textarea":A_(n,r),i=Fy(n,r),De("invalid",n);break;default:i=r}Oy(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?K1(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&G1(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Oc(n,l):typeof l=="number"&&Oc(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Nc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&De("scroll",n):l!=null&&qw(n,s,l,o))}switch(t){case"input":$f(n),__(n,r,!1);break;case"textarea":$f(n),S_(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Rs(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?nl(n,!!r.multiple,s,!1):r.defaultValue!=null&&nl(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=ng)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Mt(e),null;case 6:if(n&&e.stateNode!=null)vb(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(O(166));if(t=eo(Kc.current),eo(jr.current),Jf(e)){if(r=e.stateNode,t=e.memoizedProps,r[Nr]=e,(s=r.nodeValue!==t)&&(n=An,n!==null))switch(n.tag){case 3:Qf(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Qf(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Nr]=e,e.stateNode=r}return Mt(e),null;case 13:if(Fe(Ue),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(ze&&_n!==null&&e.mode&1&&!(e.flags&128))FS(),Ru(),e.flags|=98560,s=!1;else if(s=Jf(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(O(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(O(317));s[Nr]=e}else Ru(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Mt(e),s=!1}else sr!==null&&(y0(sr),sr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||Ue.current&1?lt===0&&(lt=3):ME())),e.updateQueue!==null&&(e.flags|=4),Mt(e),null);case 4:return Mu(),c0(n,e),n===null&&Vc(e.stateNode.containerInfo),Mt(e),null;case 10:return gE(e.type._context),Mt(e),null;case 17:return on(e.type)&&rg(),Mt(e),null;case 19:if(Fe(Ue),s=e.memoizedState,s===null)return Mt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)qu(s,!1);else{if(lt!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=cg(n),o!==null){for(e.flags|=128,qu(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Le(Ue,Ue.current&1|2),e.child}n=n.sibling}s.tail!==null&&Ke()>Iu&&(e.flags|=128,r=!0,qu(s,!1),e.lanes=4194304)}else{if(!r)if(n=cg(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),qu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ze)return Mt(e),null}else 2*Ke()-s.renderingStartTime>Iu&&t!==1073741824&&(e.flags|=128,r=!0,qu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ke(),e.sibling=null,t=Ue.current,Le(Ue,r?t&1|2:t&1),e):(Mt(e),null);case 22:case 23:return LE(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?En&1073741824&&(Mt(e),e.subtreeFlags&6&&(e.flags|=8192)):Mt(e),null;case 24:return null;case 25:return null}throw Error(O(156,e.tag))}function AP(n,e){switch(hE(e),e.tag){case 1:return on(e.type)&&rg(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Mu(),Fe(sn),Fe(zt),EE(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return wE(e),null;case 13:if(Fe(Ue),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(O(340));Ru()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Fe(Ue),null;case 4:return Mu(),null;case 10:return gE(e.type._context),null;case 22:case 23:return LE(),null;case 24:return null;default:return null}}var tp=!1,Nt=!1,SP=typeof WeakSet=="function"?WeakSet:Set,U=null;function Ja(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Ge(n,e,r)}else t.current=null}function h0(n,e,t){try{t()}catch(r){Ge(n,e,r)}}var dA=!1;function bP(n,e){if(Ky=Zp,n=AS(),uE(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,h=0,d=n,f=null;t:for(;;){for(var p;d!==t||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===n)break t;if(f===t&&++c===i&&(a=o),f===s&&++h===r&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(Yy={focusedElem:n,selectionRange:t},Zp=!1,U=e;U!==null;)if(e=U,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,U=n;else for(;U!==null;){e=U;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,S=g.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:Vn(e.type,y),S);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(x){Ge(e,e.return,x)}if(n=e.sibling,n!==null){n.return=e.return,U=n;break}U=e.return}return g=dA,dA=!1,g}function Pc(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&h0(e,t,s)}i=i.next}while(i!==r)}}function wv(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function d0(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function yb(n){var e=n.alternate;e!==null&&(n.alternate=null,yb(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Nr],delete e[Gc],delete e[Jy],delete e[oP],delete e[aP])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function wb(n){return n.tag===5||n.tag===3||n.tag===4}function fA(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||wb(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function f0(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=ng));else if(r!==4&&(n=n.child,n!==null))for(f0(n,e,t),n=n.sibling;n!==null;)f0(n,e,t),n=n.sibling}function p0(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(p0(n,e,t),n=n.sibling;n!==null;)p0(n,e,t),n=n.sibling}var kt=null,rr=!1;function ji(n,e,t){for(t=t.child;t!==null;)Eb(n,e,t),t=t.sibling}function Eb(n,e,t){if(Or&&typeof Or.onCommitFiberUnmount=="function")try{Or.onCommitFiberUnmount(hv,t)}catch{}switch(t.tag){case 5:Nt||Ja(t,e);case 6:var r=kt,i=rr;kt=null,ji(n,e,t),kt=r,rr=i,kt!==null&&(rr?(n=kt,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):kt.removeChild(t.stateNode));break;case 18:kt!==null&&(rr?(n=kt,t=t.stateNode,n.nodeType===8?ay(n.parentNode,t):n.nodeType===1&&ay(n,t),Bc(n)):ay(kt,t.stateNode));break;case 4:r=kt,i=rr,kt=t.stateNode.containerInfo,rr=!0,ji(n,e,t),kt=r,rr=i;break;case 0:case 11:case 14:case 15:if(!Nt&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&h0(t,e,o),i=i.next}while(i!==r)}ji(n,e,t);break;case 1:if(!Nt&&(Ja(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){Ge(t,e,a)}ji(n,e,t);break;case 21:ji(n,e,t);break;case 22:t.mode&1?(Nt=(r=Nt)||t.memoizedState!==null,ji(n,e,t),Nt=r):ji(n,e,t);break;default:ji(n,e,t)}}function pA(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new SP),e.forEach(function(r){var i=DP.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function Un(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:kt=a.stateNode,rr=!1;break e;case 3:kt=a.stateNode.containerInfo,rr=!0;break e;case 4:kt=a.stateNode.containerInfo,rr=!0;break e}a=a.return}if(kt===null)throw Error(O(160));Eb(s,o,i),kt=null,rr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ge(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_b(e,n),e=e.sibling}function _b(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Un(e,n),pr(n),r&4){try{Pc(3,n,n.return),wv(3,n)}catch(y){Ge(n,n.return,y)}try{Pc(5,n,n.return)}catch(y){Ge(n,n.return,y)}}break;case 1:Un(e,n),pr(n),r&512&&t!==null&&Ja(t,t.return);break;case 5:if(Un(e,n),pr(n),r&512&&t!==null&&Ja(t,t.return),n.flags&32){var i=n.stateNode;try{Oc(i,"")}catch(y){Ge(n,n.return,y)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&$1(i,s),jy(a,o);var c=jy(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?K1(i,d):h==="dangerouslySetInnerHTML"?G1(i,d):h==="children"?Oc(i,d):qw(i,h,d,c)}switch(a){case"input":Dy(i,s);break;case"textarea":V1(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?nl(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?nl(i,!!s.multiple,s.defaultValue,!0):nl(i,!!s.multiple,s.multiple?[]:"",!1))}i[Gc]=s}catch(y){Ge(n,n.return,y)}}break;case 6:if(Un(e,n),pr(n),r&4){if(n.stateNode===null)throw Error(O(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(y){Ge(n,n.return,y)}}break;case 3:if(Un(e,n),pr(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Bc(e.containerInfo)}catch(y){Ge(n,n.return,y)}break;case 4:Un(e,n),pr(n);break;case 13:Un(e,n),pr(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(PE=Ke())),r&4&&pA(n);break;case 22:if(h=t!==null&&t.memoizedState!==null,n.mode&1?(Nt=(c=Nt)||h,Un(e,n),Nt=c):Un(e,n),pr(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!h&&n.mode&1)for(U=n,h=n.child;h!==null;){for(d=U=h;U!==null;){switch(f=U,p=f.child,f.tag){case 0:case 11:case 14:case 15:Pc(4,f,f.return);break;case 1:Ja(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,t=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){Ge(r,t,y)}}break;case 5:Ja(f,f.return);break;case 22:if(f.memoizedState!==null){mA(d);continue}}p!==null?(p.return=f,U=p):mA(d)}h=h.sibling}e:for(h=null,d=n;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=X1("display",o))}catch(y){Ge(n,n.return,y)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){Ge(n,n.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Un(e,n),pr(n),r&4&&pA(n);break;case 21:break;default:Un(e,n),pr(n)}}function pr(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(wb(t)){var r=t;break e}t=t.return}throw Error(O(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Oc(i,""),r.flags&=-33);var s=fA(n);p0(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=fA(n);f0(n,a,o);break;default:throw Error(O(161))}}catch(l){Ge(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function xP(n,e,t){U=n,Ab(n)}function Ab(n,e,t){for(var r=(n.mode&1)!==0;U!==null;){var i=U,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||tp;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Nt;a=tp;var c=Nt;if(tp=o,(Nt=l)&&!c)for(U=i;U!==null;)o=U,l=o.child,o.tag===22&&o.memoizedState!==null?vA(i):l!==null?(l.return=o,U=l):vA(i);for(;s!==null;)U=s,Ab(s),s=s.sibling;U=i,tp=a,Nt=c}gA(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,U=s):gA(n)}}function gA(n){for(;U!==null;){var e=U;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Nt||wv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Nt)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:Vn(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Z_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}Z_(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Bc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Nt||e.flags&512&&d0(e)}catch(f){Ge(e,e.return,f)}}if(e===n){U=null;break}if(t=e.sibling,t!==null){t.return=e.return,U=t;break}U=e.return}}function mA(n){for(;U!==null;){var e=U;if(e===n){U=null;break}var t=e.sibling;if(t!==null){t.return=e.return,U=t;break}U=e.return}}function vA(n){for(;U!==null;){var e=U;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{wv(4,e)}catch(l){Ge(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ge(e,i,l)}}var s=e.return;try{d0(e)}catch(l){Ge(e,s,l)}break;case 5:var o=e.return;try{d0(e)}catch(l){Ge(e,o,l)}}}catch(l){Ge(e,e.return,l)}if(e===n){U=null;break}var a=e.sibling;if(a!==null){a.return=e.return,U=a;break}U=e.return}}var CP=Math.ceil,fg=Fi.ReactCurrentDispatcher,TE=Fi.ReactCurrentOwner,zn=Fi.ReactCurrentBatchConfig,Ee=0,gt=null,Je=null,Pt=0,En=0,Za=Is(0),lt=0,Jc=null,ma=0,Ev=0,kE=0,Rc=null,tn=null,PE=0,Iu=1/0,Wr=null,pg=!1,g0=null,Ts=null,np=!1,_s=null,gg=0,Lc=0,m0=null,Ep=-1,_p=0;function Xt(){return Ee&6?Ke():Ep!==-1?Ep:Ep=Ke()}function ks(n){return n.mode&1?Ee&2&&Pt!==0?Pt&-Pt:uP.transition!==null?(_p===0&&(_p=oS()),_p):(n=xe,n!==0||(n=window.event,n=n===void 0?16:fS(n.type)),n):1}function ar(n,e,t,r){if(50<Lc)throw Lc=0,m0=null,Error(O(185));xf(n,t,r),(!(Ee&2)||n!==gt)&&(n===gt&&(!(Ee&2)&&(Ev|=t),lt===4&&Gi(n,Pt)),an(n,r),t===1&&Ee===0&&!(e.mode&1)&&(Iu=Ke()+500,mv&&Fs()))}function an(n,e){var t=n.callbackNode;uk(n,e);var r=Jp(n,n===gt?Pt:0);if(r===0)t!==null&&C_(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&C_(t),e===1)n.tag===0?lP(yA.bind(null,n)):MS(yA.bind(null,n)),iP(function(){!(Ee&6)&&Fs()}),t=null;else{switch(aS(r)){case 1:t=tE;break;case 4:t=iS;break;case 16:t=Qp;break;case 536870912:t=sS;break;default:t=Qp}t=Rb(t,Sb.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function Sb(n,e){if(Ep=-1,_p=0,Ee&6)throw Error(O(327));var t=n.callbackNode;if(al()&&n.callbackNode!==t)return null;var r=Jp(n,n===gt?Pt:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=mg(n,r);else{e=r;var i=Ee;Ee|=2;var s=xb();(gt!==n||Pt!==e)&&(Wr=null,Iu=Ke()+500,ha(n,e));do try{PP();break}catch(a){bb(n,a)}while(!0);pE(),fg.current=s,Ee=i,Je!==null?e=0:(gt=null,Pt=0,e=lt)}if(e!==0){if(e===2&&(i=$y(n),i!==0&&(r=i,e=v0(n,i))),e===1)throw t=Jc,ha(n,0),Gi(n,r),an(n,Ke()),t;if(e===6)Gi(n,r);else{if(i=n.current.alternate,!(r&30)&&!TP(i)&&(e=mg(n,r),e===2&&(s=$y(n),s!==0&&(r=s,e=v0(n,s))),e===1))throw t=Jc,ha(n,0),Gi(n,r),an(n,Ke()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(O(345));case 2:Gs(n,tn,Wr);break;case 3:if(Gi(n,r),(r&130023424)===r&&(e=PE+500-Ke(),10<e)){if(Jp(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Xt(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=Qy(Gs.bind(null,n,tn,Wr),e);break}Gs(n,tn,Wr);break;case 4:if(Gi(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-or(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*CP(r/1960))-r,10<r){n.timeoutHandle=Qy(Gs.bind(null,n,tn,Wr),r);break}Gs(n,tn,Wr);break;case 5:Gs(n,tn,Wr);break;default:throw Error(O(329))}}}return an(n,Ke()),n.callbackNode===t?Sb.bind(null,n):null}function v0(n,e){var t=Rc;return n.current.memoizedState.isDehydrated&&(ha(n,e).flags|=256),n=mg(n,e),n!==2&&(e=tn,tn=t,e!==null&&y0(e)),n}function y0(n){tn===null?tn=n:tn.push.apply(tn,n)}function TP(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!lr(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gi(n,e){for(e&=~kE,e&=~Ev,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-or(e),r=1<<t;n[t]=-1,e&=~r}}function yA(n){if(Ee&6)throw Error(O(327));al();var e=Jp(n,0);if(!(e&1))return an(n,Ke()),null;var t=mg(n,e);if(n.tag!==0&&t===2){var r=$y(n);r!==0&&(e=r,t=v0(n,r))}if(t===1)throw t=Jc,ha(n,0),Gi(n,e),an(n,Ke()),t;if(t===6)throw Error(O(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Gs(n,tn,Wr),an(n,Ke()),null}function RE(n,e){var t=Ee;Ee|=1;try{return n(e)}finally{Ee=t,Ee===0&&(Iu=Ke()+500,mv&&Fs())}}function va(n){_s!==null&&_s.tag===0&&!(Ee&6)&&al();var e=Ee;Ee|=1;var t=zn.transition,r=xe;try{if(zn.transition=null,xe=1,n)return n()}finally{xe=r,zn.transition=t,Ee=e,!(Ee&6)&&Fs()}}function LE(){En=Za.current,Fe(Za)}function ha(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,rP(t)),Je!==null)for(t=Je.return;t!==null;){var r=t;switch(hE(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&rg();break;case 3:Mu(),Fe(sn),Fe(zt),EE();break;case 5:wE(r);break;case 4:Mu();break;case 13:Fe(Ue);break;case 19:Fe(Ue);break;case 10:gE(r.type._context);break;case 22:case 23:LE()}t=t.return}if(gt=n,Je=n=Ps(n.current,null),Pt=En=e,lt=0,Jc=null,kE=Ev=ma=0,tn=Rc=null,Zs!==null){for(e=0;e<Zs.length;e++)if(t=Zs[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}Zs=null}return n}function bb(n,e){do{var t=Je;try{if(pE(),vp.current=dg,hg){for(var r=$e.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}hg=!1}if(ga=0,pt=ot=$e=null,kc=!1,Yc=0,TE.current=null,t===null||t.return===null){lt=1,Jc=e,Je=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=Pt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=sA(o);if(p!==null){p.flags&=-257,oA(p,o,a,s,e),p.mode&1&&iA(s,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){iA(s,c,e),ME();break e}l=Error(O(426))}}else if(ze&&a.mode&1){var S=sA(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),oA(S,o,a,s,e),dE(Du(l,a));break e}}s=l=Du(l,a),lt!==4&&(lt=2),Rc===null?Rc=[s]:Rc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=ab(s,l,e);J_(s,v);break e;case 1:a=l;var w=s.type,A=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Ts===null||!Ts.has(A)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=lb(s,a,e);J_(s,x);break e}}s=s.return}while(s!==null)}Tb(t)}catch(C){e=C,Je===t&&t!==null&&(Je=t=t.return);continue}break}while(!0)}function xb(){var n=fg.current;return fg.current=dg,n===null?dg:n}function ME(){(lt===0||lt===3||lt===2)&&(lt=4),gt===null||!(ma&268435455)&&!(Ev&268435455)||Gi(gt,Pt)}function mg(n,e){var t=Ee;Ee|=2;var r=xb();(gt!==n||Pt!==e)&&(Wr=null,ha(n,e));do try{kP();break}catch(i){bb(n,i)}while(!0);if(pE(),Ee=t,fg.current=r,Je!==null)throw Error(O(261));return gt=null,Pt=0,lt}function kP(){for(;Je!==null;)Cb(Je)}function PP(){for(;Je!==null&&!ek();)Cb(Je)}function Cb(n){var e=Pb(n.alternate,n,En);n.memoizedProps=n.pendingProps,e===null?Tb(n):Je=e,TE.current=null}function Tb(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=AP(t,e),t!==null){t.flags&=32767,Je=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{lt=6,Je=null;return}}else if(t=_P(t,e,En),t!==null){Je=t;return}if(e=e.sibling,e!==null){Je=e;return}Je=e=n}while(e!==null);lt===0&&(lt=5)}function Gs(n,e,t){var r=xe,i=zn.transition;try{zn.transition=null,xe=1,RP(n,e,t,r)}finally{zn.transition=i,xe=r}return null}function RP(n,e,t,r){do al();while(_s!==null);if(Ee&6)throw Error(O(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(O(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(ck(n,s),n===gt&&(Je=gt=null,Pt=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||np||(np=!0,Rb(Qp,function(){return al(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=zn.transition,zn.transition=null;var o=xe;xe=1;var a=Ee;Ee|=4,TE.current=null,bP(n,t),_b(t,n),qk(Yy),Zp=!!Ky,Yy=Ky=null,n.current=t,xP(t),tk(),Ee=a,xe=o,zn.transition=s}else n.current=t;if(np&&(np=!1,_s=n,gg=i),s=n.pendingLanes,s===0&&(Ts=null),ik(t.stateNode),an(n,Ke()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(pg)throw pg=!1,n=g0,g0=null,n;return gg&1&&n.tag!==0&&al(),s=n.pendingLanes,s&1?n===m0?Lc++:(Lc=0,m0=n):Lc=0,Fs(),null}function al(){if(_s!==null){var n=aS(gg),e=zn.transition,t=xe;try{if(zn.transition=null,xe=16>n?16:n,_s===null)var r=!1;else{if(n=_s,_s=null,gg=0,Ee&6)throw Error(O(331));var i=Ee;for(Ee|=4,U=n.current;U!==null;){var s=U,o=s.child;if(U.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(U=c;U!==null;){var h=U;switch(h.tag){case 0:case 11:case 15:Pc(8,h,s)}var d=h.child;if(d!==null)d.return=h,U=d;else for(;U!==null;){h=U;var f=h.sibling,p=h.return;if(yb(h),h===c){U=null;break}if(f!==null){f.return=p,U=f;break}U=p}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var S=y.sibling;y.sibling=null,y=S}while(y!==null)}}U=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,U=o;else e:for(;U!==null;){if(s=U,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Pc(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,U=v;break e}U=s.return}}var w=n.current;for(U=w;U!==null;){o=U;var A=o.child;if(o.subtreeFlags&2064&&A!==null)A.return=o,U=A;else e:for(o=w;U!==null;){if(a=U,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:wv(9,a)}}catch(C){Ge(a,a.return,C)}if(a===o){U=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,U=x;break e}U=a.return}}if(Ee=i,Fs(),Or&&typeof Or.onPostCommitFiberRoot=="function")try{Or.onPostCommitFiberRoot(hv,n)}catch{}r=!0}return r}finally{xe=t,zn.transition=e}}return!1}function wA(n,e,t){e=Du(t,e),e=ab(n,e,1),n=Cs(n,e,1),e=Xt(),n!==null&&(xf(n,1,e),an(n,e))}function Ge(n,e,t){if(n.tag===3)wA(n,n,t);else for(;e!==null;){if(e.tag===3){wA(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ts===null||!Ts.has(r))){n=Du(t,n),n=lb(e,n,1),e=Cs(e,n,1),n=Xt(),e!==null&&(xf(e,1,n),an(e,n));break}}e=e.return}}function LP(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Xt(),n.pingedLanes|=n.suspendedLanes&t,gt===n&&(Pt&t)===t&&(lt===4||lt===3&&(Pt&130023424)===Pt&&500>Ke()-PE?ha(n,0):kE|=t),an(n,e)}function kb(n,e){e===0&&(n.mode&1?(e=Gf,Gf<<=1,!(Gf&130023424)&&(Gf=4194304)):e=1);var t=Xt();n=Di(n,e),n!==null&&(xf(n,e,t),an(n,t))}function MP(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),kb(n,t)}function DP(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(e),kb(n,t)}var Pb;Pb=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||sn.current)nn=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return nn=!1,EP(n,e,t);nn=!!(n.flags&131072)}else nn=!1,ze&&e.flags&1048576&&DS(e,og,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;wp(n,e),n=e.pendingProps;var i=Pu(e,zt.current);ol(e,t),i=AE(null,e,r,n,i,t);var s=SE();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,on(r)?(s=!0,ig(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,vE(e),i.updater=yv,e.stateNode=i,i._reactInternals=e,i0(e,r,n,t),e=a0(null,e,r,!0,s,t)):(e.tag=0,ze&&s&&cE(e),Wt(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(wp(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=FP(r),n=Vn(r,n),i){case 0:e=o0(null,e,r,n,t);break e;case 1:e=uA(null,e,r,n,t);break e;case 11:e=aA(null,e,r,n,t);break e;case 14:e=lA(null,e,r,Vn(r.type,n),t);break e}throw Error(O(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vn(r,i),o0(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vn(r,i),uA(n,e,r,i,t);case 3:e:{if(db(e),n===null)throw Error(O(387));r=e.pendingProps,s=e.memoizedState,i=s.element,zS(n,e),ug(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Du(Error(O(423)),e),e=cA(n,e,r,t,i);break e}else if(r!==i){i=Du(Error(O(424)),e),e=cA(n,e,r,t,i);break e}else for(_n=xs(e.stateNode.containerInfo.firstChild),An=e,ze=!0,sr=null,t=OS(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Ru(),r===i){e=Ii(n,e,t);break e}Wt(n,e,r,t)}e=e.child}return e;case 5:return HS(e),n===null&&t0(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,qy(r,i)?o=null:s!==null&&qy(r,s)&&(e.flags|=32),hb(n,e),Wt(n,e,o,t),e.child;case 6:return n===null&&t0(e),null;case 13:return fb(n,e,t);case 4:return yE(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Lu(e,null,r,t):Wt(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vn(r,i),aA(n,e,r,i,t);case 7:return Wt(n,e,e.pendingProps,t),e.child;case 8:return Wt(n,e,e.pendingProps.children,t),e.child;case 12:return Wt(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Le(ag,r._currentValue),r._currentValue=o,s!==null)if(lr(s.value,o)){if(s.children===i.children&&!sn.current){e=Ii(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ti(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),n0(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(O(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),n0(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Wt(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ol(e,t),i=Hn(i),r=r(i),e.flags|=1,Wt(n,e,r,t),e.child;case 14:return r=e.type,i=Vn(r,e.pendingProps),i=Vn(r.type,i),lA(n,e,r,i,t);case 15:return ub(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vn(r,i),wp(n,e),e.tag=1,on(r)?(n=!0,ig(e)):n=!1,ol(e,t),ob(e,r,i),i0(e,r,i,t),a0(null,e,r,!0,n,t);case 19:return pb(n,e,t);case 22:return cb(n,e,t)}throw Error(O(156,e.tag))};function Rb(n,e){return rS(n,e)}function IP(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(n,e,t,r){return new IP(n,e,t,r)}function DE(n){return n=n.prototype,!(!n||!n.isReactComponent)}function FP(n){if(typeof n=="function")return DE(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Jw)return 11;if(n===Zw)return 14}return 2}function Ps(n,e){var t=n.alternate;return t===null?(t=jn(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Ap(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")DE(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case $a:return da(t.children,i,s,e);case Qw:o=8,i|=8;break;case ky:return n=jn(12,t,e,i|2),n.elementType=ky,n.lanes=s,n;case Py:return n=jn(13,t,e,i),n.elementType=Py,n.lanes=s,n;case Ry:return n=jn(19,t,e,i),n.elementType=Ry,n.lanes=s,n;case H1:return _v(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case j1:o=10;break e;case z1:o=9;break e;case Jw:o=11;break e;case Zw:o=14;break e;case $i:o=16,r=null;break e}throw Error(O(130,n==null?n:typeof n,""))}return e=jn(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function da(n,e,t,r){return n=jn(7,n,r,e),n.lanes=t,n}function _v(n,e,t,r){return n=jn(22,n,r,e),n.elementType=H1,n.lanes=t,n.stateNode={isHidden:!1},n}function gy(n,e,t){return n=jn(6,n,null,e),n.lanes=t,n}function my(n,e,t){return e=jn(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function NP(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qv(0),this.expirationTimes=qv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qv(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function IE(n,e,t,r,i,s,o,a,l){return n=new NP(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=jn(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},vE(s),n}function OP(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ua,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function Lb(n){if(!n)return Ls;n=n._reactInternals;e:{if(ba(n)!==n||n.tag!==1)throw Error(O(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(on(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(O(171))}if(n.tag===1){var t=n.type;if(on(t))return LS(n,t,e)}return e}function Mb(n,e,t,r,i,s,o,a,l){return n=IE(t,r,!0,n,i,s,o,a,l),n.context=Lb(null),t=n.current,r=Xt(),i=ks(t),s=Ti(r,i),s.callback=e??null,Cs(t,s,i),n.current.lanes=i,xf(n,i,r),an(n,r),n}function Av(n,e,t,r){var i=e.current,s=Xt(),o=ks(i);return t=Lb(t),e.context===null?e.context=t:e.pendingContext=t,e=Ti(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Cs(i,e,o),n!==null&&(ar(n,i,o,s),mp(n,i,o)),o}function vg(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function EA(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function FE(n,e){EA(n,e),(n=n.alternate)&&EA(n,e)}function jP(){return null}var Db=typeof reportError=="function"?reportError:function(n){console.error(n)};function NE(n){this._internalRoot=n}Sv.prototype.render=NE.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(O(409));Av(n,e,null,null)};Sv.prototype.unmount=NE.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;va(function(){Av(null,n,null,null)}),e[Mi]=null}};function Sv(n){this._internalRoot=n}Sv.prototype.unstable_scheduleHydration=function(n){if(n){var e=cS();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Wi.length&&e!==0&&e<Wi[t].priority;t++);Wi.splice(t,0,n),t===0&&dS(n)}};function OE(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function bv(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function _A(){}function zP(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=vg(o);s.call(c)}}var o=Mb(e,r,n,0,null,!1,!1,"",_A);return n._reactRootContainer=o,n[Mi]=o.current,Vc(n.nodeType===8?n.parentNode:n),va(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=vg(l);a.call(c)}}var l=IE(n,0,!1,null,null,!1,!1,"",_A);return n._reactRootContainer=l,n[Mi]=l.current,Vc(n.nodeType===8?n.parentNode:n),va(function(){Av(e,l,t,r)}),l}function xv(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=vg(o);a.call(l)}}Av(e,o,n,i)}else o=zP(t,e,n,i,r);return vg(o)}lS=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=oc(e.pendingLanes);t!==0&&(nE(e,t|1),an(e,Ke()),!(Ee&6)&&(Iu=Ke()+500,Fs()))}break;case 13:va(function(){var r=Di(n,1);if(r!==null){var i=Xt();ar(r,n,1,i)}}),FE(n,1)}};rE=function(n){if(n.tag===13){var e=Di(n,134217728);if(e!==null){var t=Xt();ar(e,n,134217728,t)}FE(n,134217728)}};uS=function(n){if(n.tag===13){var e=ks(n),t=Di(n,e);if(t!==null){var r=Xt();ar(t,n,e,r)}FE(n,e)}};cS=function(){return xe};hS=function(n,e){var t=xe;try{return xe=n,e()}finally{xe=t}};Hy=function(n,e,t){switch(e){case"input":if(Dy(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=gv(r);if(!i)throw Error(O(90));U1(r),Dy(r,i)}}}break;case"textarea":V1(n,t);break;case"select":e=t.value,e!=null&&nl(n,!!t.multiple,e,!1)}};Q1=RE;J1=va;var HP={usingClientEntryPoint:!1,Events:[Tf,Xa,gv,Y1,q1,RE]},Qu={findFiberByHostInstance:Js,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BP={bundleType:Qu.bundleType,version:Qu.version,rendererPackageName:Qu.rendererPackageName,rendererConfig:Qu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fi.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=tS(n),n===null?null:n.stateNode},findFiberByHostInstance:Qu.findFiberByHostInstance||jP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rp.isDisabled&&rp.supportsFiber)try{hv=rp.inject(BP),Or=rp}catch{}}bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HP;bn.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!OE(e))throw Error(O(200));return OP(n,e,null,t)};bn.createRoot=function(n,e){if(!OE(n))throw Error(O(299));var t=!1,r="",i=Db;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=IE(n,1,!1,null,null,t,!1,r,i),n[Mi]=e.current,Vc(n.nodeType===8?n.parentNode:n),new NE(e)};bn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(O(188)):(n=Object.keys(n).join(","),Error(O(268,n)));return n=tS(e),n=n===null?null:n.stateNode,n};bn.flushSync=function(n){return va(n)};bn.hydrate=function(n,e,t){if(!bv(e))throw Error(O(200));return xv(null,n,e,!0,t)};bn.hydrateRoot=function(n,e,t){if(!OE(n))throw Error(O(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=Db;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=Mb(e,null,n,1,t??null,i,!1,s,o),n[Mi]=e.current,Vc(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new Sv(e)};bn.render=function(n,e,t){if(!bv(e))throw Error(O(200));return xv(null,n,e,!1,t)};bn.unmountComponentAtNode=function(n){if(!bv(n))throw Error(O(40));return n._reactRootContainer?(va(function(){xv(null,null,n,!1,function(){n._reactRootContainer=null,n[Mi]=null})}),!0):!1};bn.unstable_batchedUpdates=RE;bn.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!bv(t))throw Error(O(200));if(n==null||n._reactInternals===void 0)throw Error(O(38));return xv(n,e,t,!1,r)};bn.version="18.3.1-next-f1338f8080-20240426";function Ib(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ib)}catch(n){console.error(n)}}Ib(),I1.exports=bn;var jE=I1.exports;const UP=$w(jE),$P=A1({__proto__:null,default:UP},[jE]);var AA=jE;Cy.createRoot=AA.createRoot,Cy.hydrateRoot=AA.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Be(){return Be=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Be.apply(this,arguments)}var Qe;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Qe||(Qe={}));const SA="popstate";function VP(n){n===void 0&&(n={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Zc("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:ya(i)}return GP(e,t,null,n)}function he(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Fu(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function WP(){return Math.random().toString(36).substr(2,8)}function bA(n,e){return{usr:n.state,key:n.key,idx:e}}function Zc(n,e,t,r){return t===void 0&&(t=null),Be({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Ns(e):e,{state:t,key:e&&e.key||r||WP()})}function ya(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ns(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function GP(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Qe.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(Be({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function d(){a=Qe.Pop;let S=h(),v=S==null?null:S-c;c=S,l&&l({action:a,location:y.location,delta:v})}function f(S,v){a=Qe.Push;let w=Zc(y.location,S,v);c=h()+1;let A=bA(w,c),x=y.createHref(w);try{o.pushState(A,"",x)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(x)}s&&l&&l({action:a,location:y.location,delta:1})}function p(S,v){a=Qe.Replace;let w=Zc(y.location,S,v);c=h();let A=bA(w,c),x=y.createHref(w);o.replaceState(A,"",x),s&&l&&l({action:a,location:y.location,delta:0})}function g(S){let v=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof S=="string"?S:ya(S);return w=w.replace(/ $/,"%20"),he(v,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,v)}let y={get action(){return a},get location(){return n(i,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(SA,d),l=S,()=>{i.removeEventListener(SA,d),l=null}},createHref(S){return e(i,S)},createURL:g,encodeLocation(S){let v=g(S);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:p,go(S){return o.go(S)}};return y}var je;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(je||(je={}));const XP=new Set(["lazy","caseSensitive","path","id","index","children"]);function KP(n){return n.index===!0}function w0(n,e,t,r){return t===void 0&&(t=[]),r===void 0&&(r={}),n.map((i,s)=>{let o=[...t,s],a=typeof i.id=="string"?i.id:o.join("-");if(he(i.index!==!0||!i.children,"Cannot specify children on an index route"),he(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),KP(i)){let l=Be({},i,e(i),{id:a});return r[a]=l,l}else{let l=Be({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=w0(i.children,e,o,r)),l}})}function el(n,e,t){t===void 0&&(t="/");let r=typeof e=="string"?Ns(e):e,i=Hu(r.pathname||"/",t);if(i==null)return null;let s=Fb(n);qP(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let l=lR(i);o=sR(s[a],l)}return o}function YP(n,e){let{route:t,pathname:r,params:i}=n;return{id:t.id,pathname:r,params:i,data:e[t.id],handle:t.handle}}function Fb(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(he(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ki([r,l.relativePath]),h=t.concat(l);s.children&&s.children.length>0&&(he(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Fb(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:rR(c,s.index),routesMeta:h})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of Nb(s.path))i(s,o,l)}),e}function Nb(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Nb(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function qP(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:iR(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const QP=/^:[\w-]+$/,JP=3,ZP=2,eR=1,tR=10,nR=-2,xA=n=>n==="*";function rR(n,e){let t=n.split("/"),r=t.length;return t.some(xA)&&(r+=nR),e&&(r+=ZP),t.filter(i=>!xA(i)).reduce((i,s)=>i+(QP.test(s)?JP:s===""?eR:tR),r)}function iR(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function sR(n,e){let{routesMeta:t}=n,r={},i="/",s=[];for(let o=0;o<t.length;++o){let a=t[o],l=o===t.length-1,c=i==="/"?e:e.slice(i.length)||"/",h=oR({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!h)return null;Object.assign(r,h.params);let d=a.route;s.push({params:r,pathname:ki([i,h.pathname]),pathnameBase:hR(ki([i,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(i=ki([i,h.pathnameBase]))}return s}function oR(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=aR(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,h,d)=>{let{paramName:f,isOptional:p}=h;if(f==="*"){let y=a[d]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const g=a[d];return p&&!g?c[f]=void 0:c[f]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:n}}function aR(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Fu(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function lR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fu(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Hu(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function uR(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Ns(n):n;return{pathname:t?t.startsWith("/")?t:cR(t,e):e,search:dR(r),hash:fR(i)}}function cR(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function vy(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ob(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function zE(n,e){let t=Ob(n);return e?t.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function HE(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=Ns(n):(i=Be({},n),he(!i.pathname||!i.pathname.includes("?"),vy("?","pathname","search",i)),he(!i.pathname||!i.pathname.includes("#"),vy("#","pathname","hash",i)),he(!i.search||!i.search.includes("#"),vy("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=t;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=uR(i,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const ki=n=>n.join("/").replace(/\/\/+/g,"/"),hR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),dR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,fR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class BE{constructor(e,t,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=t||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function UE(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const jb=["post","put","patch","delete"],pR=new Set(jb),gR=["get",...jb],mR=new Set(gR),vR=new Set([301,302,303,307,308]),yR=new Set([307,308]),yy={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},wR={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ju={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},$E=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ER=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),zb="remix-router-transitions";function _R(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!t;he(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(n.mapRouteProperties)i=n.mapRouteProperties;else if(n.detectErrorBoundary){let k=n.detectErrorBoundary;i=P=>({hasErrorBoundary:k(P)})}else i=ER;let s={},o=w0(n.routes,i,void 0,s),a,l=n.basename||"/",c=n.unstable_dataStrategy||xR,h=Be({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},n.future),d=null,f=new Set,p=null,g=null,y=null,S=n.hydrationData!=null,v=el(o,n.history.location,l),w=null;if(v==null){let k=Dn(404,{pathname:n.history.location.pathname}),{matches:P,route:D}=FA(o);v=P,w={[D.id]:k}}let A,x=v.some(k=>k.route.lazy),C=v.some(k=>k.route.loader);if(x)A=!1;else if(!C)A=!0;else if(h.v7_partialHydration){let k=n.hydrationData?n.hydrationData.loaderData:null,P=n.hydrationData?n.hydrationData.errors:null,D=j=>j.route.loader?typeof j.route.loader=="function"&&j.route.loader.hydrate===!0?!1:k&&k[j.route.id]!==void 0||P&&P[j.route.id]!==void 0:!0;if(P){let j=v.findIndex(V=>P[V.route.id]!==void 0);A=v.slice(0,j+1).every(D)}else A=v.every(D)}else A=n.hydrationData!=null;let T,b={historyAction:n.history.action,location:n.history.location,matches:v,initialized:A,navigation:yy,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||w,fetchers:new Map,blockers:new Map},L=Qe.Pop,N=!1,F,I=!1,K=new Map,H=null,$=!1,Q=!1,le=[],z=[],M=new Map,G=0,Y=-1,oe=new Map,J=new Set,fe=new Map,_e=new Map,Me=new Set,Ae=new Map,re=new Map,ur=!1;function Hr(){if(d=n.history.listen(k=>{let{action:P,location:D,delta:j}=k;if(ur){ur=!1;return}Fu(re.size===0||j!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let V=c_({currentLocation:b.location,nextLocation:D,historyAction:P});if(V&&j!=null){ur=!0,n.history.go(j*-1),Of(V,{state:"blocked",location:D,proceed(){Of(V,{state:"proceeding",proceed:void 0,reset:void 0,location:D}),n.history.go(j)},reset(){let ae=new Map(b.blockers);ae.set(V,Ju),Ze({blockers:ae})}});return}return ge(P,D)}),t){OR(e,K);let k=()=>jR(e,K);e.addEventListener("pagehide",k),H=()=>e.removeEventListener("pagehide",k)}return b.initialized||ge(Qe.Pop,b.location,{initialHydration:!0}),T}function Ne(){d&&d(),H&&H(),f.clear(),F&&F.abort(),b.fetchers.forEach((k,P)=>Ra(P)),b.blockers.forEach((k,P)=>u_(P))}function zs(k){return f.add(k),()=>f.delete(k)}function Ze(k,P){P===void 0&&(P={}),b=Be({},b,k);let D=[],j=[];h.v7_fetcherPersist&&b.fetchers.forEach((V,ae)=>{V.state==="idle"&&(Me.has(ae)?j.push(ae):D.push(ae))}),[...f].forEach(V=>V(b,{deletedFetchers:j,unstable_viewTransitionOpts:P.viewTransitionOpts,unstable_flushSync:P.flushSync===!0})),h.v7_fetcherPersist&&(D.forEach(V=>b.fetchers.delete(V)),j.forEach(V=>Ra(V)))}function et(k,P,D){var j,V;let{flushSync:ae}=D===void 0?{}:D,q=b.actionData!=null&&b.navigation.formMethod!=null&&ir(b.navigation.formMethod)&&b.navigation.state==="loading"&&((j=k.state)==null?void 0:j._isRedirect)!==!0,W;P.actionData?Object.keys(P.actionData).length>0?W=P.actionData:W=null:q?W=b.actionData:W=null;let ue=P.loaderData?DA(b.loaderData,P.loaderData,P.matches||[],P.errors):b.loaderData,ie=b.blockers;ie.size>0&&(ie=new Map(ie),ie.forEach((te,Oe)=>ie.set(Oe,Ju)));let vt=N===!0||b.navigation.formMethod!=null&&ir(b.navigation.formMethod)&&((V=k.state)==null?void 0:V._isRedirect)!==!0;a&&(o=a,a=void 0),$||L===Qe.Pop||(L===Qe.Push?n.history.push(k,k.state):L===Qe.Replace&&n.history.replace(k,k.state));let yt;if(L===Qe.Pop){let te=K.get(b.location.pathname);te&&te.has(k.pathname)?yt={currentLocation:b.location,nextLocation:k}:K.has(k.pathname)&&(yt={currentLocation:k,nextLocation:b.location})}else if(I){let te=K.get(b.location.pathname);te?te.add(k.pathname):(te=new Set([k.pathname]),K.set(b.location.pathname,te)),yt={currentLocation:b.location,nextLocation:k}}Ze(Be({},P,{actionData:W,loaderData:ue,historyAction:L,location:k,initialized:!0,navigation:yy,revalidation:"idle",restoreScrollPosition:d_(k,P.matches||b.matches),preventScrollReset:vt,blockers:ie}),{viewTransitionOpts:yt,flushSync:ae===!0}),L=Qe.Pop,N=!1,I=!1,$=!1,Q=!1,le=[],z=[]}async function un(k,P){if(typeof k=="number"){n.history.go(k);return}let D=E0(b.location,b.matches,l,h.v7_prependBasename,k,h.v7_relativeSplatPath,P==null?void 0:P.fromRouteId,P==null?void 0:P.relative),{path:j,submission:V,error:ae}=CA(h.v7_normalizeFormMethod,!1,D,P),q=b.location,W=Zc(b.location,j,P&&P.state);W=Be({},W,n.history.encodeLocation(W));let ue=P&&P.replace!=null?P.replace:void 0,ie=Qe.Push;ue===!0?ie=Qe.Replace:ue===!1||V!=null&&ir(V.formMethod)&&V.formAction===b.location.pathname+b.location.search&&(ie=Qe.Replace);let vt=P&&"preventScrollReset"in P?P.preventScrollReset===!0:void 0,yt=(P&&P.unstable_flushSync)===!0,te=c_({currentLocation:q,nextLocation:W,historyAction:ie});if(te){Of(te,{state:"blocked",location:W,proceed(){Of(te,{state:"proceeding",proceed:void 0,reset:void 0,location:W}),un(k,P)},reset(){let Oe=new Map(b.blockers);Oe.set(te,Ju),Ze({blockers:Oe})}});return}return await ge(ie,W,{submission:V,pendingError:ae,preventScrollReset:vt,replace:P&&P.replace,enableViewTransition:P&&P.unstable_viewTransition,flushSync:yt})}function cr(){if(Bu(),Ze({revalidation:"loading"}),b.navigation.state!=="submitting"){if(b.navigation.state==="idle"){ge(b.historyAction,b.location,{startUninterruptedRevalidation:!0});return}ge(L||b.historyAction,b.navigation.location,{overrideNavigation:b.navigation})}}async function ge(k,P,D){F&&F.abort(),F=null,L=k,$=(D&&D.startUninterruptedRevalidation)===!0,hT(b.location,b.matches),N=(D&&D.preventScrollReset)===!0,I=(D&&D.enableViewTransition)===!0;let j=a||o,V=D&&D.overrideNavigation,ae=el(j,P,l),q=(D&&D.flushSync)===!0;if(!ae){let te=Dn(404,{pathname:P.pathname}),{matches:Oe,route:ut}=FA(j);$v(),et(P,{matches:Oe,loaderData:{},errors:{[ut.id]:te}},{flushSync:q});return}if(b.initialized&&!Q&&LR(b.location,P)&&!(D&&D.submission&&ir(D.submission.formMethod))){et(P,{matches:ae},{flushSync:q});return}F=new AbortController;let W=Fa(n.history,P,F.signal,D&&D.submission),ue;if(D&&D.pendingError)ue=[Mc(ae).route.id,{type:je.error,error:D.pendingError}];else if(D&&D.submission&&ir(D.submission.formMethod)){let te=await mt(W,P,D.submission,ae,{replace:D.replace,flushSync:q});if(te.shortCircuited)return;ue=te.pendingActionResult,V=wy(P,D.submission),q=!1,W=Fa(n.history,W.url,W.signal)}let{shortCircuited:ie,loaderData:vt,errors:yt}=await cn(W,P,ae,V,D&&D.submission,D&&D.fetcherSubmission,D&&D.replace,D&&D.initialHydration===!0,q,ue);ie||(F=null,et(P,Be({matches:ae},IA(ue),{loaderData:vt,errors:yt})))}async function mt(k,P,D,j,V){V===void 0&&(V={}),Bu();let ae=FR(P,D);Ze({navigation:ae},{flushSync:V.flushSync===!0});let q,W=A0(j,P);if(!W.route.action&&!W.route.lazy)q={type:je.error,error:Dn(405,{method:k.method,pathname:P.pathname,routeId:W.route.id})};else if(q=(await Bs("action",k,[W],j))[0],k.signal.aborted)return{shortCircuited:!0};if(no(q)){let ue;return V&&V.replace!=null?ue=V.replace:ue=RA(q.response.headers.get("Location"),new URL(k.url),l)===b.location.pathname+b.location.search,await Hs(k,q,{submission:D,replace:ue}),{shortCircuited:!0}}if(to(q))throw Dn(400,{type:"defer-action"});if(On(q)){let ue=Mc(j,W.route.id);return(V&&V.replace)!==!0&&(L=Qe.Push),{pendingActionResult:[ue.route.id,q]}}return{pendingActionResult:[W.route.id,q]}}async function cn(k,P,D,j,V,ae,q,W,ue,ie){let vt=j||wy(P,V),yt=V||ae||jA(vt),te=a||o,[Oe,ut]=TA(n.history,b,D,yt,P,h.v7_partialHydration&&W===!0,h.unstable_skipActionErrorRevalidation,Q,le,z,Me,fe,J,te,l,ie);if($v(me=>!(D&&D.some(Ht=>Ht.route.id===me))||Oe&&Oe.some(Ht=>Ht.route.id===me)),Y=++G,Oe.length===0&&ut.length===0){let me=a_();return et(P,Be({matches:D,loaderData:{},errors:ie&&On(ie[1])?{[ie[0]]:ie[1].error}:null},IA(ie),me?{fetchers:new Map(b.fetchers)}:{}),{flushSync:ue}),{shortCircuited:!0}}if(!$&&(!h.v7_partialHydration||!W)){ut.forEach(Ht=>{let Tn=b.fetchers.get(Ht.key),wt=Zu(void 0,Tn?Tn.data:void 0);b.fetchers.set(Ht.key,wt)});let me;ie&&!On(ie[1])?me={[ie[0]]:ie[1].data}:b.actionData&&(Object.keys(b.actionData).length===0?me=null:me=b.actionData),Ze(Be({navigation:vt},me!==void 0?{actionData:me}:{},ut.length>0?{fetchers:new Map(b.fetchers)}:{}),{flushSync:ue})}ut.forEach(me=>{M.has(me.key)&&Cn(me.key),me.controller&&M.set(me.key,me.controller)});let Uu=()=>ut.forEach(me=>Cn(me.key));F&&F.signal.addEventListener("abort",Uu);let{loaderResults:Oi,fetcherResults:La}=await Us(b.matches,D,Oe,ut,k);if(k.signal.aborted)return{shortCircuited:!0};F&&F.signal.removeEventListener("abort",Uu),ut.forEach(me=>M.delete(me.key));let Ma=NA([...Oi,...La]);if(Ma){if(Ma.idx>=Oe.length){let me=ut[Ma.idx-Oe.length].key;J.add(me)}return await Hs(k,Ma.result,{replace:q}),{shortCircuited:!0}}let{loaderData:Da,errors:fr}=MA(b,D,Oe,Oi,ie,ut,La,Ae);Ae.forEach((me,Ht)=>{me.subscribe(Tn=>{(Tn||me.done)&&Ae.delete(Ht)})}),h.v7_partialHydration&&W&&b.errors&&Object.entries(b.errors).filter(me=>{let[Ht]=me;return!Oe.some(Tn=>Tn.route.id===Ht)}).forEach(me=>{let[Ht,Tn]=me;fr=Object.assign(fr||{},{[Ht]:Tn})});let jf=a_(),zf=l_(Y),Hf=jf||zf||ut.length>0;return Be({loaderData:Da,errors:fr},Hf?{fetchers:new Map(b.fetchers)}:{})}function hr(k,P,D,j){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");M.has(k)&&Cn(k);let V=(j&&j.unstable_flushSync)===!0,ae=a||o,q=E0(b.location,b.matches,l,h.v7_prependBasename,D,h.v7_relativeSplatPath,P,j==null?void 0:j.relative),W=el(ae,q,l);if(!W){$s(k,P,Dn(404,{pathname:q}),{flushSync:V});return}let{path:ue,submission:ie,error:vt}=CA(h.v7_normalizeFormMethod,!0,q,j);if(vt){$s(k,P,vt,{flushSync:V});return}let yt=A0(W,ue);if(N=(j&&j.preventScrollReset)===!0,ie&&ir(ie.formMethod)){Pa(k,P,ue,yt,W,V,ie);return}fe.set(k,{routeId:P,path:ue}),Uv(k,P,ue,yt,W,V,ie)}async function Pa(k,P,D,j,V,ae,q){if(Bu(),fe.delete(k),!j.route.action&&!j.route.lazy){let wt=Dn(405,{method:q.formMethod,pathname:D,routeId:P});$s(k,P,wt,{flushSync:ae});return}let W=b.fetchers.get(k);dr(k,NR(q,W),{flushSync:ae});let ue=new AbortController,ie=Fa(n.history,D,ue.signal,q);M.set(k,ue);let vt=G,te=(await Bs("action",ie,[j],V))[0];if(ie.signal.aborted){M.get(k)===ue&&M.delete(k);return}if(h.v7_fetcherPersist&&Me.has(k)){if(no(te)||On(te)){dr(k,zi(void 0));return}}else{if(no(te))if(M.delete(k),Y>vt){dr(k,zi(void 0));return}else return J.add(k),dr(k,Zu(q)),Hs(ie,te,{fetcherSubmission:q});if(On(te)){$s(k,P,te.error);return}}if(to(te))throw Dn(400,{type:"defer-action"});let Oe=b.navigation.location||b.location,ut=Fa(n.history,Oe,ue.signal),Uu=a||o,Oi=b.navigation.state!=="idle"?el(Uu,b.navigation.location,l):b.matches;he(Oi,"Didn't find any matches after fetcher action");let La=++G;oe.set(k,La);let Ma=Zu(q,te.data);b.fetchers.set(k,Ma);let[Da,fr]=TA(n.history,b,Oi,q,Oe,!1,h.unstable_skipActionErrorRevalidation,Q,le,z,Me,fe,J,Uu,l,[j.route.id,te]);fr.filter(wt=>wt.key!==k).forEach(wt=>{let $u=wt.key,f_=b.fetchers.get($u),fT=Zu(void 0,f_?f_.data:void 0);b.fetchers.set($u,fT),M.has($u)&&Cn($u),wt.controller&&M.set($u,wt.controller)}),Ze({fetchers:new Map(b.fetchers)});let jf=()=>fr.forEach(wt=>Cn(wt.key));ue.signal.addEventListener("abort",jf);let{loaderResults:zf,fetcherResults:Hf}=await Us(b.matches,Oi,Da,fr,ut);if(ue.signal.aborted)return;ue.signal.removeEventListener("abort",jf),oe.delete(k),M.delete(k),fr.forEach(wt=>M.delete(wt.key));let me=NA([...zf,...Hf]);if(me){if(me.idx>=Da.length){let wt=fr[me.idx-Da.length].key;J.add(wt)}return Hs(ut,me.result)}let{loaderData:Ht,errors:Tn}=MA(b,b.matches,Da,zf,void 0,fr,Hf,Ae);if(b.fetchers.has(k)){let wt=zi(te.data);b.fetchers.set(k,wt)}l_(La),b.navigation.state==="loading"&&La>Y?(he(L,"Expected pending action"),F&&F.abort(),et(b.navigation.location,{matches:Oi,loaderData:Ht,errors:Tn,fetchers:new Map(b.fetchers)})):(Ze({errors:Tn,loaderData:DA(b.loaderData,Ht,Oi,Tn),fetchers:new Map(b.fetchers)}),Q=!1)}async function Uv(k,P,D,j,V,ae,q){let W=b.fetchers.get(k);dr(k,Zu(q,W?W.data:void 0),{flushSync:ae});let ue=new AbortController,ie=Fa(n.history,D,ue.signal);M.set(k,ue);let vt=G,te=(await Bs("loader",ie,[j],V))[0];if(to(te)&&(te=await $b(te,ie.signal,!0)||te),M.get(k)===ue&&M.delete(k),!ie.signal.aborted){if(Me.has(k)){dr(k,zi(void 0));return}if(no(te))if(Y>vt){dr(k,zi(void 0));return}else{J.add(k),await Hs(ie,te);return}if(On(te)){$s(k,P,te.error);return}he(!to(te),"Unhandled fetcher deferred data"),dr(k,zi(te.data))}}async function Hs(k,P,D){let{submission:j,fetcherSubmission:V,replace:ae}=D===void 0?{}:D;P.response.headers.has("X-Remix-Revalidate")&&(Q=!0);let q=P.response.headers.get("Location");he(q,"Expected a Location header on the redirect Response"),q=RA(q,new URL(k.url),l);let W=Zc(b.location,q,{_isRedirect:!0});if(t){let Oe=!1;if(P.response.headers.has("X-Remix-Reload-Document"))Oe=!0;else if($E.test(q)){const ut=n.history.createURL(q);Oe=ut.origin!==e.location.origin||Hu(ut.pathname,l)==null}if(Oe){ae?e.location.replace(q):e.location.assign(q);return}}F=null;let ue=ae===!0?Qe.Replace:Qe.Push,{formMethod:ie,formAction:vt,formEncType:yt}=b.navigation;!j&&!V&&ie&&vt&&yt&&(j=jA(b.navigation));let te=j||V;if(yR.has(P.response.status)&&te&&ir(te.formMethod))await ge(ue,W,{submission:Be({},te,{formAction:q}),preventScrollReset:N});else{let Oe=wy(W,j);await ge(ue,W,{overrideNavigation:Oe,fetcherSubmission:V,preventScrollReset:N})}}async function Bs(k,P,D,j){try{let V=await CR(c,k,P,D,j,s,i);return await Promise.all(V.map((ae,q)=>{if(MR(ae)){let W=ae.result;return{type:je.redirect,response:PR(W,P,D[q].route.id,j,l,h.v7_relativeSplatPath)}}return kR(ae)}))}catch(V){return D.map(()=>({type:je.error,error:V}))}}async function Us(k,P,D,j,V){let[ae,...q]=await Promise.all([D.length?Bs("loader",V,D,P):[],...j.map(W=>{if(W.matches&&W.match&&W.controller){let ue=Fa(n.history,W.path,W.controller.signal);return Bs("loader",ue,[W.match],W.matches).then(ie=>ie[0])}else return Promise.resolve({type:je.error,error:Dn(404,{pathname:W.path})})})]);return await Promise.all([OA(k,D,ae,ae.map(()=>V.signal),!1,b.loaderData),OA(k,j.map(W=>W.match),q,j.map(W=>W.controller?W.controller.signal:null),!0)]),{loaderResults:ae,fetcherResults:q}}function Bu(){Q=!0,le.push(...$v()),fe.forEach((k,P)=>{M.has(P)&&(z.push(P),Cn(P))})}function dr(k,P,D){D===void 0&&(D={}),b.fetchers.set(k,P),Ze({fetchers:new Map(b.fetchers)},{flushSync:(D&&D.flushSync)===!0})}function $s(k,P,D,j){j===void 0&&(j={});let V=Mc(b.matches,P);Ra(k),Ze({errors:{[V.route.id]:D},fetchers:new Map(b.fetchers)},{flushSync:(j&&j.flushSync)===!0})}function Nf(k){return h.v7_fetcherPersist&&(_e.set(k,(_e.get(k)||0)+1),Me.has(k)&&Me.delete(k)),b.fetchers.get(k)||wR}function Ra(k){let P=b.fetchers.get(k);M.has(k)&&!(P&&P.state==="loading"&&oe.has(k))&&Cn(k),fe.delete(k),oe.delete(k),J.delete(k),Me.delete(k),b.fetchers.delete(k)}function Ni(k){if(h.v7_fetcherPersist){let P=(_e.get(k)||0)-1;P<=0?(_e.delete(k),Me.add(k)):_e.set(k,P)}else Ra(k);Ze({fetchers:new Map(b.fetchers)})}function Cn(k){let P=M.get(k);he(P,"Expected fetch controller: "+k),P.abort(),M.delete(k)}function Br(k){for(let P of k){let D=Nf(P),j=zi(D.data);b.fetchers.set(P,j)}}function a_(){let k=[],P=!1;for(let D of J){let j=b.fetchers.get(D);he(j,"Expected fetcher: "+D),j.state==="loading"&&(J.delete(D),k.push(D),P=!0)}return Br(k),P}function l_(k){let P=[];for(let[D,j]of oe)if(j<k){let V=b.fetchers.get(D);he(V,"Expected fetcher: "+D),V.state==="loading"&&(Cn(D),oe.delete(D),P.push(D))}return Br(P),P.length>0}function uT(k,P){let D=b.blockers.get(k)||Ju;return re.get(k)!==P&&re.set(k,P),D}function u_(k){b.blockers.delete(k),re.delete(k)}function Of(k,P){let D=b.blockers.get(k)||Ju;he(D.state==="unblocked"&&P.state==="blocked"||D.state==="blocked"&&P.state==="blocked"||D.state==="blocked"&&P.state==="proceeding"||D.state==="blocked"&&P.state==="unblocked"||D.state==="proceeding"&&P.state==="unblocked","Invalid blocker state transition: "+D.state+" -> "+P.state);let j=new Map(b.blockers);j.set(k,P),Ze({blockers:j})}function c_(k){let{currentLocation:P,nextLocation:D,historyAction:j}=k;if(re.size===0)return;re.size>1&&Fu(!1,"A router only supports one blocker at a time");let V=Array.from(re.entries()),[ae,q]=V[V.length-1],W=b.blockers.get(ae);if(!(W&&W.state==="proceeding")&&q({currentLocation:P,nextLocation:D,historyAction:j}))return ae}function $v(k){let P=[];return Ae.forEach((D,j)=>{(!k||k(j))&&(D.cancel(),P.push(j),Ae.delete(j))}),P}function cT(k,P,D){if(p=k,y=P,g=D||null,!S&&b.navigation===yy){S=!0;let j=d_(b.location,b.matches);j!=null&&Ze({restoreScrollPosition:j})}return()=>{p=null,y=null,g=null}}function h_(k,P){return g&&g(k,P.map(j=>YP(j,b.loaderData)))||k.key}function hT(k,P){if(p&&y){let D=h_(k,P);p[D]=y()}}function d_(k,P){if(p){let D=h_(k,P),j=p[D];if(typeof j=="number")return j}return null}function dT(k){s={},a=w0(k,i,void 0,s)}return T={get basename(){return l},get future(){return h},get state(){return b},get routes(){return o},get window(){return e},initialize:Hr,subscribe:zs,enableScrollRestoration:cT,navigate:un,fetch:hr,revalidate:cr,createHref:k=>n.history.createHref(k),encodeLocation:k=>n.history.encodeLocation(k),getFetcher:Nf,deleteFetcher:Ni,dispose:Ne,getBlocker:uT,deleteBlocker:u_,_internalFetchControllers:M,_internalActiveDeferreds:Ae,_internalSetRoutes:dT},T}function AR(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function E0(n,e,t,r,i,s,o,a){let l,c;if(o){l=[];for(let d of e)if(l.push(d),d.route.id===o){c=d;break}}else l=e,c=e[e.length-1];let h=HE(i||".",zE(l,s),Hu(n.pathname,t)||n.pathname,a==="path");return i==null&&(h.search=n.search,h.hash=n.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!VE(h.search)&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),r&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ki([t,h.pathname])),ya(h)}function CA(n,e,t,r){if(!r||!AR(r))return{path:t};if(r.formMethod&&!IR(r.formMethod))return{path:t,error:Dn(405,{method:r.formMethod})};let i=()=>({path:t,error:Dn(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=n?s.toUpperCase():s.toLowerCase(),a=Bb(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!ir(o))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,g)=>{let[y,S]=g;return""+p+y+"="+S+`
`},""):String(r.body);return{path:t,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!ir(o))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}he(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=_0(r.formData),c=r.formData;else if(r.body instanceof FormData)l=_0(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=LA(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=LA(l)}catch{return i()}let h={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(ir(h.formMethod))return{path:t,submission:h};let d=Ns(t);return e&&d.search&&VE(d.search)&&l.append("index",""),d.search="?"+l,{path:ya(d),submission:h}}function SR(n,e){let t=n;if(e){let r=n.findIndex(i=>i.route.id===e);r>=0&&(t=n.slice(0,r))}return t}function TA(n,e,t,r,i,s,o,a,l,c,h,d,f,p,g,y){let S=y?On(y[1])?y[1].error:y[1].data:void 0,v=n.createURL(e.location),w=n.createURL(i),A=y&&On(y[1])?y[0]:void 0,x=A?SR(t,A):t,C=y?y[1].statusCode:void 0,T=o&&C&&C>=400,b=x.filter((N,F)=>{let{route:I}=N;if(I.lazy)return!0;if(I.loader==null)return!1;if(s)return typeof I.loader!="function"||I.loader.hydrate?!0:e.loaderData[I.id]===void 0&&(!e.errors||e.errors[I.id]===void 0);if(bR(e.loaderData,e.matches[F],N)||l.some($=>$===N.route.id))return!0;let K=e.matches[F],H=N;return kA(N,Be({currentUrl:v,currentParams:K.params,nextUrl:w,nextParams:H.params},r,{actionResult:S,unstable_actionStatus:C,defaultShouldRevalidate:T?!1:a||v.pathname+v.search===w.pathname+w.search||v.search!==w.search||Hb(K,H)}))}),L=[];return d.forEach((N,F)=>{if(s||!t.some(Q=>Q.route.id===N.routeId)||h.has(F))return;let I=el(p,N.path,g);if(!I){L.push({key:F,routeId:N.routeId,path:N.path,matches:null,match:null,controller:null});return}let K=e.fetchers.get(F),H=A0(I,N.path),$=!1;f.has(F)?$=!1:c.includes(F)?$=!0:K&&K.state!=="idle"&&K.data===void 0?$=a:$=kA(H,Be({currentUrl:v,currentParams:e.matches[e.matches.length-1].params,nextUrl:w,nextParams:t[t.length-1].params},r,{actionResult:S,unstable_actionStatus:C,defaultShouldRevalidate:T?!1:a})),$&&L.push({key:F,routeId:N.routeId,path:N.path,matches:I,match:H,controller:new AbortController})}),[b,L]}function bR(n,e,t){let r=!e||t.route.id!==e.route.id,i=n[t.route.id]===void 0;return r||i}function Hb(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function kA(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}async function PA(n,e,t){if(!n.lazy)return;let r=await n.lazy();if(!n.lazy)return;let i=t[n.id];he(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";Fu(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!XP.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,Be({},e(i),{lazy:void 0}))}function xR(n){return Promise.all(n.matches.map(e=>e.resolve()))}async function CR(n,e,t,r,i,s,o,a){let l=r.reduce((d,f)=>d.add(f.route.id),new Set),c=new Set,h=await n({matches:i.map(d=>{let f=l.has(d.route.id);return Be({},d,{shouldLoad:f,resolve:g=>(c.add(d.route.id),f?TR(e,t,d,s,o,g,a):Promise.resolve({type:je.data,result:void 0}))})}),request:t,params:i[0].params,context:a});return i.forEach(d=>he(c.has(d.route.id),'`match.resolve()` was not called for route id "'+d.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),h.filter((d,f)=>l.has(i[f].route.id))}async function TR(n,e,t,r,i,s,o){let a,l,c=h=>{let d,f=new Promise((y,S)=>d=S);l=()=>d(),e.signal.addEventListener("abort",l);let p=y=>typeof h!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+n+'" [routeId: '+t.route.id+"]"))):h({request:e,params:t.params,context:o},...y!==void 0?[y]:[]),g;return s?g=s(y=>p(y)):g=(async()=>{try{return{type:"data",result:await p()}}catch(y){return{type:"error",result:y}}})(),Promise.race([g,f])};try{let h=t.route[n];if(t.route.lazy)if(h){let d,[f]=await Promise.all([c(h).catch(p=>{d=p}),PA(t.route,i,r)]);if(d!==void 0)throw d;a=f}else if(await PA(t.route,i,r),h=t.route[n],h)a=await c(h);else if(n==="action"){let d=new URL(e.url),f=d.pathname+d.search;throw Dn(405,{method:e.method,pathname:f,routeId:t.route.id})}else return{type:je.data,result:void 0};else if(h)a=await c(h);else{let d=new URL(e.url),f=d.pathname+d.search;throw Dn(404,{pathname:f})}he(a.result!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(h){return{type:je.error,result:h}}finally{l&&e.signal.removeEventListener("abort",l)}return a}async function kR(n){let{result:e,type:t,status:r}=n;if(Ub(e)){let o;try{let a=e.headers.get("Content-Type");a&&/\bapplication\/json\b/.test(a)?e.body==null?o=null:o=await e.json():o=await e.text()}catch(a){return{type:je.error,error:a}}return t===je.error?{type:je.error,error:new BE(e.status,e.statusText,o),statusCode:e.status,headers:e.headers}:{type:je.data,data:o,statusCode:e.status,headers:e.headers}}if(t===je.error)return{type:je.error,error:e,statusCode:UE(e)?e.status:r};if(DR(e)){var i,s;return{type:je.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((s=e.init)==null?void 0:s.headers)&&new Headers(e.init.headers)}}return{type:je.data,data:e,statusCode:r}}function PR(n,e,t,r,i,s){let o=n.headers.get("Location");if(he(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!$E.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===t)+1);o=E0(new URL(e.url),a,i,!0,o,s),n.headers.set("Location",o)}return n}function RA(n,e,t){if($E.test(n)){let r=n,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Hu(i.pathname,t)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return n}function Fa(n,e,t,r){let i=n.createURL(Bb(e)).toString(),s={signal:t};if(r&&ir(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=_0(r.formData):s.body=r.formData}return new Request(i,s)}function _0(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function LA(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function RR(n,e,t,r,i,s){let o={},a=null,l,c=!1,h={},d=r&&On(r[1])?r[1].error:void 0;return t.forEach((f,p)=>{let g=e[p].route.id;if(he(!no(f),"Cannot handle redirect results in processLoaderData"),On(f)){let y=f.error;d!==void 0&&(y=d,d=void 0),a=a||{};{let S=Mc(n,g);a[S.route.id]==null&&(a[S.route.id]=y)}o[g]=void 0,c||(c=!0,l=UE(f.error)?f.error.status:500),f.headers&&(h[g]=f.headers)}else to(f)?(i.set(g,f.deferredData),o[g]=f.deferredData.data,f.statusCode!=null&&f.statusCode!==200&&!c&&(l=f.statusCode),f.headers&&(h[g]=f.headers)):(o[g]=f.data,f.statusCode&&f.statusCode!==200&&!c&&(l=f.statusCode),f.headers&&(h[g]=f.headers))}),d!==void 0&&r&&(a={[r[0]]:d},o[r[0]]=void 0),{loaderData:o,errors:a,statusCode:l||200,loaderHeaders:h}}function MA(n,e,t,r,i,s,o,a){let{loaderData:l,errors:c}=RR(e,t,r,i,a);for(let h=0;h<s.length;h++){let{key:d,match:f,controller:p}=s[h];he(o!==void 0&&o[h]!==void 0,"Did not find corresponding fetcher result");let g=o[h];if(!(p&&p.signal.aborted))if(On(g)){let y=Mc(n.matches,f==null?void 0:f.route.id);c&&c[y.route.id]||(c=Be({},c,{[y.route.id]:g.error})),n.fetchers.delete(d)}else if(no(g))he(!1,"Unhandled fetcher revalidation redirect");else if(to(g))he(!1,"Unhandled fetcher deferred data");else{let y=zi(g.data);n.fetchers.set(d,y)}}return{loaderData:l,errors:c}}function DA(n,e,t,r){let i=Be({},e);for(let s of t){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):n[o]!==void 0&&s.route.loader&&(i[o]=n[o]),r&&r.hasOwnProperty(o))break}return i}function IA(n){return n?On(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Mc(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function FA(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Dn(n,e){let{pathname:t,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return n===400?(o="Bad Request",i&&t&&r?a="You made a "+i+' request to "'+t+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?a="defer() is not supported in actions":s==="invalid-body"&&(a="Unable to encode submission body")):n===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+t+'"'):n===404?(o="Not Found",a='No route matches URL "'+t+'"'):n===405&&(o="Method Not Allowed",i&&t&&r?a="You made a "+i.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new BE(n||500,o,new Error(a),!0)}function NA(n){for(let e=n.length-1;e>=0;e--){let t=n[e];if(no(t))return{result:t,idx:e}}}function Bb(n){let e=typeof n=="string"?Ns(n):n;return ya(Be({},e,{hash:""}))}function LR(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function MR(n){return Ub(n.result)&&vR.has(n.result.status)}function to(n){return n.type===je.deferred}function On(n){return n.type===je.error}function no(n){return(n&&n.type)===je.redirect}function DR(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Ub(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function IR(n){return mR.has(n.toLowerCase())}function ir(n){return pR.has(n.toLowerCase())}async function OA(n,e,t,r,i,s){for(let o=0;o<t.length;o++){let a=t[o],l=e[o];if(!l)continue;let c=n.find(d=>d.route.id===l.route.id),h=c!=null&&!Hb(c,l)&&(s&&s[l.route.id])!==void 0;if(to(a)&&(i||h)){let d=r[o];he(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await $b(a,d,i).then(f=>{f&&(t[o]=f||t[o])})}}}async function $b(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:je.data,data:n.deferredData.unwrappedData}}catch(i){return{type:je.error,error:i}}return{type:je.data,data:n.deferredData.data}}}function VE(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function A0(n,e){let t=typeof e=="string"?Ns(e).search:e.search;if(n[n.length-1].route.index&&VE(t||""))return n[n.length-1];let r=Ob(n);return r[r.length-1]}function jA(n){let{formMethod:e,formAction:t,formEncType:r,text:i,formData:s,json:o}=n;if(!(!e||!t||!r)){if(i!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:t,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:o,text:void 0}}}function wy(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function FR(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Zu(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function NR(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function zi(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function OR(n,e){try{let t=n.sessionStorage.getItem(zb);if(t){let r=JSON.parse(t);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function jR(n,e){if(e.size>0){let t={};for(let[r,i]of e)t[r]=[...i];try{n.sessionStorage.setItem(zb,JSON.stringify(t))}catch(r){Fu(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yg(){return yg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},yg.apply(this,arguments)}const Cv=R.createContext(null),Vb=R.createContext(null),xa=R.createContext(null),WE=R.createContext(null),Os=R.createContext({outlet:null,matches:[],isDataRoute:!1}),Wb=R.createContext(null);function zR(n,e){let{relative:t}=e===void 0?{}:e;Pf()||he(!1);let{basename:r,navigator:i}=R.useContext(xa),{hash:s,pathname:o,search:a}=Xb(n,{relative:t}),l=o;return r!=="/"&&(l=o==="/"?r:ki([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Pf(){return R.useContext(WE)!=null}function Rf(){return Pf()||he(!1),R.useContext(WE).location}function Gb(n){R.useContext(xa).static||R.useLayoutEffect(n)}function HR(){let{isDataRoute:n}=R.useContext(Os);return n?eL():BR()}function BR(){Pf()||he(!1);let n=R.useContext(Cv),{basename:e,future:t,navigator:r}=R.useContext(xa),{matches:i}=R.useContext(Os),{pathname:s}=Rf(),o=JSON.stringify(zE(i,t.v7_relativeSplatPath)),a=R.useRef(!1);return Gb(()=>{a.current=!0}),R.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=HE(c,JSON.parse(o),s,h.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:ki([e,d.pathname])),(h.replace?r.replace:r.push)(d,h.state,h)},[e,r,o,s,n])}const UR=R.createContext(null);function $R(n){let e=R.useContext(Os).outlet;return e&&R.createElement(UR.Provider,{value:n},e)}function Xb(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=R.useContext(xa),{matches:i}=R.useContext(Os),{pathname:s}=Rf(),o=JSON.stringify(zE(i,r.v7_relativeSplatPath));return R.useMemo(()=>HE(n,JSON.parse(o),s,t==="path"),[n,o,s,t])}function VR(n,e,t,r){Pf()||he(!1);let{navigator:i}=R.useContext(xa),{matches:s}=R.useContext(Os),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Rf(),h;h=c;let d=h.pathname||"/",f=d;if(l!=="/"){let y=l.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=el(n,{pathname:f});return YR(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:ki([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:ki([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,t,r)}function WR(){let n=ZR(),e=UE(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),t?R.createElement("pre",{style:i},t):null,null)}const GR=R.createElement(WR,null);class XR extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?R.createElement(Os.Provider,{value:this.props.routeContext},R.createElement(Wb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function KR(n){let{routeContext:e,match:t,children:r}=n,i=R.useContext(Cv);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),R.createElement(Os.Provider,{value:e},r)}function YR(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var s;if((s=t)!=null&&s.errors)n=t.matches;else return null}let o=n,a=(i=t)==null?void 0:i.errors;if(a!=null){let h=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);h>=0||he(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(t&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let d=o[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:f,errors:p}=t,g=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,d,f)=>{let p,g=!1,y=null,S=null;t&&(p=a&&d.route.id?a[d.route.id]:void 0,y=d.route.errorElement||GR,l&&(c<0&&f===0?(tL("route-fallback"),g=!0,S=null):c===f&&(g=!0,S=d.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,f+1)),w=()=>{let A;return p?A=y:g?A=S:d.route.Component?A=R.createElement(d.route.Component,null):d.route.element?A=d.route.element:A=h,R.createElement(KR,{match:d,routeContext:{outlet:h,matches:v,isDataRoute:t!=null},children:A})};return t&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?R.createElement(XR,{location:t.location,revalidation:t.revalidation,component:y,error:p,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}var Kb=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(Kb||{}),wg=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(wg||{});function qR(n){let e=R.useContext(Cv);return e||he(!1),e}function QR(n){let e=R.useContext(Vb);return e||he(!1),e}function JR(n){let e=R.useContext(Os);return e||he(!1),e}function Yb(n){let e=JR(),t=e.matches[e.matches.length-1];return t.route.id||he(!1),t.route.id}function ZR(){var n;let e=R.useContext(Wb),t=QR(wg.UseRouteError),r=Yb(wg.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function eL(){let{router:n}=qR(Kb.UseNavigateStable),e=Yb(wg.UseNavigateStable),t=R.useRef(!1);return Gb(()=>{t.current=!0}),R.useCallback(function(i,s){s===void 0&&(s={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,yg({fromRouteId:e},s)))},[n,e])}const zA={};function tL(n,e,t){zA[n]||(zA[n]=!0)}function nL(n){return $R(n.context)}function rL(n){let{basename:e="/",children:t=null,location:r,navigationType:i=Qe.Pop,navigator:s,static:o=!1,future:a}=n;Pf()&&he(!1);let l=e.replace(/^\/*/,"/"),c=R.useMemo(()=>({basename:l,navigator:s,static:o,future:yg({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Ns(r));let{pathname:h="/",search:d="",hash:f="",state:p=null,key:g="default"}=r,y=R.useMemo(()=>{let S=Hu(h,l);return S==null?null:{location:{pathname:S,search:d,hash:f,state:p,key:g},navigationType:i}},[l,h,d,f,p,g,i]);return y==null?null:R.createElement(xa.Provider,{value:c},R.createElement(WE.Provider,{children:t,value:y}))}new Promise(()=>{});function iL(n){let e={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(e,{element:R.createElement(n.Component),Component:void 0}),n.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:R.createElement(n.HydrateFallback),HydrateFallback:void 0}),n.ErrorBoundary&&Object.assign(e,{errorElement:R.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eh(){return eh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},eh.apply(this,arguments)}function sL(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function oL(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function aL(n,e){return n.button===0&&(!e||e==="_self")&&!oL(n)}const lL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],uL="6";try{window.__reactRouterVersion=uL}catch{}function cL(n,e){return _R({basename:void 0,future:eh({},void 0,{v7_prependBasename:!0}),history:VP({window:void 0}),hydrationData:hL(),routes:n,mapRouteProperties:iL,unstable_dataStrategy:void 0,window:void 0}).initialize()}function hL(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=eh({},e,{errors:dL(e.errors)})),e}function dL(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")t[r]=new BE(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",t[r]=o}catch{}}if(t[r]==null){let s=new Error(i.message);s.stack="",t[r]=s}}else t[r]=i;return t}const fL=R.createContext({isTransitioning:!1}),pL=R.createContext(new Map),gL="startTransition",HA=LT[gL],mL="flushSync",BA=$P[mL];function vL(n){HA?HA(n):n()}function ec(n){BA?BA(n):n()}class yL{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}}function wL(n){let{fallbackElement:e,router:t,future:r}=n,[i,s]=R.useState(t.state),[o,a]=R.useState(),[l,c]=R.useState({isTransitioning:!1}),[h,d]=R.useState(),[f,p]=R.useState(),[g,y]=R.useState(),S=R.useRef(new Map),{v7_startTransition:v}=r||{},w=R.useCallback(b=>{v?vL(b):b()},[v]),A=R.useCallback((b,L)=>{let{deletedFetchers:N,unstable_flushSync:F,unstable_viewTransitionOpts:I}=L;N.forEach(H=>S.current.delete(H)),b.fetchers.forEach((H,$)=>{H.data!==void 0&&S.current.set($,H.data)});let K=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!I||K){F?ec(()=>s(b)):w(()=>s(b));return}if(F){ec(()=>{f&&(h&&h.resolve(),f.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:I.currentLocation,nextLocation:I.nextLocation})});let H=t.window.document.startViewTransition(()=>{ec(()=>s(b))});H.finished.finally(()=>{ec(()=>{d(void 0),p(void 0),a(void 0),c({isTransitioning:!1})})}),ec(()=>p(H));return}f?(h&&h.resolve(),f.skipTransition(),y({state:b,currentLocation:I.currentLocation,nextLocation:I.nextLocation})):(a(b),c({isTransitioning:!0,flushSync:!1,currentLocation:I.currentLocation,nextLocation:I.nextLocation}))},[t.window,f,h,S,w]);R.useLayoutEffect(()=>t.subscribe(A),[t,A]),R.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new yL)},[l]),R.useEffect(()=>{if(h&&o&&t.window){let b=o,L=h.promise,N=t.window.document.startViewTransition(async()=>{w(()=>s(b)),await L});N.finished.finally(()=>{d(void 0),p(void 0),a(void 0),c({isTransitioning:!1})}),p(N)}},[w,o,h,t.window]),R.useEffect(()=>{h&&o&&i.location.key===o.location.key&&h.resolve()},[h,f,i.location,o]),R.useEffect(()=>{!l.isTransitioning&&g&&(a(g.state),c({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),y(void 0))},[l.isTransitioning,g]),R.useEffect(()=>{},[]);let x=R.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:b=>t.navigate(b),push:(b,L,N)=>t.navigate(b,{state:L,preventScrollReset:N==null?void 0:N.preventScrollReset}),replace:(b,L,N)=>t.navigate(b,{replace:!0,state:L,preventScrollReset:N==null?void 0:N.preventScrollReset})}),[t]),C=t.basename||"/",T=R.useMemo(()=>({router:t,navigator:x,static:!1,basename:C}),[t,x,C]);return R.createElement(R.Fragment,null,R.createElement(Cv.Provider,{value:T},R.createElement(Vb.Provider,{value:i},R.createElement(pL.Provider,{value:S.current},R.createElement(fL.Provider,{value:l},R.createElement(rL,{basename:C,location:i.location,navigationType:i.historyAction,navigator:x,future:{v7_relativeSplatPath:t.future.v7_relativeSplatPath}},i.initialized||t.future.v7_partialHydration?R.createElement(EL,{routes:t.routes,future:t.future,state:i}):e))))),null)}function EL(n){let{routes:e,future:t,state:r}=n;return VR(e,void 0,r,t)}const _L=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",AL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qb=R.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:h,unstable_viewTransition:d}=e,f=sL(e,lL),{basename:p}=R.useContext(xa),g,y=!1;if(typeof c=="string"&&AL.test(c)&&(g=c,_L))try{let A=new URL(window.location.href),x=c.startsWith("//")?new URL(A.protocol+c):new URL(c),C=Hu(x.pathname,p);x.origin===A.origin&&C!=null?c=C+x.search+x.hash:y=!0}catch{}let S=zR(c,{relative:i}),v=SL(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:i,unstable_viewTransition:d});function w(A){r&&r(A),A.defaultPrevented||v(A)}return R.createElement("a",eh({},f,{href:g||S,onClick:y||s?r:w,ref:t,target:l}))});var UA;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(UA||(UA={}));var $A;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})($A||($A={}));function SL(n,e){let{target:t,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=HR(),c=Rf(),h=Xb(n,{relative:o});return R.useCallback(d=>{if(aL(d,t)){d.preventDefault();let f=r!==void 0?r:ya(c)===ya(h);l(n,{replace:f,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,h,r,i,t,n,s,o,a])}const bL=()=>B.jsx("div",{className:"text-3xl font-bold underline",children:"Home"}),xL=()=>B.jsx("div",{className:"text-3xl font-bold underline",children:"Projects"}),CL="modulepreload",TL=function(n){return"/"+n},VA={},ip=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.all(t.map(a=>{if(a=TL(a),a in VA)return;VA[a]=!0;const l=a.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const h=document.createElement("link");if(h.rel=l?"stylesheet":CL,l||(h.as="script",h.crossOrigin=""),h.href=a,o&&h.setAttribute("nonce",o),document.head.appendChild(h),l)return new Promise((d,f)=>{h.addEventListener("load",d),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var Dc={};Dc.d=(n,e)=>{for(var t in e)Dc.o(e,t)&&!Dc.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};Dc.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var ee=globalThis.pdfjsLib={};Dc.d(ee,{AbortException:()=>Ta,AnnotationEditorLayer:()=>Iw,AnnotationEditorParamsType:()=>ne,AnnotationEditorType:()=>ve,AnnotationEditorUIManager:()=>Ea,AnnotationLayer:()=>xD,AnnotationMode:()=>Xi,CMapCompressionType:()=>b0,ColorPicker:()=>xg,DOMSVGFactory:()=>KE,DrawLayer:()=>jw,FeatureTest:()=>rn,GlobalWorkerOptions:()=>Pi,ImageKind:()=>Sp,InvalidPDFException:()=>Jb,MissingPDFException:()=>Ca,OPS:()=>Wn,Outliner:()=>gw,PDFDataRangeTransport:()=>Vx,PDFDateString:()=>sx,PDFWorker:()=>ul,PasswordResponses:()=>LL,PermissionFlag:()=>RL,PixelsPerInch:()=>Ms,RenderingCancelledException:()=>YE,TextLayer:()=>Sg,UnexpectedResponseException:()=>Rv,Util:()=>X,VerbosityLevel:()=>Tv,XfaLayer:()=>Gx,build:()=>sD,createValidAbsoluteUrl:()=>FL,fetchData:()=>Nv,getDocument:()=>qM,getFilenameFromUrl:()=>WL,getPdfFilenameFromUrl:()=>GL,getXfaPageViewport:()=>XL,isDataScheme:()=>qE,isPdfFile:()=>QE,noContextMenu:()=>ln,normalizeUnicode:()=>BL,renderTextLayer:()=>BM,setLayerDimensions:()=>wa,shadow:()=>we,updateTextLayer:()=>UM,version:()=>iD});const jt=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Qb=[1,0,0,1,0,0],S0=[.001,0,0,.001,0,0],kL=1e7,Ey=1.35,In={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},Xi={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},PL="pdfjs_internal_editor_",ve={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},ne={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},RL={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Dt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Sp={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},tt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},tc={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Tv={ERRORS:0,WARNINGS:1,INFOS:5},b0={NONE:0,BINARY:1},Wn={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},LL={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let kv=Tv.WARNINGS;function ML(n){Number.isInteger(n)&&(kv=n)}function DL(){return kv}function Pv(n){kv>=Tv.INFOS&&console.log(`Info: ${n}`)}function ce(n){kv>=Tv.WARNINGS&&console.log(`Warning: ${n}`)}function Te(n){throw new Error(n)}function at(n,e){n||Te(e)}function IL(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function FL(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const i=n.match(/\./g);(i==null?void 0:i.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=HL(n)}catch{}}const r=e?new URL(n,e):new URL(n);if(IL(r))return r}catch{}return null}function we(n,e,t,r=!1){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}const js=function(){function e(t,r){this.constructor===e&&Te("Cannot initialize BaseException."),this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class x0 extends js{constructor(e,t){super(e,"PasswordException"),this.code=t}}class C0 extends js{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Jb extends js{constructor(e){super(e,"InvalidPDFException")}}class Ca extends js{constructor(e){super(e,"MissingPDFException")}}class Rv extends js{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class NL extends js{constructor(e){super(e,"FormatError")}}class Ta extends js{constructor(e){super(e,"AbortException")}}function Zb(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&Te("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const r=[];for(let i=0;i<e;i+=t){const s=Math.min(i+t,e),o=n.subarray(i,s);r.push(String.fromCharCode.apply(null,o))}return r.join("")}function Lv(n){typeof n!="string"&&Te("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=n.charCodeAt(r)&255;return t}function OL(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function GE(n){const e=Object.create(null);for(const[t,r]of n)e[t]=r;return e}function jL(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function zL(){try{return new Function(""),!0}catch{return!1}}class rn{static get isLittleEndian(){return we(this,"isLittleEndian",jL())}static get isEvalSupported(){return we(this,"isEvalSupported",zL())}static get isOffscreenCanvasSupported(){return we(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?we(this,"platform",{isMac:navigator.platform.includes("Mac")}):we(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var e,t;return we(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const _y=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var dl,bp,nh,T0;class X{static makeHexColor(e,t,r){return`#${_y[e]}${_y[t]}${_y[r]}`}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const r=e[0]*t[0]+e[1]*t[2]+t[4],i=e[0]*t[1]+e[1]*t[3]+t[5];return[r,i]}static applyInverseTransform(e,t){const r=t[0]*t[3]-t[1]*t[2],i=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/r,s=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/r;return[i,s]}static getAxialAlignedBoundingBox(e,t){const r=this.applyTransform(e,t),i=this.applyTransform(e.slice(2,4),t),s=this.applyTransform([e[0],e[3]],t),o=this.applyTransform([e[2],e[1]],t);return[Math.min(r[0],i[0],s[0],o[0]),Math.min(r[1],i[1],s[1],o[1]),Math.max(r[0],i[0],s[0],o[0]),Math.max(r[1],i[1],s[1],o[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],r=e[0]*t[0]+e[1]*t[2],i=e[0]*t[1]+e[1]*t[3],s=e[2]*t[0]+e[3]*t[2],o=e[2]*t[1]+e[3]*t[3],a=(r+o)/2,l=Math.sqrt((r+o)**2-4*(r*o-s*i))/2,c=a+l||1,h=a-l||1;return[Math.sqrt(c),Math.sqrt(h)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>o?null:[r,s,i,o]}static bezierBoundingBox(e,t,r,i,s,o,a,l,c){return c?(c[0]=Math.min(c[0],e,a),c[1]=Math.min(c[1],t,l),c[2]=Math.max(c[2],e,a),c[3]=Math.max(c[3],t,l)):c=[Math.min(e,a),Math.min(t,l),Math.max(e,a),Math.max(t,l)],_(this,nh,T0).call(this,e,r,s,a,t,i,o,l,3*(-e+3*(r-s)+a),6*(e-2*r+s),3*(r-e),c),_(this,nh,T0).call(this,e,r,s,a,t,i,o,l,3*(-t+3*(i-o)+l),6*(t-2*i+o),3*(i-t),c),c}}dl=new WeakSet,bp=function(e,t,r,i,s,o,a,l,c,h){if(c<=0||c>=1)return;const d=1-c,f=c*c,p=f*c,g=d*(d*(d*e+3*c*t)+3*f*r)+p*i,y=d*(d*(d*s+3*c*o)+3*f*a)+p*l;h[0]=Math.min(h[0],g),h[1]=Math.min(h[1],y),h[2]=Math.max(h[2],g),h[3]=Math.max(h[3],y)},nh=new WeakSet,T0=function(e,t,r,i,s,o,a,l,c,h,d,f){if(Math.abs(c)<1e-12){Math.abs(h)>=1e-12&&_(this,dl,bp).call(this,e,t,r,i,s,o,a,l,-d/h,f);return}const p=h**2-4*d*c;if(p<0)return;const g=Math.sqrt(p),y=2*c;_(this,dl,bp).call(this,e,t,r,i,s,o,a,l,(-h+g)/y,f),_(this,dl,bp).call(this,e,t,r,i,s,o,a,l,(-h-g)/y,f)},m(X,dl),m(X,nh);function HL(n){return decodeURIComponent(escape(n))}let Ay=null,WA=null;function BL(n){return Ay||(Ay=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,WA=new Map([["ﬅ","ſt"]])),n.replaceAll(Ay,(e,t,r)=>t?t.normalize("NFKC"):WA.get(r))}function UL(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const n=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(n);else for(let e=0;e<32;e++)n[e]=Math.floor(Math.random()*255);return Zb(n)}const ex="pdfjs_internal_id_",Ur={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class Mv{constructor(){this.constructor===Mv&&Te("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,i,s){return"none"}destroy(e=!1){}}class Dv{constructor(){this.constructor===Dv&&Te("Cannot initialize BaseCanvasFactory.")}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d")}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Te("Abstract method `_createCanvas` called.")}}class Iv{constructor({baseUrl:e=null,isCompressed:t=!0}){this.constructor===Iv&&Te("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":""),r=this.isCompressed?b0.BINARY:b0.NONE;return this._fetchData(t,r).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}_fetchData(e,t){Te("Abstract method `_fetchData` called.")}}class Fv{constructor({baseUrl:e=null}){this.constructor===Fv&&Te("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetchData(t).catch(r=>{throw new Error(`Unable to load font data at: ${t}`)})}_fetchData(e){Te("Abstract method `_fetchData` called.")}}class XE{constructor(){this.constructor===XE&&Te("Cannot initialize BaseSVGFactory.")}create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Te("Abstract method `_createSVG` called.")}}const Vr="http://www.w3.org/2000/svg",qs=class qs{};se(qs,"CSS",96),se(qs,"PDF",72),se(qs,"PDF_TO_CSS_UNITS",qs.CSS/qs.PDF);let Ms=qs;var ro,vr,Qr,Qt,Pg,io,ht,It,Ki,Na,Yi,Oa,fl,xp,Rg,tx,rh,k0,qi,ja,so,lc,oo,uc,ih,P0,ao,cc;class $L extends Mv{constructor({docId:t,ownerDocument:r=globalThis.document}={}){super();m(this,ht);m(this,Ki);m(this,Yi);m(this,fl);m(this,Rg);m(this,rh);m(this,qi);m(this,so);m(this,oo);m(this,ih);m(this,ao);m(this,ro,void 0);m(this,vr,void 0);m(this,Qr,void 0);m(this,Qt,void 0);m(this,Pg,void 0);m(this,io,0);E(this,Qr,t),E(this,Qt,r)}addFilter(t){if(!t)return"none";let r=u(this,ht,It).get(t);if(r)return r;const[i,s,o]=_(this,fl,xp).call(this,t),a=t.length===1?i:`${i}${s}${o}`;if(r=u(this,ht,It).get(a),r)return u(this,ht,It).set(t,r),r;const l=`g_${u(this,Qr)}_transfer_map_${hn(this,io)._++}`,c=`url(#${l})`;u(this,ht,It).set(t,c),u(this,ht,It).set(a,c);const h=_(this,qi,ja).call(this,l);return _(this,oo,uc).call(this,i,s,o,h),c}addHCMFilter(t,r){var g;const i=`${t}-${r}`,s="base";let o=u(this,Ki,Na).get(s);if((o==null?void 0:o.key)===i||(o?((g=o.filter)==null||g.remove(),o.key=i,o.url="none",o.filter=null):(o={key:i,url:"none",filter:null},u(this,Ki,Na).set(s,o)),!t||!r))return o.url;const a=_(this,ao,cc).call(this,t);t=X.makeHexColor(...a);const l=_(this,ao,cc).call(this,r);if(r=X.makeHexColor(...l),u(this,Yi,Oa).style.color="",t==="#000000"&&r==="#ffffff"||t===r)return o.url;const c=new Array(256);for(let y=0;y<=255;y++){const S=y/255;c[y]=S<=.03928?S/12.92:((S+.055)/1.055)**2.4}const h=c.join(","),d=`g_${u(this,Qr)}_hcm_filter`,f=o.filter=_(this,qi,ja).call(this,d);_(this,oo,uc).call(this,h,h,h,f),_(this,rh,k0).call(this,f);const p=(y,S)=>{const v=a[y]/255,w=l[y]/255,A=new Array(S+1);for(let x=0;x<=S;x++)A[x]=v+x/S*(w-v);return A.join(",")};return _(this,oo,uc).call(this,p(0,5),p(1,5),p(2,5),f),o.url=`url(#${d})`,o.url}addAlphaFilter(t){let r=u(this,ht,It).get(t);if(r)return r;const[i]=_(this,fl,xp).call(this,[t]),s=`alpha_${i}`;if(r=u(this,ht,It).get(s),r)return u(this,ht,It).set(t,r),r;const o=`g_${u(this,Qr)}_alpha_map_${hn(this,io)._++}`,a=`url(#${o})`;u(this,ht,It).set(t,a),u(this,ht,It).set(s,a);const l=_(this,qi,ja).call(this,o);return _(this,ih,P0).call(this,i,l),a}addLuminosityFilter(t){let r=u(this,ht,It).get(t||"luminosity");if(r)return r;let i,s;if(t?([i]=_(this,fl,xp).call(this,[t]),s=`luminosity_${i}`):s="luminosity",r=u(this,ht,It).get(s),r)return u(this,ht,It).set(t,r),r;const o=`g_${u(this,Qr)}_luminosity_map_${hn(this,io)._++}`,a=`url(#${o})`;u(this,ht,It).set(t,a),u(this,ht,It).set(s,a);const l=_(this,qi,ja).call(this,o);return _(this,Rg,tx).call(this,l),t&&_(this,ih,P0).call(this,i,l),a}addHighlightHCMFilter(t,r,i,s,o){var w;const a=`${r}-${i}-${s}-${o}`;let l=u(this,Ki,Na).get(t);if((l==null?void 0:l.key)===a||(l?((w=l.filter)==null||w.remove(),l.key=a,l.url="none",l.filter=null):(l={key:a,url:"none",filter:null},u(this,Ki,Na).set(t,l)),!r||!i))return l.url;const[c,h]=[r,i].map(_(this,ao,cc).bind(this));let d=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),f=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[p,g]=[s,o].map(_(this,ao,cc).bind(this));f<d&&([d,f,p,g]=[f,d,g,p]),u(this,Yi,Oa).style.color="";const y=(A,x,C)=>{const T=new Array(256),b=(f-d)/C,L=A/255,N=(x-A)/(255*C);let F=0;for(let I=0;I<=C;I++){const K=Math.round(d+I*b),H=L+I*N;for(let $=F;$<=K;$++)T[$]=H;F=K+1}for(let I=F;I<256;I++)T[I]=T[F-1];return T.join(",")},S=`g_${u(this,Qr)}_hcm_${t}_filter`,v=l.filter=_(this,qi,ja).call(this,S);return _(this,rh,k0).call(this,v),_(this,oo,uc).call(this,y(p[0],g[0],5),y(p[1],g[1],5),y(p[2],g[2],5),v),l.url=`url(#${S})`,l.url}destroy(t=!1){t&&u(this,Ki,Na).size!==0||(u(this,vr)&&(u(this,vr).parentNode.parentNode.remove(),E(this,vr,null)),u(this,ro)&&(u(this,ro).clear(),E(this,ro,null)),E(this,io,0))}}ro=new WeakMap,vr=new WeakMap,Qr=new WeakMap,Qt=new WeakMap,Pg=new WeakMap,io=new WeakMap,ht=new WeakSet,It=function(){return u(this,ro)||E(this,ro,new Map)},Ki=new WeakSet,Na=function(){return u(this,Pg)||E(this,Pg,new Map)},Yi=new WeakSet,Oa=function(){if(!u(this,vr)){const t=u(this,Qt).createElement("div"),{style:r}=t;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=u(this,Qt).createElementNS(Vr,"svg");i.setAttribute("width",0),i.setAttribute("height",0),E(this,vr,u(this,Qt).createElementNS(Vr,"defs")),t.append(i),i.append(u(this,vr)),u(this,Qt).body.append(t)}return u(this,vr)},fl=new WeakSet,xp=function(t){if(t.length===1){const c=t[0],h=new Array(256);for(let f=0;f<256;f++)h[f]=c[f]/255;const d=h.join(",");return[d,d,d]}const[r,i,s]=t,o=new Array(256),a=new Array(256),l=new Array(256);for(let c=0;c<256;c++)o[c]=r[c]/255,a[c]=i[c]/255,l[c]=s[c]/255;return[o.join(","),a.join(","),l.join(",")]},Rg=new WeakSet,tx=function(t){const r=u(this,Qt).createElementNS(Vr,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(r)},rh=new WeakSet,k0=function(t){const r=u(this,Qt).createElementNS(Vr,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(r)},qi=new WeakSet,ja=function(t){const r=u(this,Qt).createElementNS(Vr,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",t),u(this,Yi,Oa).append(r),r},so=new WeakSet,lc=function(t,r,i){const s=u(this,Qt).createElementNS(Vr,r);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),t.append(s)},oo=new WeakSet,uc=function(t,r,i,s){const o=u(this,Qt).createElementNS(Vr,"feComponentTransfer");s.append(o),_(this,so,lc).call(this,o,"feFuncR",t),_(this,so,lc).call(this,o,"feFuncG",r),_(this,so,lc).call(this,o,"feFuncB",i)},ih=new WeakSet,P0=function(t,r){const i=u(this,Qt).createElementNS(Vr,"feComponentTransfer");r.append(i),_(this,so,lc).call(this,i,"feFuncA",t)},ao=new WeakSet,cc=function(t){return u(this,Yi,Oa).style.color=t,JE(getComputedStyle(u(this,Yi,Oa)).getPropertyValue("color"))};class VL extends Dv{constructor({ownerDocument:e=globalThis.document}={}){super(),this._document=e}_createCanvas(e,t){const r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}async function Nv(n,e="text"){if(hc(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class nx extends Iv{_fetchData(e,t){return Nv(e,this.isCompressed?"arraybuffer":"text").then(r=>({cMapData:r instanceof ArrayBuffer?new Uint8Array(r):Lv(r),compressionType:t}))}}class rx extends Fv{_fetchData(e){return Nv(e,"arraybuffer").then(t=>new Uint8Array(t))}}class KE extends XE{_createSVG(e){return document.createElementNS(Vr,e)}}class Lf{constructor({viewBox:e,scale:t,rotation:r,offsetX:i=0,offsetY:s=0,dontFlip:o=!1}){this.viewBox=e,this.scale=t,this.rotation=r,this.offsetX=i,this.offsetY=s;const a=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let c,h,d,f;switch(r%=360,r<0&&(r+=360),r){case 180:c=-1,h=0,d=0,f=1;break;case 90:c=0,h=1,d=1,f=0;break;case 270:c=0,h=-1,d=-1,f=0;break;case 0:c=1,h=0,d=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(d=-d,f=-f);let p,g,y,S;c===0?(p=Math.abs(l-e[1])*t+i,g=Math.abs(a-e[0])*t+s,y=(e[3]-e[1])*t,S=(e[2]-e[0])*t):(p=Math.abs(a-e[0])*t+i,g=Math.abs(l-e[1])*t+s,y=(e[2]-e[0])*t,S=(e[3]-e[1])*t),this.transform=[c*t,h*t,d*t,f*t,p-c*t*a-d*t*l,g-h*t*a-f*t*l],this.width=y,this.height=S}get rawDims(){const{viewBox:e}=this;return we(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new Lf({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){return X.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=X.applyTransform([e[0],e[1]],this.transform),r=X.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){return X.applyInverseTransform([e,t],this.transform)}}class YE extends js{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function qE(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function QE(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function WL(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function GL(n,e="document.pdf"){if(typeof n!="string")return e;if(qE(n))return ce('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=t.exec(n);let s=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(s&&(s=s[0],s.includes("%")))try{s=r.exec(decodeURIComponent(s))[0]}catch{}return s||e}class GA{constructor(){se(this,"started",Object.create(null));se(this,"times",[])}time(e){e in this.started&&ce(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||ce(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:r}of this.times)t=Math.max(r.length,t);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(t)} ${s-i}ms
`);return e.join("")}}function hc(n,e){try{const{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function ln(n){n.preventDefault()}function ix(n){console.log("Deprecated API usage: "+n)}let XA;class sx{static toDateObject(e){if(!e||typeof e!="string")return null;XA||(XA=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=XA.exec(e);if(!t)return null;const r=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const c=t[7]||"Z";let h=parseInt(t[8],10);h=h>=0&&h<=23?h:0;let d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,c==="-"?(o+=h,a+=d):c==="+"&&(o-=h,a-=d),new Date(Date.UTC(r,i,s,o,a,l))}}function XL(n,{scale:e=1,rotation:t=0}){const{width:r,height:i}=n.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new Lf({viewBox:s,scale:e,rotation:t})}function JE(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(ce(`Not a valid color format: "${n}"`),[0,0,0])}function KL(n){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of n.keys()){e.style.color=t;const r=window.getComputedStyle(e).color;n.set(t,JE(r))}e.remove()}function He(n){const{a:e,b:t,c:r,d:i,e:s,f:o}=n.getTransform();return[e,t,r,i,s,o]}function $r(n){const{a:e,b:t,c:r,d:i,e:s,f:o}=n.getTransform().invertSelf();return[e,t,r,i,s,o]}function wa(n,e,t=!1,r=!0){if(e instanceof Lf){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:o}=n,a=rn.isCSSRoundSupported,l=`var(--scale-factor) * ${i}px`,c=`var(--scale-factor) * ${s}px`,h=a?`round(${l}, 1px)`:`calc(${l})`,d=a?`round(${c}, 1px)`:`calc(${c})`;!t||e.rotation%180===0?(o.width=h,o.height=d):(o.width=d,o.height=h)}r&&n.setAttribute("data-main-rotation",e.rotation)}var lo,uo,yr,co,Lg,ox,Mg,ax,Dg,lx,pl,Cp,Ig,ux,sh,L0;const Fg=class Fg{constructor(e){m(this,Mg);m(this,Dg);m(this,pl);m(this,Ig);m(this,sh);m(this,lo,null);m(this,uo,null);m(this,yr,void 0);m(this,co,null);E(this,yr,e)}render(){const e=E(this,lo,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",ln),e.addEventListener("pointerdown",_(Fg,Lg,ox));const t=E(this,co,document.createElement("div"));t.className="buttons",e.append(t);const r=u(this,yr).toolbarPosition;if(r){const{style:i}=e,s=u(this,yr)._uiManager.direction==="ltr"?1-r[0]:r[0];i.insetInlineEnd=`${100*s}%`,i.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return _(this,Ig,ux).call(this),e}hide(){var e;u(this,lo).classList.add("hidden"),(e=u(this,uo))==null||e.hideDropdown()}show(){u(this,lo).classList.remove("hidden")}addAltTextButton(e){_(this,pl,Cp).call(this,e),u(this,co).prepend(e,u(this,sh,L0))}addColorPicker(e){E(this,uo,e);const t=e.renderButton();_(this,pl,Cp).call(this,t),u(this,co).prepend(t,u(this,sh,L0))}remove(){var e;u(this,lo).remove(),(e=u(this,uo))==null||e.destroy(),E(this,uo,null)}};lo=new WeakMap,uo=new WeakMap,yr=new WeakMap,co=new WeakMap,Lg=new WeakSet,ox=function(e){e.stopPropagation()},Mg=new WeakSet,ax=function(e){u(this,yr)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},Dg=new WeakSet,lx=function(e){u(this,yr)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},pl=new WeakSet,Cp=function(e){e.addEventListener("focusin",_(this,Mg,ax).bind(this),{capture:!0}),e.addEventListener("focusout",_(this,Dg,lx).bind(this),{capture:!0}),e.addEventListener("contextmenu",ln)},Ig=new WeakSet,ux=function(){const e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${u(this,yr).editorType}-button`),_(this,pl,Cp).call(this,e),e.addEventListener("click",t=>{u(this,yr)._uiManager.delete()}),u(this,co).append(e)},sh=new WeakSet,L0=function(){const e=document.createElement("div");return e.className="divider",e},m(Fg,Lg);let R0=Fg;var oh,ho,ah,Ng,cx,Og,hx,jg,dx;class YL{constructor(e){m(this,Ng);m(this,Og);m(this,jg);m(this,oh,null);m(this,ho,null);m(this,ah,void 0);E(this,ah,e)}show(e,t,r){const[i,s]=_(this,Og,hx).call(this,t,r),{style:o}=u(this,ho)||E(this,ho,_(this,Ng,cx).call(this));e.append(u(this,ho)),o.insetInlineEnd=`${100*i}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){u(this,ho).remove()}}oh=new WeakMap,ho=new WeakMap,ah=new WeakMap,Ng=new WeakSet,cx=function(){const e=E(this,ho,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",ln);const t=E(this,oh,document.createElement("div"));return t.className="buttons",e.append(t),_(this,jg,dx).call(this),e},Og=new WeakSet,hx=function(e,t){let r=0,i=0;for(const s of e){const o=s.y+s.height;if(o<r)continue;const a=s.x+(t?s.width:0);if(o>r){i=a,r=o;continue}t?a>i&&(i=a):a<i&&(i=a)}return[t?1-i:i,r]},jg=new WeakSet,dx=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label"),e.addEventListener("contextmenu",ln),e.addEventListener("click",()=>{u(this,ah).highlightSelection("floating_button")}),u(this,oh).append(e)};function Eg(n,e,t){for(const r of t)e.addEventListener(r,n[r].bind(n))}function qL(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var zg;class QL{constructor(){m(this,zg,0)}get id(){return`${PL}${hn(this,zg)._++}`}}zg=new WeakMap;var lh,Hg,Pn,uh,D0;const i_=class i_{constructor(){m(this,uh);m(this,lh,UL());m(this,Hg,0);m(this,Pn,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d"),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return we(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:r,size:i,type:s}=e;return _(this,uh,D0).call(this,`${t}_${r}_${i}_${s}`,e)}async getFromUrl(e){return _(this,uh,D0).call(this,e,e)}async getFromId(e){u(this,Pn)||E(this,Pn,new Map);const t=u(this,Pn).get(e);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null}getSvgUrl(e){const t=u(this,Pn).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){u(this,Pn)||E(this,Pn,new Map);const t=u(this,Pn).get(e);t&&(t.refCounter-=1,t.refCounter===0&&(t.bitmap=null))}isValidId(e){return e.startsWith(`image_${u(this,lh)}_`)}};lh=new WeakMap,Hg=new WeakMap,Pn=new WeakMap,uh=new WeakSet,D0=async function(e,t){u(this,Pn)||E(this,Pn,new Map);let r=u(this,Pn).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${u(this,lh)}_${hn(this,Hg)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(r.url=t,i=await Nv(t,"blob")):i=r.file=t,i.type==="image/svg+xml"){const s=i_._isSVGFittingCanvas,o=new FileReader,a=new Image,l=new Promise((c,h)=>{a.onload=()=>{r.bitmap=a,r.isSvg=!0,c()},o.onload=async()=>{const d=r.svgUrl=o.result;a.src=await s?`${d}#svgView(preserveAspectRatio(none))`:d},a.onerror=o.onerror=h});o.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){console.error(i),r=null}return u(this,Pn).set(e,r),r&&u(this,Pn).set(r.id,r),r};let M0=i_;var dt,Qi,ch,ft;class JL{constructor(e=128){m(this,dt,[]);m(this,Qi,!1);m(this,ch,void 0);m(this,ft,-1);E(this,ch,e)}add({cmd:e,undo:t,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(i&&e(),u(this,Qi))return;const l={cmd:e,undo:t,post:r,type:s};if(u(this,ft)===-1){u(this,dt).length>0&&(u(this,dt).length=0),E(this,ft,0),u(this,dt).push(l);return}if(o&&u(this,dt)[u(this,ft)].type===s){a&&(l.undo=u(this,dt)[u(this,ft)].undo),u(this,dt)[u(this,ft)]=l;return}const c=u(this,ft)+1;c===u(this,ch)?u(this,dt).splice(0,1):(E(this,ft,c),c<u(this,dt).length&&u(this,dt).splice(c)),u(this,dt).push(l)}undo(){if(u(this,ft)===-1)return;E(this,Qi,!0);const{undo:e,post:t}=u(this,dt)[u(this,ft)];e(),t==null||t(),E(this,Qi,!1),E(this,ft,u(this,ft)-1)}redo(){if(u(this,ft)<u(this,dt).length-1){E(this,ft,u(this,ft)+1),E(this,Qi,!0);const{cmd:e,post:t}=u(this,dt)[u(this,ft)];e(),t==null||t(),E(this,Qi,!1)}}hasSomethingToUndo(){return u(this,ft)!==-1}hasSomethingToRedo(){return u(this,ft)<u(this,dt).length-1}destroy(){E(this,dt,null)}}dt=new WeakMap,Qi=new WeakMap,ch=new WeakMap,ft=new WeakMap;var Bg,fx;class Mf{constructor(e){m(this,Bg);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=rn.platform;for(const[r,i,s={}]of e)for(const o of r){const a=o.startsWith("mac+");t&&a?(this.callbacks.set(o.slice(4),{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1))):!t&&!a&&(this.callbacks.set(o,{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const r=this.callbacks.get(_(this,Bg,fx).call(this,t));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:o=[],checker:a=null}}=r;a&&!a(e,t)||(i.bind(e,...o,t)(),s||(t.stopPropagation(),t.preventDefault()))}}Bg=new WeakSet,fx=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const Ug=class Ug{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return KL(e),we(this,"_colors",e)}convert(e){const t=JE(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[r,i]of this._colors)if(i.every((s,o)=>s===t[o]))return Ug._colorsMapping.get(r);return t}getHexCode(e){const t=this._colors.get(e);return t?X.makeHexColor(...t):e}};se(Ug,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let I0=Ug;var pn,nt,_t,gl,Jr,ml,Gn,vl,fo,wr,Zr,po,hh,dh,Er,yl,Ji,_r,$g,Zi,fh,go,ph,wl,At,Se,ei,mo,gh,mh,vh,yh,wh,Eh,_h,Ah,Sh,bh,xh,Ch,Th,kh,es,Ar,ti,Ph,El,Tp,Vg,px,Wg,gx,_l,kp,Gg,mx,Xg,vx,Kg,yx,Rh,F0,Lh,N0,Mh,O0,Dh,j0,Ih,z0,St,Bt,Sr,Hi,Yg,wx,qg,Ex,Fh,H0,Qg,_x,vo,dc,Nh,B0;const tl=class tl{constructor(e,t,r,i,s,o,a,l,c){m(this,El);m(this,Vg);m(this,Wg);m(this,_l);m(this,Gg);m(this,Xg);m(this,Kg);m(this,Rh);m(this,Lh);m(this,Mh);m(this,Dh);m(this,Ih);m(this,St);m(this,Sr);m(this,Yg);m(this,qg);m(this,Fh);m(this,Qg);m(this,vo);m(this,Nh);m(this,pn,null);m(this,nt,new Map);m(this,_t,new Map);m(this,gl,null);m(this,Jr,null);m(this,ml,null);m(this,Gn,new JL);m(this,vl,0);m(this,fo,new Set);m(this,wr,null);m(this,Zr,null);m(this,po,new Set);m(this,hh,!1);m(this,dh,null);m(this,Er,null);m(this,yl,null);m(this,Ji,!1);m(this,_r,null);m(this,$g,new QL);m(this,Zi,!1);m(this,fh,!1);m(this,go,null);m(this,ph,null);m(this,wl,null);m(this,At,ve.NONE);m(this,Se,new Set);m(this,ei,null);m(this,mo,null);m(this,gh,null);m(this,mh,this.blur.bind(this));m(this,vh,this.focus.bind(this));m(this,yh,this.copy.bind(this));m(this,wh,this.cut.bind(this));m(this,Eh,this.paste.bind(this));m(this,_h,this.keydown.bind(this));m(this,Ah,this.keyup.bind(this));m(this,Sh,this.onEditingAction.bind(this));m(this,bh,this.onPageChanging.bind(this));m(this,xh,this.onScaleChanging.bind(this));m(this,Ch,_(this,Wg,gx).bind(this));m(this,Th,this.onRotationChanging.bind(this));m(this,kh,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});m(this,es,[0,0]);m(this,Ar,null);m(this,ti,null);m(this,Ph,null);E(this,ti,e),E(this,Ph,t),E(this,gl,r),this._eventBus=i,this._eventBus._on("editingaction",u(this,Sh)),this._eventBus._on("pagechanging",u(this,bh)),this._eventBus._on("scalechanging",u(this,xh)),this._eventBus._on("rotationchanging",u(this,Th)),_(this,Gg,mx).call(this),_(this,Lh,N0).call(this),E(this,Jr,s.annotationStorage),E(this,dh,s.filterFactory),E(this,mo,o),E(this,yl,a||null),E(this,hh,l),E(this,wl,c||null),this.viewParameters={realScale:Ms.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=tl.prototype,t=o=>u(o,ti).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),r=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:l}=a;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return we(this,"_keyboardManager",new Mf([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&u(o,ti).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&u(o,ti).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t;_(this,Mh,O0).call(this),_(this,Rh,F0).call(this),this._eventBus._off("editingaction",u(this,Sh)),this._eventBus._off("pagechanging",u(this,bh)),this._eventBus._off("scalechanging",u(this,xh)),this._eventBus._off("rotationchanging",u(this,Th));for(const r of u(this,_t).values())r.destroy();u(this,_t).clear(),u(this,nt).clear(),u(this,po).clear(),E(this,pn,null),u(this,Se).clear(),u(this,Gn).destroy(),(e=u(this,gl))==null||e.destroy(),(t=u(this,_r))==null||t.hide(),E(this,_r,null),u(this,Er)&&(clearTimeout(u(this,Er)),E(this,Er,null)),u(this,Ar)&&(clearTimeout(u(this,Ar)),E(this,Ar,null)),_(this,Xg,vx).call(this)}async mlGuess(e){var t;return((t=u(this,wl))==null?void 0:t.guess(e))||null}get hasMLManager(){return!!u(this,wl)}get hcmFilter(){return we(this,"hcmFilter",u(this,mo)?u(this,dh).addHCMFilter(u(this,mo).foreground,u(this,mo).background):"none")}get direction(){return we(this,"direction",getComputedStyle(u(this,ti)).direction)}get highlightColors(){return we(this,"highlightColors",u(this,yl)?new Map(u(this,yl).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return we(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){E(this,ph,e)}editAltText(e){var t;(t=u(this,gl))==null||t.editAltText(this,e)}onPageChanging({pageNumber:e}){E(this,vl,e-1)}focusMainContainer(){u(this,ti).focus()}findParent(e,t){for(const r of u(this,_t).values()){const{x:i,y:s,width:o,height:a}=r.div.getBoundingClientRect();if(e>=i&&e<=i+o&&t>=s&&t<=s+a)return r}return null}disableUserSelect(e=!1){u(this,Ph).classList.toggle("noUserSelect",e)}addShouldRescale(e){u(this,po).add(e)}removeShouldRescale(e){u(this,po).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Ms.PDF_TO_CSS_UNITS;for(const t of u(this,po))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o}=t,a=t.toString(),c=_(this,El,Tp).call(this,t).closest(".textLayer"),h=this.getSelectionBoxes(c);if(h){t.empty(),u(this,At)===ve.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:ve.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const d of u(this,_t).values())if(d.hasTextLayer(c)){d.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o,text:a});break}}}addToAnnotationStorage(e){!e.isEmpty()&&u(this,Jr)&&!u(this,Jr).has(e.id)&&u(this,Jr).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,u(this,Ji)&&(E(this,Ji,!1),_(this,_l,kp).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of u(this,Se))if(t.div.contains(e)){E(this,go,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!u(this,go))return;const[e,t]=u(this,go);E(this,go,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0}),t.focus()}addEditListeners(){_(this,Lh,N0).call(this),_(this,Dh,j0).call(this)}removeEditListeners(){_(this,Mh,O0).call(this),_(this,Ih,z0).call(this)}copy(e){var r;if(e.preventDefault(),(r=u(this,pn))==null||r.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of u(this,Se)){const s=i.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const o of u(this,Zr))if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let r=t.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){ce(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of r){const c=i.deserialize(l);if(!c)return;s.push(c)}const o=()=>{for(const l of s)_(this,Fh,H0).call(this,l);_(this,Nh,B0).call(this,s)},a=()=>{for(const l of s)l.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(s){ce(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),u(this,At)!==ve.NONE&&!this.isEditorHandlingKeyboard&&tl._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,u(this,Ji)&&(E(this,Ji,!1),_(this,_l,kp).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(_(this,Kg,yx).call(this),_(this,Dh,j0).call(this),_(this,St,Bt).call(this,{isEditing:u(this,At)!==ve.NONE,isEmpty:_(this,vo,dc).call(this),hasSomethingToUndo:u(this,Gn).hasSomethingToUndo(),hasSomethingToRedo:u(this,Gn).hasSomethingToRedo(),hasSelectedEditor:!1})):(_(this,Rh,F0).call(this),_(this,Ih,z0).call(this),_(this,St,Bt).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!u(this,Zr)){E(this,Zr,e);for(const t of u(this,Zr))_(this,Sr,Hi).call(this,t.defaultPropertiesToUpdate)}}getId(){return u(this,$g).id}get currentLayer(){return u(this,_t).get(u(this,vl))}getLayer(e){return u(this,_t).get(e)}get currentPageIndex(){return u(this,vl)}addLayer(e){u(this,_t).set(e.pageIndex,e),u(this,Zi)?e.enable():e.disable()}removeLayer(e){u(this,_t).delete(e.pageIndex)}updateMode(e,t=null,r=!1){if(u(this,At)!==e){if(E(this,At,e),e===ve.NONE){this.setEditingState(!1),_(this,qg,Ex).call(this);return}this.setEditingState(!0),_(this,Yg,wx).call(this),this.unselectAll();for(const i of u(this,_t).values())i.updateMode(e);if(!t&&r){this.addNewEditorFromKeyboard();return}if(t){for(const i of u(this,nt).values())if(i.annotationElementId===t){this.setSelected(i),i.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==u(this,At)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var r;if(u(this,Zr)){switch(e){case ne.CREATE:this.currentLayer.addNewEditor();return;case ne.HIGHLIGHT_DEFAULT_COLOR:(r=u(this,ph))==null||r.updateColor(t);break;case ne.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(u(this,gh)||E(this,gh,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const i of u(this,Se))i.updateParams(e,t);for(const i of u(this,Zr))i.updateDefaultParams(e,t)}}showAllEditors(e,t,r=!1){var s;for(const o of u(this,nt).values())o.editorType===e&&o.show(t);(((s=u(this,gh))==null?void 0:s.get(ne.HIGHLIGHT_SHOW_ALL))??!0)!==t&&_(this,Sr,Hi).call(this,[[ne.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(u(this,fh)!==e){E(this,fh,e);for(const t of u(this,_t).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const r of u(this,nt).values())r.pageIndex===e&&t.push(r);return t}getEditor(e){return u(this,nt).get(e)}addEditor(e){u(this,nt).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(u(this,Er)&&clearTimeout(u(this,Er)),E(this,Er,setTimeout(()=>{this.focusMainContainer(),E(this,Er,null)},0))),u(this,nt).delete(e.id),this.unselect(e),(!e.annotationElementId||!u(this,fo).has(e.annotationElementId))&&((t=u(this,Jr))==null||t.remove(e.id))}addDeletedAnnotationElement(e){u(this,fo).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return u(this,fo).has(e)}removeDeletedAnnotationElement(e){u(this,fo).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){u(this,pn)!==e&&(E(this,pn,e),e&&_(this,Sr,Hi).call(this,e.propertiesToUpdate))}updateUI(e){u(this,Qg,_x)===e&&_(this,Sr,Hi).call(this,e.propertiesToUpdate)}toggleSelected(e){if(u(this,Se).has(e)){u(this,Se).delete(e),e.unselect(),_(this,St,Bt).call(this,{hasSelectedEditor:this.hasSelection});return}u(this,Se).add(e),e.select(),_(this,Sr,Hi).call(this,e.propertiesToUpdate),_(this,St,Bt).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of u(this,Se))t!==e&&t.unselect();u(this,Se).clear(),u(this,Se).add(e),e.select(),_(this,Sr,Hi).call(this,e.propertiesToUpdate),_(this,St,Bt).call(this,{hasSelectedEditor:!0})}isSelected(e){return u(this,Se).has(e)}get firstSelectedEditor(){return u(this,Se).values().next().value}unselect(e){e.unselect(),u(this,Se).delete(e),_(this,St,Bt).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return u(this,Se).size!==0}get isEnterHandled(){return u(this,Se).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){u(this,Gn).undo(),_(this,St,Bt).call(this,{hasSomethingToUndo:u(this,Gn).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:_(this,vo,dc).call(this)})}redo(){u(this,Gn).redo(),_(this,St,Bt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:u(this,Gn).hasSomethingToRedo(),isEmpty:_(this,vo,dc).call(this)})}addCommands(e){u(this,Gn).add(e),_(this,St,Bt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:_(this,vo,dc).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...u(this,Se)],t=()=>{for(const i of e)i.remove()},r=()=>{for(const i of e)_(this,Fh,H0).call(this,i)};this.addCommands({cmd:t,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=u(this,pn))==null||e.commitOrRemove()}hasSomethingToControl(){return u(this,pn)||this.hasSelection}selectAll(){for(const e of u(this,Se))e.commit();_(this,Nh,B0).call(this,u(this,nt).values())}unselectAll(){if(!(u(this,pn)&&(u(this,pn).commitOrRemove(),u(this,At)!==ve.NONE))&&this.hasSelection){for(const e of u(this,Se))e.unselect();u(this,Se).clear(),_(this,St,Bt).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;u(this,es)[0]+=e,u(this,es)[1]+=t;const[i,s]=u(this,es),o=[...u(this,Se)],a=1e3;u(this,Ar)&&clearTimeout(u(this,Ar)),E(this,Ar,setTimeout(()=>{E(this,Ar,null),u(this,es)[0]=u(this,es)[1]=0,this.addCommands({cmd:()=>{for(const l of o)u(this,nt).has(l.id)&&l.translateInPage(i,s)},undo:()=>{for(const l of o)u(this,nt).has(l.id)&&l.translateInPage(-i,-s)},mustExec:!1})},a));for(const l of o)l.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),E(this,wr,new Map);for(const e of u(this,Se))u(this,wr).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!u(this,wr))return!1;this.disableUserSelect(!1);const e=u(this,wr);E(this,wr,null);let t=!1;for(const[{x:i,y:s,pageIndex:o},a]of e)a.newX=i,a.newY=s,a.newPageIndex=o,t||(t=i!==a.savedX||s!==a.savedY||o!==a.savedPageIndex);if(!t)return!1;const r=(i,s,o,a)=>{if(u(this,nt).has(i.id)){const l=u(this,_t).get(a);l?i._setParentAndPosition(l,s,o):(i.pageIndex=a,i.x=s,i.y=o)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:o,newPageIndex:a}]of e)r(i,s,o,a)},undo:()=>{for(const[i,{savedX:s,savedY:o,savedPageIndex:a}]of e)r(i,s,o,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(u(this,wr))for(const r of u(this,wr).keys())r.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||u(this,Se).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return u(this,pn)===e}getActive(){return u(this,pn)}getMode(){return u(this,At)}get imageManager(){return we(this,"imageManager",new M0)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let c=0,h=t.rangeCount;c<h;c++)if(!e.contains(t.getRangeAt(c).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:o}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(c,h,d,f)=>({x:(h-i)/o,y:1-(c+d-r)/s,width:f/o,height:d/s});break;case"180":a=(c,h,d,f)=>({x:1-(c+d-r)/s,y:1-(h+f-i)/o,width:d/s,height:f/o});break;case"270":a=(c,h,d,f)=>({x:1-(h+f-i)/o,y:(c-r)/s,width:f/o,height:d/s});break;default:a=(c,h,d,f)=>({x:(c-r)/s,y:(h-i)/o,width:d/s,height:f/o});break}const l=[];for(let c=0,h=t.rangeCount;c<h;c++){const d=t.getRangeAt(c);if(!d.collapsed)for(const{x:f,y:p,width:g,height:y}of d.getClientRects())g===0||y===0||l.push(a(f,p,g,y))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(u(this,ml)||E(this,ml,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=u(this,ml))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=u(this,ml))==null?void 0:i.get(e.data.id);if(!t)return;const r=u(this,Jr).getRawValue(t);r&&(u(this,At)===ve.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}};pn=new WeakMap,nt=new WeakMap,_t=new WeakMap,gl=new WeakMap,Jr=new WeakMap,ml=new WeakMap,Gn=new WeakMap,vl=new WeakMap,fo=new WeakMap,wr=new WeakMap,Zr=new WeakMap,po=new WeakMap,hh=new WeakMap,dh=new WeakMap,Er=new WeakMap,yl=new WeakMap,Ji=new WeakMap,_r=new WeakMap,$g=new WeakMap,Zi=new WeakMap,fh=new WeakMap,go=new WeakMap,ph=new WeakMap,wl=new WeakMap,At=new WeakMap,Se=new WeakMap,ei=new WeakMap,mo=new WeakMap,gh=new WeakMap,mh=new WeakMap,vh=new WeakMap,yh=new WeakMap,wh=new WeakMap,Eh=new WeakMap,_h=new WeakMap,Ah=new WeakMap,Sh=new WeakMap,bh=new WeakMap,xh=new WeakMap,Ch=new WeakMap,Th=new WeakMap,kh=new WeakMap,es=new WeakMap,Ar=new WeakMap,ti=new WeakMap,Ph=new WeakMap,El=new WeakSet,Tp=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Vg=new WeakSet,px=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=_(this,El,Tp).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(u(this,_r)||E(this,_r,new YL(this)),u(this,_r).show(r,i,this.direction==="ltr"))},Wg=new WeakSet,gx=function(){var s,o,a;const e=document.getSelection();if(!e||e.isCollapsed){u(this,ei)&&((s=u(this,_r))==null||s.hide(),E(this,ei,null),_(this,St,Bt).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===u(this,ei))return;if(!_(this,El,Tp).call(this,e).closest(".textLayer")){u(this,ei)&&((o=u(this,_r))==null||o.hide(),E(this,ei,null),_(this,St,Bt).call(this,{hasSelectedText:!1}));return}if((a=u(this,_r))==null||a.hide(),E(this,ei,t),_(this,St,Bt).call(this,{hasSelectedText:!0}),!(u(this,At)!==ve.HIGHLIGHT&&u(this,At)!==ve.NONE)&&(u(this,At)===ve.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),E(this,Ji,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=c=>{c.type==="pointerup"&&c.button!==0||(window.removeEventListener("pointerup",l),window.removeEventListener("blur",l),c.type==="pointerup"&&_(this,_l,kp).call(this,"main_toolbar"))};window.addEventListener("pointerup",l),window.addEventListener("blur",l)}},_l=new WeakSet,kp=function(e=""){u(this,At)===ve.HIGHLIGHT?this.highlightSelection(e):u(this,hh)&&_(this,Vg,px).call(this)},Gg=new WeakSet,mx=function(){document.addEventListener("selectionchange",u(this,Ch))},Xg=new WeakSet,vx=function(){document.removeEventListener("selectionchange",u(this,Ch))},Kg=new WeakSet,yx=function(){window.addEventListener("focus",u(this,vh)),window.addEventListener("blur",u(this,mh))},Rh=new WeakSet,F0=function(){window.removeEventListener("focus",u(this,vh)),window.removeEventListener("blur",u(this,mh))},Lh=new WeakSet,N0=function(){window.addEventListener("keydown",u(this,_h)),window.addEventListener("keyup",u(this,Ah))},Mh=new WeakSet,O0=function(){window.removeEventListener("keydown",u(this,_h)),window.removeEventListener("keyup",u(this,Ah))},Dh=new WeakSet,j0=function(){document.addEventListener("copy",u(this,yh)),document.addEventListener("cut",u(this,wh)),document.addEventListener("paste",u(this,Eh))},Ih=new WeakSet,z0=function(){document.removeEventListener("copy",u(this,yh)),document.removeEventListener("cut",u(this,wh)),document.removeEventListener("paste",u(this,Eh))},St=new WeakSet,Bt=function(e){Object.entries(e).some(([r,i])=>u(this,kh)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(u(this,kh),e)}),u(this,At)===ve.HIGHLIGHT&&e.hasSelectedEditor===!1&&_(this,Sr,Hi).call(this,[[ne.HIGHLIGHT_FREE,!0]]))},Sr=new WeakSet,Hi=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},Yg=new WeakSet,wx=function(){if(!u(this,Zi)){E(this,Zi,!0);for(const e of u(this,_t).values())e.enable();for(const e of u(this,nt).values())e.enable()}},qg=new WeakSet,Ex=function(){if(this.unselectAll(),u(this,Zi)){E(this,Zi,!1);for(const e of u(this,_t).values())e.disable();for(const e of u(this,nt).values())e.disable()}},Fh=new WeakSet,H0=function(e){const t=u(this,_t).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},Qg=new WeakSet,_x=function(){let e=null;for(e of u(this,Se));return e},vo=new WeakSet,dc=function(){if(u(this,nt).size===0)return!0;if(u(this,nt).size===1)for(const e of u(this,nt).values())return e.isEmpty();return!1},Nh=new WeakSet,B0=function(e){for(const t of u(this,Se))t.unselect();u(this,Se).clear();for(const t of e)t.isEmpty()||(u(this,Se).add(t),t.select());_(this,St,Bt).call(this,{hasSelectedEditor:this.hasSelection})},se(tl,"TRANSLATE_SMALL",1),se(tl,"TRANSLATE_BIG",10);let Ea=tl;var ni,ri,Xn,ii,Kn,Al,si,Oh,U0;const Gr=class Gr{constructor(e){m(this,Oh);m(this,ni,"");m(this,ri,!1);m(this,Xn,null);m(this,ii,null);m(this,Kn,null);m(this,Al,!1);m(this,si,null);E(this,si,e)}static initialize(e){Gr._l10nPromise||(Gr._l10nPromise=e)}async render(){const e=E(this,Xn,document.createElement("button"));e.className="altText";const t=await Gr._l10nPromise.get("pdfjs-editor-alt-text-button-label");e.textContent=t,e.setAttribute("aria-label",t),e.tabIndex="0",e.addEventListener("contextmenu",ln),e.addEventListener("pointerdown",i=>i.stopPropagation());const r=i=>{i.preventDefault(),u(this,si)._uiManager.editAltText(u(this,si))};return e.addEventListener("click",r,{capture:!0}),e.addEventListener("keydown",i=>{i.target===e&&i.key==="Enter"&&(E(this,Al,!0),r(i))}),await _(this,Oh,U0).call(this),e}finish(){u(this,Xn)&&(u(this,Xn).focus({focusVisible:u(this,Al)}),E(this,Al,!1))}isEmpty(){return!u(this,ni)&&!u(this,ri)}get data(){return{altText:u(this,ni),decorative:u(this,ri)}}set data({altText:e,decorative:t}){u(this,ni)===e&&u(this,ri)===t||(E(this,ni,e),E(this,ri,t),_(this,Oh,U0).call(this))}toggle(e=!1){u(this,Xn)&&(!e&&u(this,Kn)&&(clearTimeout(u(this,Kn)),E(this,Kn,null)),u(this,Xn).disabled=!e)}destroy(){var e;(e=u(this,Xn))==null||e.remove(),E(this,Xn,null),E(this,ii,null)}};ni=new WeakMap,ri=new WeakMap,Xn=new WeakMap,ii=new WeakMap,Kn=new WeakMap,Al=new WeakMap,si=new WeakMap,Oh=new WeakSet,U0=async function(){var i;const e=u(this,Xn);if(!e)return;if(!u(this,ni)&&!u(this,ri)){e.classList.remove("done"),(i=u(this,ii))==null||i.remove();return}e.classList.add("done"),Gr._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(s=>{e.setAttribute("aria-label",s)});let t=u(this,ii);if(!t){E(this,ii,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip");const s=t.id=`alt-text-tooltip-${u(this,si).id}`;e.setAttribute("aria-describedby",s);const o=100;e.addEventListener("mouseenter",()=>{E(this,Kn,setTimeout(()=>{E(this,Kn,null),u(this,ii).classList.add("show"),u(this,si)._reportTelemetry({action:"alt_text_tooltip"})},o))}),e.addEventListener("mouseleave",()=>{var a;u(this,Kn)&&(clearTimeout(u(this,Kn)),E(this,Kn,null)),(a=u(this,ii))==null||a.classList.remove("show")})}t.innerText=u(this,ri)?await Gr._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):u(this,ni),t.parentNode||e.append(t);const r=u(this,si).getImageForAltText();r==null||r.setAttribute("aria-describedby",t.id)},se(Gr,"_l10nPromise",null);let _g=Gr;var Yn,Ut,Sl,yo,bt,wo,bl,xl,Ft,jh,Eo,ts,zh,_o,oi,br,Cl,Tl,Rn,Hh,Jg,Bh,$0,Uh,V0,$h,W0,Zg,Ax,em,Sx,Vh,G0,Wh,X0,Gh,K0,tm,bx,nm,xx,rm,Cx,im,Tx,Xh,Y0,Ao,fc;const ke=class ke{constructor(e){m(this,Bh);m(this,$h);m(this,Zg);m(this,em);m(this,Vh);m(this,Wh);m(this,Gh);m(this,tm);m(this,nm);m(this,rm);m(this,im);m(this,Xh);m(this,Ao);m(this,Yn,null);m(this,Ut,null);m(this,Sl,!1);m(this,yo,!1);m(this,bt,null);m(this,wo,null);m(this,bl,this.focusin.bind(this));m(this,xl,this.focusout.bind(this));m(this,Ft,null);m(this,jh,"");m(this,Eo,!1);m(this,ts,null);m(this,zh,!1);m(this,_o,!1);m(this,oi,!1);m(this,br,null);m(this,Cl,0);m(this,Tl,0);m(this,Rn,null);se(this,"_initialOptions",Object.create(null));se(this,"_isVisible",!0);se(this,"_uiManager",null);se(this,"_focusEventsAllowed",!0);se(this,"_l10nPromise",null);m(this,Hh,!1);m(this,Jg,ke._zIndex++);this.constructor===ke&&Te("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,o];const[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=ke.prototype._resizeWithKeyboard,t=Ea.TRANSLATE_SMALL,r=Ea.TRANSLATE_BIG;return we(this,"_resizerKeyboardManager",new Mf([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],ke.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return we(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new ZL({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t,r){if(ke._l10nPromise||(ke._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(s=>[s,e.get(s.replaceAll(/([A-Z])/g,o=>`-${o.toLowerCase()}`))]))),r!=null&&r.strings)for(const s of r.strings)ke._l10nPromise.set(s,e.get(s));if(ke._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);ke._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Te("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return u(this,Hh)}set _isDraggable(e){var t;E(this,Hh,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=u(this,Jg)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):_(this,Ao,fc).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(u(this,Eo)?E(this,Eo,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,i){const[s,o]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(t+i)/o,this.fixAndSetPosition()}translate(e,t){_(this,Bh,$0).call(this,this.parentDimensions,e,t)}translateInPage(e,t){u(this,ts)||E(this,ts,[this.x,this.y]),_(this,Bh,$0).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){u(this,ts)||E(this,ts,[this.x,this.y]);const[r,i]=this.parentDimensions;if(this.x+=e/r,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:c,y:h}=this.div.getBoundingClientRect();this.parent.findNewParent(this,c,h)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:o}=this;const[a,l]=this.getBaseTranslation();s+=a,o+=l,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*o).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!u(this,ts)&&(u(this,ts)[0]!==this.x||u(this,ts)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:r}=ke,i=r/e,s=r/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,r]=this.pageDimensions;let{x:i,y:s,width:o,height:a}=this;if(o*=t,a*=r,i*=t,s*=r,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(t-o,i)),s=Math.max(0,Math.min(r-a,s));break;case 90:i=Math.max(0,Math.min(t-a,i)),s=Math.min(r,Math.max(o,s));break;case 180:i=Math.min(t,Math.max(o,i)),s=Math.min(r,Math.max(a,s));break;case 270:i=Math.min(t,Math.max(a,i)),s=Math.max(0,Math.min(r-o,s));break}this.x=i/=t,this.y=s/=r;const[l,c]=this.getBaseTranslation();i+=l,s+=c;const{style:h}=this.div;h.left=`${(100*i).toFixed(2)}%`,h.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var r;return _(r=ke,Uh,V0).call(r,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var r;return _(r=ke,Uh,V0).call(r,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,r]}=this,i=t*e,s=r*e;return rn.isCSSRoundSupported?[Math.round(i),Math.round(s)]:[i,s]}setDims(e,t){const[r,i]=this.parentDimensions;this.div.style.width=`${(100*e/r).toFixed(2)}%`,u(this,yo)||(this.div.style.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:r}=e,i=r.endsWith("%"),s=!u(this,yo)&&t.endsWith("%");if(i&&s)return;const[o,a]=this.parentDimensions;i||(e.width=`${(100*parseFloat(r)/o).toFixed(2)}%`),!u(this,yo)&&!s&&(e.height=`${(100*parseFloat(t)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=u(this,Ut))==null||e.finish()}async addEditToolbar(){return u(this,Ft)||u(this,_o)?u(this,Ft):(E(this,Ft,new R0(this)),this.div.append(u(this,Ft).render()),u(this,Ut)&&u(this,Ft).addAltTextButton(await u(this,Ut).render()),u(this,Ft))}removeEditToolbar(){var e;u(this,Ft)&&(u(this,Ft).remove(),E(this,Ft,null),(e=u(this,Ut))==null||e.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){u(this,Ut)||(_g.initialize(ke._l10nPromise),E(this,Ut,new _g(this)),await this.addEditToolbar())}get altTextData(){var e;return(e=u(this,Ut))==null?void 0:e.data}set altTextData(e){u(this,Ut)&&(u(this,Ut).data=e)}hasAltText(){var e;return!((e=u(this,Ut))!=null&&e.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=u(this,Sl)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.div.addEventListener("focusin",u(this,bl)),this.div.addEventListener("focusout",u(this,xl));const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[r,i]=this.getInitialTranslation();return this.translate(r,i),Eg(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=rn.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(E(this,Eo,!0),this._isDraggable){_(this,tm,bx).call(this,e);return}_(this,Gh,K0).call(this,e)}moveInDOM(){u(this,br)&&clearTimeout(u(this,br)),E(this,br,setTimeout(()=>{var e;E(this,br,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition()}getRect(e,t,r=this.rotation){const i=this.parentScale,[s,o]=this.pageDimensions,[a,l]=this.pageTranslation,c=e/i,h=t/i,d=this.x*s,f=this.y*o,p=this.width*s,g=this.height*o;switch(r){case 0:return[d+c+a,o-f-h-g+l,d+c+p+a,o-f-h+l];case 90:return[d+h+a,o-f+c+l,d+h+g+a,o-f+c+p+l];case 180:return[d-c-p+a,o-f+h+l,d-c+a,o-f+h+g+l];case 270:return[d-h-g+a,o-f-c-p+l,d-h+a,o-f-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[r,i,s,o]=e,a=s-r,l=o-i;switch(this.rotation){case 0:return[r,t-o,a,l];case 90:return[r,t-i,l,a];case 180:return[s,t-i,a,l];case 270:return[s,t-o,l,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){E(this,_o,!0)}disableEditMode(){E(this,_o,!1)}isInEditMode(){return u(this,_o)}shouldGetKeyboardEvents(){return u(this,oi)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var e,t;(e=this.div)==null||e.addEventListener("focusin",u(this,bl)),(t=this.div)==null||t.addEventListener("focusout",u(this,xl))}rotate(e){}serialize(e=!1,t=null){Te("An editor must be serializable")}static deserialize(e,t,r){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r});i.rotation=e.rotation;const[s,o]=i.pageDimensions,[a,l,c,h]=i.getRectInCurrentCoords(e.rect,o);return i.x=a/s,i.y=l/o,i.width=c/s,i.height=h/o,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",u(this,bl)),this.div.removeEventListener("focusout",u(this,xl)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),u(this,br)&&(clearTimeout(u(this,br)),E(this,br,null)),_(this,Ao,fc).call(this),this.removeEditToolbar(),u(this,Rn)){for(const e of u(this,Rn).values())clearTimeout(e);E(this,Rn,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(_(this,Zg,Ax).call(this),u(this,bt).classList.remove("hidden"),Eg(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),E(this,wo,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=u(this,bt).children;if(!u(this,Yn)){E(this,Yn,Array.from(t));const o=_(this,nm,xx).bind(this),a=_(this,rm,Cx).bind(this);for(const l of u(this,Yn)){const c=l.getAttribute("data-resizer-name");l.setAttribute("role","spinbutton"),l.addEventListener("keydown",o),l.addEventListener("blur",a),l.addEventListener("focus",_(this,im,Tx).bind(this,c)),ke._l10nPromise.get(`pdfjs-editor-resizer-label-${c}`).then(h=>l.setAttribute("aria-label",h))}}const r=u(this,Yn)[0];let i=0;for(const o of t){if(o===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(u(this,Yn).length/4);if(s!==i){if(s<i)for(let a=0;a<i-s;a++)u(this,bt).append(u(this,bt).firstChild);else if(s>i)for(let a=0;a<s-i;a++)u(this,bt).firstChild.before(u(this,bt).lastChild);let o=0;for(const a of t){const c=u(this,Yn)[o++].getAttribute("data-resizer-name");ke._l10nPromise.get(`pdfjs-editor-resizer-label-${c}`).then(h=>a.setAttribute("aria-label",h))}}_(this,Xh,Y0).call(this,0),E(this,oi,!0),u(this,bt).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){u(this,oi)&&_(this,Wh,X0).call(this,u(this,jh),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){_(this,Ao,fc).call(this),this.div.focus()}select(){var e,t;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!u(this,Ft)){this.addEditToolbar().then(()=>{var r,i;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((i=u(this,Ft))==null||i.show())});return}(t=u(this,Ft))==null||t.show()}unselect(){var e,t,r,i;(e=u(this,bt))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=u(this,Ft))==null||i.hide()}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return u(this,zh)}set isEditing(e){E(this,zh,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){E(this,yo,!0);const r=e/t,{style:i}=this.div;i.aspectRatio=r,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){u(this,Rn)||E(this,Rn,new Map);const{action:r}=e;let i=u(this,Rn).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),u(this,Rn).delete(r),u(this,Rn).size===0&&E(this,Rn,null)},ke._telemetryTimeout),u(this,Rn).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),E(this,Sl,!1)}disable(){this.div&&(this.div.tabIndex=-1),E(this,Sl,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Yn=new WeakMap,Ut=new WeakMap,Sl=new WeakMap,yo=new WeakMap,bt=new WeakMap,wo=new WeakMap,bl=new WeakMap,xl=new WeakMap,Ft=new WeakMap,jh=new WeakMap,Eo=new WeakMap,ts=new WeakMap,zh=new WeakMap,_o=new WeakMap,oi=new WeakMap,br=new WeakMap,Cl=new WeakMap,Tl=new WeakMap,Rn=new WeakMap,Hh=new WeakMap,Jg=new WeakMap,Bh=new WeakSet,$0=function([e,t],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/t,this.fixAndSetPosition()},Uh=new WeakSet,V0=function(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},$h=new WeakSet,W0=function(e){switch(e){case 90:{const[t,r]=this.pageDimensions;return[0,-t/r,r/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,r]=this.pageDimensions;return[0,t/r,-r/t,0]}default:return[1,0,0,1]}},Zg=new WeakSet,Ax=function(){if(u(this,bt))return;E(this,bt,document.createElement("div")),u(this,bt).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"];for(const t of e){const r=document.createElement("div");u(this,bt).append(r),r.classList.add("resizer",t),r.setAttribute("data-resizer-name",t),r.addEventListener("pointerdown",_(this,em,Sx).bind(this,t)),r.addEventListener("contextmenu",ln),r.tabIndex=-1}this.div.prepend(u(this,bt))},em=new WeakSet,Sx=function(e,t){var g;t.preventDefault();const{isMac:r}=rn.platform;if(t.button!==0||t.ctrlKey&&r)return;(g=u(this,Ut))==null||g.toggle(!1);const i=_(this,Wh,X0).bind(this,e),s=this._isDraggable;this._isDraggable=!1;const o={passive:!0,capture:!0};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",i,o),window.addEventListener("contextmenu",ln);const a=this.x,l=this.y,c=this.width,h=this.height,d=this.parent.div.style.cursor,f=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const p=()=>{var y;this.parent.togglePointerEvents(!0),(y=u(this,Ut))==null||y.toggle(!0),this._isDraggable=s,window.removeEventListener("pointerup",p),window.removeEventListener("blur",p),window.removeEventListener("pointermove",i,o),window.removeEventListener("contextmenu",ln),this.parent.div.style.cursor=d,this.div.style.cursor=f,_(this,Vh,G0).call(this,a,l,c,h)};window.addEventListener("pointerup",p),window.addEventListener("blur",p)},Vh=new WeakSet,G0=function(e,t,r,i){const s=this.x,o=this.y,a=this.width,l=this.height;s===e&&o===t&&a===r&&l===i||this.addCommands({cmd:()=>{this.width=a,this.height=l,this.x=s,this.y=o;const[c,h]=this.parentDimensions;this.setDims(c*a,h*l),this.fixAndSetPosition()},undo:()=>{this.width=r,this.height=i,this.x=e,this.y=t;const[c,h]=this.parentDimensions;this.setDims(c*r,h*i),this.fixAndSetPosition()},mustExec:!0})},Wh=new WeakSet,X0=function(e,t){const[r,i]=this.parentDimensions,s=this.x,o=this.y,a=this.width,l=this.height,c=ke.MIN_SIZE/r,h=ke.MIN_SIZE/i,d=z=>Math.round(z*1e4)/1e4,f=_(this,$h,W0).call(this,this.rotation),p=(z,M)=>[f[0]*z+f[2]*M,f[1]*z+f[3]*M],g=_(this,$h,W0).call(this,360-this.rotation),y=(z,M)=>[g[0]*z+g[2]*M,g[1]*z+g[3]*M];let S,v,w=!1,A=!1;switch(e){case"topLeft":w=!0,S=(z,M)=>[0,0],v=(z,M)=>[z,M];break;case"topMiddle":S=(z,M)=>[z/2,0],v=(z,M)=>[z/2,M];break;case"topRight":w=!0,S=(z,M)=>[z,0],v=(z,M)=>[0,M];break;case"middleRight":A=!0,S=(z,M)=>[z,M/2],v=(z,M)=>[0,M/2];break;case"bottomRight":w=!0,S=(z,M)=>[z,M],v=(z,M)=>[0,0];break;case"bottomMiddle":S=(z,M)=>[z/2,M],v=(z,M)=>[z/2,0];break;case"bottomLeft":w=!0,S=(z,M)=>[0,M],v=(z,M)=>[z,0];break;case"middleLeft":A=!0,S=(z,M)=>[0,M/2],v=(z,M)=>[z,M/2];break}const x=S(a,l),C=v(a,l);let T=p(...C);const b=d(s+T[0]),L=d(o+T[1]);let N=1,F=1,[I,K]=this.screenToPageTranslation(t.movementX,t.movementY);if([I,K]=y(I/r,K/i),w){const z=Math.hypot(a,l);N=F=Math.max(Math.min(Math.hypot(C[0]-x[0]-I,C[1]-x[1]-K)/z,1/a,1/l),c/a,h/l)}else A?N=Math.max(c,Math.min(1,Math.abs(C[0]-x[0]-I)))/a:F=Math.max(h,Math.min(1,Math.abs(C[1]-x[1]-K)))/l;const H=d(a*N),$=d(l*F);T=p(...v(H,$));const Q=b-T[0],le=L-T[1];this.width=H,this.height=$,this.x=Q,this.y=le,this.setDims(r*H,i*$),this.fixAndSetPosition()},Gh=new WeakSet,K0=function(e){const{isMac:t}=rn.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},tm=new WeakSet,bx=function(e){const t=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let r,i;t&&(this.div.classList.add("moving"),r={passive:!0,capture:!0},E(this,Cl,e.clientX),E(this,Tl,e.clientY),i=o=>{const{clientX:a,clientY:l}=o,[c,h]=this.screenToPageTranslation(a-u(this,Cl),l-u(this,Tl));E(this,Cl,a),E(this,Tl,l),this._uiManager.dragSelectedEditors(c,h)},window.addEventListener("pointermove",i,r));const s=()=>{window.removeEventListener("pointerup",s),window.removeEventListener("blur",s),t&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",i,r)),E(this,Eo,!1),this._uiManager.endDragSession()||_(this,Gh,K0).call(this,e)};window.addEventListener("pointerup",s),window.addEventListener("blur",s)},nm=new WeakSet,xx=function(e){ke._resizerKeyboardManager.exec(this,e)},rm=new WeakSet,Cx=function(e){var t;u(this,oi)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==u(this,bt)&&_(this,Ao,fc).call(this)},im=new WeakSet,Tx=function(e){E(this,jh,u(this,oi)?e:"")},Xh=new WeakSet,Y0=function(e){if(u(this,Yn))for(const t of u(this,Yn))t.tabIndex=e},Ao=new WeakSet,fc=function(){if(E(this,oi,!1),_(this,Xh,Y0).call(this,-1),u(this,wo)){const{savedX:e,savedY:t,savedWidth:r,savedHeight:i}=u(this,wo);_(this,Vh,G0).call(this,e,t,r,i),E(this,wo,null)}},m(ke,Uh),se(ke,"_borderLineWidth",-1),se(ke,"_colorManager",new I0),se(ke,"_zIndex",1),se(ke,"_telemetryTimeout",1e3);let be=ke;class ZL extends be{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const KA=3285377520,kn=4294901760,gr=65535;class kx{constructor(e){this.h1=e?e&4294967295:KA,this.h2=e?e&4294967295:KA}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let y=0,S=e.length;y<S;y++){const v=e.charCodeAt(y);v<=255?t[r++]=v:(t[r++]=v>>>8,t[r++]=v&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,o=new Uint32Array(t.buffer,0,i);let a=0,l=0,c=this.h1,h=this.h2;const d=3432918353,f=461845907,p=d&gr,g=f&gr;for(let y=0;y<i;y++)y&1?(a=o[y],a=a*d&kn|a*p&gr,a=a<<15|a>>>17,a=a*f&kn|a*g&gr,c^=a,c=c<<13|c>>>19,c=c*5+3864292196):(l=o[y],l=l*d&kn|l*p&gr,l=l<<15|l>>>17,l=l*f&kn|l*g&gr,h^=l,h=h<<13|h>>>19,h=h*5+3864292196);switch(a=0,s){case 3:a^=t[i*4+2]<<16;case 2:a^=t[i*4+1]<<8;case 1:a^=t[i*4],a=a*d&kn|a*p&gr,a=a<<15|a>>>17,a=a*f&kn|a*g&gr,i&1?c^=a:h^=a}this.h1=c,this.h2=h}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&kn|e*36045&gr,t=t*4283543511&kn|((t<<16|e>>>16)*2950163797&kn)>>>16,e^=t>>>1,e=e*444984403&kn|e*60499&gr,t=t*3301882366&kn|((t<<16|e>>>16)*3120437893&kn)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const q0=Object.freeze({map:null,hash:"",transfer:void 0});var So,xt,sm,Px;class ZE{constructor(){m(this,sm);m(this,So,!1);m(this,xt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const r=u(this,xt).get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return u(this,xt).get(e)}remove(e){if(u(this,xt).delete(e),u(this,xt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of u(this,xt).values())if(t instanceof be)return;this.onAnnotationEditor(null)}}setValue(e,t){const r=u(this,xt).get(e);let i=!1;if(r!==void 0)for(const[s,o]of Object.entries(t))r[s]!==o&&(i=!0,r[s]=o);else i=!0,u(this,xt).set(e,t);i&&_(this,sm,Px).call(this),t instanceof be&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return u(this,xt).has(e)}getAll(){return u(this,xt).size>0?GE(u(this,xt)):null}setAll(e){for(const[t,r]of Object.entries(e))this.setValue(t,r)}get size(){return u(this,xt).size}resetModified(){u(this,So)&&(E(this,So,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Rx(this)}get serializable(){if(u(this,xt).size===0)return q0;const e=new Map,t=new kx,r=[],i=Object.create(null);let s=!1;for(const[o,a]of u(this,xt)){const l=a instanceof be?a.serialize(!1,i):a;l&&(e.set(o,l),t.update(`${o}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const o of e.values())o.bitmap&&r.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:q0}get editorStats(){let e=null;const t=new Map;for(const r of u(this,xt).values()){if(!(r instanceof be))continue;const i=r.telemetryFinalData;if(!i)continue;const{type:s}=i;t.has(s)||t.set(s,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const o=e[s]||(e[s]=new Map);for(const[a,l]of Object.entries(i)){if(a==="type")continue;let c=o.get(a);c||(c=new Map,o.set(a,c));const h=c.get(l)??0;c.set(l,h+1)}}for(const[r,i]of t)e[r]=i.computeTelemetryFinalData(e[r]);return e}}So=new WeakMap,xt=new WeakMap,sm=new WeakSet,Px=function(){u(this,So)||(E(this,So,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Kh;class Rx extends ZE{constructor(t){super();m(this,Kh,void 0);const{map:r,hash:i,transfer:s}=t.serializable,o=structuredClone(r,s?{transfer:s}:null);E(this,Kh,{map:o,hash:i,transfer:s})}get print(){Te("Should not call PrintAnnotationStorage.print")}get serializable(){return u(this,Kh)}}Kh=new WeakMap;var kl;class eM{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){m(this,kl,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),u(this,kl).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||u(this,kl).has(e.loadedName))){if(at(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:i,style:s}=e,o=new FontFace(r,i,s);this.addNativeFontFace(o);try{await o.load(),u(this,kl).add(r),t==null||t(e)}catch{ce(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}Te("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw ce(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return we(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(jt||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),we(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(at(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:t,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return we(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(x,C){return x.charCodeAt(C)<<24|x.charCodeAt(C+1)<<16|x.charCodeAt(C+2)<<8|x.charCodeAt(C+3)&255}function i(x,C,T,b){const L=x.substring(0,C),N=x.substring(C+T);return L+b+N}let s,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let c=0;function h(x,C){if(++c>30){ce("Load test font never loaded."),C();return}if(l.font="30px "+x,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){C();return}setTimeout(h.bind(null,x,C))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=i(f,976,d.length,d);const g=16,y=1482184792;let S=r(f,g);for(s=0,o=d.length-3;s<o;s+=4)S=S-y+r(d,s)|0;s<d.length&&(S=S-y+r(d+"XXX",s)|0),f=i(f,g,4,OL(S));const v=`url(data:font/opentype;base64,${btoa(f)});`,w=`@font-face {font-family:"${d}";src:${v}}`;this.insertRule(w);const A=this._document.createElement("div");A.style.visibility="hidden",A.style.width=A.style.height="10px",A.style.position="absolute",A.style.top=A.style.left="0px";for(const x of[e.loadedName,d]){const C=this._document.createElement("span");C.textContent="Hi",C.style.fontFamily=x,A.append(C)}this._document.body.append(A),h(d,()=>{A.remove(),t.complete()})}}kl=new WeakMap;class tM{constructor(e,{disableFontFace:t=!1,inspectFont:r=null}){this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this.disableFontFace=t===!0,this._inspectFont=r}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const e=Zb(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`;let r;if(!this.cssFontInfo)r=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),r=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${t}}`}return(i=this._inspectFont)==null||i.call(this,this,t),r}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let r;try{r=e.get(this.loadedName+"_path_"+t)}catch(s){ce(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(r)||r.length===0)return this.compiledGlyphs[t]=function(s,o){};const i=[];for(let s=0,o=r.length;s<o;)switch(r[s++]){case Ur.BEZIER_CURVE_TO:{const[a,l,c,h,d,f]=r.slice(s,s+6);i.push(p=>p.bezierCurveTo(a,l,c,h,d,f)),s+=6}break;case Ur.MOVE_TO:{const[a,l]=r.slice(s,s+2);i.push(c=>c.moveTo(a,l)),s+=2}break;case Ur.LINE_TO:{const[a,l]=r.slice(s,s+2);i.push(c=>c.lineTo(a,l)),s+=2}break;case Ur.QUADRATIC_CURVE_TO:{const[a,l,c,h]=r.slice(s,s+4);i.push(d=>d.quadraticCurveTo(a,l,c,h)),s+=4}break;case Ur.RESTORE:i.push(a=>a.restore());break;case Ur.SAVE:i.push(a=>a.save());break;case Ur.SCALE:at(i.length===2,"Scale command is only valid at the third position.");break;case Ur.TRANSFORM:{const[a,l,c,h,d,f]=r.slice(s,s+6);i.push(p=>p.transform(a,l,c,h,d,f)),s+=6}break;case Ur.TRANSLATE:{const[a,l]=r.slice(s,s+2);i.push(c=>c.translate(a,l)),s+=2}break}return this.compiledGlyphs[t]=function(o,a){i[0](o),i[1](o),o.scale(a,-a);for(let l=2,c=i.length;l<c;l++)i[l](o)}}}if(jt){var Q0=Promise.withResolvers(),Ic=null;(async()=>{const e=await ip(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await ip(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await ip(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await ip(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let s,o;return new Map(Object.entries({fs:e,http:t,https:r,url:i,canvas:s,path2d:o}))})().then(e=>{Ic=e,Q0.resolve()},e=>{ce(`loadPackages: ${e}`),Ic=new Map,Q0.resolve()})}class zr{static get promise(){return Q0.promise}static get(e){return Ic==null?void 0:Ic.get(e)}}const Lx=function(n){return zr.get("fs").promises.readFile(n).then(t=>new Uint8Array(t))};class nM extends Mv{}class rM extends Dv{_createCanvas(e,t){return zr.get("canvas").createCanvas(e,t)}}class iM extends Iv{_fetchData(e,t){return Lx(e).then(r=>({cMapData:r,compressionType:t}))}}class sM extends Fv{_fetchData(e){return Lx(e)}}const Gt={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function J0(n,e){if(!e)return;const t=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,r),n.clip(i)}class Df{constructor(){this.constructor===Df&&Te("Cannot initialize BaseShadingPattern.")}getPattern(){Te("Abstract method `getPattern` called.")}}class oM extends Df{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,i){let s;if(i===Gt.STROKE||i===Gt.FILL){const o=t.current.getClippedPathBoundingBox(i,He(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,c=t.cachedCanvases.getCanvas("pattern",a,l,!0),h=c.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-o[0],-o[1]),r=X.transform(r,[1,0,0,1,o[0],o[1]]),h.transform(...t.baseTransform),this.matrix&&h.transform(...this.matrix),J0(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),s=e.createPattern(c.canvas,"no-repeat");const d=new DOMMatrix(r);s.setTransform(d)}else J0(e,this._bbox),s=this._createGradient(e);return s}}function Sy(n,e,t,r,i,s,o,a){const l=e.coords,c=e.colors,h=n.data,d=n.width*4;let f;l[t+1]>l[r+1]&&(f=t,t=r,r=f,f=s,s=o,o=f),l[r+1]>l[i+1]&&(f=r,r=i,i=f,f=o,o=a,a=f),l[t+1]>l[r+1]&&(f=t,t=r,r=f,f=s,s=o,o=f);const p=(l[t]+e.offsetX)*e.scaleX,g=(l[t+1]+e.offsetY)*e.scaleY,y=(l[r]+e.offsetX)*e.scaleX,S=(l[r+1]+e.offsetY)*e.scaleY,v=(l[i]+e.offsetX)*e.scaleX,w=(l[i+1]+e.offsetY)*e.scaleY;if(g>=w)return;const A=c[s],x=c[s+1],C=c[s+2],T=c[o],b=c[o+1],L=c[o+2],N=c[a],F=c[a+1],I=c[a+2],K=Math.round(g),H=Math.round(w);let $,Q,le,z,M,G,Y,oe;for(let J=K;J<=H;J++){if(J<S){const re=J<g?0:(g-J)/(g-S);$=p-(p-y)*re,Q=A-(A-T)*re,le=x-(x-b)*re,z=C-(C-L)*re}else{let re;J>w?re=1:S===w?re=0:re=(S-J)/(S-w),$=y-(y-v)*re,Q=T-(T-N)*re,le=b-(b-F)*re,z=L-(L-I)*re}let fe;J<g?fe=0:J>w?fe=1:fe=(g-J)/(g-w),M=p-(p-v)*fe,G=A-(A-N)*fe,Y=x-(x-F)*fe,oe=C-(C-I)*fe;const _e=Math.round(Math.min($,M)),Me=Math.round(Math.max($,M));let Ae=d*J+_e*4;for(let re=_e;re<=Me;re++)fe=($-re)/($-M),fe<0?fe=0:fe>1&&(fe=1),h[Ae++]=Q-(Q-G)*fe|0,h[Ae++]=le-(le-Y)*fe|0,h[Ae++]=z-(z-oe)*fe|0,h[Ae++]=255}}function aM(n,e,t){const r=e.coords,i=e.colors;let s,o;switch(e.type){case"lattice":const a=e.verticesPerRow,l=Math.floor(r.length/a)-1,c=a-1;for(s=0;s<l;s++){let h=s*a;for(let d=0;d<c;d++,h++)Sy(n,t,r[h],r[h+1],r[h+a],i[h],i[h+1],i[h+a]),Sy(n,t,r[h+a+1],r[h+1],r[h+a],i[h+a+1],i[h+1],i[h+a])}break;case"triangles":for(s=0,o=r.length;s<o;s+=3)Sy(n,t,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class lM extends Df{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,r){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-a,h=Math.ceil(this._bounds[3])-l,d=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(h*e[1]*1.1)),3e3),p=c/d,g=h/f,y={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/p,scaleY:1/g},S=d+2*2,v=f+2*2,w=r.getCanvas("mesh",S,v,!1),A=w.context,x=A.createImageData(d,f);if(t){const T=x.data;for(let b=0,L=T.length;b<L;b+=4)T[b]=t[0],T[b+1]=t[1],T[b+2]=t[2],T[b+3]=255}for(const T of this._figures)aM(x,T,y);return A.putImageData(x,2,2),{canvas:w.canvas,offsetX:a-2*p,offsetY:l-2*g,scaleX:p,scaleY:g}}getPattern(e,t,r,i){J0(e,this._bbox);let s;if(i===Gt.SHADING)s=X.singularValueDecompose2dScale(He(e));else if(s=X.singularValueDecompose2dScale(t.baseTransform),this.matrix){const a=X.singularValueDecompose2dScale(this.matrix);s=[s[0]*a[0],s[1]*a[1]]}const o=this._createMeshCanvas(s,i===Gt.SHADING?null:this._background,t.cachedCanvases);return i!==Gt.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class uM extends Df{getPattern(){return"hotpink"}}function cM(n){switch(n[0]){case"RadialAxial":return new oM(n);case"Mesh":return new lM(n);case"Dummy":return new uM}throw new Error(`Unknown IR type: ${n[0]}`)}const YA={COLORED:1,UNCOLORED:2},om=class om{constructor(e,t,r,i,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=r,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(e){const t=this.operatorList,r=this.bbox,i=this.xstep,s=this.ystep,o=this.paintType,a=this.tilingType,l=this.color,c=this.canvasGraphicsFactory;Pv("TilingType: "+a);const h=r[0],d=r[1],f=r[2],p=r[3],g=X.singularValueDecompose2dScale(this.matrix),y=X.singularValueDecompose2dScale(this.baseTransform),S=[g[0]*y[0],g[1]*y[1]],v=this.getSizeAndScale(i,this.ctx.canvas.width,S[0]),w=this.getSizeAndScale(s,this.ctx.canvas.height,S[1]),A=e.cachedCanvases.getCanvas("pattern",v.size,w.size,!0),x=A.context,C=c.createCanvasGraphics(x);C.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(C,o,l);let T=h,b=d,L=f,N=p;return h<0&&(T=0,L+=Math.abs(h)),d<0&&(b=0,N+=Math.abs(d)),x.translate(-(v.scale*T),-(w.scale*b)),C.transform(v.scale,0,0,w.scale,0,0),x.save(),this.clipBbox(C,T,b,L,N),C.baseTransform=He(C.ctx),C.executeOperatorList(t),C.endDrawing(),{canvas:A.canvas,scaleX:v.scale,scaleY:w.scale,offsetX:T,offsetY:b}}getSizeAndScale(e,t,r){e=Math.abs(e);const i=Math.max(om.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,t,r,i,s){const o=i-t,a=s-r;e.ctx.rect(t,r,o,a),e.current.updateRectMinMax(He(e.ctx),[t,r,i,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){const i=e.ctx,s=e.current;switch(t){case YA.COLORED:const o=this.ctx;i.fillStyle=o.fillStyle,i.strokeStyle=o.strokeStyle,s.fillColor=o.fillStyle,s.strokeColor=o.strokeStyle;break;case YA.UNCOLORED:const a=X.makeHexColor(r[0],r[1],r[2]);i.fillStyle=a,i.strokeStyle=a,s.fillColor=a,s.strokeColor=a;break;default:throw new NL(`Unsupported paint type: ${t}`)}}getPattern(e,t,r,i){let s=r;i!==Gt.SHADING&&(s=X.transform(s,t.baseTransform),this.matrix&&(s=X.transform(s,this.matrix)));const o=this.createPatternCanvas(t);let a=new DOMMatrix(s);a=a.translate(o.offsetX,o.offsetY),a=a.scale(1/o.scaleX,1/o.scaleY);const l=e.createPattern(o.canvas,"repeat");return l.setTransform(a),l}};se(om,"MAX_PATTERN_SIZE",3e3);let Z0=om;function hM({src:n,srcPos:e=0,dest:t,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const a=rn.isLittleEndian?4278190080:255,[l,c]=o?[s,a]:[a,s],h=r>>3,d=r&7,f=n.length;t=new Uint32Array(t.buffer);let p=0;for(let g=0;g<i;g++){for(const S=e+h;e<S;e++){const v=e<f?n[e]:255;t[p++]=v&128?c:l,t[p++]=v&64?c:l,t[p++]=v&32?c:l,t[p++]=v&16?c:l,t[p++]=v&8?c:l,t[p++]=v&4?c:l,t[p++]=v&2?c:l,t[p++]=v&1?c:l}if(d===0)continue;const y=e<f?n[e++]:255;for(let S=0;S<d;S++)t[p++]=y&1<<7-S?c:l}return{srcPos:e,destPos:p}}const qA=16,QA=100,dM=15,JA=10,ZA=1e3,Zt=16;function fM(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(r,i){e.translate(r,i),this.__originalTranslate(r,i)},n.scale=function(r,i){e.scale(r,i),this.__originalScale(r,i)},n.transform=function(r,i,s,o,a,l){e.transform(r,i,s,o,a,l),this.__originalTransform(r,i,s,o,a,l)},n.setTransform=function(r,i,s,o,a,l){e.setTransform(r,i,s,o,a,l),this.__originalSetTransform(r,i,s,o,a,l)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(r){e.rotate(r),this.__originalRotate(r)},n.clip=function(r){e.clip(r),this.__originalClip(r)},n.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},n.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},n.bezierCurveTo=function(t,r,i,s,o,a){e.bezierCurveTo(t,r,i,s,o,a),this.__originalBezierCurveTo(t,r,i,s,o,a)},n.rect=function(t,r,i,s){e.rect(t,r,i,s),this.__originalRect(t,r,i,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class pM{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,r)):(i=this.canvasFactory.create(t,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function sp(n,e,t,r,i,s,o,a,l,c){const[h,d,f,p,g,y]=He(n);if(d===0&&f===0){const w=o*h+g,A=Math.round(w),x=a*p+y,C=Math.round(x),T=(o+l)*h+g,b=Math.abs(Math.round(T)-A)||1,L=(a+c)*p+y,N=Math.abs(Math.round(L)-C)||1;return n.setTransform(Math.sign(h),0,0,Math.sign(p),A,C),n.drawImage(e,t,r,i,s,0,0,b,N),n.setTransform(h,d,f,p,g,y),[b,N]}if(h===0&&p===0){const w=a*f+g,A=Math.round(w),x=o*d+y,C=Math.round(x),T=(a+c)*f+g,b=Math.abs(Math.round(T)-A)||1,L=(o+l)*d+y,N=Math.abs(Math.round(L)-C)||1;return n.setTransform(0,Math.sign(d),Math.sign(f),0,A,C),n.drawImage(e,t,r,i,s,0,0,N,b),n.setTransform(h,d,f,p,g,y),[N,b]}n.drawImage(e,t,r,i,s,o,a,l,c);const S=Math.hypot(h,d),v=Math.hypot(f,p);return[S*l,v*c]}function gM(n){const{width:e,height:t}=n;if(e>ZA||t>ZA)return null;const r=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let o=new Uint8Array(s*(t+1)),a,l,c;const h=e+7&-8;let d=new Uint8Array(h*t),f=0;for(const v of n.data){let w=128;for(;w>0;)d[f++]=v&w?0:255,w>>=1}let p=0;for(f=0,d[f]!==0&&(o[0]=1,++p),l=1;l<e;l++)d[f]!==d[f+1]&&(o[l]=d[f]?2:1,++p),f++;for(d[f]!==0&&(o[l]=2,++p),a=1;a<t;a++){f=a*h,c=a*s,d[f-h]!==d[f]&&(o[c]=d[f]?1:8,++p);let v=(d[f]?4:0)+(d[f-h]?8:0);for(l=1;l<e;l++)v=(v>>2)+(d[f+1]?4:0)+(d[f-h+1]?8:0),i[v]&&(o[c+l]=i[v],++p),f++;if(d[f-h]!==d[f]&&(o[c+l]=d[f]?2:4,++p),p>r)return null}for(f=h*(t-1),c=a*s,d[f]!==0&&(o[c]=8,++p),l=1;l<e;l++)d[f]!==d[f+1]&&(o[c+l]=d[f]?4:8,++p),f++;if(d[f]!==0&&(o[c+l]=4,++p),p>r)return null;const g=new Int32Array([0,s,-1,0,-s,0,0,0,1]),y=new Path2D;for(a=0;p&&a<=t;a++){let v=a*s;const w=v+e;for(;v<w&&!o[v];)v++;if(v===w)continue;y.moveTo(v%s,a);const A=v;let x=o[v];do{const C=g[x];do v+=C;while(!o[v]);const T=o[v];T!==5&&T!==10?(x=T,o[v]=0):(x=T&51*x>>4,o[v]&=x>>2|x<<2),y.lineTo(v%s,v/s|0),o[v]||--p}while(A!==v);--a}return d=null,o=null,function(v){v.save(),v.scale(1/e,-1/t),v.translate(0,-t),v.fill(y),v.beginPath(),v.restore()}}class e1{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=Qb,this.textMatrixScale=1,this.fontMatrix=S0,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Dt.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,r){[t,r]=X.applyTransform([t,r],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(e,t){const r=X.applyTransform(t,e),i=X.applyTransform(t.slice(2),e),s=X.applyTransform([t[0],t[3]],e),o=X.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,r[0],i[0],s[0],o[0]),this.minY=Math.min(this.minY,r[1],i[1],s[1],o[1]),this.maxX=Math.max(this.maxX,r[0],i[0],s[0],o[0]),this.maxY=Math.max(this.maxY,r[1],i[1],s[1],o[1])}updateScalingPathMinMax(e,t){X.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,r,i,s,o,a,l,c,h){const d=X.bezierBoundingBox(t,r,i,s,o,a,l,c,h);h||this.updateRectMinMax(e,d)}getPathBoundingBox(e=Gt.FILL,t=null){const r=[this.minX,this.minY,this.maxX,this.maxY];if(e===Gt.STROKE){t||Te("Stroke bounding box must include transform.");const i=X.singularValueDecompose2dScale(t),s=i[0]*this.lineWidth/2,o=i[1]*this.lineWidth/2;r[0]-=s,r[1]-=o,r[2]+=s,r[3]+=o}return r}updateClipFromPath(){const e=X.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=Gt.FILL,t=null){return X.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function t1(n,e){if(typeof ImageData<"u"&&e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,r=e.width,i=t%Zt,s=(t-i)/Zt,o=i===0?s:s+1,a=n.createImageData(r,Zt);let l=0,c;const h=e.data,d=a.data;let f,p,g,y;if(e.kind===Sp.GRAYSCALE_1BPP){const S=h.byteLength,v=new Uint32Array(d.buffer,0,d.byteLength>>2),w=v.length,A=r+7>>3,x=4294967295,C=rn.isLittleEndian?4278190080:255;for(f=0;f<o;f++){for(g=f<s?Zt:i,c=0,p=0;p<g;p++){const T=S-l;let b=0;const L=T>A?r:T*8-7,N=L&-8;let F=0,I=0;for(;b<N;b+=8)I=h[l++],v[c++]=I&128?x:C,v[c++]=I&64?x:C,v[c++]=I&32?x:C,v[c++]=I&16?x:C,v[c++]=I&8?x:C,v[c++]=I&4?x:C,v[c++]=I&2?x:C,v[c++]=I&1?x:C;for(;b<L;b++)F===0&&(I=h[l++],F=128),v[c++]=I&F?x:C,F>>=1}for(;c<w;)v[c++]=0;n.putImageData(a,0,f*Zt)}}else if(e.kind===Sp.RGBA_32BPP){for(p=0,y=r*Zt*4,f=0;f<s;f++)d.set(h.subarray(l,l+y)),l+=y,n.putImageData(a,0,p),p+=Zt;f<o&&(y=r*i*4,d.set(h.subarray(l,l+y)),n.putImageData(a,0,p))}else if(e.kind===Sp.RGB_24BPP)for(g=Zt,y=r*g,f=0;f<o;f++){for(f>=s&&(g=i,y=r*g),c=0,p=y;p--;)d[c++]=h[l++],d[c++]=h[l++],d[c++]=h[l++],d[c++]=255;n.putImageData(a,0,f*Zt)}else throw new Error(`bad image kind: ${e.kind}`)}function n1(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,r=e.width,i=t%Zt,s=(t-i)/Zt,o=i===0?s:s+1,a=n.createImageData(r,Zt);let l=0;const c=e.data,h=a.data;for(let d=0;d<o;d++){const f=d<s?Zt:i;({srcPos:l}=hM({src:c,srcPos:l,dest:h,width:r,height:f,nonBlackColor:0})),n.putImageData(a,0,d*Zt)}}function nc(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of t)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function op(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!jt){const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function r1(n,e){if(e)return!0;const t=X.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*Ms.PDF_TO_CSS_UNITS);return t[0]<=r&&t[1]<=r}const mM=["butt","round","square"],vM=["miter","round","bevel"],yM={},i1={};var Yh,ew,qh,tw;const s_=class s_{constructor(e,t,r,i,s,{optionalContentConfig:o,markedContentStack:a=null},l,c){m(this,Yh);m(this,qh);this.ctx=e,this.current=new e1(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new pM(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=a,r){const l=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...He(this.compositeCtx))}this.ctx.save(),op(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=He(this.ctx)}executeOperatorList(e,t,r,i){const s=e.argsArray,o=e.fnArray;let a=t||0;const l=s.length;if(l===a)return a;const c=l-a>JA&&typeof r=="function",h=c?Date.now()+dM:0;let d=0;const f=this.commonObjs,p=this.objs;let g;for(;;){if(i!==void 0&&a===i.nextBreakPoint)return i.breakIt(a,r),a;if(g=o[a],g!==Wn.dependency)this[g].apply(this,s[a]);else for(const y of s[a]){const S=y.startsWith("g_")?f:p;if(!S.has(y))return S.get(y,r),a}if(a++,a===l)return a;if(c&&++d>JA){if(Date.now()>h)return r(),a;d=0}}}endDrawing(){_(this,Yh,ew).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),_(this,qh,tw).call(this)}_scaleImage(e,t){const r=e.width,i=e.height;let s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),a=r,l=i,c="prescale1",h,d;for(;s>2&&a>1||o>2&&l>1;){let f=a,p=l;s>2&&a>1&&(f=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),s/=a/f),o>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/p),h=this.cachedCanvases.getCanvas(c,f,p),d=h.context,d.clearRect(0,0,f,p),d.drawImage(e,0,0,a,l,0,0,f,p),e=h.canvas,a=f,l=p,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:r,height:i}=e,s=this.current.fillColor,o=this.current.patternFill,a=He(t);let l,c,h,d;if((e.bitmap||e.data)&&e.count>1){const L=e.bitmap||e.data.buffer;c=JSON.stringify(o?a:[a.slice(0,4),s]),l=this._cachedBitmapsMap.get(L),l||(l=new Map,this._cachedBitmapsMap.set(L,l));const N=l.get(c);if(N&&!o){const F=Math.round(Math.min(a[0],a[2])+a[4]),I=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:N,offsetX:F,offsetY:I}}h=N}h||(d=this.cachedCanvases.getCanvas("maskCanvas",r,i),n1(d.context,e));let f=X.transform(a,[1/r,0,0,-1/i,0,0]);f=X.transform(f,[1,0,0,1,0,-i]);const[p,g,y,S]=X.getAxialAlignedBoundingBox([0,0,r,i],f),v=Math.round(y-p)||1,w=Math.round(S-g)||1,A=this.cachedCanvases.getCanvas("fillCanvas",v,w),x=A.context,C=p,T=g;x.translate(-C,-T),x.transform(...f),h||(h=this._scaleImage(d.canvas,$r(x)),h=h.img,l&&o&&l.set(c,h)),x.imageSmoothingEnabled=r1(He(x),e.interpolate),sp(x,h,0,0,h.width,h.height,0,0,r,i),x.globalCompositeOperation="source-in";const b=X.transform($r(x),[1,0,0,1,-C,-T]);return x.fillStyle=o?s.getPattern(t,this,b,Gt.FILL):s,x.fillRect(0,0,r,i),l&&!o&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,A.canvas)),{canvas:A.canvas,offsetX:Math.round(C),offsetY:Math.round(T)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=mM[e]}setLineJoin(e){this.ctx.lineJoin=vM[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,r]of e)switch(t){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.current.fillAlpha=r,this.ctx.globalAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,e,t);this.suspendedCtx=this.ctx,this.ctx=i.context;const s=this.ctx;s.setTransform(...He(this.suspendedCtx)),nc(this.suspendedCtx,s),fM(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),nc(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,i){const s=i[0],o=i[1],a=i[2]-s,l=i[3]-o;a===0||l===0||(this.genericComposeSMask(t.context,r,a,l,t.subtype,t.backdrop,t.transferMap,s,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,i,s,o,a,l,c,h,d){let f=e.canvas,p=l-h,g=c-d;if(o){if(p<0||g<0||p+r>f.width||g+i>f.height){const S=this.cachedCanvases.getCanvas("maskExtension",r,i),v=S.context;v.drawImage(f,-p,-g),o.some(w=>w!==0)&&(v.globalCompositeOperation="destination-atop",v.fillStyle=X.makeHexColor(...o),v.fillRect(0,0,r,i),v.globalCompositeOperation="source-over"),f=S.canvas,p=g=0}else if(o.some(S=>S!==0)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const S=new Path2D;S.rect(p,g,r,i),e.clip(S),e.globalCompositeOperation="destination-atop",e.fillStyle=X.makeHexColor(...o),e.fillRect(p,g,r,i),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&a?t.filter=this.filterFactory.addAlphaFilter(a):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(a));const y=new Path2D;y.rect(l,c,r,i),t.clip(y),t.globalCompositeOperation="destination-in",t.drawImage(f,p,g,r,i,l,c,r,i),t.restore()}save(){this.inSMaskMode?(nc(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),nc(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,r,i,s,o){this.ctx.transform(e,t,r,i,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r){const i=this.ctx,s=this.current;let o=s.x,a=s.y,l,c;const h=He(i),d=h[0]===0&&h[3]===0||h[1]===0&&h[2]===0,f=d?r.slice(0):null;for(let p=0,g=0,y=e.length;p<y;p++)switch(e[p]|0){case Wn.rectangle:o=t[g++],a=t[g++];const S=t[g++],v=t[g++],w=o+S,A=a+v;i.moveTo(o,a),S===0||v===0?i.lineTo(w,A):(i.lineTo(w,a),i.lineTo(w,A),i.lineTo(o,A)),d||s.updateRectMinMax(h,[o,a,w,A]),i.closePath();break;case Wn.moveTo:o=t[g++],a=t[g++],i.moveTo(o,a),d||s.updatePathMinMax(h,o,a);break;case Wn.lineTo:o=t[g++],a=t[g++],i.lineTo(o,a),d||s.updatePathMinMax(h,o,a);break;case Wn.curveTo:l=o,c=a,o=t[g+4],a=t[g+5],i.bezierCurveTo(t[g],t[g+1],t[g+2],t[g+3],o,a),s.updateCurvePathMinMax(h,l,c,t[g],t[g+1],t[g+2],t[g+3],o,a,f),g+=6;break;case Wn.curveTo2:l=o,c=a,i.bezierCurveTo(o,a,t[g],t[g+1],t[g+2],t[g+3]),s.updateCurvePathMinMax(h,l,c,o,a,t[g],t[g+1],t[g+2],t[g+3],f),o=t[g+2],a=t[g+3],g+=4;break;case Wn.curveTo3:l=o,c=a,o=t[g+2],a=t[g+3],i.bezierCurveTo(t[g],t[g+1],o,a,o,a),s.updateCurvePathMinMax(h,l,c,t[g],t[g+1],o,a,o,a,f),g+=4;break;case Wn.closePath:i.closePath();break}d&&s.updateScalingPathMinMax(h,f),s.setCurrentPoint(o,a)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,r=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof r=="object"&&(r!=null&&r.getPattern)?(t.save(),t.strokeStyle=r.getPattern(t,this,$r(t),Gt.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;let s=!1;i&&(t.save(),t.fillStyle=r.getPattern(t,this,$r(t),Gt.FILL),s=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),s&&t.restore(),e&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=yM}eoClip(){this.pendingClip=i1}beginText(){this.current.textMatrix=Qb,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const r of e)t.setTransform(...r.transform),t.translate(r.x,r.y),r.addToPath(t,r.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var h;const r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=r.fontMatrix||S0,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&ce("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=t,r.isType3Font)return;const s=r.loadedName||"sans-serif",o=((h=r.systemFontInfo)==null?void 0:h.css)||`"${s}", ${r.fallbackName}`;let a="normal";r.black?a="900":r.bold&&(a="bold");const l=r.italic?"italic":"normal";let c=t;t<qA?c=qA:t>QA&&(c=QA),this.current.fontSizeScale=t/c,this.ctx.font=`${l} ${a} ${c}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,r,i,s,o){this.current.textMatrix=[e,t,r,i,s,o],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,r,i){const s=this.ctx,o=this.current,a=o.font,l=o.textRenderingMode,c=o.fontSize/o.fontSizeScale,h=l&Dt.FILL_STROKE_MASK,d=!!(l&Dt.ADD_TO_PATH_FLAG),f=o.patternFill&&!a.missingFile;let p;(a.disableFontFace||d||f)&&(p=a.getPathGenerator(this.commonObjs,e)),a.disableFontFace||f?(s.save(),s.translate(t,r),s.beginPath(),p(s,c),i&&s.setTransform(...i),(h===Dt.FILL||h===Dt.FILL_STROKE)&&s.fill(),(h===Dt.STROKE||h===Dt.FILL_STROKE)&&s.stroke(),s.restore()):((h===Dt.FILL||h===Dt.FILL_STROKE)&&s.fillText(e,t,r),(h===Dt.STROKE||h===Dt.FILL_STROKE)&&s.strokeText(e,t,r)),d&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:He(s),x:t,y:r,fontSize:c,addToPath:p})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){r=!0;break}return we(this,"isFontSubpixelAAEnabled",r)}showText(e){const t=this.current,r=t.font;if(r.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(i===0)return;const s=this.ctx,o=t.fontSizeScale,a=t.charSpacing,l=t.wordSpacing,c=t.fontDirection,h=t.textHScale*c,d=e.length,f=r.vertical,p=f?1:-1,g=r.defaultVMetrics,y=i*t.fontMatrix[0],S=t.textRenderingMode===Dt.FILL&&!r.disableFontFace&&!t.patternFill;s.save(),s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),c>0?s.scale(h,-1):s.scale(h,1);let v;if(t.patternFill){s.save();const T=t.fillColor.getPattern(s,this,$r(s),Gt.FILL);v=He(s),s.restore(),s.fillStyle=T}let w=t.lineWidth;const A=t.textMatrixScale;if(A===0||w===0){const T=t.textRenderingMode&Dt.FILL_STROKE_MASK;(T===Dt.STROKE||T===Dt.FILL_STROKE)&&(w=this.getSinglePixelWidth())}else w/=A;if(o!==1&&(s.scale(o,o),w/=o),s.lineWidth=w,r.isInvalidPDFjsFont){const T=[];let b=0;for(const L of e)T.push(L.unicode),b+=L.width;s.fillText(T.join(""),0,0),t.x+=b*y*h,s.restore(),this.compose();return}let x=0,C;for(C=0;C<d;++C){const T=e[C];if(typeof T=="number"){x+=p*T*i/1e3;continue}let b=!1;const L=(T.isSpace?l:0)+a,N=T.fontChar,F=T.accent;let I,K,H=T.width;if(f){const Q=T.vmetric||g,le=-(T.vmetric?Q[1]:H*.5)*y,z=Q[2]*y;H=Q?-Q[0]:H,I=le/o,K=(x+z)/o}else I=x/o,K=0;if(r.remeasure&&H>0){const Q=s.measureText(N).width*1e3/i*o;if(H<Q&&this.isFontSubpixelAAEnabled){const le=H/Q;b=!0,s.save(),s.scale(le,1),I/=le}else H!==Q&&(I+=(H-Q)/2e3*i/o)}if(this.contentVisible&&(T.isInFont||r.missingFile)){if(S&&!F)s.fillText(N,I,K);else if(this.paintChar(N,I,K,v),F){const Q=I+i*F.offset.x/o,le=K-i*F.offset.y/o;this.paintChar(F.fontChar,Q,le,v)}}const $=f?H*y-L*c:H*y+L*c;x+=$,b&&s.restore()}f?t.y-=x:t.x+=x*h,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,r=this.current,i=r.font,s=r.fontSize,o=r.fontDirection,a=i.vertical?1:-1,l=r.charSpacing,c=r.wordSpacing,h=r.textHScale*o,d=r.fontMatrix||S0,f=e.length,p=r.textRenderingMode===Dt.INVISIBLE;let g,y,S,v;if(!(p||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...r.textMatrix),t.translate(r.x,r.y),t.scale(h,o),g=0;g<f;++g){if(y=e[g],typeof y=="number"){v=a*y*s/1e3,this.ctx.translate(v,0),r.x+=v*h;continue}const w=(y.isSpace?c:0)+l,A=i.charProcOperatorList[y.operatorListId];if(!A){ce(`Type3 character "${y.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=y,this.save(),t.scale(s,s),t.transform(...d),this.executeOperatorList(A),this.restore()),S=X.applyTransform([y.width,0],d)[0]*s+w,t.translate(S,0),r.x+=S*h}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,r,i,s,o){this.ctx.rect(r,i,s-r,o-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const r=e[1],i=this.baseTransform||He(this.ctx),s={createCanvasGraphics:o=>new s_(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new Z0(e,r,this.ctx,s,i)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,r){const i=X.makeHexColor(e,t,r);this.ctx.strokeStyle=i,this.current.strokeColor=i}setFillRGBColor(e,t,r){const i=X.makeHexColor(e,t,r);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1}_getPattern(e,t=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=cM(this.getObject(e)),this.cachedPatterns.set(e,r)),t&&(r.matrix=t),r}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const r=this._getPattern(e);t.fillStyle=r.getPattern(t,this,$r(t),Gt.SHADING);const i=$r(t);if(i){const{width:s,height:o}=t.canvas,[a,l,c,h]=X.getAxialAlignedBoundingBox([0,0,s,o],i);this.ctx.fillRect(a,l,c-a,h-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Te("Should not call beginInlineImage")}beginImageData(){Te("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=He(this.ctx),t)){const r=t[2]-t[0],i=t[3]-t[1];this.ctx.rect(t[0],t[1],r,i),this.current.updateRectMinMax(He(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||Pv("TODO: Support non-isolated groups."),e.knockout&&ce("Knockout groups not supported.");const r=He(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=X.getAxialAlignedBoundingBox(e.bbox,He(t));const s=[0,0,t.canvas.width,t.canvas.height];i=X.intersect(i,s)||[0,0,0,0];const o=Math.floor(i[0]),a=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-o,1),c=Math.max(Math.ceil(i[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,c]);let h="groupAt"+this.groupLevel;e.smask&&(h+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(h,l,c),f=d.context;f.translate(-o,-a),f.transform(...r),e.smask?this.smaskStack.push({canvas:d.canvas,context:f,offsetX:o,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,a),t.save()),nc(t,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=He(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const s=X.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],i);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,r,i,s){if(_(this,Yh,ew).call(this),op(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const o=t[2]-t[0],a=t[3]-t[1];if(s&&this.annotationCanvasMap){r=r.slice(),r[4]-=t[0],r[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=o,t[3]=a;const[l,c]=X.singularValueDecompose2dScale(He(this.ctx)),{viewportScale:h}=this,d=Math.ceil(o*this.outputScaleX*h),f=Math.ceil(a*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(d,f);const{canvas:p,context:g}=this.annotationCanvas;this.annotationCanvasMap.set(e,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=g,this.ctx.save(),this.ctx.setTransform(l,0,0,-c,0,a*c),op(this.ctx)}else op(this.ctx),this.ctx.rect(t[0],t[1],o,a),this.ctx.clip(),this.endPath()}this.current=new e1(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),_(this,qh,tw).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const r=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=gM(e)),i.compiled)){i.compiled(r);return}const s=this._createMaskCanvas(e),o=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(o,s.offsetX,s.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r=0,i=0,s,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const l=He(a);a.transform(t,r,i,s,0,0);const c=this._createMaskCanvas(e);a.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let h=0,d=o.length;h<d;h+=2){const f=X.transform(l,[t,r,i,s,o[h],o[h+1]]),[p,g]=X.applyTransform([0,0],f);a.drawImage(c.canvas,p,g)}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;for(const s of e){const{data:o,width:a,height:l,transform:c}=s,h=this.cachedCanvases.getCanvas("maskCanvas",a,l),d=h.context;d.save();const f=this.getObject(o,s);n1(d,f),d.globalCompositeOperation="source-in",d.fillStyle=i?r.getPattern(d,this,$r(t),Gt.FILL):r,d.fillRect(0,0,a,l),d.restore(),t.save(),t.transform(...c),t.scale(1,-1),sp(t,h.canvas,0,0,a,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){ce("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,r,i){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){ce("Dependent image isn't ready yet");return}const o=s.width,a=s.height,l=[];for(let c=0,h=i.length;c<h;c+=2)l.push({transform:[t,0,0,r,i[c],i[c+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,r=e.height,i=this.ctx;if(this.save(),!jt){const{filter:a}=i;a!=="none"&&a!==""&&(i.filter="none")}i.scale(1/t,-1/r);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",t,r).context;t1(l,e),s=this.applyTransferMapsToCanvas(l)}const o=this._scaleImage(s,$r(i));i.imageSmoothingEnabled=r1(He(i),e.interpolate),sp(i,o.img,0,0,o.paintWidth,o.paintHeight,0,-r,t,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const r=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const s=e.width,o=e.height,l=this.cachedCanvases.getCanvas("inlineImage",s,o).context;t1(l,e),i=this.applyTransferMapsToCanvas(l)}for(const s of t)r.save(),r.transform(...s.transform),r.scale(1,-1),sp(r,i,s.x,s.y,s.w,s.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(t||(this.pendingClip===i1?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=He(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:r,c:i,d:s}=this.ctx.getTransform();let o,a;if(r===0&&i===0){const l=Math.abs(t),c=Math.abs(s);if(l===c)if(e===0)o=a=1/l;else{const h=l*e;o=a=h<1?1/h:1}else if(e===0)o=1/l,a=1/c;else{const h=l*e,d=c*e;o=h<1?1/h:1,a=d<1?1/d:1}}else{const l=Math.abs(t*s-r*i),c=Math.hypot(t,r),h=Math.hypot(i,s);if(e===0)o=h/l,a=c/l;else{const d=e*l;o=h>d?h/d:1,a=c>d?c/d:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:r}=this.current,[i,s]=this.getScaleForStroking();if(t.lineWidth=r||1,i===1&&s===1){t.stroke();return}const o=t.getLineDash();if(e&&t.save(),t.scale(i,s),o.length>0){const a=Math.max(i,s);t.setLineDash(o.map(l=>l/a)),t.lineDashOffset/=a}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Yh=new WeakSet,ew=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},qh=new WeakSet,tw=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let ll=s_;for(const n in Wn)ll.prototype[n]!==void 0&&(ll.prototype[Wn[n]]=ll.prototype[n]);var Qh,Jh;class Pi{static get workerPort(){return u(this,Qh)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");E(this,Qh,e)}static get workerSrc(){return u(this,Jh)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");E(this,Jh,e)}}Qh=new WeakMap,Jh=new WeakMap,m(Pi,Qh,null),m(Pi,Jh,"");const ap={UNKNOWN:0,DATA:1,ERROR:2},qe={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function dn(n){switch(n instanceof Error||typeof n=="object"&&n!==null||Te('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Ta(n.message);case"MissingPDFException":return new Ca(n.message);case"PasswordException":return new x0(n.message,n.code);case"UnexpectedResponseException":return new Rv(n.message,n.status);case"UnknownErrorException":return new C0(n.message,n.details);default:return new C0(n.message,n.toString())}}var am,Mx,lm,Dx,Pl,Pp;class pc{constructor(e,t,r){m(this,am);m(this,lm);m(this,Pl);this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=i=>{const s=i.data;if(s.targetName!==this.sourceName)return;if(s.stream){_(this,lm,Dx).call(this,s);return}if(s.callback){const a=s.callbackId,l=this.callbackCapabilities[a];if(!l)throw new Error(`Cannot resolve callback ${a}`);if(delete this.callbackCapabilities[a],s.callback===ap.DATA)l.resolve(s.data);else if(s.callback===ap.ERROR)l.reject(dn(s.reason));else throw new Error("Unexpected callback case");return}const o=this.actionHandler[s.action];if(!o)throw new Error(`Unknown action from worker: ${s.action}`);if(s.callbackId){const a=this.sourceName,l=s.sourceName;new Promise(function(c){c(o(s.data))}).then(function(c){r.postMessage({sourceName:a,targetName:l,callback:ap.DATA,callbackId:s.callbackId,data:c})},function(c){r.postMessage({sourceName:a,targetName:l,callback:ap.ERROR,callbackId:s.callbackId,reason:dn(c)})});return}if(s.streamId){_(this,am,Mx).call(this,s);return}o(s.data)},r.addEventListener("message",this._onComObjOnMessage)}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},r)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,t,r,i){const s=this.streamId++,o=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const h=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:a,action:e,streamId:s,data:t,desiredSize:c.desiredSize},i),h.promise},pull:c=>{const h=Promise.withResolvers();return this.streamControllers[s].pullCall=h,l.postMessage({sourceName:o,targetName:a,stream:qe.PULL,streamId:s,desiredSize:c.desiredSize}),h.promise},cancel:c=>{at(c instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[s].cancelCall=h,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:o,targetName:a,stream:qe.CANCEL,streamId:s,reason:dn(c)}),h.promise}},r)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}am=new WeakSet,Mx=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this,a=this.actionHandler[e.action],l={enqueue(c,h=1,d){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=h,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:qe.ENQUEUE,streamId:t,chunk:c},d)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:qe.CLOSE,streamId:t}),delete o.streamSinks[t])},error(c){at(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:qe.ERROR,streamId:t,reason:dn(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,new Promise(function(c){c(a(e.data,l))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:qe.START_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:qe.START_COMPLETE,streamId:t,reason:dn(c)})})},lm=new WeakSet,Dx=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case qe.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(dn(e.reason));break;case qe.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(dn(e.reason));break;case qe.PULL:if(!a){s.postMessage({sourceName:r,targetName:i,stream:qe.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,new Promise(function(l){var c;l((c=a.onPull)==null?void 0:c.call(a))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:qe.PULL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:r,targetName:i,stream:qe.PULL_COMPLETE,streamId:t,reason:dn(l)})});break;case qe.ENQUEUE:if(at(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case qe.CLOSE:if(at(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),_(this,Pl,Pp).call(this,o,t);break;case qe.ERROR:at(o,"error should have stream controller"),o.controller.error(dn(e.reason)),_(this,Pl,Pp).call(this,o,t);break;case qe.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(dn(e.reason)),_(this,Pl,Pp).call(this,o,t);break;case qe.CANCEL:if(!a)break;new Promise(function(l){var c;l((c=a.onCancel)==null?void 0:c.call(a,dn(e.reason)))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:qe.CANCEL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:r,targetName:i,stream:qe.CANCEL_COMPLETE,streamId:t,reason:dn(l)})}),a.sinkCapability.reject(dn(e.reason)),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Pl=new WeakSet,Pp=async function(e,t){var r,i,s;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var bo,Zh;class wM{constructor({parsedData:e,rawData:t}){m(this,bo,void 0);m(this,Zh,void 0);E(this,bo,e),E(this,Zh,t)}getRaw(){return u(this,Zh)}get(e){return u(this,bo).get(e)??null}getAll(){return GE(u(this,bo))}has(e){return u(this,bo).has(e)}}bo=new WeakMap,Zh=new WeakMap;const Bi=Symbol("INTERNAL");var ed,td,nd,Rl;class EM{constructor(e,{name:t,intent:r,usage:i}){m(this,ed,!1);m(this,td,!1);m(this,nd,!1);m(this,Rl,!0);E(this,ed,!!(e&In.DISPLAY)),E(this,td,!!(e&In.PRINT)),this.name=t,this.intent=r,this.usage=i}get visible(){if(u(this,nd))return u(this,Rl);if(!u(this,Rl))return!1;const{print:e,view:t}=this.usage;return u(this,ed)?(t==null?void 0:t.viewState)!=="OFF":u(this,td)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,r=!1){e!==Bi&&Te("Internal method `_setVisible` called."),E(this,nd,r),E(this,Rl,t)}}ed=new WeakMap,td=new WeakMap,nd=new WeakMap,Rl=new WeakMap;var ns,Ce,Ll,Ml,rd,nw;class _M{constructor(e,t=In.DISPLAY){m(this,rd);m(this,ns,null);m(this,Ce,new Map);m(this,Ll,null);m(this,Ml,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,E(this,Ml,e.order);for(const r of e.groups)u(this,Ce).set(r.id,new EM(t,r));if(e.baseState==="OFF")for(const r of u(this,Ce).values())r._setVisible(Bi,!1);for(const r of e.on)u(this,Ce).get(r)._setVisible(Bi,!0);for(const r of e.off)u(this,Ce).get(r)._setVisible(Bi,!1);E(this,Ll,this.getHash())}}isVisible(e){if(u(this,Ce).size===0)return!0;if(!e)return Pv("Optional content group not defined."),!0;if(e.type==="OCG")return u(this,Ce).has(e.id)?u(this,Ce).get(e.id).visible:(ce(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return _(this,rd,nw).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!u(this,Ce).has(t))return ce(`Optional content group not found: ${t}`),!0;if(u(this,Ce).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!u(this,Ce).has(t))return ce(`Optional content group not found: ${t}`),!0;if(!u(this,Ce).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!u(this,Ce).has(t))return ce(`Optional content group not found: ${t}`),!0;if(!u(this,Ce).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!u(this,Ce).has(t))return ce(`Optional content group not found: ${t}`),!0;if(u(this,Ce).get(t).visible)return!1}return!0}return ce(`Unknown optional content policy ${e.policy}.`),!0}return ce(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0){const r=u(this,Ce).get(e);if(!r){ce(`Optional content group not found: ${e}`);return}r._setVisible(Bi,!!t,!0),E(this,ns,null)}setOCGState({state:e,preserveRB:t}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=u(this,Ce).get(i);if(s)switch(r){case"ON":s._setVisible(Bi,!0);break;case"OFF":s._setVisible(Bi,!1);break;case"Toggle":s._setVisible(Bi,!s.visible);break}}E(this,ns,null)}get hasInitialVisibility(){return u(this,Ll)===null||this.getHash()===u(this,Ll)}getOrder(){return u(this,Ce).size?u(this,Ml)?u(this,Ml).slice():[...u(this,Ce).keys()]:null}getGroups(){return u(this,Ce).size>0?GE(u(this,Ce)):null}getGroup(e){return u(this,Ce).get(e)||null}getHash(){if(u(this,ns)!==null)return u(this,ns);const e=new kx;for(const[t,r]of u(this,Ce))e.update(`${t}:${r.visible}`);return E(this,ns,e.hexdigest())}}ns=new WeakMap,Ce=new WeakMap,Ll=new WeakMap,Ml=new WeakMap,rd=new WeakSet,nw=function(e){const t=e.length;if(t<2)return!0;const r=e[0];for(let i=1;i<t;i++){const s=e[i];let o;if(Array.isArray(s))o=_(this,rd,nw).call(this,s);else if(u(this,Ce).has(s))o=u(this,Ce).get(s).visible;else return ce(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return r==="And"};class AM{constructor(e,{disableRange:t=!1,disableStream:r=!1}){at(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});at(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,r,i,s;e.total===void 0?(r=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||r.call(t,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){at(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new SM(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new bM(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class SM{constructor(e,t,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=QE(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class bM{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function xM(n){let e=!0,t=r("filename\\*","i").exec(n);if(t){t=t[1];let h=a(t);return h=unescape(h),h=l(h),h=c(h),s(h)}if(t=o(n),t){const h=c(t);return s(h)}if(t=r("filename","i").exec(n),t){t=t[1];let h=a(t);return h=c(h),s(h)}function r(h,d){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function i(h,d){if(h){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const f=new TextDecoder(h,{fatal:!0}),p=Lv(d);d=f.decode(p),e=!1}catch{}}return d}function s(h){return e&&/[\x80-\xff]/.test(h)&&(h=i("utf-8",h),e&&(h=i("iso-8859-1",h))),h}function o(h){const d=[];let f;const p=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(h))!==null;){let[,y,S,v]=f;if(y=parseInt(y,10),y in d){if(y===0)break;continue}d[y]=[S,v]}const g=[];for(let y=0;y<d.length&&y in d;++y){let[S,v]=d[y];v=a(v),S&&(v=unescape(v),y===0&&(v=l(v))),g.push(v)}return g.join("")}function a(h){if(h.startsWith('"')){const d=h.slice(1).split('\\"');for(let f=0;f<d.length;++f){const p=d[f].indexOf('"');p!==-1&&(d[f]=d[f].slice(0,p),d.length=f+1),d[f]=d[f].replaceAll(/\\(.)/g,"$1")}h=d.join('"')}return h}function l(h){const d=h.indexOf("'");if(d===-1)return h;const f=h.slice(0,d),g=h.slice(d+1).replace(/^[^']*'/,"");return i(f,g)}function c(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,f,p,g){if(p==="q"||p==="Q")return g=g.replaceAll("_"," "),g=g.replaceAll(/=([0-9a-fA-F]{2})/g,function(y,S){return String.fromCharCode(parseInt(S,16))}),i(f,g);try{g=atob(g)}catch{}return i(f,g)})}return""}function e_({getResponseHeader:n,isHttp:e,rangeChunkSize:t,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*t)||r||!e||n("Accept-Ranges")!=="bytes"||(n("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function t_(n){const e=n("Content-Disposition");if(e){let t=xM(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(QE(t))return t}return null}function Ov(n,e){return n===404||n===0&&e.startsWith("file:")?new Ca('Missing PDF "'+e+'".'):new Rv(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function Ix(n){return n===200||n===206}function Fx(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function Nx(n){const e=new Headers;for(const t in n){const r=n[t];r!==void 0&&e.append(t,r)}return e}function Ox(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(ce(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class s1{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return at(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new CM(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new TM(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class CM{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=Nx(this._stream.httpHeaders);const r=t.url;fetch(r,Fx(this._headers,this._withCredentials,this._abortController)).then(i=>{if(!Ix(i.status))throw Ov(i.status,r);this._reader=i.body.getReader(),this._headersCapability.resolve();const s=l=>i.headers.get(l),{allowRangeRequests:o,suggestedLength:a}=e_({getResponseHeader:s,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=a||this._contentLength,this._filename=t_(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ta("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Ox(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class TM{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController,this._headers=Nx(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${r-1}`);const s=i.url;fetch(s,Fx(this._headers,this._withCredentials,this._abortController)).then(o=>{if(!Ix(o.status))throw Ov(o.status,s);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:Ox(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const by=200,xy=206;function kM(n){const e=n.response;return typeof e!="string"?e:Lv(e).buffer}class PM{constructor(e,t={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,r){const i={begin:e,end:t};for(const s in r)i[s]=r[s];return this.request(i)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const s in this.httpHeaders){const o=this.httpHeaders[s];o!==void 0&&t.setRequestHeader(s,o)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=xy):i.expectedStatus=by,t.responseType="arraybuffer",e.onError&&(t.onerror=function(s){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,t))}onStateChange(e,t){var l,c,h;const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){(l=r.onError)==null||l.call(r,i.status);return}const s=i.status||by;if(!(s===by&&r.expectedStatus===xy)&&s!==r.expectedStatus){(c=r.onError)==null||c.call(r,i.status);return}const a=kM(i);if(s===xy){const d=i.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);r.onDone({begin:parseInt(f[1],10),chunk:a})}else a?r.onDone({begin:0,chunk:a}):(h=r.onError)==null||h.call(r,i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class RM{constructor(e){this._source=e,this._manager=new PM(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return at(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new LM(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const r=new MM(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class LM{constructor(e,t){this._manager=e;const r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(r),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),r=o=>t.getResponseHeader(o),{allowRangeRequests:i,suggestedLength:s}=e_({getResponseHeader:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=t_(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Ov(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class MM{constructor(e,t,r){this._manager=e;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,r,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=Ov(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const jx=/^file:\/\/\/[a-zA-Z]:\//;function DM(n){const e=zr.get("url"),t=e.parse(n);return t.protocol==="file:"||t.host?t:/^[a-z]:[/\\]/i.test(n)?e.parse(`file:///${n}`):(t.host||(t.protocol="file:"),t)}class IM{constructor(e){this.source=e,this.url=DM(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return at(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new OM(this):new FM(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=this.isFsUrl?new jM(this,e,t):new NM(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class zx{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Ta("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Hx{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function Ag(n,e){return{protocol:n.protocol,auth:n.auth,host:n.hostname,port:n.port,path:n.path,method:"GET",headers:e}}class FM extends zx{constructor(e){super(e);const t=r=>{if(r.statusCode===404){const a=new Ca(`Missing PDF "${this._url}".`);this._storedError=a,this._headersCapability.reject(a);return}this._headersCapability.resolve(),this._setReadableStream(r);const i=a=>this._readableStream.headers[a.toLowerCase()],{allowRangeRequests:s,suggestedLength:o}=e_({getResponseHeader:i,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=o||this._contentLength,this._filename=t_(i)};if(this._request=null,this._url.protocol==="http:"){const r=zr.get("http");this._request=r.request(Ag(this._url,e.httpHeaders),t)}else{const r=zr.get("https");this._request=r.request(Ag(this._url,e.httpHeaders),t)}this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class NM extends Hx{constructor(e,t,r){super(e),this._httpHeaders={};for(const s in e.httpHeaders){const o=e.httpHeaders[s];o!==void 0&&(this._httpHeaders[s]=o)}this._httpHeaders.Range=`bytes=${t}-${r-1}`;const i=s=>{if(s.statusCode===404){const o=new Ca(`Missing PDF "${this._url}".`);this._storedError=o;return}this._setReadableStream(s)};if(this._request=null,this._url.protocol==="http:"){const s=zr.get("http");this._request=s.request(Ag(this._url,this._httpHeaders),i)}else{const s=zr.get("https");this._request=s.request(Ag(this._url,this._httpHeaders),i)}this._request.on("error",s=>{this._storedError=s}),this._request.end()}}class OM extends zx{constructor(e){super(e);let t=decodeURIComponent(this._url.path);jx.test(this._url.href)&&(t=t.replace(/^\//,""));const r=zr.get("fs");r.promises.lstat(t).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(t)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new Ca(`Missing PDF "${t}".`)),this._storedError=i,this._headersCapability.reject(i)})}}class jM extends Hx{constructor(e,t,r){super(e);let i=decodeURIComponent(this._url.path);jx.test(this._url.href)&&(i=i.replace(/^\//,""));const s=zr.get("fs");this._setReadableStream(s.createReadStream(i,{start:t,end:r-1}))}}const zM=1e5,qt=30,HM=.8;var E1,rs,Jt,id,sd,xo,ai,od,ad,Co,Dl,Il,is,Fl,ld,Nl,To,ud,cd,en,ko,Po,Ol,um,Bx,cm,Ux,hd,rw,jl,Rp,hm,$x;let Sg=(en=class{constructor({textContentSource:e,container:t,viewport:r}){m(this,um);m(this,cm);m(this,hd);m(this,rs,Promise.withResolvers());m(this,Jt,null);m(this,id,!1);m(this,sd,!!((E1=globalThis.FontInspector)!=null&&E1.enabled));m(this,xo,null);m(this,ai,null);m(this,od,0);m(this,ad,0);m(this,Co,null);m(this,Dl,null);m(this,Il,0);m(this,is,0);m(this,Fl,Object.create(null));m(this,ld,[]);m(this,Nl,null);m(this,To,[]);m(this,ud,new WeakMap);m(this,cd,null);if(e instanceof ReadableStream)E(this,Nl,e);else if(typeof e=="object")E(this,Nl,new ReadableStream({start(l){l.enqueue(e),l.close()}}));else throw new Error('No "textContentSource" parameter specified.');E(this,Jt,E(this,Dl,t)),E(this,is,r.scale*(globalThis.devicePixelRatio||1)),E(this,Il,r.rotation),E(this,ai,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:o,pageY:a}=r.rawDims;E(this,cd,[1,0,0,-1,-o,a+s]),E(this,ad,i),E(this,od,s),wa(t,r),u(this,rs).promise.catch(()=>{}).then(()=>{u(en,Ol).delete(this),E(this,ai,null),E(this,Fl,null)})}render(){const e=()=>{u(this,Co).read().then(({value:t,done:r})=>{if(r){u(this,rs).resolve();return}u(this,xo)??E(this,xo,t.lang),Object.assign(u(this,Fl),t.styles),_(this,um,Bx).call(this,t.items),e()},u(this,rs).reject)};return E(this,Co,u(this,Nl).getReader()),u(en,Ol).add(this),e(),u(this,rs).promise}update({viewport:e,onBefore:t=null}){var s;const r=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==u(this,Il)&&(t==null||t(),E(this,Il,i),wa(u(this,Dl),{rotation:i})),r!==u(this,is)){t==null||t(),E(this,is,r);const o={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:_(s=en,jl,Rp).call(s,u(this,xo))};for(const a of u(this,To))o.properties=u(this,ud).get(a),o.div=a,_(this,hd,rw).call(this,o)}}cancel(){var t;const e=new Ta("TextLayer task cancelled.");(t=u(this,Co))==null||t.cancel(e).catch(()=>{}),E(this,Co,null),u(this,rs).reject(e)}get textDivs(){return u(this,To)}get textContentItemsStr(){return u(this,ld)}static cleanup(){if(!(u(this,Ol).size>0)){u(this,ko).clear();for(const{canvas:e}of u(this,Po).values())e.remove();u(this,Po).clear()}}},rs=new WeakMap,Jt=new WeakMap,id=new WeakMap,sd=new WeakMap,xo=new WeakMap,ai=new WeakMap,od=new WeakMap,ad=new WeakMap,Co=new WeakMap,Dl=new WeakMap,Il=new WeakMap,is=new WeakMap,Fl=new WeakMap,ld=new WeakMap,Nl=new WeakMap,To=new WeakMap,ud=new WeakMap,cd=new WeakMap,ko=new WeakMap,Po=new WeakMap,Ol=new WeakMap,um=new WeakSet,Bx=function(e){var i,s;if(u(this,id))return;(s=u(this,ai)).ctx||(s.ctx=_(i=en,jl,Rp).call(i,u(this,xo)));const t=u(this,To),r=u(this,ld);for(const o of e){if(t.length>zM){ce("Ignoring additional textDivs for performance reasons."),E(this,id,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=u(this,Jt);E(this,Jt,document.createElement("span")),u(this,Jt).classList.add("markedContent"),o.id!==null&&u(this,Jt).setAttribute("id",`${o.id}`),a.append(u(this,Jt))}else o.type==="endMarkedContent"&&E(this,Jt,u(this,Jt).parentNode);continue}r.push(o.str),_(this,cm,Ux).call(this,o)}},cm=new WeakSet,Ux=function(e){var y;const t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};u(this,To).push(t);const i=X.transform(u(this,cd),e.transform);let s=Math.atan2(i[1],i[0]);const o=u(this,Fl)[e.fontName];o.vertical&&(s+=Math.PI/2);const a=u(this,sd)&&o.fontSubstitution||o.fontFamily,l=Math.hypot(i[2],i[3]),c=l*_(y=en,hm,$x).call(y,a,u(this,xo));let h,d;s===0?(h=i[4],d=i[5]-c):(h=i[4]+c*Math.sin(s),d=i[5]-c*Math.cos(s));const f="calc(var(--scale-factor)*",p=t.style;u(this,Jt)===u(this,Dl)?(p.left=`${(100*h/u(this,ad)).toFixed(2)}%`,p.top=`${(100*d/u(this,od)).toFixed(2)}%`):(p.left=`${f}${h.toFixed(2)}px)`,p.top=`${f}${d.toFixed(2)}px)`),p.fontSize=`${f}${l.toFixed(2)}px)`,p.fontFamily=a,r.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,u(this,sd)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let g=!1;if(e.str.length>1)g=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const S=Math.abs(e.transform[0]),v=Math.abs(e.transform[3]);S!==v&&Math.max(S,v)/Math.min(S,v)>1.5&&(g=!0)}if(g&&(r.canvasWidth=o.vertical?e.height:e.width),u(this,ud).set(t,r),u(this,ai).div=t,u(this,ai).properties=r,_(this,hd,rw).call(this,u(this,ai)),r.hasText&&u(this,Jt).append(t),r.hasEOL){const S=document.createElement("br");S.setAttribute("role","presentation"),u(this,Jt).append(S)}},hd=new WeakSet,rw=function(e){const{div:t,properties:r,ctx:i,prevFontSize:s,prevFontFamily:o}=e,{style:a}=t;let l="";if(r.canvasWidth!==0&&r.hasText){const{fontFamily:c}=a,{canvasWidth:h,fontSize:d}=r;(s!==d||o!==c)&&(i.font=`${d*u(this,is)}px ${c}`,e.prevFontSize=d,e.prevFontFamily=c);const{width:f}=i.measureText(t.textContent);f>0&&(l=`scaleX(${h*u(this,is)/f})`)}r.angle!==0&&(l=`rotate(${r.angle}deg) ${l}`),l.length>0&&(a.transform=l)},jl=new WeakSet,Rp=function(e=null){let t=u(this,Po).get(e||(e=""));if(!t){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1}),u(this,Po).set(e,t)}return t},hm=new WeakSet,$x=function(e,t){const r=u(this,ko).get(e);if(r)return r;const i=_(this,jl,Rp).call(this,t),s=i.font;i.canvas.width=i.canvas.height=qt,i.font=`${qt}px ${e}`;const o=i.measureText("");let a=o.fontBoundingBoxAscent,l=Math.abs(o.fontBoundingBoxDescent);if(a){const d=a/(a+l);return u(this,ko).set(e,d),i.canvas.width=i.canvas.height=0,i.font=s,d}i.strokeStyle="red",i.clearRect(0,0,qt,qt),i.strokeText("g",0,0);let c=i.getImageData(0,0,qt,qt).data;l=0;for(let d=c.length-1-3;d>=0;d-=4)if(c[d]>0){l=Math.ceil(d/4/qt);break}i.clearRect(0,0,qt,qt),i.strokeText("A",0,qt),c=i.getImageData(0,0,qt,qt).data,a=0;for(let d=0,f=c.length;d<f;d+=4)if(c[d]>0){a=qt-Math.floor(d/4/qt);break}i.canvas.width=i.canvas.height=0,i.font=s;const h=a?a/(a+l):HM;return u(this,ko).set(e,h),h},m(en,jl),m(en,hm),m(en,ko,new Map),m(en,Po,new Map),m(en,Ol,new Set),en);function BM(){ix("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:n,container:e,viewport:t,...r}=arguments[0],i=Object.keys(r);i.length>0&&ce("Ignoring `renderTextLayer` parameters: "+i.join(", "));const s=new Sg({textContentSource:n,container:e,viewport:t}),{textDivs:o,textContentItemsStr:a}=s;return{promise:s.render(),textDivs:o,textContentItemsStr:a}}function UM(){ix("`updateTextLayer`, please use `TextLayer` instead.")}class th{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};function i(s){var l;if(!s)return;let o=null;const a=s.name;if(a==="#text")o=s.value;else if(th.shouldBuildText(a))(l=s==null?void 0:s.attributes)!=null&&l.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&t.push({str:o}),!!s.children)for(const c of s.children)i(c)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const $M=65536,VM=100,WM=5e3,GM=jt?rM:VL,XM=jt?iM:nx,KM=jt?nM:$L,YM=jt?sM:rx;function qM(n){if(typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n}),typeof n!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!n.url&&!n.data&&!n.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const e=new iw,{docId:t}=e,r=n.url?QM(n.url):null,i=n.data?JM(n.data):null,s=n.httpHeaders||null,o=n.withCredentials===!0,a=n.password??null,l=n.range instanceof Vx?n.range:null,c=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:$M;let h=n.worker instanceof ul?n.worker:null;const d=n.verbosity,f=typeof n.docBaseUrl=="string"&&!qE(n.docBaseUrl)?n.docBaseUrl:null,p=typeof n.cMapUrl=="string"?n.cMapUrl:null,g=n.cMapPacked!==!1,y=n.CMapReaderFactory||XM,S=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,v=n.StandardFontDataFactory||YM,w=n.stopAtErrors!==!0,A=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,x=n.isEvalSupported!==!1,C=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!jt,T=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,b=typeof n.disableFontFace=="boolean"?n.disableFontFace:jt,L=n.fontExtraProperties===!0,N=n.enableXfa===!0,F=n.ownerDocument||globalThis.document,I=n.disableRange===!0,K=n.disableStream===!0,H=n.disableAutoFetch===!0,$=n.pdfBug===!0,Q=l?l.length:n.length??NaN,le=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!jt&&!b,z=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:y===nx&&v===rx&&p&&S&&hc(p,document.baseURI)&&hc(S,document.baseURI),M=n.canvasFactory||new GM({ownerDocument:F}),G=n.filterFactory||new KM({docId:t,ownerDocument:F}),Y=null;ML(d);const oe={canvasFactory:M,filterFactory:G};if(z||(oe.cMapReaderFactory=new y({baseUrl:p,isCompressed:g}),oe.standardFontDataFactory=new v({baseUrl:S})),!h){const _e={verbosity:d,port:Pi.workerPort};h=_e.port?ul.fromPort(_e):new ul(_e),e._worker=h}const J={docId:t,apiVersion:"4.3.136",data:i,password:a,disableAutoFetch:H,rangeChunkSize:c,length:Q,docBaseUrl:f,enableXfa:N,evaluatorOptions:{maxImageSize:A,disableFontFace:b,ignoreErrors:w,isEvalSupported:x,isOffscreenCanvasSupported:C,canvasMaxAreaInBytes:T,fontExtraProperties:L,useSystemFonts:le,cMapUrl:z?p:null,standardFontDataUrl:z?S:null}},fe={disableFontFace:b,fontExtraProperties:L,ownerDocument:F,pdfBug:$,styleElement:Y,loadingParams:{disableAutoFetch:H,enableXfa:N}};return h.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const _e=h.messageHandler.sendWithPromise("GetDocRequest",J,i?[i.buffer]:null);let Me;return l?Me=new AM(l,{disableRange:I,disableStream:K}):i||(Me=(re=>jt?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&hc(re.url)?new s1(re):new IM(re):hc(re.url)?new s1(re):new RM(re))({url:r,length:Q,httpHeaders:s,withCredentials:o,rangeChunkSize:c,disableRange:I,disableStream:K})),_e.then(Ae=>{if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const re=new pc(t,Ae,h.port),ur=new nD(re,e,Me,fe,oe);e._transport=ur,re.send("Ready",null)})}).catch(e._capability.reject),e}function QM(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(jt&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function JM(n){if(jt&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return Lv(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function o1(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var dm;const fm=class fm{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${hn(fm,dm)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(i){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};dm=new WeakMap,m(fm,dm,0);let iw=fm,Vx=class{constructor(e,t,r=!1,i=null){this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const r of this._rangeListeners)r(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){Te("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class ZM{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return we(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var ss,li,os,za,zl,Lp;class eD{constructor(e,t,r,i=!1){m(this,os);m(this,zl);m(this,ss,null);m(this,li,!1);this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=i?new GA:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new Wx,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new Lf({viewBox:this.view,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return we(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:r="display",annotationMode:i=Xi.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:h=null}){var A,x;(A=this._stats)==null||A.time("Overall");const d=this._transport.getRenderingIntent(r,i,h),{renderingIntent:f,cacheKey:p}=d;E(this,li,!1),_(this,zl,Lp).call(this),a||(a=this._transport.getOptionalContentConfig(f));let g=this._intentStates.get(p);g||(g=Object.create(null),this._intentStates.set(p,g)),g.streamReaderCancelTimeout&&(clearTimeout(g.streamReaderCancelTimeout),g.streamReaderCancelTimeout=null);const y=!!(f&In.PRINT);g.displayReadyCapability||(g.displayReadyCapability=Promise.withResolvers(),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(x=this._stats)==null||x.time("Page Request"),this._pumpOperatorList(d));const S=C=>{var T;g.renderTasks.delete(v),(this._maybeCleanupAfterRender||y)&&E(this,li,!0),_(this,os,za).call(this,!y),C?(v.capability.reject(C),this._abortOperatorList({intentState:g,reason:C instanceof Error?C:new Error(C)})):v.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(T=globalThis.Stats)!=null&&T.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},v=new ow({callback:S,params:{canvasContext:e,viewport:t,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:g.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!y,pdfBug:this._pdfBug,pageColors:c});(g.renderTasks||(g.renderTasks=new Set)).add(v);const w=v.task;return Promise.all([g.displayReadyCapability.promise,a]).then(([C,T])=>{var b;if(this.destroyed){S();return}if((b=this._stats)==null||b.time("Rendering"),!(T.renderingIntent&f))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");v.initializeGraphics({transparency:C,optionalContentConfig:T}),v.operatorListChanged()}).catch(S),w}getOperatorList({intent:e="display",annotationMode:t=Xi.ENABLE,printAnnotationStorage:r=null}={}){var l;function i(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(a))}const s=this._transport.getRenderingIntent(e,t,r,!0);let o=this._intentStates.get(s.cacheKey);o||(o=Object.create(null),this._intentStates.set(s.cacheKey,o));let a;return o.opListReadCapability||(a=Object.create(null),a.operatorListChanged=i,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(a),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(l=this._stats)==null||l.time("Page Request"),this._pumpOperatorList(s)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>th.textContent(r));const t=this.streamTextContent(e);return new Promise(function(r,i){function s(){o.read().then(function({value:l,done:c}){if(c){r(a);return}a.lang??(a.lang=l.lang),Object.assign(a.styles,l.styles),a.items.push(...l.items),s()},i)}const o=t.getReader(),a={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),E(this,li,!1),_(this,zl,Lp).call(this),Promise.all(e)}cleanup(e=!1){E(this,li,!0);const t=_(this,os,za).call(this,!1);return e&&t&&this._stats&&(this._stats=new GA),t}_startRenderPage(e,t){var i,s;const r=this._intentStates.get(t);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=r.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let r=0,i=e.length;r<i;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();e.lastChunk&&_(this,os,za).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r}){const{map:i,transfer:s}=r,a=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:i},s).getReader(),l=this._intentStates.get(t);l.streamReader=a;const c=()=>{a.read().then(({value:h,done:d})=>{if(d){l.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,l),c())},h=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const d of l.renderTasks)d.operatorListChanged();_(this,os,za).call(this,!0)}if(l.displayReadyCapability)l.displayReadyCapability.reject(h);else if(l.opListReadCapability)l.opListReadCapability.reject(h);else throw h}})};c()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof YE){let i=VM;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new Ta(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}ss=new WeakMap,li=new WeakMap,os=new WeakSet,za=function(e=!1){if(_(this,zl,Lp).call(this),!u(this,li)||this.destroyed)return!1;if(e)return E(this,ss,setTimeout(()=>{E(this,ss,null),_(this,os,za).call(this,!1)},WM)),!1;for(const{renderTasks:t,operatorList:r}of this._intentStates.values())if(t.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),E(this,li,!1),!0},zl=new WeakSet,Lp=function(){u(this,ss)&&(clearTimeout(u(this,ss)),E(this,ss,null))};var Ro,pm;class tD{constructor(){m(this,Ro,new Set);m(this,pm,Promise.resolve())}postMessage(e,t){const r={data:structuredClone(e,t?{transfer:t}:null)};u(this,pm).then(()=>{for(const i of u(this,Ro))i.call(this,r)})}addEventListener(e,t){u(this,Ro).add(t)}removeEventListener(e,t){u(this,Ro).delete(t)}terminate(){u(this,Ro).clear()}}Ro=new WeakMap,pm=new WeakMap;const qr={isWorkerDisabled:!1,fakeWorkerId:0};jt&&(qr.isWorkerDisabled=!0,Pi.workerSrc||(Pi.workerSrc="./pdf.worker.mjs")),qr.isSameOrigin=function(n,e){let t;try{if(t=new URL(n),!t.origin||t.origin==="null")return!1}catch{return!1}const r=new URL(e,t);return t.origin===r.origin},qr.createCDNWrapper=function(n){const e=`await import("${n}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};var Lo,Hl,Mp;const fn=class fn{constructor({name:e=null,port:t=null,verbosity:r=DL()}={}){var i;if(this.name=e,this.destroyed=!1,this.verbosity=r,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((i=u(fn,Lo))!=null&&i.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(u(fn,Lo)||E(fn,Lo,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return jt?Promise.all([zr.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new pc("main","worker",e),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!qr.isWorkerDisabled&&!u(fn,Hl,Mp)){let{workerSrc:e}=fn;try{qr.isSameOrigin(window.location.href,e)||(e=qr.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),r=new pc("main","worker",t),i=()=>{t.removeEventListener("error",s),r.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=()=>{this._webWorker||i()};t.addEventListener("error",s),r.on("test",a=>{if(t.removeEventListener("error",s),this.destroyed){i();return}a?(this._messageHandler=r,this._port=t,this._webWorker=t,this._readyCapability.resolve(),r.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),r.destroy(),t.terminate())}),r.on("ready",a=>{if(t.removeEventListener("error",s),this.destroyed){i();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const a=new Uint8Array;r.send("test",a,[a.buffer])};o();return}catch{Pv("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){qr.isWorkerDisabled||(ce("Setting up fake worker."),qr.isWorkerDisabled=!0),fn._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new tD;this._port=t;const r=`fake${qr.fakeWorkerId++}`,i=new pc(r+"_worker",r,t);e.setup(i,t);const s=new pc(r,r+"_worker",t);this._messageHandler=s,this._readyCapability.resolve(),s.send("configure",{verbosity:this.verbosity})}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=u(fn,Lo))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var r;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(r=u(this,Lo))==null?void 0:r.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new fn(e)}static get workerSrc(){if(Pi.workerSrc)return Pi.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return we(this,"_setupFakeWorkerGlobal",(async()=>u(this,Hl,Mp)?u(this,Hl,Mp):(await import(this.workerSrc)).WorkerMessageHandler)())}};Lo=new WeakMap,Hl=new WeakSet,Mp=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},m(fn,Hl),m(fn,Lo,void 0);let ul=fn;var ui,xr,Bl,Ul,Cr,Mo,gc;class nD{constructor(e,t,r,i,s){m(this,Mo);m(this,ui,new Map);m(this,xr,new Map);m(this,Bl,new Map);m(this,Ul,new Map);m(this,Cr,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new Wx,this.fontLoader=new eM({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return we(this,"annotationStorage",new ZE)}getRenderingIntent(e,t=Xi.ENABLE,r=null,i=!1){let s=In.DISPLAY,o=q0;switch(e){case"any":s=In.ANY;break;case"display":break;case"print":s=In.PRINT;break;default:ce(`getRenderingIntent - invalid intent: ${e}`)}switch(t){case Xi.DISABLE:s+=In.ANNOTATIONS_DISABLE;break;case Xi.ENABLE:break;case Xi.ENABLE_FORMS:s+=In.ANNOTATIONS_FORMS;break;case Xi.ENABLE_STORAGE:s+=In.ANNOTATIONS_STORAGE,o=(s&In.PRINT&&r instanceof Rx?r:this.annotationStorage).serializable;break;default:ce(`getRenderingIntent - invalid annotationMode: ${t}`)}return i&&(s+=In.OPLIST),{renderingIntent:s,cacheKey:`${s}_${o.hash}`,annotationStorageSerializable:o}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=u(this,Cr))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of u(this,xr).values())e.push(i._destroy());u(this,xr).clear(),u(this,Bl).clear(),u(this,Ul).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i;this.commonObjs.clear(),this.fontLoader.clear(),u(this,ui).clear(),this.filterFactory.destroy(),Sg.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Ta("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,i)=>{at(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){i.close();return}at(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",r=>{const i=Promise.withResolvers(),s=this._fullReader;return s.headersReady.then(()=>{var o;(!s.isStreamingSupported||!s.isRangeSupported)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),s.onProgress=a=>{var l;(l=t.onProgress)==null||l.call(t,{loaded:a.loaded,total:a.total})}),i.resolve({isStreamingSupported:s.isStreamingSupported,isRangeSupported:s.isRangeSupported,contentLength:s.contentLength})},i.reject),i.promise}),e.on("GetRangeReader",(r,i)=>{at(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:o,done:a}){if(a){i.close();return}at(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{s.cancel(o),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new ZM(r,this))}),e.on("DocException",function(r){let i;switch(r.name){case"PasswordException":i=new x0(r.message,r.code);break;case"InvalidPDFException":i=new Jb(r.message);break;case"MissingPDFException":i=new Ca(r.message);break;case"UnexpectedResponseException":i=new Rv(r.message,r.status);break;case"UnknownErrorException":i=new C0(r.message,r.details);break;default:Te("DocException - expected a valid Error.")}t._capability.reject(i)}),e.on("PasswordRequest",r=>{if(E(this,Cr,Promise.withResolvers()),t.onPassword){const i=s=>{s instanceof Error?u(this,Cr).reject(s):u(this,Cr).resolve({password:s})};try{t.onPassword(i,r.code)}catch(s){u(this,Cr).reject(s)}}else u(this,Cr).reject(new x0(r.message,r.code));return u(this,Cr).promise}),e.on("DataLoaded",r=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;u(this,xr).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{var o;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":const{disableFontFace:a,fontExtraProperties:l,pdfBug:c}=this._params;if("error"in s){const p=s.error;ce(`Error during font loading: ${p}`),this.commonObjs.resolve(r,p);break}const h=c&&((o=globalThis.FontInspector)!=null&&o.enabled)?(p,g)=>globalThis.FontInspector.fontAdded(p,g):null,d=new tM(s,{disableFontFace:a,inspectFont:h});this.fontLoader.bind(d).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!l&&d.data&&(d.data=null),this.commonObjs.resolve(r,d)});break;case"CopyLocalImage":const{imageRef:f}=s;at(f,"The imageRef must be defined.");for(const p of u(this,xr).values())for(const[,g]of p.objs)if((g==null?void 0:g.ref)===f)return g.dataLen?(this.commonObjs.resolve(r,structuredClone(g)),g.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,o])=>{var l;if(this.destroyed)return;const a=u(this,xr).get(i);if(!a.objs.has(r)){if(a._intentStates.size===0){(l=o==null?void 0:o.bitmap)==null||l.close();return}switch(s){case"Image":a.objs.resolve(r,o),(o==null?void 0:o.dataLen)>kL&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(r,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:r.loaded,total:r.total})}),e.on("FetchBuiltInCMap",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(r):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(r):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&ce("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,r=u(this,Bl).get(t);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&u(this,Ul).set(s.refStr,e);const o=new eD(t,s,this,this._params.pdfBug);return u(this,xr).set(t,o),o});return u(this,Bl).set(t,i),i}getPageIndex(e){return o1(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return _(this,Mo,gc).call(this,"GetFieldObjects")}hasJSActions(){return _(this,Mo,gc).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return _(this,Mo,gc).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return _(this,Mo,gc).call(this,"GetOptionalContentConfig").then(t=>new _M(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=u(this,ui).get(e);if(t)return t;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,o;return{info:i[0],metadata:i[1]?new wM(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return u(this,ui).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of u(this,xr).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),u(this,ui).clear(),this.filterFactory.destroy(!0),Sg.cleanup()}}cachedPageNumber(e){if(!o1(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return u(this,Ul).get(t)??null}}ui=new WeakMap,xr=new WeakMap,Bl=new WeakMap,Ul=new WeakMap,Cr=new WeakMap,Mo=new WeakSet,gc=function(e,t=null){const r=u(this,ui).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,t);return u(this,ui).set(e,i),i};const lp=Symbol("INITIAL_DATA");var qn,dd,sw;class Wx{constructor(){m(this,dd);m(this,qn,Object.create(null))}get(e,t=null){if(t){const i=_(this,dd,sw).call(this,e);return i.promise.then(()=>t(i.data)),null}const r=u(this,qn)[e];if(!r||r.data===lp)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=u(this,qn)[e];return!!t&&t.data!==lp}resolve(e,t=null){const r=_(this,dd,sw).call(this,e);r.data=t,r.resolve()}clear(){var e;for(const t in u(this,qn)){const{data:r}=u(this,qn)[t];(e=r==null?void 0:r.bitmap)==null||e.close()}E(this,qn,Object.create(null))}*[Symbol.iterator](){for(const e in u(this,qn)){const{data:t}=u(this,qn)[e];t!==lp&&(yield[e,t])}}}qn=new WeakMap,dd=new WeakSet,sw=function(e){var t;return(t=u(this,qn))[e]||(t[e]={...Promise.withResolvers(),data:lp})};var as;class rD{constructor(e){m(this,as,null);E(this,as,e),this.onContinue=null}get promise(){return u(this,as).capability.promise}cancel(e=0){u(this,as).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=u(this,as).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=u(this,as);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}as=new WeakMap;var Do;const Qs=class Qs{constructor({callback:e,params:t,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:h=!1,pdfBug:d=!1,pageColors:f=null}){this.callback=e,this.params=t,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=d,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new rD(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var a,l;if(this.cancelled)return;if(this._canvas){if(u(Qs,Do).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");u(Qs,Do).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:i,transform:s,background:o}=this.params;this.gfx=new ll(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:i,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,t=0){var r;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),u(Qs,Do).delete(this._canvas),this.callback(e||new YE(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),u(Qs,Do).delete(this._canvas),this.callback())))}};Do=new WeakMap,m(Qs,Do,new WeakSet);let ow=Qs;const iD="4.3.136",sD="0cec64437";function a1(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function rc(n){return Math.max(0,Math.min(255,255*n))}class l1{static CMYK_G([e,t,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=rc(e),[e,e,e]}static G_HTML([e]){const t=a1(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(rc)}static RGB_HTML(e){return`#${e.map(a1).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,r,i]){return[rc(1-Math.min(1,e+i)),rc(1-Math.min(1,r+i)),rc(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){const i=1-e,s=1-t,o=1-r,a=Math.min(i,s,o);return["CMYK",i,s,o,a]}}class Gx{static setupStorage(e,t,r,i,s){const o=i.getValue(t,{value:null});switch(r.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(o.value===r.attributes.xfaOn?e.setAttribute("checked",!0):o.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",a=>{i.setValue(t,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const a of r.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const l=a.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(t,{value:c})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:i,linkService:s}){const{attributes:o}=t,a=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${i}`);for(const[l,c]of Object.entries(o))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!a||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}a&&s.addLinkAttributes(e,o.href,o.newWindow),r&&o.dataId&&this.setupStorage(e,o.dataId,t,r)}static render(e){var d,f;const t=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",o=document.createElement(i.name);i.attributes&&this.setAttributes({html:o,element:i,intent:s,linkService:r});const a=s!=="richText",l=e.div;if(l.append(o),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=p}a&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const p=document.createTextNode(i.value);o.append(p),a&&th.shouldBuildText(i.name)&&c.push(p)}return{textDivs:c}}const h=[[i,-1,o]];for(;h.length>0;){const[p,g,y]=h.at(-1);if(g+1===p.children.length){h.pop();continue}const S=p.children[++h.at(-1)[1]];if(S===null)continue;const{name:v}=S;if(v==="#text"){const A=document.createTextNode(S.value);c.push(A),y.append(A);continue}const w=(d=S==null?void 0:S.attributes)!=null&&d.xmlns?document.createElementNS(S.attributes.xmlns,v):document.createElement(v);if(y.append(w),S.attributes&&this.setAttributes({html:w,element:S,storage:t,intent:s,linkService:r}),((f=S.children)==null?void 0:f.length)>0)h.push([S,-1,w]);else if(S.value){const A=document.createTextNode(S.value);a&&th.shouldBuildText(v)&&c.push(A),w.append(A)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const If=1e3,oD=9,_a=new WeakSet;function Ri(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class aD{static create(e){switch(e.data.annotationType){case tt.LINK:return new Xx(e);case tt.TEXT:return new lD(e);case tt.WIDGET:switch(e.data.fieldType){case"Tx":return new uD(e);case"Btn":return e.data.radioButton?new qx(e):e.data.checkBox?new hD(e):new dD(e);case"Ch":return new fD(e);case"Sig":return new cD(e)}return new ka(e);case tt.POPUP:return new lw(e);case tt.FREETEXT:return new tC(e);case tt.LINE:return new gD(e);case tt.SQUARE:return new mD(e);case tt.CIRCLE:return new vD(e);case tt.POLYLINE:return new nC(e);case tt.CARET:return new wD(e);case tt.INK:return new rC(e);case tt.POLYGON:return new yD(e);case tt.HIGHLIGHT:return new ED(e);case tt.UNDERLINE:return new _D(e);case tt.SQUIGGLY:return new AD(e);case tt.STRIKEOUT:return new SD(e);case tt.STAMP:return new iC(e);case tt.FILEATTACHMENT:return new bD(e);default:return new Ye(e)}}}var Io,$l,Vl,fd,aw;const o_=class o_{constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){m(this,fd);m(this,Io,null);m(this,$l,!1);m(this,Vl,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:r}){return!!(e!=null&&e.str||t!=null&&t.str||r!=null&&r.str)}get hasPopupData(){return o_._hasPopupData(this.data)}updateEdited(e){var r;if(!this.container)return;u(this,Io)||E(this,Io,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&_(this,fd,aw).call(this,t),(r=u(this,Vl))==null||r.popup.updateEdited(e)}resetEdited(){var e;u(this,Io)&&(_(this,fd,aw).call(this,u(this,Io).rect),(e=u(this,Vl))==null||e.popup.resetEdited(),E(this,Io,null))}_createContainer(e){const{data:t,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof ka||(s.tabIndex=If);const{style:o}=s;if(o.zIndex=this.parent.zIndex++,t.popupRef&&s.setAttribute("aria-haspopup","dialog"),t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof lw){const{rotation:y}=t;return!t.hasOwnCanvas&&y!==0&&this.setRotation(y,s),s}const{width:a,height:l}=Ri(t.rect);if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const y=t.borderStyle.horizontalCornerRadius,S=t.borderStyle.verticalCornerRadius;if(y>0||S>0){const w=`calc(${y}px * var(--scale-factor)) / calc(${S}px * var(--scale-factor))`;o.borderRadius=w}else if(this instanceof qx){const w=`calc(${a}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;o.borderRadius=w}switch(t.borderStyle.style){case tc.SOLID:o.borderStyle="solid";break;case tc.DASHED:o.borderStyle="dashed";break;case tc.BEVELED:ce("Unimplemented border style: beveled");break;case tc.INSET:ce("Unimplemented border style: inset");break;case tc.UNDERLINE:o.borderBottomStyle="solid";break}const v=t.borderColor||null;v?(E(this,$l,!0),o.borderColor=X.makeHexColor(v[0]|0,v[1]|0,v[2]|0)):o.borderWidth=0}const c=X.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:h,pageHeight:d,pageX:f,pageY:p}=i.rawDims;o.left=`${100*(c[0]-f)/h}%`,o.top=`${100*(c[1]-p)/d}%`;const{rotation:g}=t;return t.hasOwnCanvas||g===0?(o.width=`${100*a/h}%`,o.height=`${100*l/d}%`):this.setRotation(g,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims,{width:s,height:o}=Ri(this.data.rect);let a,l;e%180===0?(a=100*s/r,l=100*o/i):(a=100*o/r,l=100*s/i),t.style.width=`${a}%`,t.style.height=`${l}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,r,i)=>{const s=i.detail[t],o=s[0],a=s.slice(1);i.target.style[r]=l1[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[r]:l1[`${o}_rgb`](a)})};return we(this,"_commonActions",{display:t=>{const{display:r}=t.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){const r=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||r[i];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const r=this._commonActions;for(const[i,s]of Object.entries(t)){const o=r[i];if(o){const a={detail:{[i]:s},target:e};o(a),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,r,i,s]=this.data.rect;if(e.length===1){const[,{x:y,y:S},{x:v,y:w}]=e[0];if(i===y&&s===S&&t===v&&r===w)return}const{style:o}=this.container;let a;if(u(this,$l)){const{borderColor:y,borderWidth:S}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${y}" stroke-width="${S}">`],this.container.classList.add("hasBorder")}const l=i-t,c=s-r,{svgFactory:h}=this,d=h.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const f=h.createElement("defs");d.append(f);const p=h.createElement("clipPath"),g=`clippath_${this.data.id}`;p.setAttribute("id",g),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(const[,{x:y,y:S},{x:v,y:w}]of e){const A=h.createElement("rect"),x=(v-t)/l,C=(s-S)/c,T=(y-v)/l,b=(S-w)/c;A.setAttribute("x",x),A.setAttribute("y",C),A.setAttribute("width",T),A.setAttribute("height",b),p.append(A),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${x}" y="${C}" width="${T}" height="${b}"/>`)}u(this,$l)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(d),this.container.style.clipPath=`url(#${g})`}_createPopup(){const{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");const r=E(this,Vl,new lw({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(r.render())}render(){Te("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:o,exportValues:a}of i){if(s===-1||o===t)continue;const l=typeof a=="string"?a:null,c=document.querySelector(`[data-element-id="${o}"]`);if(c&&!_a.has(c)){ce(`_getElementsByName - element not allowed: ${o}`);continue}r.push({id:o,exportValue:l,domElement:c})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,o=i.getAttribute("data-element-id");o!==t&&_a.has(i)&&r.push({id:o,exportValue:s,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};Io=new WeakMap,$l=new WeakMap,Vl=new WeakMap,fd=new WeakSet,aw=function(e){const{container:{style:t},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}}}=this;r==null||r.splice(0,4,...e);const{width:c,height:h}=Ri(e);t.left=`${100*(e[0]-a)/s}%`,t.top=`${100*(o-e[3]+l)/o}%`,i===0?(t.width=`${100*c/s}%`,t.height=`${100*h/o}%`):this.setRotation(i)};let Ye=o_;var ci,Xs,gm,Kx,mm,Yx;class Xx extends Ye{constructor(t,r=null){super(t,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});m(this,ci);m(this,gm);m(this,mm);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let s=!1;return t.url?(r.addLinkAttributes(i,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(i,t.action),s=!0):t.attachment?(_(this,gm,Kx).call(this,i,t.attachment,t.attachmentDest),s=!0):t.setOCGState?(_(this,mm,Yx).call(this,i,t.setOCGState),s=!0):t.dest?(this._bindLink(i,t.dest),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),s=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}_bindLink(t,r){t.href=this.linkService.getDestinationHash(r),t.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&_(this,ci,Xs).call(this)}_bindNamedAction(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(r),!1),_(this,ci,Xs).call(this)}_bindJSAction(t,r){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(r.actions)){const o=i.get(s);o&&(t[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:s}}),!1})}t.onclick||(t.onclick=()=>!1),_(this,ci,Xs).call(this)}_bindResetFormAction(t,r){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),_(this,ci,Xs).call(this),!this._fieldObjects){ce('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var d;i==null||i();const{fields:s,refs:o,include:a}=r,l=[];if(s.length!==0||o.length!==0){const f=new Set(o);for(const p of s){const g=this._fieldObjects[p]||[];for(const{id:y}of g)f.add(y)}for(const p of Object.values(this._fieldObjects))for(const g of p)f.has(g.id)===a&&l.push(g)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const c=this.annotationStorage,h=[];for(const f of l){const{id:p}=f;switch(h.push(p),f.type){case"text":{const y=f.defaultValue||"";c.setValue(p,{value:y});break}case"checkbox":case"radiobutton":{const y=f.defaultValue===f.exportValues;c.setValue(p,{value:y});break}case"combobox":case"listbox":{const y=f.defaultValue||"";c.setValue(p,{value:y});break}default:continue}const g=document.querySelector(`[data-element-id="${p}"]`);if(g){if(!_a.has(g)){ce(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}})),!1}}}ci=new WeakSet,Xs=function(){this.container.setAttribute("data-internal-link","")},gm=new WeakSet,Kx=function(t,r,i=null){t.href=this.linkService.getAnchorUrl(""),r.description&&(t.title=r.description),t.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(r.content,r.filename,i),!1},_(this,ci,Xs).call(this)},mm=new WeakSet,Yx=function(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(r),!1),_(this,ci,Xs).call(this)};class lD extends Ye{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class ka extends Ye{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return rn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,i,s){r.includes("mouse")?e.addEventListener(r,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(r,o=>{var a;if(r==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}s&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o)}}))})}_setEventListeners(e,t,r,i){var s,o,a;for(const[l,c]of r)(c==="Action"||(s=this.data.actions)!=null&&s[c])&&((c==="Focus"||c==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,c,i),c==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):c==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":X.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||oD,s=e.style;let o;const a=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a),h=Math.round(c/(Ey*i))||1,d=c/h;o=Math.min(i,l(d/Ey))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(i,l(c/Ey))}s.fontSize=`calc(${o}px * var(--scale-factor))`,s.color=X.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class uD extends ka{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,i){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=r),s.setValue(o.id,{[i]:r})}render(){var i,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let a=o.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let c=o.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const h={userValue:a,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=c??a,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type="text",r.setAttribute("value",c??a),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),_a.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=If,this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",f=>{e.setValue(t,{value:f.target.value}),this.setPropertyOnSiblings(r,"value",f.target.value,"value"),h.formattedValue=null}),r.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue??"";r.value=h.userValue=p,h.formattedValue=null});let d=f=>{const{formattedValue:p}=h;p!=null&&(f.target.value=p),f.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",p=>{var y;if(h.focused)return;const{target:g}=p;h.userValue&&(g.value=h.userValue),h.lastCommittedValue=g.value,h.commitKey=1,(y=this.data.actions)!=null&&y.Focus||(h.focused=!0)}),r.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const g={value(y){h.userValue=y.detail.value??"",e.setValue(t,{value:h.userValue.toString()}),y.target.value=h.userValue},formattedValue(y){const{formattedValue:S}=y.detail;h.formattedValue=S,S!=null&&y.target!==document.activeElement&&(y.target.value=S),e.setValue(t,{formattedValue:S})},selRange(y){y.target.setSelectionRange(...y.detail.selRange)},charLimit:y=>{var A;const{charLimit:S}=y.detail,{target:v}=y;if(S===0){v.removeAttribute("maxLength");return}v.setAttribute("maxLength",S);let w=h.userValue;!w||w.length<=S||(w=w.slice(0,S),v.value=h.userValue=w,e.setValue(t,{value:w}),(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:w,willCommit:!0,commitKey:1,selStart:v.selectionStart,selEnd:v.selectionEnd}}))}};this._dispatchEventFromSandbox(g,p)}),r.addEventListener("keydown",p=>{var S;h.commitKey=1;let g=-1;if(p.key==="Escape"?g=0:p.key==="Enter"&&!this.data.multiLine?g=2:p.key==="Tab"&&(h.commitKey=3),g===-1)return;const{value:y}=p.target;h.lastCommittedValue!==y&&(h.lastCommittedValue=y,h.userValue=y,(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:y,willCommit:!0,commitKey:g,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const f=d;d=null,r.addEventListener("blur",p=>{var y,S;if(!h.focused||!p.relatedTarget)return;(y=this.data.actions)!=null&&y.Blur||(h.focused=!1);const{value:g}=p.target;h.userValue=g,h.lastCommittedValue!==g&&((S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:g,willCommit:!0,commitKey:h.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}})),f(p)}),(s=this.data.actions)!=null&&s.Keystroke&&r.addEventListener("beforeinput",p=>{var C;h.lastCommittedValue=null;const{data:g,target:y}=p,{value:S,selectionStart:v,selectionEnd:w}=y;let A=v,x=w;switch(p.inputType){case"deleteWordBackward":{const T=S.substring(0,v).match(/\w*[^\w]*$/);T&&(A-=T[0].length);break}case"deleteWordForward":{const T=S.substring(v).match(/^[^\w]*\w*/);T&&(x+=T[0].length);break}case"deleteContentBackward":v===w&&(A-=1);break;case"deleteContentForward":v===w&&(x+=1);break}p.preventDefault(),(C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:S,change:g||"",willCommit:!1,selStart:A,selEnd:x}})}),this._setEventListeners(r,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(d&&r.addEventListener("blur",d),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${p}px * var(--scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class cD extends ka{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class hD extends ka{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return _a.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=If,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,r)){const h=l&&c.exportValue===t.exportValue;c.domElement&&(c.domElement.checked=h),e.setValue(c.id,{value:h})}e.setValue(r,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue||"Off";o.target.checked=a===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const a={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class qx extends ka{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(r,{value:i})),i)for(const o of this._getElementsByName(t.fieldName,r))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(_a.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=If,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,r))e.setValue(c.id,{value:!1});e.setValue(r,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue;o.target.checked=a!=null&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;s.addEventListener("updatefromsandbox",a=>{const l={value:c=>{const h=o===c.detail.value;for(const d of this._getElementsByName(c.target.name)){const f=h&&d.id===r;d.domElement&&(d.domElement.checked=f),e.setValue(d.id,{value:f})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class dD extends Xx{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class fD extends ka{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");_a.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=If;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",h=>{const d=this.data.defaultFieldValue;for(const f of i.options)f.selected=f.value===d});for(const h of this.data.options){const d=document.createElement("option");d.textContent=h.displayValue,d.value=h.exportValue,r.value.includes(h.exportValue)&&(d.setAttribute("selected",!0),s=!1),i.append(d)}let o=null;if(s){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),i.prepend(h),o=()=>{h.remove(),i.removeEventListener("input",o),o=null},i.addEventListener("input",o)}const a=h=>{const d=h?"value":"textContent",{options:f,multiple:p}=i;return p?Array.prototype.filter.call(f,g=>g.selected).map(g=>g[d]):f.selectedIndex===-1?null:f[f.selectedIndex][d]};let l=a(!1);const c=h=>{const d=h.target.options;return Array.prototype.map.call(d,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",h=>{const d={value(f){o==null||o();const p=f.detail.value,g=new Set(Array.isArray(p)?p:[p]);for(const y of i.options)y.selected=g.has(y.value);e.setValue(t,{value:a(!0)}),l=a(!1)},multipleSelection(f){i.multiple=!0},remove(f){const p=i.options,g=f.detail.remove;p[g].selected=!1,i.remove(g),p.length>0&&Array.prototype.findIndex.call(p,S=>S.selected)===-1&&(p[0].selected=!0),e.setValue(t,{value:a(!0),items:c(f)}),l=a(!1)},clear(f){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),l=a(!1)},insert(f){const{index:p,displayValue:g,exportValue:y}=f.detail.insert,S=i.children[p],v=document.createElement("option");v.textContent=g,v.value=y,S?S.before(v):i.append(v),e.setValue(t,{value:a(!0),items:c(f)}),l=a(!1)},items(f){const{items:p}=f.detail;for(;i.length!==0;)i.remove(0);for(const g of p){const{displayValue:y,exportValue:S}=g,v=document.createElement("option");v.textContent=y,v.value=S,i.append(v)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:a(!0),items:c(f)}),l=a(!1)},indices(f){const p=new Set(f.detail.indices);for(const g of f.target.options)g.selected=p.has(g.index);e.setValue(t,{value:a(!0)}),l=a(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(d,h)}),i.addEventListener("input",h=>{var p;const d=a(!0),f=a(!1);e.setValue(t,{value:d}),h.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:f,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):i.addEventListener("input",function(h){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class lw extends Ye{constructor(e){const{data:t,elements:r}=e;super(e,{isRenderable:Ye._hasPopupData(t)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new pD({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const r of this.elements)r.popup=e,t.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(r=>`${ex}${r}`).join(",")),this.container}}var Wl,vm,ym,Gl,Fo,We,hi,No,pd,gd,Xl,di,Qn,fi,md,pi,vd,Oo,jo,Kl,Dp,yd,uw,wm,Qx,Em,Jx,_m,Zx,Am,eC,Yl,Ip,ql,Fp,wd,cw;class pD{constructor({container:e,color:t,elements:r,titleObj:i,modificationDate:s,contentsObj:o,richText:a,parent:l,rect:c,parentRect:h,open:d}){m(this,Kl);m(this,yd);m(this,wm);m(this,Em);m(this,_m);m(this,Am);m(this,Yl);m(this,ql);m(this,wd);m(this,Wl,_(this,_m,Zx).bind(this));m(this,vm,_(this,wd,cw).bind(this));m(this,ym,_(this,ql,Fp).bind(this));m(this,Gl,_(this,Yl,Ip).bind(this));m(this,Fo,null);m(this,We,null);m(this,hi,null);m(this,No,null);m(this,pd,null);m(this,gd,null);m(this,Xl,null);m(this,di,!1);m(this,Qn,null);m(this,fi,null);m(this,md,null);m(this,pi,null);m(this,vd,null);m(this,Oo,null);m(this,jo,!1);var f;E(this,We,e),E(this,vd,i),E(this,hi,o),E(this,pi,a),E(this,gd,l),E(this,Fo,t),E(this,md,c),E(this,Xl,h),E(this,pd,r),E(this,No,sx.toDateObject(s)),this.trigger=r.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",u(this,Gl)),p.addEventListener("mouseenter",u(this,ym)),p.addEventListener("mouseleave",u(this,vm)),p.classList.add("popupTriggerArea");for(const p of r)(f=p.container)==null||f.addEventListener("keydown",u(this,Wl));u(this,We).hidden=!0,d&&_(this,Yl,Ip).call(this)}render(){if(u(this,Qn))return;const e=E(this,Qn,document.createElement("div"));if(e.className="popup",u(this,Fo)){const s=e.style.outlineColor=X.makeHexColor(...u(this,Fo));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:e.style.backgroundColor=X.makeHexColor(...u(this,Fo).map(a=>Math.floor(.7*(255-a)+a)))}const t=document.createElement("span");t.className="header";const r=document.createElement("h1");if(t.append(r),{dir:r.dir,str:r.textContent}=u(this,vd),e.append(t),u(this,No)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),s.setAttribute("data-l10n-args",JSON.stringify({date:u(this,No).toLocaleDateString(),time:u(this,No).toLocaleTimeString()})),t.append(s)}const i=u(this,Kl,Dp);if(i)Gx.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(u(this,hi));e.append(s)}u(this,We).append(e)}_formatContents({str:e,dir:t}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=t;const i=e.split(/(?:\r\n?|\n)/);for(let s=0,o=i.length;s<o;++s){const a=i[s];r.append(document.createTextNode(a)),s<o-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popupContent:t}){var r;u(this,Oo)||E(this,Oo,{contentsObj:u(this,hi),richText:u(this,pi)}),e&&E(this,fi,null),t&&(E(this,pi,_(this,Em,Jx).call(this,t)),E(this,hi,null)),(r=u(this,Qn))==null||r.remove(),E(this,Qn,null)}resetEdited(){var e;u(this,Oo)&&({contentsObj:hn(this,hi)._,richText:hn(this,pi)._}=u(this,Oo),E(this,Oo,null),(e=u(this,Qn))==null||e.remove(),E(this,Qn,null),E(this,fi,null))}forceHide(){E(this,jo,this.isVisible),u(this,jo)&&(u(this,We).hidden=!0)}maybeShow(){u(this,jo)&&(u(this,Qn)||_(this,ql,Fp).call(this),E(this,jo,!1),u(this,We).hidden=!1)}get isVisible(){return u(this,We).hidden===!1}}Wl=new WeakMap,vm=new WeakMap,ym=new WeakMap,Gl=new WeakMap,Fo=new WeakMap,We=new WeakMap,hi=new WeakMap,No=new WeakMap,pd=new WeakMap,gd=new WeakMap,Xl=new WeakMap,di=new WeakMap,Qn=new WeakMap,fi=new WeakMap,md=new WeakMap,pi=new WeakMap,vd=new WeakMap,Oo=new WeakMap,jo=new WeakMap,Kl=new WeakSet,Dp=function(){const e=u(this,pi),t=u(this,hi);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&u(this,pi).html||null},yd=new WeakSet,uw=function(){var e,t,r;return((r=(t=(e=u(this,Kl,Dp))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.fontSize)||0},wm=new WeakSet,Qx=function(){var e,t,r;return((r=(t=(e=u(this,Kl,Dp))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.color)||null},Em=new WeakSet,Jx=function(e){const t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:u(this,wm,Qx),fontSize:u(this,yd,uw)?`calc(${u(this,yd,uw)}px * var(--scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:i});return r},_m=new WeakSet,Zx=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&u(this,di))&&_(this,Yl,Ip).call(this)},Am=new WeakSet,eC=function(){if(u(this,fi)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:i,pageY:s}}}=u(this,gd);let o=!!u(this,Xl),a=o?u(this,Xl):u(this,md);for(const g of u(this,pd))if(!a||X.intersect(g.data.rect,a)!==null){a=g.data.rect,o=!0;break}const l=X.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),h=o?a[2]-a[0]+5:0,d=l[0]+h,f=l[1];E(this,fi,[100*(d-i)/t,100*(f-s)/r]);const{style:p}=u(this,We);p.left=`${u(this,fi)[0]}%`,p.top=`${u(this,fi)[1]}%`},Yl=new WeakSet,Ip=function(){E(this,di,!u(this,di)),u(this,di)?(_(this,ql,Fp).call(this),u(this,We).addEventListener("click",u(this,Gl)),u(this,We).addEventListener("keydown",u(this,Wl))):(_(this,wd,cw).call(this),u(this,We).removeEventListener("click",u(this,Gl)),u(this,We).removeEventListener("keydown",u(this,Wl)))},ql=new WeakSet,Fp=function(){u(this,Qn)||this.render(),this.isVisible?u(this,di)&&u(this,We).classList.add("focused"):(_(this,Am,eC).call(this),u(this,We).hidden=!1,u(this,We).style.zIndex=parseInt(u(this,We).style.zIndex)+1e3)},wd=new WeakSet,cw=function(){u(this,We).classList.remove("focused"),!(u(this,di)||!this.isVisible)&&(u(this,We).hidden=!0,u(this,We).style.zIndex=parseInt(u(this,We).style.zIndex)-1e3)};class tC extends Ye{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=ve.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var Ed;class gD extends Ye{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});m(this,Ed,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:r,height:i}=Ri(t.rect),s=this.svgFactory.create(r,i,!0),o=E(this,Ed,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,Ed)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ed=new WeakMap;var _d;class mD extends Ye{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});m(this,_d,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:r,height:i}=Ri(t.rect),s=this.svgFactory.create(r,i,!0),o=t.borderStyle.width,a=E(this,_d,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",r-o),a.setAttribute("height",i-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,_d)}addHighlightArea(){this.container.classList.add("highlightArea")}}_d=new WeakMap;var Ad;class vD extends Ye{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});m(this,Ad,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:r,height:i}=Ri(t.rect),s=this.svgFactory.create(r,i,!0),o=t.borderStyle.width,a=E(this,Ad,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",r/2),a.setAttribute("cy",i/2),a.setAttribute("rx",r/2-o/2),a.setAttribute("ry",i/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,Ad)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ad=new WeakMap;var Sd;class nC extends Ye{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});m(this,Sd,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const t=this.data,{width:r,height:i}=Ri(t.rect),s=this.svgFactory.create(r,i,!0);let o=[];for(const l of t.vertices){const c=l.x-t.rect[0],h=t.rect[3]-l.y;o.push(c+","+h)}o=o.join(" ");const a=E(this,Sd,this.svgFactory.createElement(this.svgElementName));return a.setAttribute("points",o),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,Sd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Sd=new WeakMap;class yD extends nC{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class wD extends Ye{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var bd;class rC extends Ye{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});m(this,bd,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=ve.INK}render(){this.container.classList.add(this.containerClassName);const t=this.data,{width:r,height:i}=Ri(t.rect),s=this.svgFactory.create(r,i,!0);for(const o of t.inkLists){let a=[];for(const c of o){const h=c.x-t.rect[0],d=t.rect[3]-c.y;a.push(`${h},${d}`)}a=a.join(" ");const l=this.svgFactory.createElement(this.svgElementName);u(this,bd).push(l),l.setAttribute("points",a),l.setAttribute("stroke-width",t.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),!t.popupRef&&this.hasPopupData&&this._createPopup(),s.append(l)}return this.container.append(s),this.container}getElementsToTriggerPopup(){return u(this,bd)}addHighlightArea(){this.container.classList.add("highlightArea")}}bd=new WeakMap;class ED extends Ye{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class _D extends Ye{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class AD extends Ye{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class SD extends Ye{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class iC extends Ye{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var xd,Cd,hw;class bD extends Ye{constructor(t){var i;super(t,{isRenderable:!0});m(this,Cd);m(this,xd,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",_(this,Cd,hw).bind(this)),E(this,xd,i);const{isMac:s}=rn.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&_(this,Cd,hw).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return u(this,xd)}addHighlightArea(){this.container.classList.add("highlightArea")}}xd=new WeakMap,Cd=new WeakSet,hw=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Td,zo,Ql,Sm,sC,kd,dw,_1;let xD=(_1=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:o}){m(this,Sm);m(this,kd);m(this,Td,null);m(this,zo,null);m(this,Ql,new Map);this.div=e,E(this,Td,t),E(this,zo,r),this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=i}async render(e){var o;const{annotations:t}=e,r=this.div;wa(r,this.viewport);const i=new Map,s={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new KE,annotationStorage:e.annotationStorage||new ZE,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of t){if(a.noHTML)continue;const l=a.annotationType===tt.POPUP;if(l){const d=i.get(a.id);if(!d)continue;s.elements=d}else{const{width:d,height:f}=Ri(a.rect);if(d<=0||f<=0)continue}s.data=a;const c=aD.create(s);if(!c.isRenderable)continue;if(!l&&a.popupRef){const d=i.get(a.popupRef);d?d.push(c):i.set(a.popupRef,[c])}const h=c.render();a.hidden&&(h.style.visibility="hidden"),_(this,Sm,sC).call(this,h,a.id),c.annotationEditorType>0&&(u(this,Ql).set(c.data.id,c),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(c))}_(this,kd,dw).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,wa(t,{rotation:e.rotation}),_(this,kd,dw).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(u(this,Ql).values())}getEditableAnnotation(e){return u(this,Ql).get(e)}},Td=new WeakMap,zo=new WeakMap,Ql=new WeakMap,Sm=new WeakSet,sC=function(e,t){var i;const r=e.firstChild||e;r.id=`${ex}${t}`,this.div.append(e),(i=u(this,Td))==null||i.moveElementInDOM(this.div,e,r,!1)},kd=new WeakSet,dw=function(){if(!u(this,zo))return;const e=this.div;for(const[t,r]of u(this,zo)){const i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:s}=i;s?s.nodeName==="CANVAS"?s.replaceWith(r):s.classList.contains("annotationContent")?s.after(r):s.before(r):i.append(r)}u(this,zo).clear()},_1);const up=/\r\n?|\n/g;var Pd,Rd,Ld,Md,Dd,Jn,gn,Id,mn,Jl,bm,oC,xm,aC,Cm,lC,Zl,Np,eu,Op,tu,jp,Tm,uC,Fd,pw,km,cC;const Pe=class Pe extends be{constructor(t){super({...t,name:"freeTextEditor"});m(this,bm);m(this,xm);m(this,Cm);m(this,Zl);m(this,tu);m(this,Tm);m(this,km);m(this,Pd,this.editorDivBlur.bind(this));m(this,Rd,this.editorDivFocus.bind(this));m(this,Ld,this.editorDivInput.bind(this));m(this,Md,this.editorDivKeydown.bind(this));m(this,Dd,this.editorDivPaste.bind(this));m(this,Jn,void 0);m(this,gn,"");m(this,Id,`${this.id}-editor`);m(this,mn,void 0);m(this,Jl,null);E(this,Jn,t.color||Pe._defaultColor||be._defaultLineColor),E(this,mn,t.fontSize||Pe._defaultFontSize)}static get _keyboardManager(){const t=Pe.prototype,r=o=>o.isEmpty(),i=Ea.TRANSLATE_SMALL,s=Ea.TRANSLATE_BIG;return we(this,"_keyboardManager",new Mf([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:r}]]))}static initialize(t,r){be.initialize(t,r,{strings:["pdfjs-free-text-default-content"]});const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,r){switch(t){case ne.FREETEXT_SIZE:Pe._defaultFontSize=r;break;case ne.FREETEXT_COLOR:Pe._defaultColor=r;break}}updateParams(t,r){switch(t){case ne.FREETEXT_SIZE:_(this,bm,oC).call(this,r);break;case ne.FREETEXT_COLOR:_(this,xm,aC).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[ne.FREETEXT_SIZE,Pe._defaultFontSize],[ne.FREETEXT_COLOR,Pe._defaultColor||be._defaultLineColor]]}get propertiesToUpdate(){return[[ne.FREETEXT_SIZE,u(this,mn)],[ne.FREETEXT_COLOR,u(this,Jn)]]}_translateEmpty(t,r){this._uiManager.translateSelectedEditors(t,r,!0)}getInitialTranslation(){const t=this.parentScale;return[-Pe._internalPadding*t,-(Pe._internalPadding+u(this,mn))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(ve.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",u(this,Md)),this.editorDiv.addEventListener("focus",u(this,Rd)),this.editorDiv.addEventListener("blur",u(this,Pd)),this.editorDiv.addEventListener("input",u(this,Ld)),this.editorDiv.addEventListener("paste",u(this,Dd)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",u(this,Id)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",u(this,Md)),this.editorDiv.removeEventListener("focus",u(this,Rd)),this.editorDiv.removeEventListener("blur",u(this,Pd)),this.editorDiv.removeEventListener("input",u(this,Ld)),this.editorDiv.removeEventListener("paste",u(this,Dd)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=u(this,gn),r=E(this,gn,_(this,Cm,lC).call(this).trimEnd());if(t===r)return;const i=s=>{if(E(this,gn,s),!s){this.remove();return}_(this,tu,jp).call(this),this._uiManager.rebuild(this),_(this,Zl,Np).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(t)},mustExec:!1}),_(this,Zl,Np).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Pe._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,r;this.width&&(t=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",u(this,Id)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),be._l10nPromise.get("pdfjs-free-text-default-content").then(s=>{var o;return(o=this.editorDiv)==null?void 0:o.setAttribute("default-content",s)}),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${u(this,mn)}px * var(--scale-factor))`,i.color=u(this,Jn),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Eg(this,this.div,["dblclick","keydown"]),this.width){const[s,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=u(this,Jl);let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[h,d]=this.pageDimensions,[f,p]=this.pageTranslation;let g,y;switch(this.rotation){case 0:g=t+(a[0]-f)/h,y=r+this.height-(a[1]-p)/d;break;case 90:g=t+(a[0]-f)/h,y=r-(a[1]-p)/d,[l,c]=[c,-l];break;case 180:g=t-this.width+(a[0]-f)/h,y=r-(a[1]-p)/d,[l,c]=[-l,-c];break;case 270:g=t+(a[0]-f-this.height*d)/h,y=r+(a[1]-p-this.width*h)/d,[l,c]=[-c,l];break}this.setAt(g*s,y*o,l,c)}else this.setAt(t*s,r*o,this.width*s,this.height*o);_(this,tu,jp).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var g,y,S;const r=t.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const s=_(g=Pe,Fd,pw).call(g,r.getData("text")||"").replaceAll(up,`
`);if(!s)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!s.includes(`
`)){a.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:l,startOffset:c}=a,h=[],d=[];if(l.nodeType===Node.TEXT_NODE){const v=l.parentElement;if(d.push(l.nodeValue.slice(c).replaceAll(up,"")),v!==this.editorDiv){let w=h;for(const A of this.editorDiv.childNodes){if(A===v){w=d;continue}w.push(_(y=Pe,eu,Op).call(y,A))}}h.push(l.nodeValue.slice(0,c).replaceAll(up,""))}else if(l===this.editorDiv){let v=h,w=0;for(const A of this.editorDiv.childNodes)w++===c&&(v=d),v.push(_(S=Pe,eu,Op).call(S,A))}E(this,gn,`${h.join(`
`)}${s}${d.join(`
`)}`),_(this,tu,jp).call(this);const f=new Range;let p=h.reduce((v,w)=>v+w.length,0);for(const{firstChild:v}of this.editorDiv.childNodes)if(v.nodeType===Node.TEXT_NODE){const w=v.nodeValue.length;if(p<=w){f.setStart(v,p),f.setEnd(v,p);break}p-=w}o.removeAllRanges(),o.addRange(f)}get contentDiv(){return this.editorDiv}static deserialize(t,r,i){var a;let s=null;if(t instanceof tC){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:h,rotation:d,id:f},textContent:p,textPosition:g,parent:{page:{pageNumber:y}}}=t;if(!p||p.length===0)return null;s=t={annotationType:ve.FREETEXT,color:Array.from(c),fontSize:l,value:p.join(`
`),position:g,pageIndex:y-1,rect:h.slice(0),rotation:d,id:f,deleted:!1}}const o=super.deserialize(t,r,i);return E(o,mn,t.fontSize),E(o,Jn,X.makeHexColor(...t.color)),E(o,gn,_(a=Pe,Fd,pw).call(a,t.value)),o.annotationElementId=t.id||null,E(o,Jl,s),o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const r=Pe._internalPadding*this.parentScale,i=this.getRect(r,r),s=be._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:u(this,Jn)),o={annotationType:ve.FREETEXT,color:s,fontSize:u(this,mn),value:_(this,Tm,uC).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?o:this.annotationElementId&&!_(this,km,cC).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){const r=super.renderAnnotationElement(t);if(this.deleted)return r;const{style:i}=r;i.fontSize=`calc(${u(this,mn)}px * var(--scale-factor))`,i.color=u(this,Jn),r.replaceChildren();for(const o of u(this,gn).split(`
`)){const a=document.createElement("div");a.append(o?document.createTextNode(o):document.createElement("br")),r.append(a)}const s=Pe._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:u(this,gn)}),r}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Pd=new WeakMap,Rd=new WeakMap,Ld=new WeakMap,Md=new WeakMap,Dd=new WeakMap,Jn=new WeakMap,gn=new WeakMap,Id=new WeakMap,mn=new WeakMap,Jl=new WeakMap,bm=new WeakSet,oC=function(t){const r=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-u(this,mn))*this.parentScale),E(this,mn,s),_(this,Zl,Np).call(this)},i=u(this,mn);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ne.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},xm=new WeakSet,aC=function(t){const r=s=>{E(this,Jn,this.editorDiv.style.color=s)},i=u(this,Jn);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ne.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Cm=new WeakSet,lC=function(){var r;const t=[];this.editorDiv.normalize();for(const i of this.editorDiv.childNodes)t.push(_(r=Pe,eu,Op).call(r,i));return t.join(`
`)},Zl=new WeakSet,Np=function(){const[t,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:o}=this,a=o.style.display,l=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),i=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/r):(this.width=i.height/t,this.height=i.width/r),this.fixAndSetPosition()},eu=new WeakSet,Op=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(up,"")},tu=new WeakSet,jp=function(){if(this.editorDiv.replaceChildren(),!!u(this,gn))for(const t of u(this,gn).split(`
`)){const r=document.createElement("div");r.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(r)}},Tm=new WeakSet,uC=function(){return u(this,gn).replaceAll(" "," ")},Fd=new WeakSet,pw=function(t){return t.replaceAll(" "," ")},km=new WeakSet,cC=function(t){const{value:r,fontSize:i,color:s,pageIndex:o}=u(this,Jl);return this._hasBeenMoved||t.value!==r||t.fontSize!==i||t.color.some((a,l)=>a!==s[l])||t.pageIndex!==o},m(Pe,eu),m(Pe,Fd),se(Pe,"_freeTextDefaultContent",""),se(Pe,"_internalPadding",0),se(Pe,"_defaultColor",null),se(Pe,"_defaultFontSize",10),se(Pe,"_type","freetext"),se(Pe,"_editorType",ve.FREETEXT);let fw=Pe;var Nd,ls,Zn,Pm,hC,nu,zp,Rm,dC,Lm,fC,Od,mw;class gw{constructor(e,t=0,r=0,i=!0){m(this,Pm);m(this,nu);m(this,Rm);m(this,Lm);m(this,Od);m(this,Nd,void 0);m(this,ls,[]);m(this,Zn,[]);let s=1/0,o=-1/0,a=1/0,l=-1/0;const h=10**-4;for(const{x:v,y:w,width:A,height:x}of e){const C=Math.floor((v-t)/h)*h,T=Math.ceil((v+A+t)/h)*h,b=Math.floor((w-t)/h)*h,L=Math.ceil((w+x+t)/h)*h,N=[C,b,L,!0],F=[T,b,L,!1];u(this,ls).push(N,F),s=Math.min(s,C),o=Math.max(o,T),a=Math.min(a,b),l=Math.max(l,L)}const d=o-s+2*r,f=l-a+2*r,p=s-r,g=a-r,y=u(this,ls).at(i?-1:-2),S=[y[0],y[2]];for(const v of u(this,ls)){const[w,A,x]=v;v[0]=(w-p)/d,v[1]=(A-g)/f,v[2]=(x-g)/f}E(this,Nd,{x:p,y:g,width:d,height:f,lastPoint:S})}getOutlines(){u(this,ls).sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);const e=[];for(const t of u(this,ls))t[3]?(e.push(..._(this,Od,mw).call(this,t)),_(this,Rm,dC).call(this,t)):(_(this,Lm,fC).call(this,t),e.push(..._(this,Od,mw).call(this,t)));return _(this,Pm,hC).call(this,e)}}Nd=new WeakMap,ls=new WeakMap,Zn=new WeakMap,Pm=new WeakSet,hC=function(e){const t=[],r=new Set;for(const o of e){const[a,l,c]=o;t.push([a,l,o],[a,c,o])}t.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=t.length;o<a;o+=2){const l=t[o][2],c=t[o+1][2];l.push(c),c.push(l),r.add(l),r.add(c)}const i=[];let s;for(;r.size>0;){const o=r.values().next().value;let[a,l,c,h,d]=o;r.delete(o);let f=a,p=l;for(s=[a,c],i.push(s);;){let g;if(r.has(h))g=h;else if(r.has(d))g=d;else break;r.delete(g),[a,l,c,h,d]=g,f!==a&&(s.push(f,p,a,p===l?l:c),f=a),p=p===l?c:l}s.push(f,p)}return new CD(i,u(this,Nd))},nu=new WeakSet,zp=function(e){const t=u(this,Zn);let r=0,i=t.length-1;for(;r<=i;){const s=r+i>>1,o=t[s][0];if(o===e)return s;o<e?r=s+1:i=s-1}return i+1},Rm=new WeakSet,dC=function([,e,t]){const r=_(this,nu,zp).call(this,e);u(this,Zn).splice(r,0,[e,t])},Lm=new WeakSet,fC=function([,e,t]){const r=_(this,nu,zp).call(this,e);for(let i=r;i<u(this,Zn).length;i++){const[s,o]=u(this,Zn)[i];if(s!==e)break;if(s===e&&o===t){u(this,Zn).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,o]=u(this,Zn)[i];if(s!==e)break;if(s===e&&o===t){u(this,Zn).splice(i,1);return}}},Od=new WeakSet,mw=function(e){const[t,r,i]=e,s=[[t,r,i]],o=_(this,nu,zp).call(this,i);for(let a=0;a<o;a++){const[l,c]=u(this,Zn)[a];for(let h=0,d=s.length;h<d;h++){const[,f,p]=s[h];if(!(c<=f||p<=l)){if(f>=l){if(p>c)s[h][1]=c;else{if(d===1)return[];s.splice(h,1),h--,d--}continue}s[h][2]=l,p>c&&s.push([t,c,p])}}}return s};class pC{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof yw}}var jd,ru;class CD extends pC{constructor(t,r){super();m(this,jd,void 0);m(this,ru,void 0);E(this,ru,t),E(this,jd,r)}toSVGPath(){const t=[];for(const r of u(this,ru)){let[i,s]=r;t.push(`M${i} ${s}`);for(let o=2;o<r.length;o+=2){const a=r[o],l=r[o+1];a===i?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${a}`),i=a)}t.push("Z")}return t.join(" ")}serialize([t,r,i,s],o){const a=[],l=i-t,c=s-r;for(const h of u(this,ru)){const d=new Array(h.length);for(let f=0;f<h.length;f+=2)d[f]=t+h[f]*l,d[f+1]=s-h[f+1]*c;a.push(d)}return a}get box(){return u(this,jd)}}jd=new WeakMap,ru=new WeakMap;var Tr,gi,iu,su,kr,pe,Ho,Bo,zd,Hd,ou,au,us,Bd,Mm,Dm,Ud,vw;const Xr=class Xr{constructor({x:e,y:t},r,i,s,o,a=0){m(this,Ud);m(this,Tr,void 0);m(this,gi,[]);m(this,iu,void 0);m(this,su,void 0);m(this,kr,[]);m(this,pe,new Float64Array(18));m(this,Ho,void 0);m(this,Bo,void 0);m(this,zd,void 0);m(this,Hd,void 0);m(this,ou,void 0);m(this,au,void 0);m(this,us,[]);E(this,Tr,r),E(this,au,s*i),E(this,su,o),u(this,pe).set([NaN,NaN,NaN,NaN,e,t],6),E(this,iu,a),E(this,Hd,u(Xr,Bd)*i),E(this,zd,u(Xr,Dm)*i),E(this,ou,i),u(this,us).push(e,t)}get free(){return!0}isEmpty(){return isNaN(u(this,pe)[8])}add({x:e,y:t}){var N;E(this,Ho,e),E(this,Bo,t);const[r,i,s,o]=u(this,Tr);let[a,l,c,h]=u(this,pe).subarray(8,12);const d=e-c,f=t-h,p=Math.hypot(d,f);if(p<u(this,zd))return!1;const g=p-u(this,Hd),y=g/p,S=y*d,v=y*f;let w=a,A=l;a=c,l=h,c+=S,h+=v,(N=u(this,us))==null||N.push(e,t);const x=-v/g,C=S/g,T=x*u(this,au),b=C*u(this,au);return u(this,pe).set(u(this,pe).subarray(2,8),0),u(this,pe).set([c+T,h+b],4),u(this,pe).set(u(this,pe).subarray(14,18),12),u(this,pe).set([c-T,h-b],16),isNaN(u(this,pe)[6])?(u(this,kr).length===0&&(u(this,pe).set([a+T,l+b],2),u(this,kr).push(NaN,NaN,NaN,NaN,(a+T-r)/s,(l+b-i)/o),u(this,pe).set([a-T,l-b],14),u(this,gi).push(NaN,NaN,NaN,NaN,(a-T-r)/s,(l-b-i)/o)),u(this,pe).set([w,A,a,l,c,h],6),!this.isEmpty()):(u(this,pe).set([w,A,a,l,c,h],6),Math.abs(Math.atan2(A-l,w-a)-Math.atan2(v,S))<Math.PI/2?([a,l,c,h]=u(this,pe).subarray(2,6),u(this,kr).push(NaN,NaN,NaN,NaN,((a+c)/2-r)/s,((l+h)/2-i)/o),[a,l,w,A]=u(this,pe).subarray(14,18),u(this,gi).push(NaN,NaN,NaN,NaN,((w+a)/2-r)/s,((A+l)/2-i)/o),!0):([w,A,a,l,c,h]=u(this,pe).subarray(0,6),u(this,kr).push(((w+5*a)/6-r)/s,((A+5*l)/6-i)/o,((5*a+c)/6-r)/s,((5*l+h)/6-i)/o,((a+c)/2-r)/s,((l+h)/2-i)/o),[c,h,a,l,w,A]=u(this,pe).subarray(12,18),u(this,gi).push(((w+5*a)/6-r)/s,((A+5*l)/6-i)/o,((5*a+c)/6-r)/s,((5*l+h)/6-i)/o,((a+c)/2-r)/s,((l+h)/2-i)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=u(this,kr),t=u(this,gi),r=u(this,pe).subarray(4,6),i=u(this,pe).subarray(16,18),[s,o,a,l]=u(this,Tr),[c,h,d,f]=_(this,Ud,vw).call(this);if(isNaN(u(this,pe)[6])&&!this.isEmpty())return`M${(u(this,pe)[2]-s)/a} ${(u(this,pe)[3]-o)/l} L${(u(this,pe)[4]-s)/a} ${(u(this,pe)[5]-o)/l} L${c} ${h} L${d} ${f} L${(u(this,pe)[16]-s)/a} ${(u(this,pe)[17]-o)/l} L${(u(this,pe)[14]-s)/a} ${(u(this,pe)[15]-o)/l} Z`;const p=[];p.push(`M${e[4]} ${e[5]}`);for(let g=6;g<e.length;g+=6)isNaN(e[g])?p.push(`L${e[g+4]} ${e[g+5]}`):p.push(`C${e[g]} ${e[g+1]} ${e[g+2]} ${e[g+3]} ${e[g+4]} ${e[g+5]}`);p.push(`L${(r[0]-s)/a} ${(r[1]-o)/l} L${c} ${h} L${d} ${f} L${(i[0]-s)/a} ${(i[1]-o)/l}`);for(let g=t.length-6;g>=6;g-=6)isNaN(t[g])?p.push(`L${t[g+4]} ${t[g+5]}`):p.push(`C${t[g]} ${t[g+1]} ${t[g+2]} ${t[g+3]} ${t[g+4]} ${t[g+5]}`);return p.push(`L${t[4]} ${t[5]} Z`),p.join(" ")}getOutlines(){var v;const e=u(this,kr),t=u(this,gi),r=u(this,pe),i=r.subarray(4,6),s=r.subarray(16,18),[o,a,l,c]=u(this,Tr),h=new Float64Array((((v=u(this,us))==null?void 0:v.length)??0)+2);for(let w=0,A=h.length-2;w<A;w+=2)h[w]=(u(this,us)[w]-o)/l,h[w+1]=(u(this,us)[w+1]-a)/c;h[h.length-2]=(u(this,Ho)-o)/l,h[h.length-1]=(u(this,Bo)-a)/c;const[d,f,p,g]=_(this,Ud,vw).call(this);if(isNaN(r[6])&&!this.isEmpty()){const w=new Float64Array(36);return w.set([NaN,NaN,NaN,NaN,(r[2]-o)/l,(r[3]-a)/c,NaN,NaN,NaN,NaN,(r[4]-o)/l,(r[5]-a)/c,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(r[16]-o)/l,(r[17]-a)/c,NaN,NaN,NaN,NaN,(r[14]-o)/l,(r[15]-a)/c],0),new yw(w,h,u(this,Tr),u(this,ou),u(this,iu),u(this,su))}const y=new Float64Array(u(this,kr).length+24+u(this,gi).length);let S=e.length;for(let w=0;w<S;w+=2){if(isNaN(e[w])){y[w]=y[w+1]=NaN;continue}y[w]=e[w],y[w+1]=e[w+1]}y.set([NaN,NaN,NaN,NaN,(i[0]-o)/l,(i[1]-a)/c,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(s[0]-o)/l,(s[1]-a)/c],S),S+=24;for(let w=t.length-6;w>=6;w-=6)for(let A=0;A<6;A+=2){if(isNaN(t[w+A])){y[S]=y[S+1]=NaN,S+=2;continue}y[S]=t[w+A],y[S+1]=t[w+A+1],S+=2}return y.set([NaN,NaN,NaN,NaN,t[4],t[5]],S),new yw(y,h,u(this,Tr),u(this,ou),u(this,iu),u(this,su))}};Tr=new WeakMap,gi=new WeakMap,iu=new WeakMap,su=new WeakMap,kr=new WeakMap,pe=new WeakMap,Ho=new WeakMap,Bo=new WeakMap,zd=new WeakMap,Hd=new WeakMap,ou=new WeakMap,au=new WeakMap,us=new WeakMap,Bd=new WeakMap,Mm=new WeakMap,Dm=new WeakMap,Ud=new WeakSet,vw=function(){const e=u(this,pe).subarray(4,6),t=u(this,pe).subarray(16,18),[r,i,s,o]=u(this,Tr);return[(u(this,Ho)+(e[0]-t[0])/2-r)/s,(u(this,Bo)+(e[1]-t[1])/2-i)/o,(u(this,Ho)+(t[0]-e[0])/2-r)/s,(u(this,Bo)+(t[1]-e[1])/2-i)/o]},m(Xr,Bd,8),m(Xr,Mm,2),m(Xr,Dm,u(Xr,Bd)+u(Xr,Mm));let bg=Xr;var lu,Uo,mi,$d,vn,Vd,Xe,$o,mc,Vo,vc,Im,gC;class yw extends pC{constructor(t,r,i,s,o,a){super();m(this,$o);m(this,Vo);m(this,Im);m(this,lu,void 0);m(this,Uo,null);m(this,mi,void 0);m(this,$d,void 0);m(this,vn,void 0);m(this,Vd,void 0);m(this,Xe,void 0);E(this,Xe,t),E(this,vn,r),E(this,lu,i),E(this,Vd,s),E(this,mi,o),E(this,$d,a),_(this,Im,gC).call(this,a);const{x:l,y:c,width:h,height:d}=u(this,Uo);for(let f=0,p=t.length;f<p;f+=2)t[f]=(t[f]-l)/h,t[f+1]=(t[f+1]-c)/d;for(let f=0,p=r.length;f<p;f+=2)r[f]=(r[f]-l)/h,r[f+1]=(r[f+1]-c)/d}toSVGPath(){const t=[`M${u(this,Xe)[4]} ${u(this,Xe)[5]}`];for(let r=6,i=u(this,Xe).length;r<i;r+=6){if(isNaN(u(this,Xe)[r])){t.push(`L${u(this,Xe)[r+4]} ${u(this,Xe)[r+5]}`);continue}t.push(`C${u(this,Xe)[r]} ${u(this,Xe)[r+1]} ${u(this,Xe)[r+2]} ${u(this,Xe)[r+3]} ${u(this,Xe)[r+4]} ${u(this,Xe)[r+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,r,i,s],o){const a=i-t,l=s-r;let c,h;switch(o){case 0:c=_(this,$o,mc).call(this,u(this,Xe),t,s,a,-l),h=_(this,$o,mc).call(this,u(this,vn),t,s,a,-l);break;case 90:c=_(this,Vo,vc).call(this,u(this,Xe),t,r,a,l),h=_(this,Vo,vc).call(this,u(this,vn),t,r,a,l);break;case 180:c=_(this,$o,mc).call(this,u(this,Xe),i,r,-a,l),h=_(this,$o,mc).call(this,u(this,vn),i,r,-a,l);break;case 270:c=_(this,Vo,vc).call(this,u(this,Xe),i,s,-a,-l),h=_(this,Vo,vc).call(this,u(this,vn),i,s,-a,-l);break}return{outline:Array.from(c),points:[Array.from(h)]}}get box(){return u(this,Uo)}getNewOutline(t,r){const{x:i,y:s,width:o,height:a}=u(this,Uo),[l,c,h,d]=u(this,lu),f=o*h,p=a*d,g=i*h+l,y=s*d+c,S=new bg({x:u(this,vn)[0]*f+g,y:u(this,vn)[1]*p+y},u(this,lu),u(this,Vd),t,u(this,$d),r??u(this,mi));for(let v=2;v<u(this,vn).length;v+=2)S.add({x:u(this,vn)[v]*f+g,y:u(this,vn)[v+1]*p+y});return S.getOutlines()}}lu=new WeakMap,Uo=new WeakMap,mi=new WeakMap,$d=new WeakMap,vn=new WeakMap,Vd=new WeakMap,Xe=new WeakMap,$o=new WeakSet,mc=function(t,r,i,s,o){const a=new Float64Array(t.length);for(let l=0,c=t.length;l<c;l+=2)a[l]=r+t[l]*s,a[l+1]=i+t[l+1]*o;return a},Vo=new WeakSet,vc=function(t,r,i,s,o){const a=new Float64Array(t.length);for(let l=0,c=t.length;l<c;l+=2)a[l]=r+t[l+1]*s,a[l+1]=i+t[l]*o;return a},Im=new WeakSet,gC=function(t){const r=u(this,Xe);let i=r[4],s=r[5],o=i,a=s,l=i,c=s,h=i,d=s;const f=t?Math.max:Math.min;for(let v=6,w=r.length;v<w;v+=6){if(isNaN(r[v]))o=Math.min(o,r[v+4]),a=Math.min(a,r[v+5]),l=Math.max(l,r[v+4]),c=Math.max(c,r[v+5]),d<r[v+5]?(h=r[v+4],d=r[v+5]):d===r[v+5]&&(h=f(h,r[v+4]));else{const A=X.bezierBoundingBox(i,s,...r.slice(v,v+6));o=Math.min(o,A[0]),a=Math.min(a,A[1]),l=Math.max(l,A[2]),c=Math.max(c,A[3]),d<A[3]?(h=A[2],d=A[3]):d===A[3]&&(h=f(h,A[2]))}i=r[v+4],s=r[v+5]}const p=o-u(this,mi),g=a-u(this,mi),y=l-o+2*u(this,mi),S=c-a+2*u(this,mi);E(this,Uo,{x:p,y:g,width:y,height:S,lastPoint:[h,d]})};var Wd,Gd,er,Wo,uu,rt,Xd,cu,Kd,Yd,cs,hu,qd,ww,Qd,Ew,Fm,mC,vi,Ks,Nm,vC,Pr,Ui;const Kr=class Kr{constructor({editor:e=null,uiManager:t=null}){m(this,qd);m(this,Qd);m(this,Fm);m(this,vi);m(this,Nm);m(this,Pr);m(this,Wd,_(this,Fm,mC).bind(this));m(this,Gd,_(this,Nm,vC).bind(this));m(this,er,null);m(this,Wo,null);m(this,uu,void 0);m(this,rt,null);m(this,Xd,!1);m(this,cu,!1);m(this,Kd,null);m(this,Yd,void 0);m(this,cs,null);m(this,hu,void 0);var r;e?(E(this,cu,!1),E(this,hu,ne.HIGHLIGHT_COLOR),E(this,Kd,e)):(E(this,cu,!0),E(this,hu,ne.HIGHLIGHT_DEFAULT_COLOR)),E(this,cs,(e==null?void 0:e._uiManager)||t),E(this,Yd,u(this,cs)._eventBus),E(this,uu,(e==null?void 0:e.color)||((r=u(this,cs))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return we(this,"_keyboardManager",new Mf([[["Escape","mac+Escape"],Kr.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Kr.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Kr.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Kr.prototype._moveToPrevious],[["Home","mac+Home"],Kr.prototype._moveToBeginning],[["End","mac+End"],Kr.prototype._moveToEnd]]))}renderButton(){const e=E(this,er,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0),e.addEventListener("click",_(this,vi,Ks).bind(this)),e.addEventListener("keydown",u(this,Wd));const t=E(this,Wo,document.createElement("span"));return t.className="swatch",t.setAttribute("aria-hidden",!0),t.style.backgroundColor=u(this,uu),e.append(t),e}renderMainDropdown(){const e=E(this,rt,_(this,qd,ww).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===u(this,er)){_(this,vi,Ks).call(this,e);return}const t=e.target.getAttribute("data-color");t&&_(this,Qd,Ew).call(this,t,e)}_moveToNext(e){var t,r;if(!u(this,Pr,Ui)){_(this,vi,Ks).call(this,e);return}if(e.target===u(this,er)){(t=u(this,rt).firstChild)==null||t.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var t,r;if(e.target===((t=u(this,rt))==null?void 0:t.firstChild)||e.target===u(this,er)){u(this,Pr,Ui)&&this._hideDropdownFromKeyboard();return}u(this,Pr,Ui)||_(this,vi,Ks).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var t;if(!u(this,Pr,Ui)){_(this,vi,Ks).call(this,e);return}(t=u(this,rt).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!u(this,Pr,Ui)){_(this,vi,Ks).call(this,e);return}(t=u(this,rt).lastChild)==null||t.focus()}hideDropdown(){var e;(e=u(this,rt))==null||e.classList.add("hidden"),window.removeEventListener("pointerdown",u(this,Gd))}_hideDropdownFromKeyboard(){var e;if(!u(this,cu)){if(!u(this,Pr,Ui)){(e=u(this,Kd))==null||e.unselect();return}this.hideDropdown(),u(this,er).focus({preventScroll:!0,focusVisible:u(this,Xd)})}}updateColor(e){if(u(this,Wo)&&(u(this,Wo).style.backgroundColor=e),!u(this,rt))return;const t=u(this,cs).highlightColors.values();for(const r of u(this,rt).children)r.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=u(this,er))==null||e.remove(),E(this,er,null),E(this,Wo,null),(t=u(this,rt))==null||t.remove(),E(this,rt,null)}};Wd=new WeakMap,Gd=new WeakMap,er=new WeakMap,Wo=new WeakMap,uu=new WeakMap,rt=new WeakMap,Xd=new WeakMap,cu=new WeakMap,Kd=new WeakMap,Yd=new WeakMap,cs=new WeakMap,hu=new WeakMap,qd=new WeakSet,ww=function(){const e=document.createElement("div");e.addEventListener("contextmenu",ln),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[t,r]of u(this,cs).highlightColors){const i=document.createElement("button");i.tabIndex="0",i.role="option",i.setAttribute("data-color",r),i.title=t,i.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${t}`);const s=document.createElement("span");i.append(s),s.className="swatch",s.style.backgroundColor=r,i.setAttribute("aria-selected",r===u(this,uu)),i.addEventListener("click",_(this,Qd,Ew).bind(this,r)),e.append(i)}return e.addEventListener("keydown",u(this,Wd)),e},Qd=new WeakSet,Ew=function(e,t){t.stopPropagation(),u(this,Yd).dispatch("switchannotationeditorparams",{source:this,type:u(this,hu),value:e})},Fm=new WeakSet,mC=function(e){Kr._keyboardManager.exec(this,e)},vi=new WeakSet,Ks=function(e){if(u(this,Pr,Ui)){this.hideDropdown();return}if(E(this,Xd,e.detail===0),window.addEventListener("pointerdown",u(this,Gd)),u(this,rt)){u(this,rt).classList.remove("hidden");return}const t=E(this,rt,_(this,qd,ww).call(this));u(this,er).append(t)},Nm=new WeakSet,vC=function(e){var t;(t=u(this,rt))!=null&&t.contains(e.target)||this.hideDropdown()},Pr=new WeakSet,Ui=function(){return u(this,rt)&&!u(this,rt).classList.contains("hidden")};let xg=Kr;var du,Jd,hs,Go,fu,Ln,Zd,ef,Xo,tr,$t,yn,Om,pu,Ko,it,gu,Rr,tf,nf,_w,rf,Aw,jm,yC,zm,wC,Hm,EC,sf,Sw,Yo,yc,ds,Ha,Bm,_C,mu,Hp,qo,wc,Um,AC,$m,SC,Vm,bC,Wm,xC;const ye=class ye extends be{constructor(t){super({...t,name:"highlightEditor"});m(this,nf);m(this,rf);m(this,jm);m(this,zm);m(this,Hm);m(this,sf);m(this,Yo);m(this,Bm);m(this,mu);m(this,qo);m(this,Um);m(this,$m);m(this,du,null);m(this,Jd,0);m(this,hs,void 0);m(this,Go,null);m(this,fu,null);m(this,Ln,null);m(this,Zd,null);m(this,ef,0);m(this,Xo,null);m(this,tr,null);m(this,$t,null);m(this,yn,!1);m(this,Om,_(this,Bm,_C).bind(this));m(this,pu,null);m(this,Ko,void 0);m(this,it,null);m(this,gu,"");m(this,Rr,void 0);m(this,tf,"");this.color=t.color||ye._defaultColor,E(this,Rr,t.thickness||ye._defaultThickness),E(this,Ko,t.opacity||ye._defaultOpacity),E(this,hs,t.boxes||null),E(this,tf,t.methodOfCreation||""),E(this,gu,t.text||""),this._isDraggable=!1,t.highlightId>-1?(E(this,yn,!0),_(this,rf,Aw).call(this,t),_(this,Yo,yc).call(this)):(E(this,du,t.anchorNode),E(this,Jd,t.anchorOffset),E(this,Zd,t.focusNode),E(this,ef,t.focusOffset),_(this,nf,_w).call(this),_(this,Yo,yc).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=ye.prototype;return we(this,"_keyboardManager",new Mf([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:u(this,yn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:u(this,Rr),methodOfCreation:u(this,tf)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,r){var i;be.initialize(t,r),ye._defaultColor||(ye._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,r){switch(t){case ne.HIGHLIGHT_DEFAULT_COLOR:ye._defaultColor=r;break;case ne.HIGHLIGHT_THICKNESS:ye._defaultThickness=r;break}}translateInPage(t,r){}get toolbarPosition(){return u(this,pu)}updateParams(t,r){switch(t){case ne.HIGHLIGHT_COLOR:_(this,jm,yC).call(this,r);break;case ne.HIGHLIGHT_THICKNESS:_(this,zm,wC).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[ne.HIGHLIGHT_DEFAULT_COLOR,ye._defaultColor],[ne.HIGHLIGHT_THICKNESS,ye._defaultThickness]]}get propertiesToUpdate(){return[[ne.HIGHLIGHT_COLOR,this.color||ye._defaultColor],[ne.HIGHLIGHT_THICKNESS,u(this,Rr)||ye._defaultThickness],[ne.HIGHLIGHT_FREE,u(this,yn)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(E(this,fu,new xg({editor:this})),t.addColorPicker(u(this,fu))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(_(this,qo,wc).call(this))}getBaseTranslation(){return[0,0]}getRect(t,r){return super.getRect(t,r,_(this,qo,wc).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){_(this,sf,Sw).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(_(this,Yo,yc).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?_(this,sf,Sw).call(this):t&&(_(this,Yo,yc).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),r&&this.select()}rotate(t){var s,o,a;const{drawLayer:r}=this.parent;let i;u(this,yn)?(t=(t-this.rotation+360)%360,i=_(s=ye,ds,Ha).call(s,u(this,tr).box,t)):i=_(o=ye,ds,Ha).call(o,this,t),r.rotate(u(this,$t),t),r.rotate(u(this,it),t),r.updateBox(u(this,$t),i),r.updateBox(u(this,it),_(a=ye,ds,Ha).call(a,u(this,Ln).box,t))}render(){if(this.div)return this.div;const t=super.render();u(this,gu)&&(t.setAttribute("aria-label",u(this,gu)),t.setAttribute("role","mark")),u(this,yn)?t.classList.add("free"):this.div.addEventListener("keydown",u(this,Om));const r=E(this,Xo,document.createElement("div"));t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=u(this,Go);const[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),Eg(this,u(this,Xo),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.parent.drawLayer.addClass(u(this,it),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(u(this,it),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:_(this,mu,Hp).call(this,!0);break;case 1:case 3:_(this,mu,Hp).call(this,!1);break}}select(){var t,r;super.select(),u(this,it)&&((t=this.parent)==null||t.drawLayer.removeClass(u(this,it),"hovered"),(r=this.parent)==null||r.drawLayer.addClass(u(this,it),"selected"))}unselect(){var t;super.unselect(),u(this,it)&&((t=this.parent)==null||t.drawLayer.removeClass(u(this,it),"selected"),u(this,yn)||_(this,mu,Hp).call(this,!1))}get _mustFixPosition(){return!u(this,yn)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(u(this,$t),t),this.parent.drawLayer.show(u(this,it),t))}static startHighlighting(t,r,{target:i,x:s,y:o}){const{x:a,y:l,width:c,height:h}=i.getBoundingClientRect(),d=y=>{_(this,Vm,bC).call(this,t,y)},f={capture:!0,passive:!1},p=y=>{y.preventDefault(),y.stopPropagation()},g=y=>{i.removeEventListener("pointermove",d),window.removeEventListener("blur",g),window.removeEventListener("pointerup",g),window.removeEventListener("pointerdown",p,f),window.removeEventListener("contextmenu",ln),_(this,Wm,xC).call(this,t,y)};window.addEventListener("blur",g),window.addEventListener("pointerup",g),window.addEventListener("pointerdown",p,f),window.addEventListener("contextmenu",ln),i.addEventListener("pointermove",d),this._freeHighlight=new bg({x:s,y:o},[a,l,c,h],t.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(t,r,i){var y;const s=super.deserialize(t,r,i),{rect:[o,a,l,c],color:h,quadPoints:d}=t;s.color=X.makeHexColor(...h),E(s,Ko,t.opacity);const[f,p]=s.pageDimensions;s.width=(l-o)/f,s.height=(c-a)/p;const g=E(s,hs,[]);for(let S=0;S<d.length;S+=8)g.push({x:(d[4]-l)/f,y:(c-(1-d[S+5]))/p,width:(d[S+2]-d[S])/f,height:(d[S+5]-d[S+1])/p});return _(y=s,nf,_w).call(y),s}serialize(t=!1){if(this.isEmpty()||t)return null;const r=this.getRect(0,0),i=be._colorManager.convert(this.color);return{annotationType:ve.HIGHLIGHT,color:i,opacity:u(this,Ko),thickness:u(this,Rr),quadPoints:_(this,Um,AC).call(this),outlines:_(this,$m,SC).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:_(this,qo,wc).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};du=new WeakMap,Jd=new WeakMap,hs=new WeakMap,Go=new WeakMap,fu=new WeakMap,Ln=new WeakMap,Zd=new WeakMap,ef=new WeakMap,Xo=new WeakMap,tr=new WeakMap,$t=new WeakMap,yn=new WeakMap,Om=new WeakMap,pu=new WeakMap,Ko=new WeakMap,it=new WeakMap,gu=new WeakMap,Rr=new WeakMap,tf=new WeakMap,nf=new WeakSet,_w=function(){const t=new gw(u(this,hs),.001);E(this,tr,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=u(this,tr).box;const r=new gw(u(this,hs),.0025,.001,this._uiManager.direction==="ltr");E(this,Ln,r.getOutlines());const{lastPoint:i}=u(this,Ln).box;E(this,pu,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},rf=new WeakSet,Aw=function({highlightOutlines:t,highlightId:r,clipPathId:i}){var d,f;if(E(this,tr,t),E(this,Ln,t.getNewOutline(u(this,Rr)/2+1.5,.0025)),r>=0)E(this,$t,r),E(this,Go,i),this.parent.drawLayer.finalizeLine(r,t),E(this,it,this.parent.drawLayer.highlightOutline(u(this,Ln)));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(u(this,$t),t),this.parent.drawLayer.updateBox(u(this,$t),_(d=ye,ds,Ha).call(d,u(this,tr).box,(p-this.rotation+360)%360)),this.parent.drawLayer.updateLine(u(this,it),u(this,Ln)),this.parent.drawLayer.updateBox(u(this,it),_(f=ye,ds,Ha).call(f,u(this,Ln).box,p))}const{x:o,y:a,width:l,height:c}=t.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=l,this.height=c;break;case 90:{const[p,g]=this.parentDimensions;this.x=a,this.y=1-o,this.width=l*g/p,this.height=c*p/g;break}case 180:this.x=1-o,this.y=1-a,this.width=l,this.height=c;break;case 270:{const[p,g]=this.parentDimensions;this.x=1-a,this.y=o,this.width=l*g/p,this.height=c*p/g;break}}const{lastPoint:h}=u(this,Ln).box;E(this,pu,[(h[0]-o)/l,(h[1]-a)/c])},jm=new WeakSet,yC=function(t){const r=s=>{var o,a;this.color=s,(o=this.parent)==null||o.drawLayer.changeColor(u(this,$t),s),(a=u(this,fu))==null||a.updateColor(s)},i=this.color;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ne.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},zm=new WeakSet,wC=function(t){const r=u(this,Rr),i=s=>{E(this,Rr,s),_(this,Hm,EC).call(this,s)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ne.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},Hm=new WeakSet,EC=function(t){if(!u(this,yn))return;_(this,rf,Aw).call(this,{highlightOutlines:u(this,tr).getNewOutline(t/2)}),this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)},sf=new WeakSet,Sw=function(){u(this,$t)===null||!this.parent||(this.parent.drawLayer.remove(u(this,$t)),E(this,$t,null),this.parent.drawLayer.remove(u(this,it)),E(this,it,null))},Yo=new WeakSet,yc=function(t=this.parent){u(this,$t)===null&&({id:hn(this,$t)._,clipPathId:hn(this,Go)._}=t.drawLayer.highlight(u(this,tr),this.color,u(this,Ko)),E(this,it,t.drawLayer.highlightOutline(u(this,Ln))),u(this,Xo)&&(u(this,Xo).style.clipPath=u(this,Go)))},ds=new WeakSet,Ha=function({x:t,y:r,width:i,height:s},o){switch(o){case 90:return{x:1-r-s,y:t,width:s,height:i};case 180:return{x:1-t-i,y:1-r-s,width:i,height:s};case 270:return{x:r,y:1-t-i,width:s,height:i}}return{x:t,y:r,width:i,height:s}},Bm=new WeakSet,_C=function(t){ye._keyboardManager.exec(this,t)},mu=new WeakSet,Hp=function(t){if(!u(this,du))return;const r=window.getSelection();t?r.setPosition(u(this,du),u(this,Jd)):r.setPosition(u(this,Zd),u(this,ef))},qo=new WeakSet,wc=function(){return u(this,yn)?this.rotation:0},Um=new WeakSet,AC=function(){if(u(this,yn))return null;const[t,r]=this.pageDimensions,i=u(this,hs),s=new Array(i.length*8);let o=0;for(const{x:a,y:l,width:c,height:h}of i){const d=a*t,f=(1-l-h)*r;s[o]=s[o+4]=d,s[o+1]=s[o+3]=f,s[o+2]=s[o+6]=d+c*t,s[o+5]=s[o+7]=f+h*r,o+=8}return s},$m=new WeakSet,SC=function(t){return u(this,tr).serialize(t,_(this,qo,wc).call(this))},Vm=new WeakSet,bC=function(t,r){this._freeHighlight.add(r)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},Wm=new WeakSet,xC=function(t,r){this._freeHighlight.isEmpty()?t.drawLayer.removeFreeHighlight(this._freeHighlightId):t.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},m(ye,ds),m(ye,Vm),m(ye,Wm),se(ye,"_defaultColor",null),se(ye,"_defaultOpacity",1),se(ye,"_defaultThickness",12),se(ye,"_l10nPromise"),se(ye,"_type","highlight"),se(ye,"_editorType",ve.HIGHLIGHT),se(ye,"_freeHighlightId",-1),se(ye,"_freeHighlight",null),se(ye,"_freeHighlightClipId","");let Cg=ye;var Qo,Jo,of,af,lf,Zo,Lr,yi,Mn,ea,ta,na,ra,ia,fs,Gm,CC,Xm,TC,Km,kC,Ym,PC,uf,xw,qm,RC,cf,Cw,Qm,LC,Jm,MC,Zm,DC,ev,IC,tv,FC,wi,Ys,hf,Tw,vu,Bp,yu,Up,ps,Ba,df,kw,wu,$p,nv,NC,ff,Pw,rv,OC,iv,jC,pf,Rw,Eu,Vp,sa,Ec;const Ie=class Ie extends be{constructor(t){super({...t,name:"inkEditor"});m(this,Gm);m(this,Xm);m(this,Km);m(this,Ym);m(this,uf);m(this,qm);m(this,cf);m(this,Qm);m(this,Jm);m(this,Zm);m(this,ev);m(this,tv);m(this,wi);m(this,hf);m(this,vu);m(this,yu);m(this,ps);m(this,df);m(this,wu);m(this,iv);m(this,pf);m(this,Eu);m(this,sa);m(this,Qo,0);m(this,Jo,0);m(this,of,this.canvasPointermove.bind(this));m(this,af,this.canvasPointerleave.bind(this));m(this,lf,this.canvasPointerup.bind(this));m(this,Zo,this.canvasPointerdown.bind(this));m(this,Lr,null);m(this,yi,new Path2D);m(this,Mn,!1);m(this,ea,!1);m(this,ta,!1);m(this,na,null);m(this,ra,0);m(this,ia,0);m(this,fs,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,r){be.initialize(t,r)}static updateDefaultParams(t,r){switch(t){case ne.INK_THICKNESS:Ie._defaultThickness=r;break;case ne.INK_COLOR:Ie._defaultColor=r;break;case ne.INK_OPACITY:Ie._defaultOpacity=r/100;break}}updateParams(t,r){switch(t){case ne.INK_THICKNESS:_(this,Gm,CC).call(this,r);break;case ne.INK_COLOR:_(this,Xm,TC).call(this,r);break;case ne.INK_OPACITY:_(this,Km,kC).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[ne.INK_THICKNESS,Ie._defaultThickness],[ne.INK_COLOR,Ie._defaultColor||be._defaultLineColor],[ne.INK_OPACITY,Math.round(Ie._defaultOpacity*100)]]}get propertiesToUpdate(){return[[ne.INK_THICKNESS,this.thickness||Ie._defaultThickness],[ne.INK_COLOR,this.color||Ie._defaultColor||be._defaultLineColor],[ne.INK_OPACITY,Math.round(100*(this.opacity??Ie._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(_(this,vu,Bp).call(this),_(this,yu,Up).call(this)),this.isAttachedToDOM||(this.parent.add(this),_(this,ps,Ba).call(this)),_(this,sa,Ec).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,u(this,Lr)&&(clearTimeout(u(this,Lr)),E(this,Lr,null)),u(this,na).disconnect(),E(this,na,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,r]=this.parentDimensions,i=this.width*t,s=this.height*r;this.setDimensions(i,s)}enableEditMode(){u(this,Mn)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",u(this,Zo)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",u(this,Zo)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){u(this,Mn)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),E(this,Mn,!0),this.div.classList.add("disabled"),_(this,sa,Ec).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||u(this,Mn)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),_(this,qm,RC).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),_(this,cf,Cw).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),_(this,hf,Tw).call(this,t)}canvasPointerleave(t){_(this,hf,Tw).call(this,t)}get isResizable(){return!this.isEmpty()&&u(this,Mn)}render(){if(this.div)return this.div;let t,r;this.width&&(t=this.x,r=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,s,o,a]=_(this,Ym,PC).call(this);if(this.setAt(i,s,0,0),this.setDims(o,a),_(this,vu,Bp).call(this),this.width){const[l,c]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*c),this.setAt(t*l,r*c,this.width*l,this.height*c),E(this,ta,!0),_(this,ps,Ba).call(this),this.setDims(this.width*l,this.height*c),_(this,wi,Ys).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return _(this,yu,Up).call(this),this.div}setDimensions(t,r){const i=Math.round(t),s=Math.round(r);if(u(this,ra)===i&&u(this,ia)===s)return;E(this,ra,i),E(this,ia,s),this.canvas.style.visibility="hidden";const[o,a]=this.parentDimensions;this.width=t/o,this.height=r/a,this.fixAndSetPosition(),u(this,Mn)&&_(this,df,kw).call(this,t,r),_(this,ps,Ba).call(this),_(this,wi,Ys).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(t,r,i){var S,v,w;if(t instanceof rC)return null;const s=super.deserialize(t,r,i);s.thickness=t.thickness,s.color=X.makeHexColor(...t.color),s.opacity=t.opacity;const[o,a]=s.pageDimensions,l=s.width*o,c=s.height*a,h=s.parentScale,d=t.thickness/2;E(s,Mn,!0),E(s,ra,Math.round(l)),E(s,ia,Math.round(c));const{paths:f,rect:p,rotation:g}=t;for(let{bezier:A}of f){A=_(S=Ie,rv,OC).call(S,A,p,g);const x=[];s.paths.push(x);let C=h*(A[0]-d),T=h*(A[1]-d);for(let L=2,N=A.length;L<N;L+=6){const F=h*(A[L]-d),I=h*(A[L+1]-d),K=h*(A[L+2]-d),H=h*(A[L+3]-d),$=h*(A[L+4]-d),Q=h*(A[L+5]-d);x.push([[C,T],[F,I],[K,H],[$,Q]]),C=$,T=Q}const b=_(this,nv,NC).call(this,x);s.bezierPath2D.push(b)}const y=_(v=s,pf,Rw).call(v);return E(s,Jo,Math.max(be.MIN_SIZE,y[2]-y[0])),E(s,Qo,Math.max(be.MIN_SIZE,y[3]-y[1])),_(w=s,df,kw).call(w,l,c),s}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),r=be._colorManager.convert(this.ctx.strokeStyle);return{annotationType:ve.INK,color:r,thickness:this.thickness,opacity:this.opacity,paths:_(this,iv,jC).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Qo=new WeakMap,Jo=new WeakMap,of=new WeakMap,af=new WeakMap,lf=new WeakMap,Zo=new WeakMap,Lr=new WeakMap,yi=new WeakMap,Mn=new WeakMap,ea=new WeakMap,ta=new WeakMap,na=new WeakMap,ra=new WeakMap,ia=new WeakMap,fs=new WeakMap,Gm=new WeakSet,CC=function(t){const r=s=>{this.thickness=s,_(this,sa,Ec).call(this)},i=this.thickness;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ne.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Xm=new WeakSet,TC=function(t){const r=s=>{this.color=s,_(this,wi,Ys).call(this)},i=this.color;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ne.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Km=new WeakSet,kC=function(t){const r=s=>{this.opacity=s,_(this,wi,Ys).call(this)};t/=100;const i=this.opacity;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ne.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Ym=new WeakSet,PC=function(){const{parentRotation:t,parentDimensions:[r,i]}=this;switch(t){case 90:return[0,i,i,r];case 180:return[r,i,r,i];case 270:return[r,0,i,r];default:return[0,0,r,i]}},uf=new WeakSet,xw=function(){const{ctx:t,color:r,opacity:i,thickness:s,parentScale:o,scaleFactor:a}=this;t.lineWidth=s*o/a,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${r}${qL(i)}`},qm=new WeakSet,RC=function(t,r){this.canvas.addEventListener("contextmenu",ln),this.canvas.addEventListener("pointerleave",u(this,af)),this.canvas.addEventListener("pointermove",u(this,of)),this.canvas.addEventListener("pointerup",u(this,lf)),this.canvas.removeEventListener("pointerdown",u(this,Zo)),this.isEditing=!0,u(this,ta)||(E(this,ta,!0),_(this,ps,Ba).call(this),this.thickness||(this.thickness=Ie._defaultThickness),this.color||(this.color=Ie._defaultColor||be._defaultLineColor),this.opacity??(this.opacity=Ie._defaultOpacity)),this.currentPath.push([t,r]),E(this,ea,!1),_(this,uf,xw).call(this),E(this,fs,()=>{_(this,Zm,DC).call(this),u(this,fs)&&window.requestAnimationFrame(u(this,fs))}),window.requestAnimationFrame(u(this,fs))},cf=new WeakSet,Cw=function(t,r){const[i,s]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===i&&r===s)return;const o=this.currentPath;let a=u(this,yi);if(o.push([t,r]),E(this,ea,!0),o.length<=2){a.moveTo(...o[0]),a.lineTo(t,r);return}o.length===3&&(E(this,yi,a=new Path2D),a.moveTo(...o[0])),_(this,ev,IC).call(this,a,...o.at(-3),...o.at(-2),t,r)},Qm=new WeakSet,LC=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);u(this,yi).lineTo(...t)},Jm=new WeakSet,MC=function(t,r){E(this,fs,null),t=Math.min(Math.max(t,0),this.canvas.width),r=Math.min(Math.max(r,0),this.canvas.height),_(this,cf,Cw).call(this,t,r),_(this,Qm,LC).call(this);let i;if(this.currentPath.length!==1)i=_(this,tv,FC).call(this);else{const c=[t,r];i=[[c,c.slice(),c.slice(),c]]}const s=u(this,yi),o=this.currentPath;this.currentPath=[],E(this,yi,new Path2D);const a=()=>{this.allRawPaths.push(o),this.paths.push(i),this.bezierPath2D.push(s),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(_(this,vu,Bp).call(this),_(this,yu,Up).call(this)),_(this,sa,Ec).call(this))};this.addCommands({cmd:a,undo:l,mustExec:!0})},Zm=new WeakSet,DC=function(){if(!u(this,ea))return;E(this,ea,!1);const t=Math.ceil(this.thickness*this.parentScale),r=this.currentPath.slice(-3),i=r.map(a=>a[0]),s=r.map(a=>a[1]);Math.min(...i)-t,Math.max(...i)+t,Math.min(...s)-t,Math.max(...s)+t;const{ctx:o}=this;o.save(),o.clearRect(0,0,this.canvas.width,this.canvas.height);for(const a of this.bezierPath2D)o.stroke(a);o.stroke(u(this,yi)),o.restore()},ev=new WeakSet,IC=function(t,r,i,s,o,a,l){const c=(r+s)/2,h=(i+o)/2,d=(s+a)/2,f=(o+l)/2;t.bezierCurveTo(c+2*(s-c)/3,h+2*(o-h)/3,d+2*(s-d)/3,f+2*(o-f)/3,d,f)},tv=new WeakSet,FC=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const r=[];let i,[s,o]=t[0];for(i=1;i<t.length-2;i++){const[p,g]=t[i],[y,S]=t[i+1],v=(p+y)/2,w=(g+S)/2,A=[s+2*(p-s)/3,o+2*(g-o)/3],x=[v+2*(p-v)/3,w+2*(g-w)/3];r.push([[s,o],A,x,[v,w]]),[s,o]=[v,w]}const[a,l]=t[i],[c,h]=t[i+1],d=[s+2*(a-s)/3,o+2*(l-o)/3],f=[c+2*(a-c)/3,h+2*(l-h)/3];return r.push([[s,o],d,f,[c,h]]),r},wi=new WeakSet,Ys=function(){if(this.isEmpty()){_(this,wu,$p).call(this);return}_(this,uf,xw).call(this);const{canvas:t,ctx:r}=this;r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,t.width,t.height),_(this,wu,$p).call(this);for(const i of this.bezierPath2D)r.stroke(i)},hf=new WeakSet,Tw=function(t){this.canvas.removeEventListener("pointerleave",u(this,af)),this.canvas.removeEventListener("pointermove",u(this,of)),this.canvas.removeEventListener("pointerup",u(this,lf)),this.canvas.addEventListener("pointerdown",u(this,Zo)),u(this,Lr)&&clearTimeout(u(this,Lr)),E(this,Lr,setTimeout(()=>{E(this,Lr,null),this.canvas.removeEventListener("contextmenu",ln)},10)),_(this,Jm,MC).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},vu=new WeakSet,Bp=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},yu=new WeakSet,Up=function(){E(this,na,new ResizeObserver(t=>{const r=t[0].contentRect;r.width&&r.height&&this.setDimensions(r.width,r.height)})),u(this,na).observe(this.div)},ps=new WeakSet,Ba=function(){if(!u(this,ta))return;const[t,r]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*r),_(this,wu,$p).call(this)},df=new WeakSet,kw=function(t,r){const i=_(this,Eu,Vp).call(this),s=(t-i)/u(this,Jo),o=(r-i)/u(this,Qo);this.scaleFactor=Math.min(s,o)},wu=new WeakSet,$p=function(){const t=_(this,Eu,Vp).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},nv=new WeakSet,NC=function(t){const r=new Path2D;for(let i=0,s=t.length;i<s;i++){const[o,a,l,c]=t[i];i===0&&r.moveTo(...o),r.bezierCurveTo(a[0],a[1],l[0],l[1],c[0],c[1])}return r},ff=new WeakSet,Pw=function(t,r,i){const[s,o,a,l]=r;switch(i){case 0:for(let c=0,h=t.length;c<h;c+=2)t[c]+=s,t[c+1]=l-t[c+1];break;case 90:for(let c=0,h=t.length;c<h;c+=2){const d=t[c];t[c]=t[c+1]+s,t[c+1]=d+o}break;case 180:for(let c=0,h=t.length;c<h;c+=2)t[c]=a-t[c],t[c+1]+=o;break;case 270:for(let c=0,h=t.length;c<h;c+=2){const d=t[c];t[c]=a-t[c+1],t[c+1]=l-d}break;default:throw new Error("Invalid rotation")}return t},rv=new WeakSet,OC=function(t,r,i){const[s,o,a,l]=r;switch(i){case 0:for(let c=0,h=t.length;c<h;c+=2)t[c]-=s,t[c+1]=l-t[c+1];break;case 90:for(let c=0,h=t.length;c<h;c+=2){const d=t[c];t[c]=t[c+1]-o,t[c+1]=d-s}break;case 180:for(let c=0,h=t.length;c<h;c+=2)t[c]=a-t[c],t[c+1]-=o;break;case 270:for(let c=0,h=t.length;c<h;c+=2){const d=t[c];t[c]=l-t[c+1],t[c+1]=a-d}break;default:throw new Error("Invalid rotation")}return t},iv=new WeakSet,jC=function(t,r,i,s){var h,d;const o=[],a=this.thickness/2,l=t*r+a,c=t*i+a;for(const f of this.paths){const p=[],g=[];for(let y=0,S=f.length;y<S;y++){const[v,w,A,x]=f[y];if(v[0]===x[0]&&v[1]===x[1]&&S===1){const H=t*v[0]+l,$=t*v[1]+c;p.push(H,$),g.push(H,$);break}const C=t*v[0]+l,T=t*v[1]+c,b=t*w[0]+l,L=t*w[1]+c,N=t*A[0]+l,F=t*A[1]+c,I=t*x[0]+l,K=t*x[1]+c;y===0&&(p.push(C,T),g.push(C,T)),p.push(b,L,N,F,I,K),g.push(b,L),y===S-1&&g.push(I,K)}o.push({bezier:_(h=Ie,ff,Pw).call(h,p,s,this.rotation),points:_(d=Ie,ff,Pw).call(d,g,s,this.rotation)})}return o},pf=new WeakSet,Rw=function(){let t=1/0,r=-1/0,i=1/0,s=-1/0;for(const o of this.paths)for(const[a,l,c,h]of o){const d=X.bezierBoundingBox(...a,...l,...c,...h);t=Math.min(t,d[0]),i=Math.min(i,d[1]),r=Math.max(r,d[2]),s=Math.max(s,d[3])}return[t,i,r,s]},Eu=new WeakSet,Vp=function(){return u(this,Mn)?Math.ceil(this.thickness*this.parentScale):0},sa=new WeakSet,Ec=function(t=!1){if(this.isEmpty())return;if(!u(this,Mn)){_(this,wi,Ys).call(this);return}const r=_(this,pf,Rw).call(this),i=_(this,Eu,Vp).call(this);E(this,Jo,Math.max(be.MIN_SIZE,r[2]-r[0])),E(this,Qo,Math.max(be.MIN_SIZE,r[3]-r[1]));const s=Math.ceil(i+u(this,Jo)*this.scaleFactor),o=Math.ceil(i+u(this,Qo)*this.scaleFactor),[a,l]=this.parentDimensions;this.width=s/a,this.height=o/l,this.setAspectRatio(s,o);const c=this.translationX,h=this.translationY;this.translationX=-r[0],this.translationY=-r[1],_(this,ps,Ba).call(this),_(this,wi,Ys).call(this),E(this,ra,s),E(this,ia,o),this.setDims(s,o);const d=t?i/this.scaleFactor/2:0;this.translate(c-this.translationX-d,h-this.translationY-d)},m(Ie,nv),m(Ie,ff),m(Ie,rv),se(Ie,"_defaultColor",null),se(Ie,"_defaultOpacity",1),se(Ie,"_defaultThickness",1),se(Ie,"_type","ink"),se(Ie,"_editorType",ve.INK);let bw=Ie;var Ct,Tt,gs,Ei,ms,_u,Mr,oa,Dr,nr,gf,aa,_c,la,Ac,Au,Wp,mf,Mw,sv,zC,ov,HC,vf,Dw,Su,Gp,av,BC;const Fc=class Fc extends be{constructor(t){super({...t,name:"stampEditor"});m(this,aa);m(this,la);m(this,Au);m(this,mf);m(this,sv);m(this,ov);m(this,vf);m(this,Su);m(this,av);m(this,Ct,null);m(this,Tt,null);m(this,gs,null);m(this,Ei,null);m(this,ms,null);m(this,_u,"");m(this,Mr,null);m(this,oa,null);m(this,Dr,null);m(this,nr,!1);m(this,gf,!1);E(this,Ei,t.bitmapUrl),E(this,ms,t.bitmapFile)}static initialize(t,r){be.initialize(t,r)}static get supportedTypes(){return we(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(r=>`image/${r}`))}static get supportedTypesStr(){return we(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,r){r.pasteEditor(ve.STAMP,{bitmapFile:t.getAsFile()})}remove(){var t,r;u(this,Tt)&&(E(this,Ct,null),this._uiManager.imageManager.deleteId(u(this,Tt)),(t=u(this,Mr))==null||t.remove(),E(this,Mr,null),(r=u(this,oa))==null||r.disconnect(),E(this,oa,null),u(this,Dr)&&(clearTimeout(u(this,Dr)),E(this,Dr,null))),super.remove()}rebuild(){if(!this.parent){u(this,Tt)&&_(this,Au,Wp).call(this);return}super.rebuild(),this.div!==null&&(u(this,Tt)&&u(this,Mr)===null&&_(this,Au,Wp).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(u(this,gs)||u(this,Ct)||u(this,Ei)||u(this,ms)||u(this,Tt))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,r;if(this.width&&(t=this.x,r=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),u(this,Ct)?_(this,mf,Mw).call(this):_(this,Au,Wp).call(this),this.width){const[i,s]=this.parentDimensions;this.setAt(t*i,r*s,this.width*i,this.height*s)}return this.div}getImageForAltText(){return u(this,Mr)}static deserialize(t,r,i){if(t instanceof iC)return null;const s=super.deserialize(t,r,i),{rect:o,bitmapUrl:a,bitmapId:l,isSvg:c,accessibilityData:h}=t;l&&i.imageManager.isValidId(l)?E(s,Tt,l):E(s,Ei,a),E(s,nr,c);const[d,f]=s.pageDimensions;return s.width=(o[2]-o[0])/d,s.height=(o[3]-o[1])/f,h&&(s.altTextData=h),s}serialize(t=!1,r=null){if(this.isEmpty())return null;const i={annotationType:ve.STAMP,bitmapId:u(this,Tt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:u(this,nr),structTreeParentId:this._structTreeParentId};if(t)return i.bitmapUrl=_(this,Su,Gp).call(this,!0),i.accessibilityData=this.altTextData,i;const{decorative:s,altText:o}=this.altTextData;if(!s&&o&&(i.accessibilityData={type:"Figure",alt:o}),r===null)return i;r.stamps||(r.stamps=new Map);const a=u(this,nr)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(u(this,Tt)))r.stamps.set(u(this,Tt),{area:a,serialized:i}),i.bitmap=_(this,Su,Gp).call(this,!1);else if(u(this,nr)){const l=r.stamps.get(u(this,Tt));a>l.area&&(l.area=a,l.serialized.bitmap.close(),l.serialized.bitmap=_(this,Su,Gp).call(this,!1))}return i}};Ct=new WeakMap,Tt=new WeakMap,gs=new WeakMap,Ei=new WeakMap,ms=new WeakMap,_u=new WeakMap,Mr=new WeakMap,oa=new WeakMap,Dr=new WeakMap,nr=new WeakMap,gf=new WeakMap,aa=new WeakSet,_c=function(t,r=!1){if(!t){this.remove();return}E(this,Ct,t.bitmap),r||(E(this,Tt,t.id),E(this,nr,t.isSvg)),t.file&&E(this,_u,t.file.name),_(this,mf,Mw).call(this)},la=new WeakSet,Ac=function(){E(this,gs,null),this._uiManager.enableWaiting(!1),u(this,Mr)&&this.div.focus()},Au=new WeakSet,Wp=function(){if(u(this,Tt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(u(this,Tt)).then(r=>_(this,aa,_c).call(this,r,!0)).finally(()=>_(this,la,Ac).call(this));return}if(u(this,Ei)){const r=u(this,Ei);E(this,Ei,null),this._uiManager.enableWaiting(!0),E(this,gs,this._uiManager.imageManager.getFromUrl(r).then(i=>_(this,aa,_c).call(this,i)).finally(()=>_(this,la,Ac).call(this)));return}if(u(this,ms)){const r=u(this,ms);E(this,ms,null),this._uiManager.enableWaiting(!0),E(this,gs,this._uiManager.imageManager.getFromFile(r).then(i=>_(this,aa,_c).call(this,i)).finally(()=>_(this,la,Ac).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Fc.supportedTypesStr,E(this,gs,new Promise(r=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(t.files[0]);_(this,aa,_c).call(this,i)}r()}),t.addEventListener("cancel",()=>{this.remove(),r()})}).finally(()=>_(this,la,Ac).call(this))),t.click()},mf=new WeakSet,Mw=function(){const{div:t}=this;let{width:r,height:i}=u(this,Ct);const[s,o]=this.pageDimensions,a=.75;if(this.width)r=this.width*s,i=this.height*o;else if(r>a*s||i>a*o){const d=Math.min(a*s/r,a*o/i);r*=d,i*=d}const[l,c]=this.parentDimensions;this.setDims(r*l/s,i*c/o),this._uiManager.enableWaiting(!1);const h=E(this,Mr,document.createElement("canvas"));t.append(h),t.hidden=!1,_(this,vf,Dw).call(this,r,i),_(this,av,BC).call(this),u(this,gf)||(this.parent.addUndoableEditor(this),E(this,gf,!0)),this._reportTelemetry({action:"inserted_image"}),u(this,_u)&&h.setAttribute("aria-label",u(this,_u))},sv=new WeakSet,zC=function(t,r){var a;const[i,s]=this.parentDimensions;this.width=t/i,this.height=r/s,this.setDims(t,r),(a=this._initialOptions)!=null&&a.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,u(this,Dr)!==null&&clearTimeout(u(this,Dr)),E(this,Dr,setTimeout(()=>{E(this,Dr,null),_(this,vf,Dw).call(this,t,r)},200))},ov=new WeakSet,HC=function(t,r){const{width:i,height:s}=u(this,Ct);let o=i,a=s,l=u(this,Ct);for(;o>2*t||a>2*r;){const c=o,h=a;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*r&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const d=new OffscreenCanvas(o,a);d.getContext("2d").drawImage(l,0,0,c,h,0,0,o,a),l=d.transferToImageBitmap()}return l},vf=new WeakSet,Dw=function(t,r){t=Math.ceil(t),r=Math.ceil(r);const i=u(this,Mr);if(!i||i.width===t&&i.height===r)return;i.width=t,i.height=r;const s=u(this,nr)?u(this,Ct):_(this,ov,HC).call(this,t,r);if(this._uiManager.hasMLManager&&!this.hasAltText()){const l=new OffscreenCanvas(t,r).getContext("2d");l.drawImage(s,0,0,s.width,s.height,0,0,t,r),this._uiManager.mlGuess({service:"image-to-text",request:{data:l.getImageData(0,0,t,r).data,width:t,height:r,channels:4}}).then(c=>{const h=(c==null?void 0:c.output)||"";this.parent&&h&&!this.hasAltText()&&(this.altTextData={altText:h,decorative:!1})})}const o=i.getContext("2d");o.filter=this._uiManager.hcmFilter,o.drawImage(s,0,0,s.width,s.height,0,0,t,r)},Su=new WeakSet,Gp=function(t){if(t){if(u(this,nr)){const s=this._uiManager.imageManager.getSvgUrl(u(this,Tt));if(s)return s}const r=document.createElement("canvas");return{width:r.width,height:r.height}=u(this,Ct),r.getContext("2d").drawImage(u(this,Ct),0,0),r.toDataURL()}if(u(this,nr)){const[r,i]=this.pageDimensions,s=Math.round(this.width*r*Ms.PDF_TO_CSS_UNITS),o=Math.round(this.height*i*Ms.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(s,o);return a.getContext("2d").drawImage(u(this,Ct),0,0,u(this,Ct).width,u(this,Ct).height,0,0,s,o),a.transferToImageBitmap()}return structuredClone(u(this,Ct))},av=new WeakSet,BC=function(){E(this,oa,new ResizeObserver(t=>{const r=t[0].contentRect;r.width&&r.height&&_(this,sv,zC).call(this,r.width,r.height)})),u(this,oa).observe(this.div)},se(Fc,"_type","stamp"),se(Fc,"_editorType",ve.STAMP);let Lw=Fc;var ua,bu,Ir,ca,_i,Ai,Si,wn,vs,xu,Cu,Vt,Z,ys,lv,UC,yf,Fw,wf,Nw,Ef,Ow,Tu,Xp;const $n=class $n{constructor({uiManager:e,pageIndex:t,div:r,accessibilityManager:i,annotationLayer:s,drawLayer:o,textLayer:a,viewport:l,l10n:c}){m(this,lv);m(this,yf);m(this,wf);m(this,Ef);m(this,Tu);m(this,ua,void 0);m(this,bu,!1);m(this,Ir,null);m(this,ca,null);m(this,_i,null);m(this,Ai,null);m(this,Si,null);m(this,wn,new Map);m(this,vs,!1);m(this,xu,!1);m(this,Cu,!1);m(this,Vt,null);m(this,Z,void 0);const h=[...u($n,ys).values()];if(!$n._initialized){$n._initialized=!0;for(const d of h)d.initialize(c,e)}e.registerEditorTypes(h),E(this,Z,e),this.pageIndex=t,this.div=r,E(this,ua,i),E(this,Ir,s),this.viewport=l,E(this,Vt,a),this.drawLayer=o,u(this,Z).addLayer(this)}get isEmpty(){return u(this,wn).size===0}get isInvisible(){return this.isEmpty&&u(this,Z).getMode()===ve.NONE}updateToolbar(e){u(this,Z).updateToolbar(e)}updateMode(e=u(this,Z).getMode()){switch(_(this,Tu,Xp).call(this),e){case ve.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case ve.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case ve.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const r of u($n,ys).values())t.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=u(this,Vt))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(u(this,Z).getMode()!==ve.INK)return;if(!e){for(const r of u(this,wn).values())if(r.isEmpty()){r.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){u(this,Z).setEditingState(e)}addCommands(e){u(this,Z).addCommands(e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=u(this,Ir))==null||t.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const r of u(this,wn).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(u(this,Z).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!u(this,Ir))return;const t=u(this,Ir).getEditableAnnotations();for(const r of t){if(r.hide(),u(this,Z).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}}disable(){var i;E(this,Cu,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const s of u(this,wn).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else t.set(s.annotationElementId,s);(i=this.getEditableAnnotation(s.annotationElementId))==null||i.show(),s.remove()}if(u(this,Ir)){const s=u(this,Ir).getEditableAnnotations();for(const o of s){const{id:a}=o.data;if(u(this,Z).isDeletedAnnotationElement(a))continue;let l=t.get(a);if(l){l.resetAnnotationElement(o),l.show(!1),o.show();continue}l=e.get(a),l&&(u(this,Z).addChangedExistingAnnotation(l),l.renderAnnotationElement(o),l.show(!1)),o.show()}}_(this,Tu,Xp).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const s of u($n,ys).values())r.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),E(this,Cu,!1)}getEditableAnnotation(e){var t;return((t=u(this,Ir))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){u(this,Z).getActive()!==e&&u(this,Z).setActiveEditor(e)}enableTextSelection(){var e;this.div.tabIndex=-1,(e=u(this,Vt))!=null&&e.div&&!u(this,Ai)&&(E(this,Ai,_(this,lv,UC).bind(this)),u(this,Vt).div.addEventListener("pointerdown",u(this,Ai)),u(this,Vt).div.classList.add("highlighting"))}disableTextSelection(){var e;this.div.tabIndex=0,(e=u(this,Vt))!=null&&e.div&&u(this,Ai)&&(u(this,Vt).div.removeEventListener("pointerdown",u(this,Ai)),E(this,Ai,null),u(this,Vt).div.classList.remove("highlighting"))}enableClick(){u(this,_i)||(E(this,_i,this.pointerdown.bind(this)),E(this,ca,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",u(this,_i)),this.div.addEventListener("pointerup",u(this,ca)))}disableClick(){u(this,_i)&&(this.div.removeEventListener("pointerdown",u(this,_i)),this.div.removeEventListener("pointerup",u(this,ca)),E(this,_i,null),E(this,ca,null))}attach(e){u(this,wn).set(e.id,e);const{annotationElementId:t}=e;t&&u(this,Z).isDeletedAnnotationElement(t)&&u(this,Z).removeDeletedAnnotationElement(e)}detach(e){var t;u(this,wn).delete(e.id),(t=u(this,ua))==null||t.removePointerInTextLayer(e.contentDiv),!u(this,Cu)&&e.annotationElementId&&u(this,Z).addDeletedAnnotationElement(e)}remove(e){this.detach(e),u(this,Z).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,u(this,xu)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(u(this,Z).addDeletedAnnotationElement(e.annotationElementId),be.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),u(this,Z).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),u(this,Z).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!u(this,Si)&&(e._focusEventsAllowed=!1,E(this,Si,setTimeout(()=>{E(this,Si,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0}),t.focus())},0))),e._structTreeParentId=(r=u(this,ua))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:t,undo:r,mustExec:!1})}getNextId(){return u(this,Z).getId()}canCreateNewEmptyEditor(){var e;return(e=u(this,yf,Fw))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){u(this,Z).updateToolbar(e),u(this,Z).updateMode(e);const{offsetX:r,offsetY:i}=_(this,Ef,Ow).call(this),s=this.getNextId(),o=_(this,wf,Nw).call(this,{parent:this,id:s,x:r,y:i,uiManager:u(this,Z),isCentered:!0,...t});o&&this.add(o)}deserialize(e){var t;return((t=u($n,ys).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,u(this,Z)))||null}createAndAddNewEditor(e,t,r={}){const i=this.getNextId(),s=_(this,wf,Nw).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:u(this,Z),isCentered:t,...r});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(_(this,Ef,Ow).call(this),!0)}setSelected(e){u(this,Z).setSelected(e)}toggleSelected(e){u(this,Z).toggleSelected(e)}isSelected(e){return u(this,Z).isSelected(e)}unselect(e){u(this,Z).unselect(e)}pointerup(e){const{isMac:t}=rn.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&u(this,vs)){if(E(this,vs,!1),!u(this,bu)){E(this,bu,!0);return}if(u(this,Z).getMode()===ve.STAMP){u(this,Z).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(u(this,Z).getMode()===ve.HIGHLIGHT&&this.enableTextSelection(),u(this,vs)){E(this,vs,!1);return}const{isMac:t}=rn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;E(this,vs,!0);const r=u(this,Z).getActive();E(this,bu,!r||r.isEmpty())}findNewParent(e,t,r){const i=u(this,Z).findParent(t,r);return i===null||i===this?!1:(i.changeParent(e),!0)}destroy(){var e,t;((e=u(this,Z).getActive())==null?void 0:e.parent)===this&&(u(this,Z).commitOrRemove(),u(this,Z).setActiveEditor(null)),u(this,Si)&&(clearTimeout(u(this,Si)),E(this,Si,null));for(const r of u(this,wn).values())(t=u(this,ua))==null||t.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,u(this,wn).clear(),u(this,Z).removeLayer(this)}render({viewport:e}){this.viewport=e,wa(this.div,e);for(const t of u(this,Z).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){u(this,Z).commitOrRemove(),_(this,Tu,Xp).call(this);const t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,wa(this.div,{rotation:r}),t!==r)for(const i of u(this,wn).values())i.rotate(r);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return u(this,Z).viewParameters.realScale}};ua=new WeakMap,bu=new WeakMap,Ir=new WeakMap,ca=new WeakMap,_i=new WeakMap,Ai=new WeakMap,Si=new WeakMap,wn=new WeakMap,vs=new WeakMap,xu=new WeakMap,Cu=new WeakMap,Vt=new WeakMap,Z=new WeakMap,ys=new WeakMap,lv=new WeakSet,UC=function(e){if(u(this,Z).unselectAll(),e.target===u(this,Vt).div){const{isMac:t}=rn.platform;if(e.button!==0||e.ctrlKey&&t)return;u(this,Z).showAllEditors("highlight",!0,!0),u(this,Vt).div.classList.add("free"),Cg.startHighlighting(this,u(this,Z).direction==="ltr",e),u(this,Vt).div.addEventListener("pointerup",()=>{u(this,Vt).div.classList.remove("free")},{once:!0}),e.preventDefault()}},yf=new WeakSet,Fw=function(){return u($n,ys).get(u(this,Z).getMode())},wf=new WeakSet,Nw=function(e){const t=u(this,yf,Fw);return t?new t.prototype.constructor(e):null},Ef=new WeakSet,Ow=function(){const{x:e,y:t,width:r,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,e),o=Math.max(0,t),a=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,t+i),c=(s+a)/2-e,h=(o+l)/2-t,[d,f]=this.viewport.rotation%180===0?[c,h]:[h,c];return{offsetX:d,offsetY:f}},Tu=new WeakSet,Xp=function(){E(this,xu,!0);for(const e of u(this,wn).values())e.isEmpty()&&e.remove();E(this,xu,!1)},se($n,"_initialized",!1),m($n,ys,new Map([fw,bw,Lw,Cg].map(e=>[e._editorType,e])));let Iw=$n;var Fr,_f,st,ws,Af,zw,Sf,Hw,uv,$C;const Et=class Et{constructor({pageIndex:e}){m(this,Sf);m(this,uv);m(this,Fr,null);m(this,_f,0);m(this,st,new Map);m(this,ws,new Map);this.pageIndex=e}setParent(e){if(!u(this,Fr)){E(this,Fr,e);return}if(u(this,Fr)!==e){if(u(this,st).size>0)for(const t of u(this,st).values())t.remove(),e.append(t);E(this,Fr,e)}}static get _svgFactory(){return we(this,"_svgFactory",new KE)}highlight(e,t,r,i=!1){const s=hn(this,_f)._++,o=_(this,Sf,Hw).call(this,e.box);o.classList.add("highlight"),e.free&&o.classList.add("free");const a=Et._svgFactory.createElement("defs");o.append(a);const l=Et._svgFactory.createElement("path");a.append(l);const c=`path_p${this.pageIndex}_${s}`;l.setAttribute("id",c),l.setAttribute("d",e.toSVGPath()),i&&u(this,ws).set(s,l);const h=_(this,uv,$C).call(this,a,c),d=Et._svgFactory.createElement("use");return o.append(d),o.setAttribute("fill",t),o.setAttribute("fill-opacity",r),d.setAttribute("href",`#${c}`),u(this,st).set(s,o),{id:s,clipPathId:`url(#${h})`}}highlightOutline(e){const t=hn(this,_f)._++,r=_(this,Sf,Hw).call(this,e.box);r.classList.add("highlightOutline");const i=Et._svgFactory.createElement("defs");r.append(i);const s=Et._svgFactory.createElement("path");i.append(s);const o=`path_p${this.pageIndex}_${t}`;s.setAttribute("id",o),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke");let a;if(e.free){r.classList.add("free");const h=Et._svgFactory.createElement("mask");i.append(h),a=`mask_p${this.pageIndex}_${t}`,h.setAttribute("id",a),h.setAttribute("maskUnits","objectBoundingBox");const d=Et._svgFactory.createElement("rect");h.append(d),d.setAttribute("width","1"),d.setAttribute("height","1"),d.setAttribute("fill","white");const f=Et._svgFactory.createElement("use");h.append(f),f.setAttribute("href",`#${o}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}const l=Et._svgFactory.createElement("use");r.append(l),l.setAttribute("href",`#${o}`),a&&l.setAttribute("mask",`url(#${a})`);const c=l.cloneNode();return r.append(c),l.classList.add("mainOutline"),c.classList.add("secondaryOutline"),u(this,st).set(t,r),t}finalizeLine(e,t){const r=u(this,ws).get(e);u(this,ws).delete(e),this.updateBox(e,t.box),r.setAttribute("d",t.toSVGPath())}updateLine(e,t){u(this,st).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(e){this.remove(e),u(this,ws).delete(e)}updatePath(e,t){u(this,ws).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var r;_(r=Et,Af,zw).call(r,u(this,st).get(e),t)}show(e,t){u(this,st).get(e).classList.toggle("hidden",!t)}rotate(e,t){u(this,st).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){u(this,st).get(e).setAttribute("fill",t)}changeOpacity(e,t){u(this,st).get(e).setAttribute("fill-opacity",t)}addClass(e,t){u(this,st).get(e).classList.add(t)}removeClass(e,t){u(this,st).get(e).classList.remove(t)}remove(e){u(this,Fr)!==null&&(u(this,st).get(e).remove(),u(this,st).delete(e))}destroy(){E(this,Fr,null);for(const e of u(this,st).values())e.remove();u(this,st).clear()}};Fr=new WeakMap,_f=new WeakMap,st=new WeakMap,ws=new WeakMap,Af=new WeakSet,zw=function(e,{x:t=0,y:r=0,width:i=1,height:s=1}={}){const{style:o}=e;o.top=`${100*r}%`,o.left=`${100*t}%`,o.width=`${100*i}%`,o.height=`${100*s}%`},Sf=new WeakSet,Hw=function(e){var r;const t=Et._svgFactory.create(1,1,!0);return u(this,Fr).append(t),t.setAttribute("aria-hidden",!0),_(r=Et,Af,zw).call(r,t,e),t},uv=new WeakSet,$C=function(e,t){const r=Et._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${t}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=Et._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i},m(Et,Af);let jw=Et;var TD=ee.AbortException,kD=ee.AnnotationEditorLayer,PD=ee.AnnotationEditorParamsType,RD=ee.AnnotationEditorType,LD=ee.AnnotationEditorUIManager,VC=ee.AnnotationLayer,WC=ee.AnnotationMode,MD=ee.CMapCompressionType,DD=ee.ColorPicker,ID=ee.DOMSVGFactory,FD=ee.DrawLayer,ND=ee.FeatureTest,n_=ee.GlobalWorkerOptions,OD=ee.ImageKind,jD=ee.InvalidPDFException,zD=ee.MissingPDFException,HD=ee.OPS,BD=ee.Outliner,UD=ee.PDFDataRangeTransport,$D=ee.PDFDateString,VD=ee.PDFWorker,WD=ee.PasswordResponses,GD=ee.PermissionFlag,XD=ee.PixelsPerInch,KD=ee.RenderingCancelledException,GC=ee.TextLayer,YD=ee.UnexpectedResponseException,qD=ee.Util,QD=ee.VerbosityLevel,JD=ee.XfaLayer,ZD=ee.build,e2=ee.createValidAbsoluteUrl,t2=ee.fetchData,XC=ee.getDocument,n2=ee.getFilenameFromUrl,r2=ee.getPdfFilenameFromUrl,i2=ee.getXfaPageViewport,s2=ee.isDataScheme,o2=ee.isPdfFile,a2=ee.noContextMenu,l2=ee.normalizeUnicode,u2=ee.renderTextLayer,c2=ee.setLayerDimensions,h2=ee.shadow,d2=ee.updateTextLayer,f2=ee.version;const p2=Object.freeze(Object.defineProperty({__proto__:null,AbortException:TD,AnnotationEditorLayer:kD,AnnotationEditorParamsType:PD,AnnotationEditorType:RD,AnnotationEditorUIManager:LD,AnnotationLayer:VC,AnnotationMode:WC,CMapCompressionType:MD,ColorPicker:DD,DOMSVGFactory:ID,DrawLayer:FD,FeatureTest:ND,GlobalWorkerOptions:n_,ImageKind:OD,InvalidPDFException:jD,MissingPDFException:zD,OPS:HD,Outliner:BD,PDFDataRangeTransport:UD,PDFDateString:$D,PDFWorker:VD,PasswordResponses:WD,PermissionFlag:GD,PixelsPerInch:XD,RenderingCancelledException:KD,TextLayer:GC,UnexpectedResponseException:YD,Util:qD,VerbosityLevel:QD,XfaLayer:JD,build:ZD,createValidAbsoluteUrl:e2,fetchData:t2,getDocument:XC,getFilenameFromUrl:n2,getPdfFilenameFromUrl:r2,getXfaPageViewport:i2,isDataScheme:s2,isPdfFile:o2,noContextMenu:a2,normalizeUnicode:l2,renderTextLayer:u2,setLayerDimensions:c2,shadow:h2,updateTextLayer:d2,version:f2},Symbol.toStringTag,{value:"Module"}));var ct=function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))},g2=["onCopy","onCut","onPaste"],m2=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],v2=["onFocus","onBlur"],y2=["onInput","onInvalid","onReset","onSubmit"],w2=["onLoad","onError"],E2=["onKeyDown","onKeyPress","onKeyUp"],_2=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],A2=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],S2=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],b2=["onSelect"],x2=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],C2=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],T2=["onScroll"],k2=["onWheel"],P2=["onAnimationStart","onAnimationEnd","onAnimationIteration"],R2=["onTransitionEnd"],L2=["onToggle"],M2=["onChange"],D2=ct(ct(ct(ct(ct(ct(ct(ct(ct(ct(ct(ct(ct(ct(ct(ct(ct(ct([],g2,!0),m2,!0),v2,!0),y2,!0),w2,!0),E2,!0),_2,!0),A2,!0),S2,!0),b2,!0),x2,!0),C2,!0),T2,!0),k2,!0),P2,!0),R2,!0),M2,!0),L2,!0);function KC(n,e){var t={};return D2.forEach(function(r){var i=n[r];i&&(e?t[r]=function(s){return i(s,e(r))}:t[r]=i)}),t}function Ff(n){var e=!1,t=new Promise(function(r,i){n.then(function(s){return!e&&r(s)}).catch(function(s){return!e&&i(s)})});return{promise:t,cancel:function(){e=!0}}}function YC(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=YC(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function jv(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=YC(n))&&(r&&(r+=" "),r+=e);return r}var I2="Invariant failed";function Re(n,e){if(!n)throw new Error(I2)}var F2=function(){},N2=F2;const Ot=$w(N2);var u1=Object.prototype.hasOwnProperty;function c1(n,e,t){for(t of n.keys())if(cl(t,e))return t}function cl(n,e){var t,r,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&cl(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(i=r,i&&typeof i=="object"&&(i=c1(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(i=r[0],i&&typeof i=="object"&&(i=c1(e,i),!i)||!cl(r[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(u1.call(n,t)&&++r&&!u1.call(e,t)||!(t in e)||!cl(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}const qC=R.createContext(null);function hl({children:n,type:e}){return B.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:n})}const O2="noopener noreferrer nofollow";class j2{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Re(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Re(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{Re(this.pdfDocument),Re(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{Re(Array.isArray(t));const r=t[0];new Promise(i=>{Re(this.pdfDocument),r instanceof Object?this.pdfDocument.getPageIndex(r).then(s=>{i(s)}).catch(()=>{Re(!1)}):typeof r=="number"?i(r):Re(!1)}).then(i=>{const s=i+1;Re(this.pdfViewer),Re(s>=1&&s<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:i,pageNumber:s})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;Re(this.pdfViewer),Re(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,r){e.href=t,e.rel=this.externalLinkRel||O2,e.target=r?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const h1={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},zv=typeof document<"u",QC=zv&&window.location.protocol==="file:";function z2(n){return typeof n<"u"}function Vs(n){return z2(n)&&n!==null}function H2(n){return typeof n=="string"}function B2(n){return n instanceof ArrayBuffer}function U2(n){return Re(zv),n instanceof Blob}function Bw(n){return H2(n)&&/^data:/.test(n)}function d1(n){Re(Bw(n));const[e="",t=""]=n.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function $2(){return zv&&window.devicePixelRatio||1}const JC="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function f1(){Ot(!QC,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${JC}`)}function V2(){Ot(!QC,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${JC}`)}function Aa(n){n&&n.cancel&&n.cancel()}function Uw(n,e){return Object.defineProperty(n,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function W2(n){return n.name==="RenderingCancelledException"}function G2(n){return new Promise((e,t)=>{const r=new FileReader;r.onload=()=>{if(!r.result)return t(new Error("Error while reading a file."));e(r.result)},r.onerror=i=>{if(!i.target)return t(new Error("Error while reading a file."));const{error:s}=i.target;if(!s)return t(new Error("Error while reading a file."));switch(s.code){case s.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case s.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case s.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},r.readAsArrayBuffer(n)})}function X2(n,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function Nu(){return R.useReducer(X2,{value:void 0,error:void 0})}var K2=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(r.next(h))}catch(d){o(d)}}function l(h){try{c(r.throw(h))}catch(d){o(d)}}function c(h){h.done?s(h.value):i(h.value).then(a,l)}c((r=r.apply(n,e||[])).next())})},p1=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const{PDFDataRangeTransport:Y2}=p2,q2=(n,e)=>{switch(e){case h1.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case h1.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function g1(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const Q2=R.forwardRef(function(e,t){var{children:r,className:i,error:s="Failed to load PDF file.",externalLinkRel:o,externalLinkTarget:a,file:l,inputRef:c,imageResourcesPath:h,loading:d="Loading PDF…",noData:f="No PDF file specified.",onItemClick:p,onLoadError:g,onLoadProgress:y,onLoadSuccess:S,onPassword:v=q2,onSourceError:w,onSourceSuccess:A,options:x,renderMode:C,rotate:T}=e,b=p1(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[L,N]=Nu(),{value:F,error:I}=L,[K,H]=Nu(),{value:$,error:Q}=K,le=R.useRef(new j2),z=R.useRef([]),M=R.useRef(void 0),G=R.useRef(void 0);l&&l!==M.current&&g1(l)&&(Ot(!cl(l,M.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),M.current=l),x&&x!==G.current&&(Ot(!cl(x,G.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),G.current=x);const Y=R.useRef({scrollPageIntoView:ge=>{const{dest:mt,pageNumber:cn,pageIndex:hr=cn-1}=ge;if(p){p({dest:mt,pageIndex:hr,pageNumber:cn});return}const Pa=z.current[hr];if(Pa){Pa.scrollIntoView();return}Ot(!1,`An internal link leading to page ${cn} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});R.useImperativeHandle(t,()=>({linkService:le,pages:z,viewer:Y}),[]);function oe(){A&&A()}function J(){I&&(Ot(!1,I.toString()),w&&w(I))}function fe(){N({type:"RESET"})}R.useEffect(fe,[l,N]);const _e=R.useCallback(()=>K2(this,void 0,void 0,function*(){if(!l)return null;if(typeof l=="string")return Bw(l)?{data:d1(l)}:(f1(),{url:l});if(l instanceof Y2)return{range:l};if(B2(l))return{data:l};if(zv&&U2(l))return{data:yield G2(l)};if(Re(typeof l=="object"),Re(g1(l)),"url"in l&&typeof l.url=="string"){if(Bw(l.url)){const{url:ge}=l,mt=p1(l,["url"]),cn=d1(ge);return Object.assign({data:cn},mt)}f1()}return l}),[l]);R.useEffect(()=>{const ge=Ff(_e());return ge.promise.then(mt=>{N({type:"RESOLVE",value:mt})}).catch(mt=>{N({type:"REJECT",error:mt})}),()=>{Aa(ge)}},[_e,N]),R.useEffect(()=>{if(!(typeof F>"u")){if(F===!1){J();return}oe()}},[F]);function Me(){$&&(S&&S($),z.current=new Array($.numPages),le.current.setDocument($))}function Ae(){Q&&(Ot(!1,Q.toString()),g&&g(Q))}function re(){H({type:"RESET"})}R.useEffect(re,[H,F]);function ur(){if(!F)return;const ge=Object.assign(Object.assign({},F),x),mt=XC(ge);y&&(mt.onProgress=y),v&&(mt.onPassword=v);const cn=mt;return cn.promise.then(hr=>{H({type:"RESOLVE",value:hr})}).catch(hr=>{cn.destroyed||H({type:"REJECT",error:hr})}),()=>{cn.destroy()}}R.useEffect(ur,[x,H,F]),R.useEffect(()=>{if(!(typeof $>"u")){if($===!1){Ae();return}Me()}},[$]);function Hr(){le.current.setViewer(Y.current),le.current.setExternalLinkRel(o),le.current.setExternalLinkTarget(a)}R.useEffect(Hr,[o,a]);function Ne(ge,mt){z.current[ge]=mt}function zs(ge){delete z.current[ge]}const Ze=R.useMemo(()=>({imageResourcesPath:h,linkService:le.current,onItemClick:p,pdf:$,registerPage:Ne,renderMode:C,rotate:T,unregisterPage:zs}),[h,p,$,C,T]),et=R.useMemo(()=>KC(b,()=>$),[b,$]);function un(){return B.jsx(qC.Provider,{value:Ze,children:r})}function cr(){return l?$==null?B.jsx(hl,{type:"loading",children:typeof d=="function"?d():d}):$===!1?B.jsx(hl,{type:"error",children:typeof s=="function"?s():s}):un():B.jsx(hl,{type:"no-data",children:typeof f=="function"?f():f})}return B.jsx("div",Object.assign({className:jv("react-pdf__Document",i),ref:c,style:{"--scale-factor":"1"}},et,{children:cr()}))});function ZC(){return R.useContext(qC)}function eT(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(Boolean);if(t.length<=1){var r=t[0];return r||null}return function(s){t.forEach(function(o){typeof o=="function"?o(s):o&&(o.current=s)})}}const tT=R.createContext(null),nT={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},J2=/^H(\d+)$/;function Z2(n){return n in nT}function Hv(n){return"children"in n}function rT(n){return Hv(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function eI(n){const e={};if(Hv(n)){const{role:t}=n,r=t.match(J2);if(r)e.role="heading",e["aria-level"]=Number(r[1]);else if(Z2(t)){const i=nT[t];i&&(e.role=i)}}return e}function iT(n){const e={};if(Hv(n)){if(n.alt!==void 0&&(e["aria-label"]=n.alt),n.lang!==void 0&&(e.lang=n.lang),rT(n)){const[t]=n.children;if(t){const r=iT(t);return Object.assign(Object.assign({},e),r)}}}else"id"in n&&(e["aria-owns"]=n.id);return e}function tI(n){return n?Object.assign(Object.assign({},eI(n)),iT(n)):null}function sT({className:n,node:e}){const t=R.useMemo(()=>tI(e),[e]),r=R.useMemo(()=>!Hv(e)||rT(e)?null:e.children.map((i,s)=>B.jsx(sT,{node:i},s)),[e]);return B.jsx("span",Object.assign({className:n},t,{children:r}))}function Bv(){return R.useContext(tT)}function nI(){const n=Bv();Re(n);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=n,[r,i]=Nu(),{value:s,error:o}=r,{customTextRenderer:a,page:l}=n;function c(){s&&t&&t(s)}function h(){o&&(Ot(!1,o.toString()),e&&e(o))}function d(){i({type:"RESET"})}R.useEffect(d,[i,l]);function f(){if(a||!l)return;const p=Ff(l.getStructTree()),g=p;return p.promise.then(y=>{i({type:"RESOLVE",value:y})}).catch(y=>{i({type:"REJECT",error:y})}),()=>Aa(g)}return R.useEffect(f,[a,l,i]),R.useEffect(()=>{if(s!==void 0){if(s===!1){h();return}c()}},[s]),s?B.jsx(sT,{className:"react-pdf__Page__structTree structTree",node:s}):null}const m1=WC;function rI(n){const e=Bv();Re(e);const t=Object.assign(Object.assign({},e),n),{_className:r,canvasBackground:i,devicePixelRatio:s=$2(),onRenderError:o,onRenderSuccess:a,page:l,renderForms:c,renderTextLayer:h,rotate:d,scale:f}=t,{canvasRef:p}=n;Re(l);const g=R.useRef(null);function y(){l&&a&&a(Uw(l,f))}function S(C){W2(C)||(Ot(!1,C.toString()),o&&o(C))}const v=R.useMemo(()=>l.getViewport({scale:f*s,rotation:d}),[s,l,d,f]),w=R.useMemo(()=>l.getViewport({scale:f,rotation:d}),[l,d,f]);function A(){if(!l)return;l.cleanup();const{current:C}=g;if(!C)return;C.width=v.width,C.height=v.height,C.style.width=`${Math.floor(w.width)}px`,C.style.height=`${Math.floor(w.height)}px`,C.style.visibility="hidden";const T={annotationMode:c?m1.ENABLE_FORMS:m1.ENABLE,canvasContext:C.getContext("2d",{alpha:!1}),viewport:v};i&&(T.background=i);const b=l.render(T),L=b;return b.promise.then(()=>{C.style.visibility="",y()}).catch(S),()=>Aa(L)}R.useEffect(A,[i,g,s,l,c,v,w]);const x=R.useCallback(()=>{const{current:C}=g;C&&(C.width=0,C.height=0)},[g]);return R.useEffect(()=>x,[x]),B.jsx("canvas",{className:`${r}__canvas`,dir:"ltr",ref:eT(p,g),style:{display:"block",userSelect:"none"},children:h?B.jsx(nI,{}):null})}function iI(n){return"str"in n}function sI(){const n=Bv();Re(n);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:r,onRenderTextLayerError:i,onRenderTextLayerSuccess:s,page:o,pageIndex:a,pageNumber:l,rotate:c,scale:h}=n;Re(o);const[d,f]=Nu(),{value:p,error:g}=d,y=R.useRef(null),S=R.useRef(void 0);Ot(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function v(){p&&r&&r(p)}function w(){g&&(Ot(!1,g.toString()),t&&t(g))}function A(){f({type:"RESET"})}R.useEffect(A,[o,f]);function x(){if(!o)return;const I=Ff(o.getTextContent()),K=I;return I.promise.then(H=>{f({type:"RESOLVE",value:H})}).catch(H=>{f({type:"REJECT",error:H})}),()=>Aa(K)}R.useEffect(x,[o,f]),R.useEffect(()=>{if(p!==void 0){if(p===!1){w();return}v()}},[p]);const C=R.useCallback(()=>{s&&s()},[s]),T=R.useCallback(I=>{Ot(!1,I.toString()),i&&i(I)},[i]);function b(){const I=S.current;I&&I.classList.add("active")}function L(){const I=S.current;I&&I.classList.remove("active")}const N=R.useMemo(()=>o.getViewport({scale:h,rotation:c}),[o,c,h]);function F(){if(!o||!p)return;const{current:I}=y;if(!I)return;I.innerHTML="";const K=o.streamTextContent({includeMarkedContent:!0}),H={container:I,textContentSource:K,viewport:N},$=new GC(H),Q=$;return $.render().then(()=>{const le=document.createElement("div");le.className="endOfContent",I.append(le),S.current=le;const z=I.querySelectorAll('[role="presentation"]');if(e){let M=0;p.items.forEach((G,Y)=>{if(!iI(G))return;const oe=z[M];if(!oe)return;const J=e(Object.assign({pageIndex:a,pageNumber:l,itemIndex:Y},G));oe.innerHTML=J,M+=G.str&&G.hasEOL?2:1})}C()}).catch(T),()=>Aa(Q)}return R.useLayoutEffect(F,[e,T,C,o,a,l,p,N]),B.jsx("div",{className:jv("react-pdf__Page__textContent","textLayer"),onMouseUp:L,onMouseDown:b,ref:y})}function oI(){const n=ZC(),e=Bv();Re(e);const t=Object.assign(Object.assign({},n),e),{imageResourcesPath:r,linkService:i,onGetAnnotationsError:s,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:a,onRenderAnnotationLayerSuccess:l,page:c,pdf:h,renderForms:d,rotate:f,scale:p=1}=t;Re(h),Re(c),Re(i);const[g,y]=Nu(),{value:S,error:v}=g,w=R.useRef(null);Ot(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function A(){S&&o&&o(S)}function x(){v&&(Ot(!1,v.toString()),s&&s(v))}function C(){y({type:"RESET"})}R.useEffect(C,[y,c]);function T(){if(!c)return;const I=Ff(c.getAnnotations()),K=I;return I.promise.then(H=>{y({type:"RESOLVE",value:H})}).catch(H=>{y({type:"REJECT",error:H})}),()=>{Aa(K)}}R.useEffect(T,[y,c,d]),R.useEffect(()=>{if(S!==void 0){if(S===!1){x();return}A()}},[S]);function b(){l&&l()}function L(I){Ot(!1,`${I}`),a&&a(I)}const N=R.useMemo(()=>c.getViewport({scale:p,rotation:f}),[c,f,p]);function F(){if(!h||!c||!i||!S)return;const{current:I}=w;if(!I)return;const K=N.clone({dontFlip:!0}),H={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:I,l10n:null,page:c,viewport:K},$={annotations:S,annotationStorage:h.annotationStorage,div:I,imageResourcesPath:r,linkService:i,page:c,renderForms:d,viewport:K};I.innerHTML="";try{new VC(H).render($),b()}catch(Q){L(Q)}return()=>{}}return R.useEffect(F,[S,r,i,c,d,N]),B.jsx("div",{className:jv("react-pdf__Page__annotations","annotationLayer"),ref:w})}var aI=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const v1=1;function lI(n){const e=ZC(),t=Object.assign(Object.assign({},e),n),{_className:r="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:s,canvasRef:o,children:a,className:l,customRenderer:c,customTextRenderer:h,devicePixelRatio:d,error:f="Failed to load the page.",height:p,inputRef:g,loading:y="Loading page…",noData:S="No page specified.",onGetAnnotationsError:v,onGetAnnotationsSuccess:w,onGetStructTreeError:A,onGetStructTreeSuccess:x,onGetTextError:C,onGetTextSuccess:T,onLoadError:b,onLoadSuccess:L,onRenderAnnotationLayerError:N,onRenderAnnotationLayerSuccess:F,onRenderError:I,onRenderSuccess:K,onRenderTextLayerError:H,onRenderTextLayerSuccess:$,pageIndex:Q,pageNumber:le,pdf:z,registerPage:M,renderAnnotationLayer:G=!0,renderForms:Y=!1,renderMode:oe="canvas",renderTextLayer:J=!0,rotate:fe,scale:_e=v1,unregisterPage:Me,width:Ae}=t,re=aI(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[ur,Hr]=Nu(),{value:Ne,error:zs}=ur,Ze=R.useRef(null);Re(z);const et=Vs(le)?le-1:Q??null,un=le??(Vs(Q)?Q+1:null),cr=fe??(Ne?Ne.rotate:null),ge=R.useMemo(()=>{if(!Ne)return null;let Ni=1;const Cn=_e??v1;if(Ae||p){const Br=Ne.getViewport({scale:1,rotation:cr});Ae?Ni=Ae/Br.width:p&&(Ni=p/Br.height)}return Cn*Ni},[p,Ne,cr,_e,Ae]);function mt(){return()=>{Vs(et)&&i&&Me&&Me(et)}}R.useEffect(mt,[i,z,et,Me]);function cn(){if(L){if(!Ne||!ge)return;L(Uw(Ne,ge))}if(i&&M){if(!Vs(et)||!Ze.current)return;M(et,Ze.current)}}function hr(){zs&&(Ot(!1,zs.toString()),b&&b(zs))}function Pa(){Hr({type:"RESET"})}R.useEffect(Pa,[Hr,z,et]);function Uv(){if(!z||!un)return;const Ni=Ff(z.getPage(un)),Cn=Ni;return Ni.promise.then(Br=>{Hr({type:"RESOLVE",value:Br})}).catch(Br=>{Hr({type:"REJECT",error:Br})}),()=>Aa(Cn)}R.useEffect(Uv,[Hr,z,et,un,M]),R.useEffect(()=>{if(Ne!==void 0){if(Ne===!1){hr();return}cn()}},[Ne,ge]);const Hs=R.useMemo(()=>Ne&&Vs(et)&&un&&Vs(cr)&&Vs(ge)?{_className:r,canvasBackground:s,customTextRenderer:h,devicePixelRatio:d,onGetAnnotationsError:v,onGetAnnotationsSuccess:w,onGetStructTreeError:A,onGetStructTreeSuccess:x,onGetTextError:C,onGetTextSuccess:T,onRenderAnnotationLayerError:N,onRenderAnnotationLayerSuccess:F,onRenderError:I,onRenderSuccess:K,onRenderTextLayerError:H,onRenderTextLayerSuccess:$,page:Ne,pageIndex:et,pageNumber:un,renderForms:Y,renderTextLayer:J,rotate:cr,scale:ge}:null,[r,s,h,d,v,w,A,x,C,T,N,F,I,K,H,$,Ne,et,un,Y,J,cr,ge]),Bs=R.useMemo(()=>KC(re,()=>Ne&&(ge?Uw(Ne,ge):void 0)),[re,Ne,ge]),Us=`${et}@${ge}/${cr}`;function Bu(){switch(oe){case"custom":return Re(c),B.jsx(c,{},`${Us}_custom`);case"none":return null;case"canvas":default:return B.jsx(rI,{canvasRef:o},`${Us}_canvas`)}}function dr(){return J?B.jsx(sI,{},`${Us}_text`):null}function $s(){return G?B.jsx(oI,{},`${Us}_annotations`):null}function Nf(){return B.jsxs(tT.Provider,{value:Hs,children:[Bu(),dr(),$s(),a]})}function Ra(){return un?z===null||Ne===void 0||Ne===null?B.jsx(hl,{type:"loading",children:typeof y=="function"?y():y}):z===!1||Ne===!1?B.jsx(hl,{type:"error",children:typeof f=="function"?f():f}):Nf():B.jsx(hl,{type:"no-data",children:typeof S=="function"?S():S})}return B.jsx("div",Object.assign({className:jv(r,l),"data-page-number":un,ref:eT(g,Ze),style:{"--scale-factor":`${ge}`,backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Bs,{children:Ra()}))}V2();n_.workerSrc="pdf.worker.mjs";var oT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},y1=Ci.createContext&&Ci.createContext(oT),uI=["attr","size","title"];function cI(n,e){if(n==null)return{};var t=hI(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function hI(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Tg(){return Tg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Tg.apply(this,arguments)}function w1(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function kg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?w1(Object(t),!0).forEach(function(r){dI(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):w1(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function dI(n,e,t){return e=fI(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function fI(n){var e=pI(n,"string");return typeof e=="symbol"?e:e+""}function pI(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function aT(n){return n&&n.map((e,t)=>Ci.createElement(e.tag,kg({key:t},e.attr),aT(e.child)))}function r_(n){return e=>Ci.createElement(gI,Tg({attr:kg({},n.attr)},e),aT(n.child))}function gI(n){var e=t=>{var{attr:r,size:i,title:s}=n,o=cI(n,uI),a=i||t.size||"1em",l;return t.className&&(l=t.className),n.className&&(l=(l?l+" ":"")+n.className),Ci.createElement("svg",Tg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:l,style:kg(kg({color:n.color||t.color},t.style),n.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Ci.createElement("title",null,s),n.children)};return y1!==void 0?Ci.createElement(y1.Consumer,null,t=>e(t)):e(oT)}function mI(n){return r_({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(n)}function vI(n){return r_({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(n)}function yI(n){return r_({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm76.45 211.36l-96.42 95.7c-6.65 6.61-17.39 6.61-24.04 0l-96.42-95.7C73.42 337.29 80.54 320 94.82 320H160v-80c0-8.84 7.16-16 16-16h32c8.84 0 16 7.16 16 16v80h65.18c14.28 0 21.4 17.29 11.27 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(n)}n_.workerSrc=new URL("/assets/pdf.worker.min-l1Cnq-yx.mjs",import.meta.url).toString();const wI={cMapUrl:"/cmaps/",standardFontDataUrl:"/standard_fonts/"},EI=800,_I=()=>{const[n,e]=R.useState();function t({numPages:r}){e(r)}return B.jsxs("div",{children:[B.jsxs("a",{href:"/cv-template.pdf",download:!0,className:"text-slate-400 font-bold py-2 inline-flex items-center gap-2",children:[B.jsx(yI,{className:"text-slate-400"}),B.jsx("span",{children:"Download"})]}),B.jsx(Q2,{file:"/cv-template.pdf",onLoadSuccess:t,options:wI,className:"pb-8",children:Array.from(new Array(n),(r,i)=>B.jsx(lI,{pageNumber:i+1,width:EI},`page_${i+1}`))})]})},AI=({cert:n})=>B.jsx("a",{className:"p-4 md:w-1/3",href:n.url,children:B.jsxs("div",{className:"h-full cursor-pointer rounded-lg bg-slate-800 border border-slate-700 p-2 duration-250 hover:bg-slate-700 overflow-hidden",children:[B.jsx("div",{className:"py-2 flex justify-center items-center",children:B.jsx("img",{className:"w-full rounded-lg object-cover object-center w-44 h-44",src:n.badge,alt:"badge"})}),B.jsx("p",{className:"my-4 text-xl font-bold text-slate-200",children:n.name}),B.jsxs("p",{className:"mb-4 text-sm text-slate-300",children:[n.startDate.toDateString(),n.endTime!==void 0?` - ${n.endTime.toDateString()}`:""]})]})}),SI=()=>{const n=[{name:"GitHub Actions",startDate:new Date(2024,6,9),endTime:new Date(2027,6,9),badge:"/github-actions.png",url:"https://www.credly.com/badges/e687db6b-036d-40c8-ad42-2b879617cda8/public_url"},{name:"GitHub Foundations",startDate:new Date(2024,5,30),endTime:new Date(2027,5,30),badge:"/github-foundations.png",url:"https://www.credly.com/badges/512b077d-0613-4ae6-85cd-02214e536c50/public_url"},{name:"AWS Cloud Practitioner",startDate:new Date(2024,5,13),endTime:new Date(2027,5,13),badge:"/aws-certified-cloud-practitioner.png",url:"https://www.credly.com/badges/22e977c1-98ac-4a52-97de-e1da4625425d/public_url"},{name:"Cloud Digital Leader",startDate:new Date(2024,5,5),endTime:new Date(2027,5,5),badge:"/cloud-digital-leader-certification.png",url:"https://www.credly.com/badges/79b08f3b-784a-41f6-9ca4-c110533ab72a/public_url"},{name:"Green Software for Practitioners",startDate:new Date(2023,10,9),badge:"/github-actions.png",url:"https://www.credly.com/badges/94a58d72-5f9b-41b3-8091-098991f63b7a/public_url"},{name:"Microsoft Azure Fundamentals",startDate:new Date(2023,8,7),badge:"/microsoft-certified-fundamentals-badge.svg"}];return n.sort((e,t)=>t.startDate.getTime()-e.startDate.getTime()),B.jsx("div",{className:"flex flex-wrap -m-4 mx-64",children:n.map(e=>B.jsx(AI,{cert:e}))})},cp=()=>B.jsx("div",{children:"ErrorPage"}),bI=({route:n})=>{const t=Rf().pathname===n.path;return B.jsx(qb,{to:n.path,className:`flex text-slate-300 hover:text-slate-400 cursor-pointer transition-colors duration-300 ${t&&"font-semibold"}`,children:n.id})},xI=()=>{const n=lT.routes[0].children;return B.jsx("div",{className:"flex flex-col",children:B.jsxs("nav",{className:"flex justify-around bg-slate-800/90 py-4 border-b border-slate-700 w-full fixed top-0 left-0 right-0 z-10",children:[B.jsx("div",{className:"flex items-center",children:B.jsx(qb,{to:"/",className:"cursor-pointer",children:B.jsx("h3",{className:"text-2xl font-medium text-slate-100 hover:text-slate-400",children:"Ruairidh Taylor"})})}),B.jsx("div",{className:"items-center hidden space-x-8 lg:flex",children:n.map(e=>B.jsx(bI,{route:e},e.id))}),B.jsxs("ul",{className:"flex flex-col md:flex-row items-end md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[B.jsx("li",{children:B.jsx("a",{href:"https://www.github.com/ruairidht",target:"_blank","aria-label":"Github",className:"text-slate-200 hover:text-slate-400",children:B.jsx(mI,{size:28})})}),B.jsx("li",{children:B.jsx("a",{href:"https://www.linkedin.com/in/ruairidht/",target:"_blank","aria-label":"linkedin",className:"text-slate-200 hover:text-slate-400",children:B.jsx(vI,{size:28})})})]})]})})},CI=()=>B.jsxs("div",{children:[B.jsx(xI,{}),B.jsx(nL,{})]}),lT=cL([{path:"/",element:B.jsx(CI,{}),children:[{path:"/",element:B.jsx(bL,{}),errorElement:B.jsx(cp,{}),id:"Home"},{path:"/projects",element:B.jsx(xL,{}),errorElement:B.jsx(cp,{}),id:"Projects"},{path:"/certifications",element:B.jsx(SI,{}),errorElement:B.jsx(cp,{}),id:"Certifications"},{path:"/cv",element:B.jsx(_I,{}),errorElement:B.jsx(cp,{}),id:"CV"}]}]);Cy.createRoot(document.getElementById("root")).render(B.jsx(Ci.StrictMode,{children:B.jsx("div",{className:"w-full h-screen",children:B.jsx("div",{className:"flex flex-col items-center justify-center mt-24",children:B.jsx(wL,{router:lT})})})}));
